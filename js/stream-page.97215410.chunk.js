"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[4473],{67468:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.familySafetyStatusMapper=void 0;const o=n(12885),r=n(38302);t.familySafetyStatusMapper=(e,t)=>{if(!(null===e||void 0===e?void 0:e.data))return r.DefaultFamilySafetySetting;const n=(0,o.asObject)(e.data),a=(0,o.asOptionalBool)(n.isAllowed),i=(new Date).toISOString(),s=a?(0,o.asOptionalString)(n.until):i,l=(0,o.asOptionalBool)(n.bypassAgeLimit);let c=!1;return a&&(void 0===t||t?l&&(c=!0):c=!0),{isAllowed:c,hasContentException:l,blockReasons:(0,o.asNumber)(n.blockReasons),lockTime:s}}},94670:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=n(85608);o.__exportStar(n(24391),t),o.__exportStar(n(38302),t),o.__exportStar(n(71469),t),o.__exportStar(n(49983),t)},24368:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getHexXboxTitleId=void 0,t.getHexXboxTitleId=function(e){let t=parseInt(e).toString(16);for(;t.length<8;)t=`0${t}`;return t=t.toUpperCase(),`0x${t}`}},38302:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultFamilySafetySetting=t.ResponseBlockReasons=void 0,function(e){e[e.None=0]="None",e[e.AppBlocking=1]="AppBlocking",e[e.AppOverride=2]="AppOverride",e[e.AppLimits=4]="AppLimits",e[e.ScreenTime=8]="ScreenTime"}(t.ResponseBlockReasons||(t.ResponseBlockReasons={})),t.DefaultFamilySafetySetting={isAllowed:!0,blockReasons:0,lockTime:void 0,hasContentException:void 0}},58916:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.familySafetyActions=t.FamilySafetyActionTypes=void 0;const o=n(46075);var r;!function(e){e.FETCH_FAMILY_SETTING="familySafety/FETCH_FAMILY_SAFETY_SETTING",e.FETCH_FAMILY_SETTING_COMPLETED="familySafety/FETCH_FAMILY_SAFETY_SETTING_COMPLETED",e.RESET="familySafety/REST"}(r=t.FamilySafetyActionTypes||(t.FamilySafetyActionTypes={})),t.familySafetyActions={fetchFamilySafetySetting:(0,o.createAsyncAction)(r.FETCH_FAMILY_SETTING,r.FETCH_FAMILY_SETTING_COMPLETED,((e,t)=>({type:r.FETCH_FAMILY_SETTING,titleId:e,isContentRestricted:t})),((e,t)=>({type:r.FETCH_FAMILY_SETTING_COMPLETED,titleId:e,familySafetySetting:t})),((e,t)=>({type:r.FETCH_FAMILY_SETTING_COMPLETED,error:e,titleId:t}))),reset:(0,o.createAction)(r.RESET)}},24391:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=n(85608);o.__exportStar(n(58916),t),o.__exportStar(n(72399),t),o.__exportStar(n(15433),t),o.__exportStar(n(16271),t)},72399:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.familySafetyReducerFactory=void 0;const o=n(88262),r=n(46075),a=n(58916);t.familySafetyReducerFactory=e=>(t={},n)=>{switch(n.type){case a.FamilySafetyActionTypes.FETCH_FAMILY_SETTING:return Object.assign(Object.assign({},t),{[n.titleId]:(0,o.lceFetching)(t[n.titleId])});case a.FamilySafetyActionTypes.FETCH_FAMILY_SETTING_COMPLETED:if((0,r.isErrorAction)(n)){return Object.assign(Object.assign({},t),{[n.titleId]:(0,o.lceError)(n.error,t[n.titleId])})}return Object.assign(Object.assign({},t),{[n.titleId]:(0,o.lceContent)(n.familySafetySetting,e.cacheTime)});case a.FamilySafetyActionTypes.RESET:return{};default:return t}}},16271:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Saga=void 0;const o=n(49652),r=n(12885),a=n(19409),i=n(58916),s=n(24368);t.Saga=class{constructor(e,t){this.familySafetyService=e,this.logger=t,this.sagas=[this.watchFetchFamilySafetySetting()],this.watchFetchFamilySafetySetting=this.watchFetchFamilySafetySetting.bind(this),this.fetchFamilySafetySetting=this.fetchFamilySafetySetting.bind(this)}*watchFetchFamilySafetySetting(){yield(0,o.takeEvery)(i.FamilySafetyActionTypes.FETCH_FAMILY_SETTING,this.fetchFamilySafetySetting)}*fetchFamilySafetySetting(e){var t;try{const t=yield(0,o.call)([this.familySafetyService,this.familySafetyService.fetchFamilySafetyStatus],(0,s.getHexXboxTitleId)(e.titleId),e.isContentRestricted);yield(0,o.put)(i.familySafetyActions.fetchFamilySafetySetting.success(e.titleId,t))}catch(n){const s=(0,r.toError)(n);null===(t=this.logger)||void 0===t||t.log("ServiceClient.FamilySafety.Saga",a.LogLevel.Error,`Failed to fetch family safety setting of ID: ${e.titleId}, isContentRestricted: ${e.isContentRestricted}: ${s.message}`),yield(0,o.put)(i.familySafetyActions.fetchFamilySafetySetting.error(s,e.titleId))}}}},15433:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getFamilySafetyStatus=void 0;const o=n(88262);t.getFamilySafetyStatus=(e,t)=>e[t]||o.LCE_NOT_REQUESTED},71469:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FamilySafetyService=void 0;const o=n(90692),r=n(99869),a=n(67468);t.FamilySafetyService=class{constructor(e,t={},n,i){if(this.fetchFamilySafetyStatus=async(e,t)=>{const n=this.requestFactory.post("xcloud/api/v1.0/IsUsageAllowed",{productId:e,deviceTime:new Date}),o=await this.httpClient.execute(n);return(0,a.familySafetyStatusMapper)(o,t)},!e.rpsTicketProvider&&!e.alternateAuthenticator)throw new Error("No auth info provided");const s=e.rpsTicketProvider?new r.RpsTicketCustomHeaderAuthenticator(e.rpsTicketProvider,"service::family.microsoft.com::MBI_SSL","X-C2SAuthentication",i):e.alternateAuthenticator;this.httpClient=(new o.HttpClientBuilder).authenticator(s).interceptors(t).build();const l={[o.HttpHeader.ContentType]:"application/json","X-Device-Info":`${n.os}; ${n.platform},${n.platformVersion}; ${n.device},${n.deviceVersion}`};this.requestFactory=o.RequestFactory.withBaseUrl("https://clientfd.family.microsoft.com").setCommonMaxRetries(3).setCommonHeaders(l)}}},49983:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.shouldFetchFamilySafety=void 0;const o=n(88262);t.shouldFetchFamilySafety=function(e,t,n){return!(0,o.isUnexpiredContent)(e)&&(!(0,o.isFetching)(e)&&(!(0,o.isError)(e)&&(!(!t||void 0===n)&&("Admin"!==t||255!==n))))}},40507:(e,t,n)=>{n.d(t,{A:()=>r});var o=n(14041);const r=function(e){return o.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg"},e),o.createElement("path",{d:"M2.438 25.688c.468.208.963.312 1.484.312H18v-2H4a2.41 2.41 0 01-.797-.156 1.704 1.704 0 01-.625-.422 2.207 2.207 0 01-.422-.64C2.052 22.541 2 22.281 2 22V8c-.01-.27.042-.531.156-.781.115-.25.26-.464.438-.64.177-.178.385-.319.625-.423.24-.104.5-.156.781-.156h24c.27 0 .531.052.781.156.25.104.464.25.64.438.178.187.319.4.423.64A1.9 1.9 0 0130 8v4.402a6.2 6.2 0 012 1.237V7.922a3.84 3.84 0 00-.328-1.5 4.12 4.12 0 00-.86-1.25 4.12 4.12 0 00-1.25-.86A3.614 3.614 0 0028.078 4H3.922a3.84 3.84 0 00-1.5.328 4.12 4.12 0 00-1.25.86 4.12 4.12 0 00-.86 1.25A3.614 3.614 0 000 7.921v14.156c.01.531.12 1.031.328 1.5.208.469.495.886.86 1.25a4.12 4.12 0 001.25.86z"}),o.createElement("path",{d:"M6.297 20.297A.961.961 0 017 20h11v2H7a.961.961 0 01-.703-.297A.961.961 0 016 21c0-.27.099-.505.297-.703zM24.5 12c.417 0 .77-.146 1.063-.438.291-.291.437-.645.437-1.062 0-.417-.146-.77-.438-1.063A1.447 1.447 0 0024.5 9c-.417 0-.77.146-1.063.438A1.446 1.446 0 0023 10.5c0 .417.146.77.438 1.063.291.291.645.437 1.062.437zM5.438 9.438A1.446 1.446 0 005 10.5c0 .417.146.77.438 1.063.291.291.645.437 1.062.437.417 0 .77-.146 1.063-.438.291-.291.437-.645.437-1.062 0-.417-.146-.77-.438-1.063A1.447 1.447 0 006.5 9c-.417 0-.77.146-1.063.438zM11.438 9.438A1.446 1.446 0 0011 10.5c0 .417.146.77.438 1.063.291.291.645.437 1.062.437.417 0 .77-.146 1.063-.438.291-.291.437-.645.437-1.062 0-.417-.146-.77-.438-1.063A1.447 1.447 0 0012.5 9c-.417 0-.77.146-1.063.438zM17.438 9.438A1.446 1.446 0 0017 10.5c0 .417.146.77.438 1.063.291.291.645.437 1.062.437.417 0 .77-.146 1.063-.438.291-.291.437-.645.437-1.062 0-.417-.146-.77-.438-1.063A1.447 1.447 0 0018.5 9c-.417 0-.77.146-1.063.438zM9.438 15.438A1.447 1.447 0 009 16.5c0 .417.146.77.438 1.063.291.291.645.437 1.062.437.417 0 .77-.146 1.063-.438.291-.291.437-.645.437-1.062 0-.417-.146-.77-.438-1.063A1.446 1.446 0 0010.5 15c-.417 0-.77.146-1.063.438zM15.438 15.438A1.446 1.446 0 0015 16.5c0 .417.146.77.438 1.063.291.291.645.437 1.062.437.417 0 .77-.146 1.063-.438.291-.291.437-.645.437-1.062 0-.417-.146-.77-.438-1.063A1.446 1.446 0 0016.5 15c-.417 0-.77.146-1.063.438z"}),o.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20 18.2a4.2 4.2 0 014.2-4.2h3.6a4.2 4.2 0 014.2 4.2V26a6 6 0 01-12 0v-7.8zm4.2-2.2a2.2 2.2 0 00-2.2 2.2V26a4 4 0 008 0v-7.8a2.2 2.2 0 00-2.2-2.2H27v6a1 1 0 11-2 0v-6h-.8z"}))}},77777:(e,t,n)=>{n.d(t,{A:()=>a});var o=n(85608),r=n(14041);const a=function(e){var{title:t,titleId:n}=e,a=(0,o.__rest)(e,["title","titleId"]);return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:"1em",height:"1em","aria-labelledby":n},a),t?r.createElement("title",{id:n},t):null,r.createElement("path",{d:"M1661 896q80 0 150 30t123 81 83 122 31 151q0 80-30 149t-82 122-123 83-149 30H512q-106 0-199-40t-163-109-110-163-40-200q0-106 40-199t109-163 163-110 200-40q46 0 93 9 37-62 90-111t117-83 133-53 143-18q111 0 209 39t175 107 125 163 64 203zm3 640q53 0 99-20t82-55 55-81 20-100q0-53-20-99t-55-82-81-55-100-20h-128v-64q0-93-35-174t-96-143-142-96-175-35q-70 0-135 21t-119 59-97 91-67 120q-75-35-158-35-80 0-149 30t-122 82-83 123-30 149q0 80 30 149t82 122 122 83 150 30h1152z"}))}},12647:(e,t,n)=>{n.d(t,{A:()=>a});var o=n(85608),r=n(14041);const a=function(e){var{title:t,titleId:n}=e,a=(0,o.__rest)(e,["title","titleId"]);return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:"1em",height:"1em","aria-labelledby":n},a),t?r.createElement("title",{id:n},t):null,r.createElement("path",{d:"M1600 896q40 0 75 15t61 41 41 61 15 75v384q0 119-45 224t-124 183-183 123-224 46q-144 0-268-55t-226-156l-472-472q-28-28-43-65t-15-76q0-42 16-78t43-64 63-42 78-16q82 0 141 59l107 106V853q-59-28-106-70t-80-95-52-114-18-126q0-93 35-174t96-143 142-96T832 0q93 0 174 35t143 96 96 142 35 175q0 93-37 178t-105 149q35 9 63 30t49 52q45-25 94-25 50 0 93 23t69 66q45-25 94-25zM512 448q0 75 34 143t94 113V448q0-40 15-75t41-61 61-41 75-15q40 0 75 15t61 41 41 61 15 75v256q60-45 94-113t34-143q0-66-25-124t-69-101-102-69-124-26q-66 0-124 25t-102 69-69 102-25 124zm1152 1024v-384q0-26-19-45t-45-19q-21 0-34 7t-20 21-9 31-2 37q0 16 1 32t1 32q0 20-2 37t-9 30-20 21-34 8q-21 0-34-8t-20-21-9-33-3-40q0-28 2-58t2-58q0-43-12-72t-54-30q-21 0-34 7t-20 21-9 31-2 37q0 16 1 32t1 32q0 20-2 37t-9 30-20 21-34 8q-21 0-34-8t-20-21-9-33-3-40q0-28 2-58t2-58q0-43-12-72t-54-30q-21 0-34 7t-20 21-9 31-2 37q0 16 1 32t1 32q0 20-2 37t-9 30-20 21-34 8q-26 0-45-19t-19-45V448q0-26-19-45t-45-19q-26 0-45 19t-19 45v787q0 23-8 42t-23 35-35 23-42 9q-22 0-42-8t-37-24l-139-139q-21-21-50-21t-50 21-22 51q0 29 21 50l472 473q84 84 184 128t219 45q93 0 174-35t142-96 96-142 36-175z"}))}},76300:(e,t,n)=>{n.d(t,{A:()=>a});var o=n(85608),r=n(14041);const a=function(e){var{title:t,titleId:n}=e,a=(0,o.__rest)(e,["title","titleId"]);return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:"1em",height:"1em","aria-labelledby":n},a),t?r.createElement("title",{id:n},t):null,r.createElement("path",{d:"M1088 4q96 0 185 25t167 71 142 110 110 142 71 167 25 185q0 139-52 265t-150 224l-837 836-90-90 836-837q80-80 122-182t43-216q0-117-45-221t-124-182-182-123-221-46q-113 0-215 42T690 297L475 512h421v128H256V0h128v421q55-56 105-108t101-99 103-85 112-66 129-43 154-16z"}))}},64710:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ControllerInformation=void 0;const o=n(97609),r=n(91173);t.ControllerInformation=class{constructor(e){const t=(0,r.getDisambiguatedGamepadId)(e);this.vendorId=(0,r.extractRegexMatch)(r.vendorIdRegEx,t),this.productId=(0,r.extractRegexMatch)(r.productIdRegEx,t);const n=(0,r.getGamepadInfo)(this.vendorId,this.productId);n?(this.isDualSense=n.model===o.GamepadModel.DualSense,this.isDualShock4=n.model===o.GamepadModel.DualShock4,this.isXbox=n.model===o.GamepadModel.Xbox,this.isStadia=n.model===o.GamepadModel.Stadia,this.isSwitchPro=n.model===o.GamepadModel.SwitchPro,this.isLuna=n.model===o.GamepadModel.Luna,this.isUnknown=n.model===o.GamepadModel.Unknown,this.controllerType=n.type):(this.isDualSense=!1,this.isDualShock4=!1,this.isXbox=!1,this.isStadia=!1,this.isSwitchPro=!1,this.isLuna=!1,this.isUnknown=!0,this.controllerType=o.ControllerType.Other)}}},29228:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useControllerInformation=t.getGamepadInfoFromId=t.ControllerType=t.GamepadModel=void 0;n(85608).__exportStar(n(64710),t);var o=n(97609);Object.defineProperty(t,"GamepadModel",{enumerable:!0,get:function(){return o.GamepadModel}}),Object.defineProperty(t,"ControllerType",{enumerable:!0,get:function(){return o.ControllerType}});var r=n(91173);Object.defineProperty(t,"getGamepadInfoFromId",{enumerable:!0,get:function(){return r.getGamepadInfoFromId}});var a=n(15313);Object.defineProperty(t,"useControllerInformation",{enumerable:!0,get:function(){return a.useControllerInformation}})},97609:(e,t)=>{var n,o;Object.defineProperty(t,"__esModule",{value:!0}),t.ControllerType=t.GamepadModel=void 0,function(e){e[e.DualSense=0]="DualSense",e[e.DualShock4=1]="DualShock4",e[e.Xbox=2]="Xbox",e[e.Stadia=3]="Stadia",e[e.SwitchPro=4]="SwitchPro",e[e.Luna=5]="Luna",e[e.Unknown=6]="Unknown"}(n||(t.GamepadModel=n={})),function(e){e.Xbox="Xbox",e.XboxTakehome="XboxTakehome",e.Luna="Luna",e.PlayStation="PlayStation",e.Other="Other"}(o||(t.ControllerType=o={}))},15313:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useControllerInformation=void 0;const o=n(39731),r=n(14041),a=n(64710);t.useControllerInformation=()=>{const e=(0,o.useGetGamepadsInOrder)()[0];return(0,r.useMemo)((()=>new a.ControllerInformation(e)),[e])}},91173:(e,t,n)=>{n(1402),n(31759),n(98376),n(39428),n(81045),n(55367),Object.defineProperty(t,"__esModule",{value:!0}),t.getDisambiguatedGamepadId=t.getProductIdFromGamepadId=t.getVendorIdFromGamepadId=t.extractRegexMatch=t.getGamepadInfo=t.getGamepadInfoFromDisambiguatedGamepadId=t.getGamepadInfoFromId=t.productIdRegEx=t.vendorIdRegEx=void 0;const o=n(97609),r=[{vendorId:1356,productId:3302,model:o.GamepadModel.DualSense,type:o.ControllerType.PlayStation},{vendorId:1356,productId:1476,model:o.GamepadModel.DualShock4,type:o.ControllerType.PlayStation},{vendorId:1356,productId:2508,model:o.GamepadModel.DualShock4,type:o.ControllerType.PlayStation},{vendorId:1118,model:o.GamepadModel.Xbox,type:o.ControllerType.Xbox},{vendorId:6353,productId:37888,model:o.GamepadModel.Stadia,type:o.ControllerType.Other},{vendorId:1406,productId:8201,model:o.GamepadModel.SwitchPro,type:o.ControllerType.Other},{vendorId:369,productId:1049,model:o.GamepadModel.Luna,type:o.ControllerType.Luna}].reduce(((e,t)=>{const{vendorId:n,productId:o}=t;e[n]||(e[n]={});const r=null!==o&&void 0!==o?o:"default";return e[n][r]=t,e}),{});t.vendorIdRegEx=/Vendor:\s*([0-9a-fA-F]+)/,t.productIdRegEx=/Product:\s*([0-9a-fA-F]+)/;t.getGamepadInfoFromId=e=>{const n=(0,t.getDisambiguatedGamepadId)(e);return(0,t.getGamepadInfoFromDisambiguatedGamepadId)(n)};t.getGamepadInfoFromDisambiguatedGamepadId=e=>{if(!e)return;const n=(0,t.extractRegexMatch)(t.vendorIdRegEx,e),o=(0,t.extractRegexMatch)(t.productIdRegEx,e);return(0,t.getGamepadInfo)(n,o)};t.getGamepadInfo=(e,t)=>{if(!e)return;const n=parseInt(null!==e&&void 0!==e?e:"0",16),o=parseInt(null!==t&&void 0!==t?t:"0",16),a=r[n];return a?a[o]||a.default:void 0};t.extractRegexMatch=(e,t)=>{var n;return t?null===(n=t.match(e))||void 0===n?void 0:n[1]:void 0};t.getVendorIdFromGamepadId=e=>{const n=(0,t.getDisambiguatedGamepadId)(e);return(0,t.extractRegexMatch)(t.vendorIdRegEx,n)};t.getProductIdFromGamepadId=e=>{const n=(0,t.getDisambiguatedGamepadId)(e);return(0,t.extractRegexMatch)(t.productIdRegEx,n)};t.getDisambiguatedGamepadId=e=>{let t;if("number"===typeof e){var n,o,r;const a=null===(n=globalThis.navigator)||void 0===n||null===(o=n.getGamepads)||void 0===o?void 0:o.call(n);t=null===a||void 0===a||null===(r=a[e])||void 0===r?void 0:r.id}else t=e;return t}},8910:(e,t,n)=>{n.d(t,{s:()=>s});var o=n(87309),r=n(15387),a=n(86403),i=n(95312);function s(){const e=(0,i.sY)(),t=(0,r.G_)(o.H.BypassXHomeDevKitCheck);return e[0]&&!t&&(e[0]=(0,a.F)(e[0])),e}},2935:(e,t,n)=>{n.r(t),n.d(t,{IpConnectPage:()=>g,default:()=>p});n(98376),n(91321),n(47010),n(34397);var o=n(31085),r=n(14041),a=n(93285),i=n(86090),s=n(80005),l=n(70410),c=n(89006),d=n(57333),u=n(95768),m=n(44993),v=n(94787);const g=()=>{const{streamClient:e}=(0,d.A)(),t=(0,i.zy)();(0,c.F)();const n=new URLSearchParams(t.search),g=n.get(m.E1.QueryStrings.ipAddress),p=n.get(m.E1.QueryStrings.secureWebsocketsMode);let f=g?decodeURIComponent(g):"127.0.0.1:9002",h="";"internal"===p?(h=`/ws?target=ws://${f}`,f="wssdcproxy.corp.microsoft.com:5001"):"external"===p&&(h=`?target=ws://${f}`,f="directconnectproxy.azurewebsites.net:443");const S=(0,r.useMemo)((()=>({connectMode:"ip-connect",ipAddress:f,uriPathAndQuery:h})),[f,h]);return(0,o.jsxs)(v.C9,{location:"IpConnectPage",children:[(0,o.jsx)(a.m,{children:(0,o.jsx)("meta",{name:"robots",content:"noindex"})}),(0,o.jsx)(l.s,{title:f}),(0,o.jsx)(s.t,{context:"IpConnectPage",childrenDescription:"ClientSideContext",children:(0,o.jsx)(u.M,{streamClient:e,config:S})})]})},p=g},87109:(e,t,n)=>{n.r(t),n.d(t,{ManagedDevkitConnectPage:()=>A,default:()=>H});n(69375),n(98376),n(91321),n(47010),n(34397);var o=n(31085),r=n(51879),a=n(57361),i=n(14041),s=n(93285),l=n(79824),c=n(86090),d=(n(10865),n(12885)),u=n(66957),m=n(57333);var v=n(17241),g=n(76300),p=n(37509),f="ManagedDevkitSessionEnd-module__description___D38V6",h=n(93441);const S={pageTitle:"DevTools_Managed_Devkit_Session_End_Screen_Title",artifactsDeployed:"DevTools_Managed_Devkit_Session_End_Screen_Artifacts_Deployed_Message",closeWindow:"DevTools_Managed_Devkit_Session_End_Screen_Close_Window_Message",restartSession:"DevTools_Managed_Devkit_Session_End_Screen_Restart_Session_Button"},_=e=>{let{sessionId:t,onRestartSession:n}=e;const r=(0,h.vx)(S);return(0,o.jsx)("div",{className:"ManagedDevkitSessionEnd-module__container___cNQBH",children:(0,o.jsxs)("div",{className:"ManagedDevkitSessionEnd-module__content___nSjRw",children:[(0,o.jsx)("h2",{className:"ManagedDevkitSessionEnd-module__title___g5iSq",children:r.pageTitle}),(0,o.jsxs)("div",{className:"ManagedDevkitSessionEnd-module__textContainer___tYrO8",children:[(0,o.jsx)("p",{className:f,children:(0,p.GPZ)(r.artifactsDeployed,t)}),(0,o.jsx)("p",{className:f,children:r.closeWindow})]}),(0,o.jsx)("div",{className:"ManagedDevkitSessionEnd-module__buttonGroup___uugM3",children:(0,o.jsx)(v.k4,{as:"button",buttonType:v.VQ.Primary,className:"ManagedDevkitSessionEnd-module__button___pvtet",iconClassName:"ManagedDevkitSessionEnd-module__buttonIcon___twgPY",icon:g.A,buttonSize:v.Mp.Large,iconSize:v.lK.Small,"aria-label":r.restartSession,onClick:n,children:r.restartSession})})]})})};var y=n(85577),b=n(80005),x=n(31596),C=n(70410),E=n(47362),I=n(32936),P=n(89006),T=n(59724),M=n(95768),k=n(34041),R=n(44993),w=n(94787),D=n(30725),j=n(63820);function L(e){return e instanceof r.GameStreamError?e.code:r.GameStreamErrorCode.Unknown}function G(){var e,t;const{streamClient:n}=(0,m.A)(),[s,v]=function(){const e=(0,i.useMemo)((()=>D.iD.start()),[]);return(0,a.useReduxLce)(j.Wo,e)}(),g=(0,c.W6)(),p=(0,c.zy)(),f=(0,l.useSelector)(k.K$),[h,S]=(0,i.useState)(!1);(0,P.F)();const C=new URLSearchParams(p.search),T=null!==(e=C.get(R.Xx.QueryStrings.devkitHost))&&void 0!==e?e:void 0,w=C.get(R.Xx.QueryStrings.devkitRedeemCode),[G,{error:A}]=function(e,t){const n=(0,u.useLogger)("useRedeemCode"),{managedDevkitService:o}=(0,m.A)(),[r,s]=(0,i.useState)(a.LCE_NOT_REQUESTED);return(0,i.useEffect)((()=>{if(!e)return void s(a.LCE_NOT_REQUESTED);let r;return async function(){r=new AbortController,s((e=>(0,a.lceFetching)(e)));try{var i,l;const c=await o.redeemCode(e,null===(i=r)||void 0===i?void 0:i.signal,t);if(null!==(l=r)&&void 0!==l&&null!==(l=l.signal)&&void 0!==l&&l.aborted)return void n.debug("Redeem was aborted - Ignoring result");s((0,a.lceContent)(c))}catch(u){var c;const e=(0,d.toError)(u);if(null!==(c=r)&&void 0!==c&&null!==(c=c.signal)&&void 0!==c&&c.aborted)return void n.debug("Redeem was aborted - Ignoring error",e);s((0,a.lceError)(e)),n.error("Redeem failed",e)}r=void 0}(),()=>{var e;return null===(e=r)||void 0===e?void 0:e.abort()}}),[o,n,e,t]),(0,a.useLce)(r)}(w||"",T),[H,F]=(0,i.useState)();(0,i.useEffect)((()=>{!H&&G&&F({connectMode:"managed-devkit-connect",managedDevkitSessionDetails:{path:G.playPath,domainOverride:T}})}),[H,T,G]);const[U,O]=(0,i.useState)();(0,i.useEffect)((()=>{if(!f)return;const e=e=>{O(e.errorCode)};f.addEventListener(E.f.type,e);const t=e=>{e.state===r.StreamSessionConnectionState.Connected&&O(void 0)};return f.addEventListener(I.y.type,t),()=>{f.removeEventListener(E.f.type,e),f.removeEventListener(E.f.type,t)}}),[f]),(0,i.useEffect)((()=>{if(!f)return;const e=()=>{(A?L(A):U)?g.push(R.XL.getLink(null!==w&&void 0!==w?w:"",!0,T)):S(!0)};return f.addEventListener("completed",e,{once:!0}),()=>{f.removeEventListener("completed",e)}}),[A,f,g,T,w,S,U]);const N=(0,i.useCallback)((()=>{window.location.href=R.XL.getLink(null!==w&&void 0!==w?w:"",!0,T)}),[w,T]);return(0,i.useEffect)((()=>{A&&!H&&F({connectMode:"managed-devkit-connect",managedDevkitSessionDetails:{path:"stub",errorCode:L(A)}})}),[H,A]),s?H?(0,o.jsx)(b.t,{context:"ManagedDevkitConnectPage",childrenDescription:"ClientSideContext",children:h?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(x.o,{}),(0,o.jsx)(_,{sessionId:null!==(t=null===G||void 0===G?void 0:G.sessionId)&&void 0!==t?t:"",onRestartSession:N})]}):(0,o.jsx)(M.M,{config:H,streamClient:n,user:s})}):null:(0,a.isFetching)(v)||(0,a.isNotRequested)(v)?null:v.error?(0,o.jsx)(c.rd,{to:R.Pi.getLink()}):(0,o.jsx)(y.r,{})}const A=()=>{const e=(0,T.n)(),t=(0,h.FE)("DevTools_Managed_Devkit_Connect_Title");return(0,o.jsxs)(w.C9,{location:"ManagedDevkitConnectPage",children:[(0,o.jsx)(s.m,{children:(0,o.jsx)("meta",{name:"robots",content:"noindex"})}),(0,o.jsx)(C.s,{title:t}),!e&&(0,o.jsx)(G,{})]})},H=A},18827:(e,t,n)=>{n.r(t),n.d(t,{ManagedDevkitRedeemPage:()=>P,default:()=>T});var o=n(31085),r=n(39731),a=n(93285),i=(n(69375),n(98376),n(14293),n(91321),n(47010),n(34397),n(17241)),s=n(14041),l=n(86090),c=n(41506),d=n.n(c),u=n(67996),m=n.n(u),v=n(85440);const g=["isUsed","buttonText","buttonClassName","wrapperClassName"],p=e=>{let{isUsed:t,buttonText:n,buttonClassName:r,wrapperClassName:a}=e,s=m()(e,g);return t?(0,o.jsx)("div",{className:a,children:(0,o.jsx)(v.l,{className:r})}):(0,o.jsx)("div",{className:a,children:(0,o.jsx)(i.JK,d()(d()({as:"button",isCallToAction:!0,"aria-label":n,className:r},s),{},{children:n}))})};var f=n(69541),h=n(93441),S=n(44993);const _={title:"DevTools_Managed_Devkit_Redeem_Title",instructions:"DevTools_Managed_Devkit_Redeem_Instructions",joinButton:"DevTools_Managed_Devkit_Redeem_JoinButton",help:"DevTools_Managed_Devkit_Redeem_Help",redeemCode:"DevTools_Managed_Devkit_Redeem_Code"};function y(e){return e?e.replace(/[^a-zA-Z0-9+/=]/g,""):""}const b=()=>{var e;const t=(0,h.vx)(_),n=(0,f.X)(),r=(0,l.W6)(),a=(0,l.zy)(),c=new URLSearchParams(a.search),d=y(c.get(S.XL.QueryStrings.devkitRedeemCode)),u=c.get(S.XL.QueryStrings.devkitDisableAutoJoin),m=null!==(e=c.get(S.XL.QueryStrings.devkitHost))&&void 0!==e?e:void 0,v=(0,s.useRef)();void 0===v.current&&(v.current="true"===u);const[g,b]=(0,s.useState)(d),[x,C]=(0,s.useState)(!!d),[E,I]=(0,s.useState)(!!d&&"true"!==u),P=(0,s.useCallback)((e=>{b(y(e.target.value)),C(!!e.target.value)}),[]),T=(0,s.useCallback)((()=>{I(!0)}),[I]),[M,k]=(0,s.useState)(!1);if((0,s.useEffect)((()=>{r.replace(S.XL.getLink(g,!0,m)),k(!0)}),[r,m,k,g]),(0,s.useEffect)((()=>{E&&n&&M&&r.push(S.Xx.getLink(g,m))}),[r,m,n,E,g,M]),!1===n){const e=S.XL.getLink(d,v.current,m);return(0,o.jsx)(l.rd,{to:S.pi.getLink(e)})}return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("h2",{className:"ManagedDevkitRedeemPage-module__title___NT5Ep",children:t.title}),(0,o.jsx)("p",{className:"ManagedDevkitRedeemPage-module__description___1ppW8",children:t.instructions}),(0,o.jsx)("div",{className:"ManagedDevkitRedeemPage-module__textInputContainer___6t6tI",children:(0,o.jsx)(i.iu,{value:g,onChange:P,"aria-label":t.redeemCode,placeholder:t.redeemCode})}),(0,o.jsx)(p,{buttonText:t.joinButton,buttonClassName:"ManagedDevkitRedeemPage-module__button___z9If0",wrapperClassName:"ManagedDevkitRedeemPage-module__buttonWrapper___AtFoU",disabled:!x,isUsed:E,onClick:T,children:t.joinButton}),(0,o.jsx)("p",{className:"ManagedDevkitRedeemPage-module__helpText___tKoOY",children:t.help})]})};var x=n(80005),C=n(70410),E=n(94787);const I={pageTitle:"DevTools_Managed_Devkit_Redeem_Page_Title"},P=()=>{const e=(0,h.vx)(I);return(0,o.jsxs)(E.C9,{location:"DevToolsRedeemPage",children:[(0,o.jsx)(a.m,{children:(0,o.jsx)("meta",{name:"robots",content:"noindex"})}),(0,o.jsx)(C.s,{title:e.pageTitle}),(0,o.jsx)(x.t,{context:"DevToolsRedeemPage",childrenDescription:"ClientSideContext",children:(0,o.jsxs)("div",{className:"ManagedDevkitRedeemPage-module__container___aGc1C",children:[(0,o.jsx)(r.BodyTrappable,{}),(0,o.jsx)("div",{className:"ManagedDevkitRedeemPage-module__content___W2e-G",children:(0,o.jsx)(b,{})})]})})]})},T=P},55843:(e,t,n)=>{n.r(t),n.d(t,{XHomeConnectPage:()=>S,default:()=>_});n(81045),n(45950),n(47010);var o=n(31085),r=n(14041),a=n(93285),i=n(86090),s=n(80005),l=n(70410),c=n(89006),d=n(59724),u=n(57333),m=n(95768),v=n(81788),g=n(95312),p=n(94787),f=n(8910);function h(){const{serverId:e}=(0,i.g)(),[t]=(0,g.xr)(),{streamClient:n}=(0,u.A)();(0,v.a)(),(0,c.F)();const a=(0,r.useMemo)((()=>({connectMode:"xhome-connect",remotePlayServerId:e})),[e]);return t?(0,o.jsx)(s.t,{context:"XHomeConnectPage",childrenDescription:"GameStreamBootstrapper",children:(0,o.jsx)(m.M,{config:a,streamClient:n,user:t})}):null}const S=()=>{var e;const t=(0,d.n)(),{serverId:n}=(0,i.g)(),[r]=(0,f.s)(),s=null===r||void 0===r||null===(e=r.find((e=>e.serverId===n)))||void 0===e?void 0:e.deviceName;return(0,o.jsxs)(p.C9,{location:"XHomeConnectPage",children:[(0,o.jsx)(a.m,{children:(0,o.jsx)("meta",{name:"robots",content:"noindex"})}),s&&(0,o.jsx)(l.s,{title:s}),!t&&(0,o.jsx)(h,{})]})},_=S},30725:(e,t,n)=>{n.d(t,{MW:()=>s,iD:()=>i});var o=n(23522),r=n(16556);const a={START:"@managedDevkit/LOGIN_START",SUCCESS:"@managedDevkit/LOGIN_SUCCESS",ERROR:"@managedDevkit/LOGIN_ERROR"},i=(0,o.vR)(r.H.ManagedDevkit,a.START,(()=>{}),a.SUCCESS,(e=>({user:e})),a.ERROR,(e=>({error:e}))),s=[i.error.getType(),i.success.getType()]},24698:(e,t,n)=>{n.d(t,{Ay:()=>d,TT:()=>c});n(93510);var o=n(57361),r=n(37509),a=n(41178),i=n(30725),s=n(18650),l=n(16556);const c=Symbol("streamUser");const d=(0,r.v4G)([l.H.ManagedDevkit],new r.sVo({[c]:o.LCE_NOT_REQUESTED}).on(i.iD.start.getType(),(e=>(0,a.jM)(e,(e=>{e[c]=(0,o.lceFetching)()})))).on(i.iD.success.getType(),((e,t)=>{let{user:n}=t;return(0,a.jM)(e,(e=>{e[c]=(0,o.lceContent)(n)}))})).on(i.iD.error.getType(),((e,t)=>{let{error:n}=t;return(0,a.jM)(e,(e=>{const t=(0,s._)(n);e[c]=(0,o.lceError)(t)}))})).build())},63820:(e,t,n)=>{n.d(t,{Oc:()=>c,V6:()=>d,Wo:()=>i,mW:()=>s,sw:()=>l});var o=n(57361),r=n(24698),a=n(69607);function i(e){var t;return null!==(t=(0,a.Qq)(e)[r.TT])&&void 0!==t?t:o.LCE_NOT_REQUESTED}function s(e){return(0,o.getDataOrPrevious)(i(e))}function l(e){const t=i(e);return(0,o.isError)(t)&&t.error||void 0}function c(e){const t=i(e);return(0,o.isFetching)(t)}function d(e){return!1===(0,o.isNotRequested)(i(e))}},32936:(e,t,n)=>{n.d(t,{y:()=>o});class o extends Event{constructor(e,t){super(o.type),this.session=e,this.state=t}static isSessionConnectionStateChangedEvent(e){return e.type===o.type}}o.type="sessionConnectionStateChanged"},47362:(e,t,n)=>{n.d(t,{f:()=>o});class o extends Event{constructor(e,t){super(o.type),this.request=e,this.errorCode=t}static isSessionRequestFailedEvent(e){return e.type===o.type}}o.type="sessionRequestFailed"},90744:(e,t,n)=>{n.d(t,{W:()=>o});class o{constructor(e,t,n,o){this.exit=e,this.connectionType=t,this.reason=n,this.errorCode=o}static isErrorState(e){return e instanceof o}}},85196:(e,t,n)=>{n.d(t,{m:()=>o});class o{static isNotStartedState(e){return e instanceof o}NotStatedState(){}}},74685:(e,t,n)=>{var o;n.d(t,{e:()=>o}),function(e){e.Home="home",e.InvitePeople="invite-people",e.StateShare="state-share",e.ShowPeoplePicker="show-people-picker",e.CreateParty="create-party"}(o||(o={}))},33417:(e,t,n)=>{n.d(t,{d:()=>i});n(47010);var o=n(57361),r=n(14041),a=n(55515);const i=e=>{let{adLocation:t,targetId:n,tagId:i,minWidth:s,minHeight:l,ratioWidth:c,ratioHeight:d}=e;const u=(0,r.useContext)(a.x),[m,v]=(0,r.useState)(o.lceFetching),g=(0,r.useRef)();return(0,r.useEffect)((()=>{u&&!g.current&&(g.current=u.fetchTag({adLocation:t,targetId:n,tagId:i,minWidth:s,minHeight:l,ratioWidth:c,ratioHeight:d,onAdAvailable:e=>{v((0,o.lceContent)(e))},onAdError:e=>{v((0,o.lceError)(e))}}))}),[t,u,i,n,c,d,s,l]),(0,r.useEffect)((()=>{(0,o.isContent)(m)&&g.current&&g.current.fireImpressions()}),[m]),(0,r.useEffect)((()=>()=>{var e;return null===(e=g.current)||void 0===e?void 0:e.cleanUp()}),[]),(0,o.useLce)(m)}},44961:(e,t,n)=>{var o;n.d(t,{l:()=>o}),function(e){e.Provisioning="provisioning",e.Carousel="carousel"}(o||(o={}))},94373:(e,t,n)=>{n.d(t,{Z:()=>o});class o extends Event{constructor(e,t){super(o.type),this.isVisible=e,this.dialogName=t}static is(e){return e.type===o.type}}o.type="dialogVisibilityChanged"},42721:(e,t,n)=>{n.d(t,{d:()=>v});var o=n(31085),r=n(53373),a=n.n(r),i=n(14041),s=n(43144),l="BaseModal-module__dimmedBackground___mgPjs",c=n(11442),d=n(8794),u=n(94787);const m=e=>{let{onCloseRequest:t}=e;return(0,d.ED)((0,i.useCallback)((()=>!!t&&(t(),!0)),[t])),null},v=e=>{let{children:t,onCloseRequest:n,onUnmounted:r,backgroundDismissable:d=!0,describedby:v,labeledBy:g,label:p,dimBackground:f}=e;const h=(0,i.useMemo)((()=>function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c.si;if("undefined"===typeof document)return;let t=document.getElementById(e);return null===t&&(t=document.createElement("div"),t.id=e,document.body.appendChild(t),t.className=a()("BaseModal-module__modal___A3Aoj","xgp-reset-style")),t}(c.si)),[]),S=(0,i.useRef)(null);return(0,i.useEffect)((()=>{const e=S.current;if(!e||!n)return;const t=e=>{d&&e.target===e.currentTarget&&!e.defaultPrevented&&(null===n||void 0===n||n())};return e.addEventListener("click",t),()=>e.removeEventListener("click",t)}),[S,n,d]),(0,i.useEffect)((()=>{if(h)return requestAnimationFrame((()=>{if(h.style.display="",h.children.length>0){var e;"true"===(null===(e=h.children.item(h.children.length-1))||void 0===e?void 0:e.getAttribute("data-dim-background"))?h.classList.add(l):h.classList.remove(l)}})),()=>{0===h.children.length&&requestAnimationFrame((()=>{h.style.display="none"}))}}),[h]),(0,i.useEffect)((()=>()=>null===r||void 0===r?void 0:r()),[r]),null==h?null:(0,s.createPortal)((0,o.jsxs)(u.C9,{location:"Modal",children:[(0,o.jsx)(m,{onCloseRequest:n}),(0,o.jsx)("div",{ref:S,className:"BaseModal-module__content___10qll","aria-describedby":v,"aria-labelledby":g,"aria-modal":!0,role:"dialog","data-dim-background":f,"aria-label":p,children:t})]}),h)}},29123:(e,t,n)=>{n.d(t,{c:()=>a});var o=n(79824),r=n(32057);const a=()=>(0,o.useSelector)(r.Pv)},48330:(e,t,n)=>{n.d(t,{r:()=>v,o:()=>m});n(10568);var o=n(31085),r=n(14041),a=n(79824),i=n(87181);var s=n(87309),l=n(15387),c=n(85232);const d=e=>{let{titleInfo:t}=e;return function(e){const t=(0,a.useDispatch)();(0,r.useEffect)((()=>{e&&t(i.KF.prepend(e))}),[t,e])}(null===t||void 0===t?void 0:t.titleId),null},u=e=>{let{titleInfo:t}=e;const n=(0,c.Q$)();return(0,r.useEffect)((()=>{const e=null===t||void 0===t?void 0:t.details.xboxTitleId;e&&n(e.toString())}),[t,n]),null},m=()=>{const e=(0,l.G_)(s.H.EnableTitleHubMru),t=(0,c.Q$)(),n=(0,a.useDispatch)();return(0,r.useCallback)((o=>{var r;e&&null!==o&&void 0!==o&&null!==(r=o.details)&&void 0!==r&&r.xboxTitleId?t(o.details.xboxTitleId.toString()):null!==o&&void 0!==o&&o.titleId&&n(i.KF.prepend(o.titleId))}),[e,t,n])},v=e=>{let{titleInfo:t}=e;return(0,l.G_)(s.H.EnableTitleHubMru)?(0,o.jsx)(u,{titleInfo:t}):(0,o.jsx)(d,{titleInfo:t})}},3570:(e,t,n)=>{n.d(t,{o:()=>V});n(97107),n(47010);var o=n(31085),r=n(66957),a=n(14041),i=n(48330),s=n(95768),l=n(64232);var c=n(87309),d=n(15387),u=n(17562),m=n(95312);var v=n(81788),g=n(41506),p=n.n(g),f=n(51879),h=n(86090),S=n(86047);var _=n(55085);function y(e,t,n){const o=function(){const e=(0,h.zy)();return(0,a.useMemo)((()=>{if(e.state&&(0,S.AY)(e.state))return"gameInvite"===e.state.kind?{type:f.GameInviteType.Invite,jsonPayload:e.state.payload}:"join"===e.state.kind?{type:f.GameInviteType.Join,jsonPayload:e.state.payload}:"titleActivation"===e.state.kind?{type:f.GameInviteType.TitleActivation,jsonPayload:e.state.payload}:void 0}),[e.state])}(),r=function(){const e=(0,h.zy)();return(0,a.useMemo)((()=>{if(e.state&&(0,S.pL)(e.state))return e.state.payload}),[e.state])}(),i=(0,d.G_)(_.H.EnableRemotePlay),s=(0,d.G_)(_.H.EnableConsoles);return(0,a.useMemo)((()=>t?{connectMode:"cloud-connect",titleInfo:p()(p()({},t),{},{productInfo:e}),gameInvite:o,stateShare:r}:i&&s&&n?{connectMode:"xhome-connect",remotePlayServerId:n}:void 0),[t,i,s,n,e,o,r])}var b=n(62284),x=(n(69375),n(79824)),C=n(34041);const E=()=>{const e=(0,h.W6)(),t=(0,a.useRef)(),n=(0,x.useSelector)(C.K$),o=(0,a.useCallback)((()=>{var e;null===(e=t.current)||void 0===e||e.call(t),t.current=void 0}),[]);return(0,a.useEffect)((()=>(t.current=e.block(((t,r)=>{if(null!==n&&void 0!==n&&n.isProvisioning)return o(),e.push(t),!1;let a;return t.state&&(0,S.AY)(t.state)&&(a=t.state),null===n||void 0===n||n.requestQuitTitle(t.pathname,a),!1})),o)),[n,e,o,null===n||void 0===n?void 0:n.xboxTitleId]),{unblockNavigation:o}};function I(e){let{context:t,children:n}=e;const r=null!==t&&void 0!==t?t:b._,{unblockNavigation:a}=E();return(0,o.jsx)(r.Provider,{value:{unblockNavigation:a},children:n})}n(47748);var P=n(37509),T=n(94082),M=n(52003),k=n(39407),R=n(15042),w=n(24162),D=n(59724),j=n(33200),L=n(37853),G=n(95539),A=n(96611),H=n(19783),F=n(98923);const U=e=>{let{connectMode:t}=e;return"xhome-connect"===t?(0,o.jsx)(N,{}):(0,o.jsx)(O,{})},O=()=>{const{productId:e,productName:t}=(0,j.n)(),n=(0,r.useLogger)("Cloud PreLaunchChecks"),a=q(),i=(0,G.s)(),[s]=(0,k.k)(e),l=function(e,t){var n;const{location:o}=(0,P.Igx)(),[r]=(0,L.j)(),a=(0,R.R)(r||[]),i=null!==(n=null===o||void 0===o?void 0:o.pathname)&&void 0!==n?n:(0,F.aU)(),s=H.Product.getLink(e,t),l=i===s||i===decodeURIComponent(s)||i===H.UnfriendlyProduct.getLink(e);if(l)return!0;const c=a.includes(e);if(c)return!0;const d=H.Play.getLink(e,t),u=i===d||i===decodeURIComponent(d)||H.UnfriendlyPlay.getLink(e);if(u)return!0;return!1}(e,t),[c,{loading:d}]=(0,u.x)(),[m,{loading:v}]=function(e){var t;const[n,o]=(0,A.Q)(e);return[null===n||void 0===n||null===(t=n.details)||void 0===t?void 0:t.hasEntitlement,o]}(e),[g]=(0,w.F)(e);return c||d?g||(0,M.bD)(e)||m||v?a?(n.debug("Redirecting to PDP page: App is not a PWA"),(0,o.jsx)(h.rd,{to:H.Product.getLink(e,t)})):"blocked"===i?(n.debug("Redirecting to PDP page: Browser is blocked"),(0,o.jsx)(h.rd,{to:H.Product.getLink(e,t)})):s&&!s.isAllowed?(n.debug(`Redirecting to PDP page: Family safety settings: ${s.reason}`),(0,o.jsx)(h.rd,{to:H.Product.getLink(e,t)})):l?null:(n.debug("Redirecting to PDP page: User has not seen ESRB rating on PDP page"),(0,o.jsx)(h.rd,{to:H.Product.getLink(e,t)})):(n.debug("Redirecting to PDP page: User does not have entitlement"),(0,o.jsx)(h.rd,{to:H.Product.getLink(e,t)})):(n.debug("Redirecting to PDP page: User is not authed with Game Stream"),(0,o.jsx)(h.rd,{to:H.Product.getLink(e,t)}))},N=()=>{const e=(0,r.useLogger)("Remote Play PreLaunchChecks"),t=(0,d.G_)(c.H.EnableRemotePlay),n=(0,d.G_)(c.H.EnableConsoles),a=q(),i=(0,G.s)(),[s,{loading:l}]=(0,m.xr)();return t&&n?s||l?a?(e.debug("Redirecting to Remote Play Home: App is not a PWA"),(0,o.jsx)(h.rd,{to:H.RemotePlayRoot.getLink()})):"blocked"===i?(e.debug("Redirecting to Remote Play Home: Browser is blocked"),(0,o.jsx)(h.rd,{to:H.RemotePlayRoot.getLink()})):null:(e.debug("Redirecting to Remote Play Home: user is not authed"),(0,o.jsx)(h.rd,{to:H.RemotePlayRoot.getLink()})):(e.debug("Redirecting to Home Page"),(0,o.jsx)(h.rd,{to:H.Home.getLink()}))};function q(){const e=(0,T.p)();return!(0,D.n)()&&e}var B=n(80005),X=n(57333),z=n(31764);function V(e){let{productId:t,product:n,serverId:g}=e;const[p,{loading:f,error:h}]=(0,A.Q)(t);(0,v.a)();const S=y(n,p,g),[_]=function(e){const t=null===e||void 0===e?void 0:e.connectMode,n=(0,u.x)(),o=(0,m.xr)(),r=(0,d.G_)(c.H.EnableRemotePlay),i=(0,d.G_)(c.H.EnableConsoles);return(0,a.useMemo)((()=>r&&i&&"xhome-connect"===t?o:n),[t,r,i,n,o])}(S),b=function(e){const t=(0,r.useUniqueLogger)("StreamPage/useAreGameStreamRequirementsMet"),[n,{loading:o}]=(0,l.P)();return null==e?(t.debug("Waiting for StreamUser to be defined"),!1):n?!o||(t.debug("Login is currently in progress and must resolve before allowing GameStream to start"),!1):(t.debug("Waiting for a client-side login to occur rather than using the hydrated StreamUser since a server-side authentication may have an incorrect region"),!1)}(_),{streamClient:x}=(0,X.A)(),C=(0,r.useUniqueLogger)("StreamPage");return(0,a.useEffect)((()=>{S||f||g||C.error("TitleInfo not found when boostrapping GameStream.",h)}),[C,S,f,h,g]),S||f||g?(0,o.jsxs)(B.t,{context:"StreamPage",childrenDescription:"GameStreamBootstrapper",children:[(0,o.jsx)(U,{connectMode:null===S||void 0===S?void 0:S.connectMode}),S&&b&&_&&(0,o.jsxs)(I,{children:[(0,o.jsx)(s.M,{user:_,streamClient:x,config:S}),"cloud-connect"===S.connectMode&&(0,o.jsx)(i.r,{titleInfo:S.titleInfo})]})]}):(0,o.jsx)(z.w,{error:null!==h&&void 0!==h?h:new Error("TitleInfo not found when boostrapping GameStream.")})}},95768:(e,t,n)=>{n.d(t,{M:()=>Ct});var o=n(41506),r=n.n(o),a=n(31085),i=n(14041),s="GameStreamBootstrapper-module__container___BHHDC",l=(n(10865),n(47010),n(66957)),c=n(41243),d=n(67814),u=n(14154),m=n(38132);var v=n(57361),g=n(37509),p=n(79824),f=n(87309),h=n(12163),S=n(58234),_=n(97057),y=n(15387),b=n(31287),x=n(57333);const C=864e5,E=()=>{var e;const t=(0,b.z)(),{attemptAndroidExitFullscreen:n}=(0,_.E)();let o=null!==(e=(0,y.Pt)(f.H.F2PPostPlayUpsellCooldown))&&void 0!==e?e:C;isNaN(o)&&(o=C);const{dialogSettingsStore:r}=(0,x.A)(),a=(0,h.G)(),s=(0,i.useCallback)((()=>{a(S.Hg.path,{isPostStream:!0},{shouldPersistStateOnPageNavigation:!0})}),[a]),l=(0,i.useCallback)((()=>{const e=Date.now();e-r.getSetting("f2PPostPlayUpsellCooldownStartTime")>o&&(r.setSetting("f2PPostPlayUpsellCooldownStartTime",e),s())}),[o,s,r]);return(0,i.useCallback)((e=>{!1!==(null===e||void 0===e?void 0:e.shouldNavigate)&&t(),n(),!0===(null===e||void 0===e?void 0:e.shouldOpenUpsellDialog)&&l()}),[n,t,l])};n(81045),n(55367);var I=n(55085),P=n(29123),T=n(32057);const M=()=>{const e=(0,i.useRef)(),t=(0,i.useRef)(),n=(0,c.D)(),o=(0,p.useSelector)(T.TX),a=(0,P.c)(),s=(0,p.useSelector)((n=>{const o=(0,g.Fu$)(n);return t.current&&e.current===o||(t.current=Object.entries(I.H).reduce(((e,t)=>{let[n,r]=t;const a=o[r.toLowerCase()];return null!=a&&(e[n]=a),e}),{})),t.current})),l=(0,y.G_)(I.H.CollectUserEmail),d=s.CollectUserEmail||l||n||o,u=(0,y.G_)(I.H.EnableInternalFeedback),m=s.EnableInternalFeedback||u||a||o;return(0,i.useMemo)((()=>r()({CollectUserEmail:d,EnableInternalFeedback:m},s)),[s,d,m])};var k=n(94373),R=n(90329),w=n(26644),D=n(1600),j=n(74685),L=n(57621);const G=e=>{switch(e){case j.e.InvitePeople:return[D.GuideGameInviteHome.path];case j.e.StateShare:return[D.GuideStateShareHome.path];case j.e.CreateParty:return[D.GuideCreateParty.path];case j.e.Home:return[D.GuideHome.path];case j.e.ShowPeoplePicker:return[D.RemotedPeoplePicker.path];default:return[D.GuideHome.path]}},A=(e,t)=>{switch(e){case j.e.StateShare:return{[D.GuideStateShareHome.path]:t};case j.e.ShowPeoplePicker:return{[D.RemotedPeoplePicker.path]:t};default:return{}}},H=()=>{const{closeGuide:e,openGuide:t}=(0,w.getGuideNavigation)(),n=(0,R.U)(),o=(0,i.useRef)(n);o.current!==n&&(o.current=n);const r=(0,i.useRef)(null);r.current||(r.current=new EventTarget);const a=(0,i.useRef)(!1);(0,i.useEffect)((()=>L.oR.onChange((e=>{var t;if(!(null===(t=e.content)||void 0===t||null===(t=t.props)||void 0===t||!t.onClick))switch(e.status){case"added":a.current=!0;break;case"removed":a.current=!1}}))),[]);const s=(0,i.useRef)({open:(e,n)=>{a.current||o.current||t({history:e?G(e):[D.GuideHome.path],currentTelemetryLocation:["GameStream"],replace:!0,dialogProps:n?A(e,n):{}})},close:()=>{a.current||e()},addEventListener:r.current.addEventListener.bind(r.current),removeEventListener:r.current.removeEventListener.bind(r.current),isOpen:()=>o.current});return(0,i.useEffect)((()=>{r.current.dispatchEvent(new k.Z(n,S.RV.name))}),[n]),s.current};n(97107),n(1402),n(31759),n(10568);var F,U=n(12885);!function(e){e.XCloudTransferToken="service::http://Passport.NET/purpose::PURPOSE_XBOX_CLOUD_CONSOLE_TRANSFER_TOKEN",e.FamilySafety="service::family.microsoft.com::MBI_SSL"}(F||(F={}));var O=n(8690);const N=()=>{const e=(0,i.useRef)(new EventTarget),{getIsDialogOpen:t,navigate:n,goBack:o}=(0,O.j)(),r=t(S.wr.path),a=(0,i.useRef)({open:e=>n(S.wr.path,e),close:o,addEventListener:e.current.addEventListener.bind(e.current),removeEventListener:e.current.removeEventListener.bind(e.current)});return(0,i.useEffect)((()=>{e.current.dispatchEvent(new k.Z(r,"AskExceptionRequestDialog"))}),[r]),a.current},q=()=>{const e=(0,i.useRef)(new EventTarget),{getIsDialogOpen:t,navigate:n,goBack:o}=(0,O.j)(),r=t(S.aX.path),a=(0,i.useRef)({open:()=>n(S.aX.path,null),close:o,addEventListener:e.current.addEventListener.bind(e.current),removeEventListener:e.current.removeEventListener.bind(e.current)});return(0,i.useEffect)((()=>{e.current.dispatchEvent(new k.Z(r,"StreamFeedbackDialog"))}),[r]),a.current},B=()=>{const e=(0,i.useRef)(new EventTarget),{getIsDialogOpen:t,navigate:n,goBack:o}=(0,O.j)(),r=t(S.T3.path),a=(0,i.useRef)({open:(e,t,o)=>{n(S.T3.path,{titleId:e,launchUri:t,onComplete:o})},close:o,addEventListener:e.current.addEventListener.bind(e.current),removeEventListener:e.current.removeEventListener.bind(e.current)});return(0,i.useEffect)((()=>{e.current.dispatchEvent(new k.Z(r,"TitleActivationDialog"))}),[r]),a.current},X=()=>{const e=(0,i.useRef)(new EventTarget),{getIsDialogOpen:t,navigate:n,goBack:o}=(0,O.j)(),r=t(S.zl.path),a=(0,i.useRef)({open:e=>n(S.zl.path,e),close:o,addEventListener:e.current.addEventListener.bind(e.current),removeEventListener:e.current.removeEventListener.bind(e.current)});return(0,i.useEffect)((()=>{e.current.dispatchEvent(new k.Z(r,"UserGestureDialog"))}),[r]),a.current};var z=n(27122),V=n(36339);const W=()=>{const{closeSettings:e,openSettings:t}=(0,z.C)(),{getIsDialogOpen:n}=(0,O.j)(),o=n(S.gZ.path),r=(0,i.useRef)(null);r.current||(r.current=new EventTarget);const a=(0,i.useRef)({open:e=>{let n=[];if(e)switch(e){case V._4.name:n=[V._4.getLink()];break;case V.uj.name:n=[V.uj.getLink()]}t({history:n,currentTelemetryLocation:[],dialogProps:{context:"in-stream"}})},close:e,addEventListener:r.current.addEventListener.bind(r.current),removeEventListener:r.current.removeEventListener.bind(r.current)});return(0,i.useEffect)((()=>{r.current.dispatchEvent(new k.Z(o,S.gZ.name))}),[o]),a.current};var $=n(57596),Q=n(64207),Y=n(93441),K=n(52468),Z=n(34041),J=n(86090),ee=n(19783);const te=new class{constructor(){}setPostStreamRedirectUrl(e){this.postStreamRedirectUrl=e}setRedirectStreamState(e){this.redirectStreamState=e}isSwitchStreamRedirectUrl(){if(!this.postStreamRedirectUrl)return!1;return!!(0,J.B6)(this.postStreamRedirectUrl,{path:ee.Play.path,exact:!0})}};n(44612);const ne="https://www.xbox.com";function oe(e){var t,n,o;let r=(null===(t=globalThis.location)||void 0===t?void 0:t.origin)||ne;return null!==(n=globalThis.location)&&void 0!==n&&n.hostname&&null!==(o=globalThis.location)&&void 0!==o&&o.hostname.endsWith("xbox.com")||(r=ne),`${r}/${ee.ShareStatePrototypeTestHarness.getLink(e)}`}function re(e,t,n,o,r,a,s,m){const h=(0,u.X)((()=>new l.Logger("GameStreamBootstrapper/useGameStream"))),S=(0,Q.xG)(),_=E(),b=(0,p.useSelector)(g.P6r),{audioContextBootstrapper:C,telemetryProvider:I,accsManager:P}=(0,x.A)(),T=(0,Y.Vj)(),k=M(),R=(0,$.Z)(),w=function(){const e=(0,u.X)((()=>new l.Logger("GameStreamBootstrapper/useTransferTokenCallback"))),{authProvider:t}=(0,x.A)();return(0,i.useCallback)((async()=>{const n="transfer-token-msa-redirect";try{const a=await t.getMsaAccessTokenSilently(F.XCloudTransferToken);if(!a)throw new Error("MsaAccessTokenSilently returned undefined token");try{var o;null===(o=globalThis.window)||void 0===o||o.sessionStorage.removeItem(n)}catch(c){var r;const t=(0,U.toError)(c);null===(r=e.current)||void 0===r||r.warn(`Failed to remove ${n} from session storage. Reason: ${t.message}`,t)}return a}catch(d){var a;const o=(0,U.toError)(d),r=`Unable to acquire transfer token (Reason: ${o.message}) - Redirecting to MSA login`;null===(a=e.current)||void 0===a||a.warn(r,o);try{var i,s;const e=null===(i=globalThis.window)||void 0===i?void 0:i.sessionStorage.getItem(n),o=e?parseInt(e,10):NaN;var l;if(!isNaN(o)&&Date.now()-o<3e5)throw null===(l=globalThis.window)||void 0===l||l.sessionStorage.removeItem(n),new Error("Failed to acquire transfer token after redirecting to MSA login.");null===(s=globalThis.window)||void 0===s||s.sessionStorage.setItem(n,Date.now().toString()),await t.startSignInWithRedirect(window.location.href,{prompt:"none"})}catch(c){const e=(0,U.toError)(c);throw new Error(`Failed to start sign-in with redirect. Reason: ${e.message}`)}throw o}}),[e,t])}(),D=(0,c.D)(),j=(0,p.useDispatch)(),[L,{loading:G,error:A}]=(0,v.useReduxLce)(Z.ul),O=H(),z=N(),V=(0,y.G_)(f.H.EnableClientGuideInStream),J=(0,y.G_)(f.H.EnableOpenEndedGameInvites),ee=(0,y.G_)(f.H.EnableStateShareTcui),ne=(0,y.G_)(f.H.EnableAccs),re=W(),ae=q(),ie=B(),se=X(),le="xhome-connect"===(null===s||void 0===s?void 0:s.connectMode),ce=ee||(V||J)&&!le?O:void 0,{userSettingsStore:de,deviceInformation:ue,developerSettingsStore:me}=(0,x.A)();(0,i.useEffect)((()=>{if(!L&&!G){if(A)throw A;try{var i,s,l;if(null===(i=h.current)||void 0===i||i.debug("Instantiating GameStream instance"),!e.current)null===(s=h.current)||void 0===s||s.warn("Unexpected state reached - Parameter 'gameStreamContainerRef.current' was undefined");if(!t.current)null===(l=h.current)||void 0===l||l.warn("Unexpected state reached - Parameter 'purchaseUIRef.current' was undefined");j(K.Hd.start(e.current,{audioContext:C.audioContext,client:r,createEncapsulatedStateShareUrl:oe,developerSettingsStore:me,deviceInformation:ue,featureGateConfig:k,fullscreenElement:document.documentElement,getTransferToken:w,navigationManager:te,guideUI:ce,askExceptionUI:z,isChildAccount:R,isDeveloperMode:D,marketInfo:b,navigateBack:m||(()=>_()),persistentSettingsStore:de,playSound:S,purchaseUI:t.current,provisioningAdUI:n.current,upsellUI:o.current,strings:T,telemetryProvider:I,user:a,settingsUI:re,feedbackUI:ae,userGestureUI:se,accsManager:ne?P:void 0,titleActivationUI:ie}))}catch(u){var c;const e=(0,d.g)(u);null===(c=h.current)||void 0===c||c.error(`An error occurred while initializing GameStream - ${e.message}`,e)}}}),[C.audioContext,ue,me,j,A,_,k,L,e,w,R,D,G,h,b,S,t,n,o,r,T,I,a,de,m,ce,z,re,ae,se,P,ne,ie]),(0,i.useEffect)((()=>{L&&L.user!==a&&(L.user=a)}),[L,a]),(0,i.useEffect)((()=>{L&&k&&L.updateFeatureGates(k)}),[L,k]);const ve=(0,i.useRef)({});return ve.current.gameStream=L,(0,i.useEffect)((()=>()=>{const{gameStream:e}=ve.current;null!=e&&j((0,K.bK)(e))}),[j]),L}const ae=!1;n(69375),n(98376),n(46929),n(14293),n(91321),n(83165),n(24541),n(34397);var ie=n(82427),se=n(10667),le=n(50161),ce=n(44993),de=n(62284);const ue=/^(.*\.xbox\.com.*)?\/play(?:$|(?:\/|\?|#).*)/i,me=/^http(s)?:\/\//i;function ve(e,t){const n=(0,J.W6)(),o=E(),r=(0,ie.T)(),[a]=(0,se.x)(),s=(0,i.useRef)(!1),c=(0,y.G_)(f.H.EnableF2PPostPlayUpsell),u=(0,y.G_)(f.H.EnablePrivacyControls),[m]=(0,le.G)(),v=(0,i.useCallback)((()=>{const e="cloud-connect"===t&&c&&s.current&&r&&!1===a;return u?e&&(null===m||void 0===m?void 0:m.personalizedPurchaseUpsellValue):e}),[t,c,u,r,a,m]),g=function(){const e=(0,l.useLogger)("useHandleCustomRedirect"),t=(0,J.W6)(),n=(0,i.useCallback)(((n,o)=>{if(me.test(o)){if(ue.test(o)){let n=ee.Home.getLink();try{const e=new URL(o);n=e.pathname+e.search+e.hash}catch(r){const t=(0,d.g)(r);e.error("Invalid redirectUrl",t)}t.push(n)}else t.push(ee.Home.getLink()),window.open(o,"_blank")}else n.isSwitchStreamRedirectUrl()?t.replace({pathname:o,state:n.redirectStreamState}):t.push(o)}),[t,e]);return n}(),p=(0,i.useContext)(de._),h=null===e||void 0===e?void 0:e.navigationManager;(0,i.useEffect)((()=>()=>{null===h||void 0===h||h.setPostStreamRedirectUrl(void 0),null===h||void 0===h||h.setRedirectStreamState(void 0)}),[h]);const S=(0,J.W5)({path:ee.RemotePlayLaunch.path,strict:!0});(0,i.useEffect)((()=>{if(!e)return;const r=()=>{null===p||void 0===p||p.unblockNavigation();const e=null===h||void 0===h?void 0:h.postStreamRedirectUrl;h&&e?g(h,e):"managed-devkit-connect"===t||("xhome-connect"===t&&null!==S&&void 0!==S&&S.isExact?n.push(ee.RemotePlayRoot.getLink()):"xhome-connect"===t?n.push(ce.tH.getLink()):n.push(ee.Home.getLink())),o({shouldNavigate:!1,shouldOpenUpsellDialog:v()})},a=()=>{s.current=!0};return e.addEventListener("completed",r,{once:!0}),e.addEventListener("connected",a,{once:!0}),()=>{e.removeEventListener("completed",r),e.removeEventListener("connected",a)}}),[e,n,t,o,a,s,r,c,v,g,p,h,null===S||void 0===S?void 0:S.isExact])}var ge=n(51879),pe=n(29142),fe=n(75618),he=n(30961),Se=n(30342);var _e=n(86923),ye=n(26318);var be=n(9964),xe=n(48227),Ce=n(29228);const Ee=e=>{const t=[e.buttons[2],e.buttons[0],e.buttons[3],e.buttons[1]].concat(e.buttons.slice(4));return{id:e.id,index:e.index,connected:e.connected,timestamp:e.timestamp,mapping:e.mapping,axes:e.axes,vibrationActuator:e.vibrationActuator,buttons:t,displayId:e.displayId,hapticActuators:[e.vibrationActuator]}},Ie=()=>{const{isDualSense:e}=(0,Ce.useControllerInformation)(),t=(0,y.G_)(f.H.TransformFireOSGamepads),{isFireOS:n,osVersion:o}=(0,he.U)(),r=n&&(0,xe.oi)(o);return e&&t&&r?Ee:void 0};var Pe=n(95505),Te=n(85196);var Me=n(88060),ke=n(82621);function Re(e,t,n){var o;const r=(0,u.X)((()=>new l.Logger("GameStreamBootstrapper/useSessionConnect"))),a=(0,i.useRef)(!1),[s,{loading:m}]=(0,Me.bX)("enableNarrator"),[v,{loading:p}]=(0,Me.bX)("highContrastMode"),[h,{loading:S}]=(0,Me.bX)("enableMonoAudioOutput"),_=function(){const[,e]=(0,i.useState)();return(0,i.useCallback)((t=>{e((()=>{throw t}))}),[])}(),b=(0,c.D)(),{stickyQueryStrings:C}=(0,x.A)(),{isTizen:E,isMacOS:I,isSafari:P,isIOS:T,isIPadOS:M}=(0,he.U)(),[k]=(0,_e.C)("takAllowMouseInteraction"),R=(0,y.G_)(f.H.EnableLowerMaxBufferLimit),w=(0,y.Pt)(f.H.NumberOfStatsEventsToStore),D=(0,y.Pt)(f.H.StatsEventFrequencySec),j=(0,y.Pt)(f.H.StatsCollectionSizeSec),L=(0,y.G_)(f.H.StringifyStatUponCollect),G=(0,y.G_)(f.H.Remove78FPSHack),A=(0,y.G_)(f.H.UseWebCodecsByDefault),H=(0,y.Pt)(f.H.VideoLatencyPreset),F=(0,y.G_)(f.H.EnableUseRetryAfterHeader),U=E,O=!"MISSING_ENV_VAR".E2E&&(I&&P||M||T),N=(0,y.G_)(f.H.SetCodecPreferences),q=(0,y.G_)(f.H.UseTizenH264MainSdpHack),B=function(){const{isTV:e}=(0,he.U)();if(!e)return;const t=(0,Se.D)(),[n]=(0,fe.c)("enableStreamMicrophone");return t?n:void 0}(),X=(0,y.Pt)(f.H.InputChannelMaxVersion),z="titleInfo"in t?t.titleInfo:void 0,V=(0,be.e)(z),W=function(e){var t;const n=(0,c.D)(),[o]=(0,_e.C)("enableMouseAndKeyboard"),r=null!==(t=(0,y.G_)(f.H.ShowMouseKeyboardSetting))&&void 0!==t&&t,a=!!e&&(0,ge.isMouseAndKeyboardTitle)(e),i=(0,ye.r)();return(a||n&&r&&o)&&i}(z),$=function(e){return!!(0,y.G_)(f.H.EnableAbsoluteMouse)&&e}(W),Q=function(){var e;const t=(0,c.D)(),[n]=(0,_e.C)("enableSensors"),o=null!==(e=(0,y.G_)(f.H.ShowSensorsSetting))&&void 0!==e&&e;return t&&o&&n}(),K=(0,y.G_)(f.H.EnableSensorInput),Z=(0,y.Pt)(f.H.SensorInputPollingRateInHz),J=(0,y.G_)(f.H.EnablePrivacyControls),ee=(0,y.G_)(f.H.EnableAudioDeviceSelection),te=(0,y.G_)(f.H.EnableXSTHLogs),[ne]=(0,le.G)(),oe=J?null===ne||void 0===ne?void 0:ne.optionalDataCollectionValue:void 0,[re]=(0,ke.Fd)(),[ae]=(0,Me.bX)("gameVolumeLevel"),[ie]=(0,Me.bX)("audioOutputDeviceId"),se=Ie(),[ce,de]=(0,Y.cG)("Game_Stream_Video_Label","Game_Stream_Video_Label_Fallback"),ue=(0,g.GPZ)(ce,(null===z||void 0===z||null===(o=z.product)||void 0===o?void 0:o.title)||de),me=(0,i.useCallback)((()=>{(async()=>{if(e)try{const o={enableNarrator:s,highContrastMode:v,systemUpdateGroup:"",releaseChannel:ge.ReleaseChannel.Release,requestPlayStreamGesture:!0,enableOptionalDataCollection:oe,enableDebugMessageHandler:te},r={},a={gameVolumeLevel:ae,enableMicrophone:B,enableGameChat:re?!re.getPartyChatEnabled():void 0,outputDeviceSinkId:ee?ie:void 0},i={},l={},c=new ge.ServerAllocationPollingConfiguration(!!F);let d;if(A&&(r.videoDecoderType=pe.RainwayVideoDecoder.WebCodecs),null!=H&&(r.latencyPreset=H),b){const e=C.getBoolean(Pe.xr.Session.ignoreServiceConfiguration);null!=e&&(o.ignoreServiceConfiguration=e),o.systemUpdateGroup=C.getString(Pe.xr.Session.systemUpdateGroup,"");const t=C.getBoolean(Pe.xr.Session.showStreamStatisticsOverlay),n=C.getBoolean(Pe.xr.Session.useSoftwareRendering),i=C.getInteger(Pe.xr.Session.videoDecoderType),s=C.getInteger(Pe.xr.Session.videoLatencyPreset);null!=s&&(r.latencyPreset=s);const l=C.getBoolean(Pe.xr.Session.enableHevc),c=C.getBoolean(Pe.xr.Session.useHardwareAudioDecoding);o.releaseChannel=C.getInteger(Pe.xr.Session.releaseChannel,o.releaseChannel),o.requestPlayStreamGesture=C.getBoolean(Pe.xr.StreamClient.requestUserGesture);const u=C.getInteger(Pe.xr.StreamClient.streamType);d=void 0!==u?u:void 0,null!=t&&(r.showStreamStatisticsOverlay=t),null!=i&&(r.videoDecoderType=i),null!=n&&!0===n&&(r.videoDecoderType=pe.RainwayVideoDecoder.Software),null!=l&&(r.enableHevc=l),null!=c&&(a.useHardwareAudioDecoding=c)}i.statsPollingIntervalMs=1e3,i.statsEventFrequencySec=null!==D&&void 0!==D?D:30,i.statsCollectionSizeSec=null!==j&&void 0!==j?j:30,i.stringifyStatUponCollect=null===L||void 0===L||L,i.numberOfStatsEventsToStore=null!==w&&void 0!==w?w:8,M&&(i.statsEventFrequencySec=0,i.statsCollectionSizeSec=180,i.stringifyStatUponCollect=!1,i.numberOfStatsEventsToStore=1),r.perfTrackerProfile=R?pe.PerfTrackerProfile.LowerMaxBufferLimit:pe.PerfTrackerProfile.Default,r.videoElementAriaLabel=ue,r.remove78FPSHack=G,r.setCodecPreferences=N,r.useTizenH264MainSdpHack=q,a.audioMode=h?ge.AudioMode.Mono:ge.AudioMode.Stereo,l.useNexusPressWorkaround=U,l.useIntervalWorkerThreadForInput=O,l.inputChannelMaxVersion=X,l.enableTouchInput=V,l.enableMouseInput=W,l.enableKeyboardInput=!1,l.enableAbsoluteMouse=$,l.enableSensorInput=K||Q,l.sensorInputPollingRateInHz=Z,l.maxTouchPoints=0!==navigator.maxTouchPoints?navigator.maxTouchPoints:b&&k?1:0,l.gamepadTransformer=se;const u=t.connectMode;if("cloud-connect"===u)await e.cloudConnect(t.titleInfo,{options:o,videoConfiguration:r,audioConfiguration:a,statisticsConfiguration:i,inputConfiguration:l,pollingConfiguration:c},d,t.gameInvite,n,t.stateShare);else if("xhome-connect"===u)await e.homeConsoleConnect(t.remotePlayServerId,{options:o,videoConfiguration:r,audioConfiguration:a,statisticsConfiguration:i,inputConfiguration:l,pollingConfiguration:c},d,n);else if("ip-connect"===u){e.updateFeatureGates({ShowNotStartedRocket:!1});const s=t.uriPathAndQuery,u=t.ipAddress,m="";await e.directConnect(u,m,{options:o,videoConfiguration:r,audioConfiguration:a,statisticsConfiguration:i,inputConfiguration:l,pollingConfiguration:c},s,d,n)}else{if("managed-devkit-connect"!==u)throw new Error(`An unexpected state was reached - Neither Cloud Connect, Remote Play nor Ip-Connect\n                    requirements were satisfied by the passed in arguments, connectMode: ${u}`);await e.managedDevkitConnect(t.managedDevkitSessionDetails,{options:o,videoConfiguration:r,audioConfiguration:a,statisticsConfiguration:i,inputConfiguration:l,pollingConfiguration:c},n)}}catch(i){var o;const e=(0,d.g)(i);return null===(o=r.current)||void 0===o||o.warn(`An error occurred while connecting via GameStream - ${e.message}`,e),void _(e)}finally{a.current=!1}})()}),[t,$,R,B,h,W,s,oe,K,Q,V,e,v,X,b,M,L,r,re,G,Z,N,n,C,k,_,O,U,w,F,j,D,q,H,A,ae,ie,ee,te,se,ue]),ve=(0,i.useRef)(null);(0,i.useEffect)((()=>{var n;const o="cloud-connect"===t.connectMode?t.titleInfo:null,i=!!e&&!Te.m.isNotStartedState(e.state);if((null===o||void 0===o?void 0:o.titleId)!==(null===(n=ve.current)||void 0===n?void 0:n.titleId)){const e=ve.current;var s;if(ve.current=o,o&&i)return null===(s=r.current)||void 0===s||s.info(`User is trying to switch stream session, from ${null===e||void 0===e?void 0:e.titleId} to ${o.titleId}`),void me()}a.current||!e||i||m||p||S||(a.current=!0,me())}),[t,e,S,m,p,r,me])}var we=n(90744);const De="pageBannerContainer";function je(e){const t=(0,l.useUniqueLogger)("useSquelchXboxComBanners");(0,i.useEffect)((()=>{if(!e)return;const n=document.querySelector(`#${De}`);if(!n)return void t.warn("Unable to acquire a reference to the Xbox.com banner container");const o=n.style.display;function r(){we.W.isErrorState(null===e||void 0===e?void 0:e.state)||Te.m.isNotStartedState(null===e||void 0===e?void 0:e.state)?a():(n.style.display="none",t.debug("Squelched Xbox.com banners"))}function a(){n.style.display=o,t.debug("Allowed Xbox.com banners")}return e.addEventListener("stateChanged",r),r(),()=>{e.removeEventListener("stateChanged",r),a()}}),[e,t])}var Le=n(85858),Ge=(n(47748),n(20090)),Ae=n(43144);class He extends Event{constructor(){super(He.type)}}He.type="provisioningAdMountedEvent";var Fe=n(72994);const Ue=e=>{let{data:{imgUri:t,sponsoredBy:n},eventTarget:o}=e;const[r,s]=(0,Y.cG)("Ad_Sponsored_By","Ad_Sponsored_By_With_Name");(0,i.useEffect)((()=>{o.dispatchEvent(new He)}),[o]);const[l,c]=(0,i.useState)(!1),{isSupportedTVBrowser:d}=(0,he.U)();(0,i.useEffect)((()=>{const e=setTimeout((()=>{c(!0)}),d?1500:0);return()=>{clearTimeout(e)}}),[d]);const u=(0,g.GPZ)(s,n);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"BannerProvisioningAd-module__bannerSponsorText___eo4zj","aria-label":u,children:r}),l&&(0,a.jsx)(Fe.o,{alertString:u}),(0,a.jsx)("img",{className:"BannerProvisioningAd-module__bannerItem___yuQhQ",src:t,alt:n})]})};var Oe,Ne=n(37884),qe=n(52003),Be=n(69506),Xe=n(33417),ze=n(44961);!function(e){e[e.Dev=28452753]="Dev",e[e.ProdWeb=28452753]="ProdWeb",e[e.ProdTV=28452753]="ProdTV"}(Oe||(Oe={}));const Ve=":xe_banner_prov_ad:",We=[qe.Io],$e=(0,i.forwardRef)(((e,t)=>{const[n,o]=(0,i.useState)(),r=(0,i.useRef)(new EventTarget),[,s]=(()=>{const e=(0,y.Pt)(f.H.ProvisioningAdsPlacementId),{isTV:t}=(0,he.U)(),n=t?Oe.ProdTV:Oe.ProdWeb,o=(0,p.useSelector)(T.TX)?Oe.Dev:n,r=null!==e&&void 0!==e?e:o,[,a]=(0,Xe.d)({adLocation:ze.l.Provisioning,targetId:Ve,tagId:r,minWidth:180,minHeight:30,ratioWidth:6,ratioHeight:1}),s=(0,i.useMemo)((()=>(0,v.lceTransform)(a,(e=>({imgUri:e.native.image.url,sponsoredBy:e.native.sponsoredBy})))),[a]);return(0,v.useLce)(s)})(),l=(0,i.useMemo)((()=>()=>({mount:o,unmount:()=>o(void 0),addEventListener:r.current.addEventListener.bind(r.current),removeEventListener:r.current.removeEventListener.bind(r.current)})),[o]);(0,i.useImperativeHandle)(t,l);const c=(0,i.useCallback)((e=>{let{data:t}=e;return(0,a.jsx)(Ue,{data:t,eventTarget:r.current})}),[]);return null==n?null:(0,Ae.createPortal)((0,a.jsx)("div",{id:Ve,children:(0,a.jsx)(Ge.LceRenderer,{data:s,renderContent:c})}),n)})),Qe=(0,i.forwardRef)(((e,t)=>{let{productId:n}=e;const o=(0,y.G_)(f.H.EnableProvisioningAds),r=(0,y.G_)(f.H.EnableProvAdsForChild),i=(0,y.G_)(f.H.EnableProvAdsForXGPU),s=n&&We.includes(n),l=(0,Be.B)(),[c]=(0,Ne.i)();return o&&((l||r)&&(!c||i)&&s)?(0,a.jsx)($e,{ref:t}):null}));var Ye=n(75205),Ke=n(8378),Ze=n(22055),Je=n(79851),et=n(89627),tt=n(4626),nt=n(54289),ot=n(2717),rt=n(53276),at=n(94787),it=n(78672);const st=()=>{const{isTV:e}=(0,he.U)(),[t,n]=(0,nt.a)(),o=(0,h.G)(),r=(0,at.o3)("ProvisioningGamepassUpsellDialog"),s=(0,i.useCallback)((e=>{e.status!==Ye.Qo6.Purchased&&e.status!==Ye.Qo6.AlreadyPurchased||window.location.reload()}),[]),l=(0,i.useCallback)((()=>{r.trackUserAction(it.a.OpenXGPUPurchase,"XGPUPurchaseButton"),o(S.zO.path,{productId:Ke.CZ,experience:Ye.LKH.Details,onSuccess:s})}),[s,o,r]);return(0,i.useEffect)((()=>{r.trackUserAction(it.a.ProvisioningUpsellShown,"ProvisioningUpsellOverlay")}),[]),(0,a.jsxs)("div",{className:"UpsellOverlay-module__overlayContainer___j+mE4",children:[(0,a.jsx)("div",{className:"UpsellOverlay-module__smokeBackground___eoYyQ"}),e&&(0,a.jsx)(ot.t,{url:t,imageSrc:n,showUrl:!1,description:"",containerClassName:"UpsellOverlay-module__qrCodeContainer___WIaeo",qrCodeClassName:"UpsellOverlay-module__qrCode___9Kvb6"}),(0,a.jsx)(Ze.O,{}),(0,a.jsxs)("div",{children:[(0,a.jsx)(et.Yy,{mode:"initial",className:"UpsellOverlay-module__offerText___5MCPR"}),(0,a.jsx)(et.Yy,{mode:"recurring",className:"UpsellOverlay-module__cancelText___994u+"})]}),!e&&(0,a.jsx)("div",{className:"UpsellOverlay-module__buttonContainer___eTUKE",children:(0,a.jsx)(Je.m,{className:"UpsellOverlay-module__button___7ybHn",onClick:l})}),(0,a.jsx)(tt.F,{})]})},lt=(0,i.forwardRef)(((e,t)=>{const[n,o]=(0,i.useState)(),[,r]=(0,rt.Z)(Ke.CZ),s=(0,i.useMemo)((()=>()=>({mount:o,unmount:()=>o(void 0)})),[o]);(0,i.useImperativeHandle)(t,s);const l=(0,i.useCallback)((()=>null==n?null:(0,Ae.createPortal)((0,a.jsx)(st,{}),n)),[n]);return(0,a.jsx)(Ge.LceRenderer,{data:r,renderContent:l})})),ct=(0,i.forwardRef)(((e,t)=>(0,y.G_)(I.H.EnableProvisioningUpsell)?(0,a.jsx)(lt,{ref:t}):null));var dt=n(59724);n(64727),n(5350),n(84915);var ut=n(56193),mt=n(79094),vt=n(39731),gt=n(17241),pt=n(42721);const ft=e=>{let{title:t,message:n,primaryText:o,primaryAction:r,onClose:i}=e;return(0,a.jsx)(pt.d,{onCloseRequest:i,children:(0,a.jsx)(vt.FocusContainer,{className:"MessageModal-module__container___f15vD",autoFocusContainer:!0,children:(0,a.jsx)("div",{className:"MessageModal-module__content___oImNT",children:(0,a.jsxs)("div",{className:"MessageModal-module__descriptionGroup___QYDiN",children:[(0,a.jsx)("h1",{className:"MessageModal-module__title___B-MUX",children:t}),(0,a.jsx)("div",{className:"MessageModal-module__description___mgXrb",children:n}),(0,a.jsx)(gt.JK,{as:"button",onClick:r,className:"MessageModal-module__button___2fwyl",children:o})]})})})})};var ht=n(42212),St=n(78566),_t=n(50060);const yt=e=>{var t;let{storeId:n,scenario:o,itemTypes:s,sessionTelemetry:c,onResult:d}=e;const[u,m,v]=(0,Y.cG)("Purchase_UnsupportedTitle","Purchase_UnsupportedDescription","Close"),g=(0,i.useMemo)((()=>new l.Logger("ContextualStore/MicrosoftContextualStore")),[]),[h,S,_]=(0,i.useMemo)((()=>n.split("/")),[n]),b=(0,St.$)(),x=(0,y.G_)(f.H.EnableLegacyPurchaseFlow),C=(0,y.G_)(f.H.EnableIAPBrowseExperience),E=(0,p.useSelector)(Z.K$),I=Object.values(_t.dC).includes(o),P=[_t.dC.XStoreShowAssociatedProductsUi,_t.dC.ShowMarketplace].includes(o),T=(0,i.useMemo)((()=>s&&s.split(",").map((e=>{switch(e){case Ke.MB.Game:case Ke.MB.GameDemo:return[Ke.AB.Game,Ke.AB.Durable,Ke.AB.Consumable];case Ke.MB.Consumable:return[Ke.AB.Consumable];case Ke.MB.Durable:return[Ke.AB.Durable];case Ke.MB.Application:default:return}})).reduce(((e,t)=>(t&&t.forEach((t=>{e.includes(t)||e.push(t)})),e)),[]).join(",")),[s]),M=(0,i.useMemo)((()=>!C||x||!T&&P),[C,P,x,T]),k=(0,i.useMemo)((()=>!I||!(n&&h)||P&&M),[M,P,I,h,n]),R=(0,i.useRef)(!1),w=(0,i.useCallback)((()=>{!0!==R.current?(null===d||void 0===d||d(JSON.stringify({Result:JSON.stringify({purchaseStatus:_t.Nu.NotPurchased,data:{productId:h,skuId:S,availabilityId:_,storeId:n,scenario:o}})})),R.current=!0):g.warn("Duplicate purchase cancellation detected...")}),[_,g,d,h,o,S,n]),D=(0,i.useCallback)((e=>{null===d||void 0===d||d(JSON.stringify({Result:JSON.stringify({purchaseStatus:_t.Nu.Succeeded,data:r()(r()({},e),{},{scenario:o})})}))}),[d,o]),j=(0,i.useCallback)(((e,t)=>{null===d||void 0===d||d(JSON.stringify({Result:JSON.stringify({purchaseStatus:null===t||void 0===t?void 0:t.status,data:{error:e,productId:h,skuId:S,availabilityId:_,scenario:o,orderId:null===t||void 0===t?void 0:t.orderId}})}))}),[_,d,h,o,S]),L=(0,ut.q)(),G=(0,i.useCallback)((e=>{e&&L(function(e){return e.replace(/http(s)?:\/\//,"https://")}(e),"_blank")}),[L]),A=(0,i.useCallback)((()=>{j(new Error("Invalid purchase properties"),r()(r()({},b),{},{productId:h,status:Ye.Qo6.PurchaseError}))}),[j,h,b]),H=(0,i.useMemo)((()=>({fallbackToPurchaseOnError:!0})),[]),[F]=(0,mt.n)(null===E||void 0===E||null===(t=E.xboxTitleId)||void 0===t?void 0:t.toString());return k?(0,a.jsx)(ft,{title:u,message:m,primaryText:v,primaryAction:A,onClose:A}):(0,a.jsx)(ht.O,{productId:h,availabilityId:_,skuId:S,allowAnonymous:!0,skipPurchaseConfirmation:!0,options:H,experience:P?Ye.LKH.Browse:Ye.LKH.Details,itemType:T,xStoreScenario:o,type:_t.gx.InStream,sessionTelemetryProps:c,referringProductId:null!==F&&void 0!==F?F:"",onSuccess:D,onError:j,onOpenUrl:G,onCancel:w})},bt=(0,i.forwardRef)((function(e,t){const n=(0,i.useMemo)((()=>new l.Logger("StreamPage/MicrosoftPurchaseUI")),[]),[o,r]=(0,i.useState)(),[s,c]=(0,i.useState)(),[d,u]=(0,i.useState)(),[m,v]=(0,i.useState)(),[g,p]=(0,i.useState)(),[f,h]=(0,i.useState)(),[S,_]=(0,i.useState)();return(0,i.useImperativeHandle)(t,(()=>({mount(e){n.debug("Mounting at",e),r(e)},unmount(){n.debug("Unmounting"),r(void 0)},setProductId(e){n.debug("Setting product ID to:",e),c(e)},setScenario(e){n.debug("Setting purchase scenario ",e),u(e)},setDesiredItemTypes(e){n.debug("Setting desired item types ",e),v(e)},setSessionTelemetry(e){n.debug("Setting game stream session telemetry"),p((()=>e))},setOnResult(e){n.debug("Adding on result callback"),h((()=>e))},setOnCancel(e){n.debug("Adding on cancel callback"),_((()=>e))}}))),null==o||null==s||null==d?null:(0,Ae.createPortal)((0,a.jsx)(yt,{storeId:s,scenario:d,itemTypes:m,onResult:f,onCancel:S,onClose:S,sessionTelemetry:g}),o)}));function xt(e){var t;let{streamClient:o,user:r,config:v}=e;const g=(0,i.useRef)(),f=(0,i.useRef)(),h=(0,i.useRef)(),S=(0,i.useRef)(),_=re(g,f,h,S,o,r,v);Re(_,v,(0,Le.U)()),ve(_,v.connectMode),je(_);const y=function(){const e=(0,u.X)((()=>new l.Logger("GameStreamBootstrapper/useDevToolsOverlay"))),t=(0,c.D)();return(0,m.I)((0,i.useCallback)((async()=>{if(t)try{const{GameStreamOverlay:e}=await Promise.all([n.e(9660),n.e(9758)]).then(n.bind(n,5071));return e}catch(r){var o;const t=(0,d.g)(r);return void(null===(o=e.current)||void 0===o||o.error(`Enable to import DevToolsOverlay - ${t.message}`,t))}}),[t,e]))}(),b=function(){const e=(0,u.X)((()=>new l.Logger("GameStreamBootstrapper/useInternalDevTools"))),t=(0,p.useSelector)(T.TX);return(0,m.I)((0,i.useCallback)((async()=>{if(t&&ae)try{const{InternalDevTools:e}=await Promise.all([n.e(9463),n.e(1264)]).then(n.bind(n,98293));return e}catch(r){var o;const t=(0,d.g)(r);return void(null===(o=e.current)||void 0===o||o.error(`Enable to import InternalDevTools - ${t.message}`,t))}}),[t,e]))}(),x="titleInfo"in v?v.titleInfo:void 0;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(bt,{ref:f}),(0,a.jsx)(Qe,{ref:h,productId:null===x||void 0===x||null===(t=x.product)||void 0===t?void 0:t.productId}),(0,a.jsx)(ct,{ref:S}),(0,a.jsxs)("div",{className:s,children:[(0,a.jsx)("section",{className:s,ref:g}),y&&_&&(0,a.jsx)(y,{gameStream:_}),b&&_&&(0,a.jsx)(b,{gameStream:_})]})]})}const Ct=(0,i.memo)((e=>(0,dt.n)()?null:(0,a.jsx)(xt,r()({},e))))},9964:(e,t,n)=>{n.d(t,{c:()=>l,e:()=>s});n(47010);var o=n(51879),r=n(41243),a=n(86923),i=n(76376);function s(e){const t=(0,r.D)(),[n]=(0,a.C)("enableNativeTouch");return function(e,t,n,r){const a=!!r&&(0,o.isNativeTouchTitle)(r);return l(a,e,t,n)}(t,n,(0,i.B)(),e)}function l(e,t,n,o){return!0===o&&(e||t&&n)}},85858:(e,t,n)=>{n.d(t,{U:()=>h});n(93510),n(69375),n(29742),n(98376),n(91321),n(47010),n(34397);var o=n(51879),r=n(14041),a=n(86090),i=n(41243),s=n(87309),l=n(15387),c=n(19783);const{productId:d,title:u,description:m,creator:v,image:g,payload:p}=c.ShareStatePrototypeTestHarness.QueryStrings,f=[d,u,m,v,g,p];function h(){const e=(0,l.G_)(s.H.EnableShareStatePrototype),t=(0,i.D)(),n=e||t,{search:c,state:d}=(0,a.zy)(),u=(0,r.useMemo)((()=>{if(!c||!n)return;const e=[],t=new URLSearchParams(c);for(const n of f){const o=t.get(n);if(null==o)return;e.push([n,o])}return e.length===f.length?Object.fromEntries(e):void 0}),[n,c]);if(n)return u||((0,o.isStateSharePrototypeData)(d)?d:void 0)}},60597:(e,t,n)=>{n.r(t),n.d(t,{RemotePlayStreamPage:()=>v,default:()=>g});n(81045),n(45950),n(47010);var o=n(31085),r=n(93285),a=n(86090),i=n(3570),s=n(68181),l=n(70410),c=n(93441),d=n(95312),u=n(74099),m=n(94787);const v=()=>{var e;const{consoleId:t}=(0,a.g)(),[n]=(0,d.sY)(),v=(0,c.FE)("Remote_Play_Page_Title"),g=null===n||void 0===n||null===(e=n.find((e=>e.serverId===t)))||void 0===e?void 0:e.deviceName;return(0,o.jsxs)(m.C9,{location:"StreamPage",children:[(0,o.jsxs)(r.m,{children:[(0,o.jsx)("meta",{name:"viewport",content:u.MH}),(0,o.jsx)("meta",{name:"robots",content:"noindex"})]}),(0,o.jsx)(l.s,{title:g,siteName:v}),(0,o.jsx)(s.Y,{children:(0,o.jsx)(i.o,{serverId:t})})]})},g=v},18257:(e,t,n)=>{n.r(t),n.d(t,{StreamPage:()=>m,default:()=>v});n(47010);var o=n(31085),r=n(93285),a=n(86090),i=n(3570),s=n(68181),l=n(70410),c=n(47214),d=n(74099),u=n(94787);const m=()=>{const{productId:e}=(0,a.g)(),[t]=(0,c.x)(e);return(0,o.jsxs)(u.C9,{location:"StreamPage",children:[(0,o.jsxs)(r.m,{children:[(0,o.jsx)("meta",{name:"viewport",content:d.MH}),(0,o.jsx)("meta",{name:"robots",content:"noindex"})]}),(0,o.jsx)(l.s,{title:null===t||void 0===t?void 0:t.title}),(0,o.jsx)(s.Y,{children:(0,o.jsx)(i.o,{productId:e,product:t})})]})},v=m},81788:(e,t,n)=>{n.d(t,{a:()=>s});n(10865),n(47010);var o=n(66957),r=n(14041),a=n(67814),i=n(38132);const s=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new o.Logger("StreamPage/useGameStreamClass");return(0,i.I)((0,r.useCallback)((async()=>{try{const{GameStream:e}=await Promise.all([n.e(6403),n.e(1323),n.e(4835),n.e(9660),n.e(9762),n.e(3240),n.e(4265),n.e(196),n.e(5252),n.e(9562)]).then(n.bind(n,82247));return e}catch(t){const n=(0,a.g)(t);return void(null===e||void 0===e||e.error(`An error occurred while loading the GameStream class - ${n.message}`,n))}}),[e]))}},62284:(e,t,n)=>{n.d(t,{_:()=>o});const o=(0,n(14041).createContext)(void 0);o.displayName="Navigation"},86403:(e,t,n)=>{n.d(t,{F:()=>o});n(81045),n(30163);function o(e){return e.filter(r)}function r(e){return!!e.isDevKit}},95312:(e,t,n)=>{n.d(t,{sY:()=>l,xr:()=>c});var o=n(57361),r=n(14041),a=n(79824),i=n(25587),s=n(80102);function l(){return(0,o.useReduxLce)(s.hP,i.J4.start())}function c(){const e=(0,a.useSelector)(s.Gr),t=(0,r.useMemo)((()=>e?i.d1.start(e):i.iD.start()),[e]);return(0,o.useReduxLce)(s.Wo,t)}}}]);