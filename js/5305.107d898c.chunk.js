"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[5305],{40852:(e,a,t)=>{t.d(a,{e:()=>oe});var i=t(41506),s=t.n(i),r=t(67996),n=t.n(r),l=(t(47010),t(31085)),m=t(20090),o=t(53373),c=t.n(o),d=t(14041),_=t(10651),u=(t(98376),t(14293),"GameInviteCard-module__container___qFGp1"),p="GameInviteCard-module__infoText___PtSI+",g=t(89518),x=t(79367);const h=Number(g.Pf.replace("px","")),C=Number(g.KZ.replace("px","")),v=Number(g.Jc.replace("px","")),N=Number(g.DO.replace("px","")),I=Number(g.xw.replace("px","")),y=Number(g.xn.replace("px","")),j=Number(g.TX.replace("px","")),A=Number(g.st.replace("px","")),G=Number("48px".replace("px","")),E=Number("64px".replace("px","")),T=[{mediaQuery:x.a7,size:{width:j},imageType:"jpg"},{mediaQuery:x.gR,size:{width:y},imageType:"jpg"},{mediaQuery:x.oI,size:{width:I},imageType:"jpg"},{mediaQuery:x.MN,size:{width:N},imageType:"jpg"},{mediaQuery:x.Mu,size:{width:v},imageType:"jpg"},{mediaQuery:x.RZ,size:{width:C},imageType:"jpg"}],f={size:{width:A},imageType:"jpg"},S={size:{width:h},imageType:"jpg"},M=[{mediaQuery:x.MN,size:{width:E},imageType:"jpg"}],P={size:{width:G},imageType:"jpg"},b={size:{width:E},imageType:"jpg"};var w=t(17241),L=t(93441);const k=e=>{let{onAcceptInvite:a,hostProfileLink:t,productDetailsLink:i}=e;const[r,n,m]=(0,L.cG)("GameInvite_Accept_Invite","View_Profile","View_Game_Details"),o={className:"GameInviteContextMenu-module__option___GdAF3",buttonType:w.VQ.Tertiary,buttonSize:w.Mp.Medium,isCallToAction:!1};return(0,l.jsxs)("div",{className:"GameInviteContextMenu-module__container___wPP9M",children:[(0,l.jsx)(w.JK,s()(s()({as:"button",onClick:a},o),{},{children:r})),(0,l.jsx)(w.JK,s()(s()({as:"a",href:t},o),{},{children:n})),(0,l.jsx)(w.JK,s()(s()({as:"a",href:i},o),{},{children:m}))]})};var D=t(21677),z=t(37509),K=t(79824),R=t(52897),F=t(89407),H="FormattedInviteGamertag-module__simpleInfoText___Ix1E6";const O=e=>{let{className:a,hostGamerTag:t}=e;const i=(0,L.FE)("Invited_By","GAMERTAG_PLACEHOLDER"),[s,r]=i.split("GAMERTAG_PLACEHOLDER");return(0,l.jsxs)("span",{className:c()(a,"FormattedInviteGamertag-module__invitedBy___uM62r"),children:[s&&(0,l.jsx)("span",{className:H,children:s}),(0,l.jsx)("span",{className:"FormattedInviteGamertag-module__hostGamertag___p1i9P",children:t}),r&&(0,l.jsx)("span",{className:H,children:r})]})};var B=t(68219),Q=t(34503),U=t(40987);const X=["className","gameArtClassName","gameArtProps","hostXuid","hostGamerTag","gameAndPresenceLabel","expirationDateMS","productId","onClick"],J=(0,d.forwardRef)(((e,a)=>{let{className:t,gameArtClassName:i,gameArtProps:r,hostXuid:m,hostGamerTag:o,gameAndPresenceLabel:_,expirationDateMS:g,productId:x,onClick:h}=e,C=n()(e,X);const v=(0,d.useMemo)((()=>({className:c()("GameInviteCard-module__gameArt___hUWzx",i)})),[i]),N=(0,K.useSelector)(z.JKP),I=new Date(g).toLocaleString(N,{timeStyle:"short"}),y=(0,L.FE)("GameInvite_Expires_At",I),j=(0,L.FE)("GameInvite_Accept_Invite"),A=(0,R.Gu)(),G=(0,d.useMemo)((()=>(0,l.jsx)(B.l,{xuid:m,className:"GameInviteCard-module__gamerPic___xD7du",size:w.Ow.Small,constraints:M,defaultConstraint:P,tvConstraint:b})),[m]);return(0,l.jsxs)(w.Xg,s()(s()({as:"button",className:c()(u,t),ref:a,onClick:h},C),{},{children:[(0,l.jsxs)(Q.Y,s()(s()({},r),{},{containerProps:v,children:[(0,l.jsx)(U.J,{productId:x,className:"GameInviteCard-module__badge___HKVnB"}),A<F.EA.Medium&&G]})),A>=F.EA.Medium&&G,(0,l.jsxs)("div",{className:"GameInviteCard-module__infoTextContainer___ipNCH",children:[(0,l.jsx)(O,{hostGamerTag:o}),(0,l.jsx)("span",{className:p,children:_}),(0,l.jsx)("span",{className:p,children:y})]}),(0,l.jsxs)("span",{className:"GameInviteCard-module__acceptInvite___IKy7K",children:[j,(0,l.jsx)(w.In,{iconSize:w.lK.Custom,className:"GameInviteCard-module__acceptInviteChevron___pXNTH",icon:D.A,"aria-hidden":!0})]})]}))}));var q=t(25353),V=t(83854),W=t(55807),Z=t(47214),Y=t(56136),$=t(19783),ee=t(94787),ae=t(91410),te=t(58003),ie=t(82627),se=t(12163),re=t(58234),ne=t(79533);const le=["gameInvite","className","gameArtClassName"],me="GameInviteCard",oe=e=>{let{gameInvite:a,className:t,gameArtClassName:i}=e,r=n()(e,le);const[,o]=(0,Z.K)(a.titleId,Y._.Detailed),c=(0,d.useCallback)((()=>(0,l.jsx)(ne.E,{className:t})),[t]),_=(0,d.useCallback)((e=>{let{data:n}=e;return(0,l.jsx)(ce,s()({className:t,gameArtClassName:i,gameInvite:a,productInfo:n},r))}),[t,i,a,r]);return(0,l.jsx)(ee.C9,{location:me,children:(0,l.jsx)(m.LceRenderer,{data:o,renderFetching:c,renderContent:_})})},ce=e=>{let{productInfo:a,gameInvite:t,className:i,gameArtClassName:s}=e;const r=(0,W.X5)(a.productId,"heroImageUrl"),n=(0,d.useMemo)((()=>({imageUrl:r,alt:a.title,tvConstraint:f,defaultConstraint:S,constraints:T})),[r,a.title]),[m,{loading:o}]=(0,ae.rl)(t.actor.xuid),p=(0,te.y9)(),{ref:g,inView:x}=(0,_.Wx)({threshold:.5,skip:t.seen}),h=(0,se.G)();(0,d.useEffect)((()=>{x&&!t.seen&&p(t,"seen")}),[t,x,p]);const C=(0,d.useMemo)((()=>{var e;return(null===m||void 0===m||null===(e=m.presence)||void 0===e?void 0:e.presenceTitleId)===t.titleId?m.presence.presenceText:null===a||void 0===a?void 0:a.title}),[m,a,t]),v=!a||!m||!r||!C,N=(0,d.useCallback)((()=>{p(t,"read"),h(re._R.path,{gameInvite:t},{replace:!0})}),[t,h,p]),I=(0,d.useRef)(null),y=(0,d.useMemo)((()=>(0,l.jsx)(k,{onAcceptInvite:N,hostProfileLink:m?$.UserProfile.getLink(m.gamertag.legacyGamertag):void 0,productDetailsLink:$.Product.getLink(a.productId,a.title)})),[m,N,a.productId,a.title]),{addAccelerator:j,removeAccelerator:A}=(0,q.H)({itemRef:I,content:y});return o?(0,l.jsx)(ne.E,{className:c()(u,i)}):v?null:(0,l.jsx)(ee.C9,{location:me,children:(0,l.jsx)(ie.x,{itemRef:I,content:y,children:(0,l.jsx)(J,{ref:(0,V.i)(g,I),gameArtProps:n,className:i,gameArtClassName:s,productId:a.productId,gameAndPresenceLabel:C,hostXuid:m.xuid,hostGamerTag:m.gamertag.uniqueGamertag,expirationDateMS:t.expirationDateMS,onClick:N,onFocus:j,onBlur:A})})})}},67529:(e,a,t)=>{t.d(a,{K:()=>c});var i=t(31085),s=t(14041),r=t(94787),n=t(86383),l=t(1600),m=t(18094);const o="PartyInviteCard",c=e=>{let{partyInvite:a,className:t,gamerPicClassName:c}=e;const d=a.actor.xuid,_=(0,n.g)(o),u=l.GuidePartyInvitePreview.getLink(a.handleId,a.timestampMS,a.expirationDateMS,d,a.actor.gamertag.uniqueGamertag),p=(0,s.useCallback)((()=>{_({history:[l.GuideHome.getLink(),u]})}),[_,u]);return(0,i.jsx)(r.C9,{location:o,children:(0,i.jsx)(m.q,{type:{kind:"PartyInvite",invite:a},invitedByLocKey:"Party_Invited_By",className:t,gamerPicClassName:c,onClick:p})})}},52698:(e,a,t)=>{t.d(a,{f:()=>m,t:()=>o});var i=t(31085),s=t(17241),r=t(21677),n=t(53373),l=t.n(n);const m="SocialEmptyCard",o=e=>{let{className:a,href:t,onClick:n,title:m,subtitle:o,showMoreText:c,emptyImage:d,titleClassName:_,subtitleClassName:u,pressAction:p}=e;return(0,i.jsxs)(s.Xg,{as:t?"a":"button","data-action-type":p,href:t,onClick:n,className:l()("SocialEmptyCard-module__container___6ewqS",a),children:[(0,i.jsx)("div",{className:l()("SocialEmptyCard-module__imageContainer___--ITC"),children:d}),(0,i.jsxs)("div",{className:"SocialEmptyCard-module__textContainer___USZWU",children:[(0,i.jsx)("div",{className:l()("SocialEmptyCard-module__emptyTitle___hER6j",{"SocialEmptyCard-module__emptyTitleWithText___gKzPZ":o},_),children:m}),o&&(0,i.jsx)("div",{className:l()("SocialEmptyCard-module__emptySubtitle___7+xag",u),children:o}),c&&(0,i.jsxs)("div",{className:"SocialEmptyCard-module__showMoreLabel___Cc9o9",children:[(0,i.jsx)("div",{className:"SocialEmptyCard-module__showMore___03iMs",children:c}),(0,i.jsx)("div",{className:"SocialEmptyCard-module__iconContainer___fn0t0",children:(0,i.jsx)(s.In,{iconSize:s.lK.Custom,className:"SocialEmptyCard-module__showMoreIcon___cOIE8",icon:r.A,"aria-hidden":!0})})]})]})]})}}}]);