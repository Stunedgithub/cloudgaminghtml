/*! For license information please see 267.704b13b3.js.LICENSE.txt */
(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[267],{49212:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.asOptionalObjectWithSchema=t.asObjectWithSchema=t.asOptionalObject=t.asObject=t.asOptionalCompactArray=t.asCompactArray=t.asOptionalArray=t.asArray=t.asOptionalDate=t.asDate=t.asOptionalNumber=t.asNumber=t.asOptionalString=t.asString=t.asOptionalBool=t.asBool=void 0;const r=n(2554),o=n(82696);function i(e){return null!=e&&"object"===typeof e&&"string"===typeof e.name&&"string"===typeof e.message}function a(e){return i(e)&&"value"in e}function s(e,t){let n;throw n=null===t?"null":"object"===typeof t?Object.prototype.toString.call(t):`type '${typeof t}'`,new r.ValidationError(`Expected type '${e}', received ${n}.`,t)}function l(e){if("__proto__"===e)throw new r.ValidationError("Prototype pollution attack detected")}function c(e,t,n){if(i(e)){const i=`Invalid value at key '${n}'. ${e.message}`;try{e.message=i}catch(o){throw new r.ValidationError(i,a(e)?e.value:t)}throw e}throw new r.ValidationError(`Invalid value at key '${n}'.`,t)}function u(e,t){return t?e.map(((n,o)=>{try{return t(n)}catch(s){!function(e,t,n){if(i(e)){const i=`Invalid value at index '${n}'. ${e.message}`;try{e.message=i}catch(o){throw new r.ValidationError(i,a(e)?e.value:t)}throw e}throw new r.ValidationError(`Invalid value at index '${n}'.`,t)}(s,e,o)}})):e}function d(e,t,n){const r=[];return e.forEach((e=>{try{const n=t(e);null!=n&&r.push(n)}catch(i){null===n||void 0===n||n(e,o.toError(i))}})),r}function p(e,t){if(t){const r={};for(const o of Object.keys(e)){l(o);try{r[o]=t(e[o],o)}catch(n){c(n,e,o)}}return r}for(const r of Object.keys(e))l(r);return e}function m(e,t,n){const o={};if(n)for(const a of Object.keys(e))if(void 0===t[a])throw new r.ValidationError(`Unexpected key '${a}' in value.`,e);for(const[r,a]of Object.entries(t))try{const t=a(e[r]);void 0!==t&&(o[r]=t)}catch(i){c(i,e,r)}return o}t.asBool=function(e){if("boolean"===typeof e)return e;s("boolean",e)},t.asOptionalBool=function(e){if("boolean"===typeof e)return e;null!=e&&s("boolean?",e)},t.asString=function(e){if("string"===typeof e)return e;s("string",e)},t.asOptionalString=function(e){if("string"===typeof e)return e;null!=e&&s("string?",e)},t.asNumber=function(e){if("number"===typeof e)return e;s("number",e)},t.asOptionalNumber=function(e){if("number"===typeof e)return e;null!=e&&s("number?",e)},t.asDate=function(e){if("string"===typeof e){const t=new Date(e);if(!isNaN(t.getTime()))return t}else if(e instanceof Date&&!isNaN(e.getTime()))return e;s("Date",e)},t.asOptionalDate=function(e){if("string"===typeof e){const t=new Date(e);if(!isNaN(t.getTime()))return t}else if(e instanceof Date){if(!isNaN(e.getTime()))return e}else if(null==e)return;s("Date?",e)},t.asArray=function(e,t){if(Array.isArray(e))return u(e,t);s("Array",e)},t.asOptionalArray=function(e,t){if(Array.isArray(e))return u(e,t);null!=e&&s("Array?",e)},t.asCompactArray=function(e,t,n){if(Array.isArray(e))return d(e,t,n);s("Array",e)},t.asOptionalCompactArray=function(e,t,n){if(Array.isArray(e))return d(e,t,n);null!=e&&s("Array?",e)},t.asObject=function(e,t){if("object"===typeof e&&null!=e&&!Array.isArray(e))return p(e,t);s("object",e)},t.asOptionalObject=function(e,t){if("object"===typeof e&&null!=e&&!Array.isArray(e))return p(e,t);null!=e&&s("object?",e)},t.asObjectWithSchema=function(e,t,n=!1){if("object"===typeof e&&null!=e&&!Array.isArray(e))return m(e,t,n);s("object",e)},t.asOptionalObjectWithSchema=function(e,t,n=!1){if("object"===typeof e&&null!=e&&!Array.isArray(e))return m(e,t,n);null!=e&&s("object?",e)}},33011:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createStringUnionMatcher=t.createStringEnumMatcher=t.EnumMatchBehavior=void 0;const r=n(2554);var o;function i(e,t){const n=new Map;for(const r of e){let e=r;t===o.CaseInsensitive&&(e=e.toLocaleUpperCase()),n.set(e,r)}return n}!function(e){e[e.CaseSensitive=0]="CaseSensitive",e[e.CaseInsensitive=1]="CaseInsensitive"}(o=t.EnumMatchBehavior||(t.EnumMatchBehavior={})),t.createStringEnumMatcher=function(e,t,n=o.CaseSensitive){const a=i(Object.values(e),n);return function(e){if("string"!==typeof e)throw new r.ValidationError(`Expected ${t} enum value, but ${e} is not a string`,e);const i=n===o.CaseSensitive?e:e.toLocaleUpperCase(),s=a.get(i);if(void 0===s)throw new r.ValidationError(`Could not find ${e} value in enum ${t}`,e);return s}},t.createStringUnionMatcher=function(e,t,n=o.CaseSensitive){const a=i(e,n);return function(e){if("string"!==typeof e)throw new r.ValidationError(`Expected string union value from ${t}, but ${e} is not a string`,e);const i=n===o.CaseSensitive?e:e.toLocaleUpperCase(),s=a.get(i);if(void 0===s)throw new r.ValidationError(`Could not find ${e} value in string union ${t}`,e);return s}}},12885:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2554);Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return r.ValidationError}});var o=n(40795);Object.defineProperty(t,"orDefault",{enumerable:!0,get:function(){return o.orDefault}});var i=n(82696);Object.defineProperty(t,"asError",{enumerable:!0,get:function(){return i.asError}}),Object.defineProperty(t,"toError",{enumerable:!0,get:function(){return i.toError}});var a=n(49212);Object.defineProperty(t,"asBool",{enumerable:!0,get:function(){return a.asBool}}),Object.defineProperty(t,"asOptionalBool",{enumerable:!0,get:function(){return a.asOptionalBool}}),Object.defineProperty(t,"asNumber",{enumerable:!0,get:function(){return a.asNumber}}),Object.defineProperty(t,"asOptionalNumber",{enumerable:!0,get:function(){return a.asOptionalNumber}}),Object.defineProperty(t,"asString",{enumerable:!0,get:function(){return a.asString}}),Object.defineProperty(t,"asOptionalString",{enumerable:!0,get:function(){return a.asOptionalString}}),Object.defineProperty(t,"asDate",{enumerable:!0,get:function(){return a.asDate}}),Object.defineProperty(t,"asOptionalDate",{enumerable:!0,get:function(){return a.asOptionalDate}}),Object.defineProperty(t,"asArray",{enumerable:!0,get:function(){return a.asArray}}),Object.defineProperty(t,"asCompactArray",{enumerable:!0,get:function(){return a.asCompactArray}}),Object.defineProperty(t,"asOptionalArray",{enumerable:!0,get:function(){return a.asOptionalArray}}),Object.defineProperty(t,"asOptionalCompactArray",{enumerable:!0,get:function(){return a.asOptionalCompactArray}}),Object.defineProperty(t,"asObject",{enumerable:!0,get:function(){return a.asObject}}),Object.defineProperty(t,"asOptionalObject",{enumerable:!0,get:function(){return a.asOptionalObject}}),Object.defineProperty(t,"asObjectWithSchema",{enumerable:!0,get:function(){return a.asObjectWithSchema}}),Object.defineProperty(t,"asOptionalObjectWithSchema",{enumerable:!0,get:function(){return a.asOptionalObjectWithSchema}});var s=n(33011);Object.defineProperty(t,"EnumMatchBehavior",{enumerable:!0,get:function(){return s.EnumMatchBehavior}}),Object.defineProperty(t,"createStringEnumMatcher",{enumerable:!0,get:function(){return s.createStringEnumMatcher}}),Object.defineProperty(t,"createStringUnionMatcher",{enumerable:!0,get:function(){return s.createStringUnionMatcher}})},40795:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.orDefault=void 0,t.orDefault=function(e,t){return null==e?t:e}},82696:(e,t)=>{"use strict";function n(e){return e instanceof Error?e:"string"===typeof e?new Error(e):"object"===typeof e&&(null!=(t=e)&&"string"===typeof t.message)?new Error(e.message):void 0===e?new Error(e):new Error(JSON.stringify(e));var t}Object.defineProperty(t,"__esModule",{value:!0}),t.asError=t.toError=void 0,t.toError=n,t.asError=n},2554:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ValidationError=void 0;class n extends Error{constructor(e,t){super(e),this.name="ValidationError",this.value=t}}t.ValidationError=n},99869:(e,t,n)=>{"use strict";n.r(t),n.d(t,{MSAAuthenticator:()=>l,RpsTicketCustomHeaderAuthenticator:()=>p,RpsTicketProvider:()=>s,TokenAuthenticator:()=>u,TokenProvider:()=>c,formatAuthorizationHeaderValue:()=>a,isToken:()=>o});var r=n(90692);const o=e=>"object"===typeof e&&null!==e&&"string"===typeof e.token,i=(e,t)=>{const n=new Headers({[r.HttpHeader.Authorization]:o(e)?e.token:e}),i=o(e)?e.signature:void 0;return i&&n.set(r.HttpHeader.Signature,i),r.InterceptedRequest.fromRequest(t,{additionalHeaders:n})},a=(e,t)=>{switch(e.startsWith("t=")&&(e=e.substr(2)),t){case"none":return e;case"1.0":return`WLID1.0=${e}`;case"1.0t":return`WLID1.0 WLID1.0=t=${e}`;case"1.1":return`WLID1.1 t=${e}`;case"1.2":return`msaauth1.0 bearer=t=${e}`;case"1.3":return`t=${e}`;default:throw new Error(`Attempted to format an invalid version "${t}" authorization header value in MSAAuthenticator`)}},s=Symbol("RpsTicketProvider");class l{constructor(e,t,n){this._rpsTicketProvider=e,this._scope=t,this._version=n,this.authenticate=async e=>{const t=await this._rpsTicketProvider.getRpsTicket(this._scope);return t?i(a(t,this._version),e):e}}}const c=Symbol("TokenProvider");class u{constructor(e,t=!1){this._tokenProvider=e,this._shouldPassThroughRequestIfUnauthenticated=t,this.authenticate=async(e,t=!1)=>{const n=await this._tokenProvider.getToken(e,t);if(n)return i(n,e);if(this._shouldPassThroughRequestIfUnauthenticated)return e;throw new Error(`Failed to authenticate request ${JSON.stringify(e)}`)}}}var d=n(19409);class p{constructor(e,t,n,o,i="none"){this._rpsTicketProvider=e,this._scope=t,this._header=n,this._logger=o,this._version=i,this.authenticate=async e=>{try{const t=await this._rpsTicketProvider.getRpsTicket(this._scope);if(t){const n=a(t,this._version);return await r.InterceptedRequest.fromRequest(e,{additionalHeaders:{[this._header]:n}})}}catch(t){this._logger&&this._logger.log("http-authenticators.RpsTicketCustomHeaderAuthenticator",d.LogLevel.Error,`Authentication failed: {request: ${JSON.stringify(e)}, error: ${JSON.stringify(t)}}`)}return e}}}},89263:(e,t,n)=>{"use strict";n.r(t),n.d(t,{AcceptLanguageInterceptor:()=>i,AcceptableLanguageProvider:()=>o,ContentRestrictionInterceptor:()=>C,ContentRestrictionProvider:()=>S,CorrelationVectorInterceptor:()=>w,CorrelationVectorProvider:()=>T,ETagInterceptor:()=>P,ErrorData:()=>j,ErrorLogInterceptor:()=>F,HostData:()=>H,HttpReliabilityReport:()=>B,HttpReliabilityTable:()=>z,MarketAndLocaleProvider:()=>K,MarketAndLocaleQueryParamInterceptor:()=>X,MarketProvider:()=>W,ReliabilityErrorInterceptor:()=>Q,ReliabilityRequestInterceptor:()=>Y,ReliabilityResponseInterceptor:()=>$,RequestLogInterceptor:()=>L,ResponseLogInterceptor:()=>D,StatusData:()=>q,UriClassifier:()=>V,XblMarketInterceptor:()=>J});var r=n(90692);const o=Symbol("AcceptableLanguageProvider");class i{constructor(e,t=0){this.languageProvider=e,this.priority=t,this.intercept=async e=>{if(e.headers.has(r.HttpHeader.AcceptLanguage))return e;let t="*";const n=await this.languageProvider()||[];return"string"===typeof n?t=n:n.length>0&&(t=n.join(", ")),r.InterceptedRequest.fromRequest(e,{additionalHeaders:{[r.HttpHeader.AcceptLanguage]:t}})}}}const a="function"===typeof btoa,s="function"===typeof Buffer,l=("function"===typeof TextDecoder&&new TextDecoder,"function"===typeof TextEncoder?new TextEncoder:void 0),c=Array.prototype.slice.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="),u=((e=>{let t={};e.forEach(((e,n)=>t[e]=n))})(c),String.fromCharCode.bind(String)),d=("function"===typeof Uint8Array.from&&Uint8Array.from.bind(Uint8Array),e=>e.replace(/[+\/]/g,(e=>"+"==e?"-":"_")).replace(/=+$/m,"")),p=e=>{let t,n,r,o,i="";const a=e.length%3;for(let s=0;s<e.length;){if((n=e.charCodeAt(s++))>255||(r=e.charCodeAt(s++))>255||(o=e.charCodeAt(s++))>255)throw new TypeError("invalid character found");t=n<<16|r<<8|o,i+=c[t>>18&63]+c[t>>12&63]+c[t>>6&63]+c[63&t]}return a?i.slice(0,a-3)+"===".substring(a):i},m=a?e=>btoa(e):s?e=>Buffer.from(e,"binary").toString("base64"):p,h=s?e=>Buffer.from(e).toString("base64"):e=>{let t=[];for(let n=0,r=e.length;n<r;n+=4096)t.push(u.apply(null,e.subarray(n,n+4096)));return m(t.join(""))},g=e=>{if(e.length<2)return(t=e.charCodeAt(0))<128?e:t<2048?u(192|t>>>6)+u(128|63&t):u(224|t>>>12&15)+u(128|t>>>6&63)+u(128|63&t);var t=65536+1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320);return u(240|t>>>18&7)+u(128|t>>>12&63)+u(128|t>>>6&63)+u(128|63&t)},f=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,_=e=>e.replace(f,g),v=s?e=>Buffer.from(e,"utf8").toString("base64"):l?e=>h(l.encode(e)):e=>m(_(e)),y=(e,t=!1)=>t?d(v(e)):v(e),b=y,S=Symbol("ContentRestrictionProvider"),E=(e,t,n)=>{const r={version:2,data:{geographicRegion:e,maxAgeRating:t,preferredAgeRating:t,restrictPromotionalContent:n}};return b(JSON.stringify(r))};class C{constructor(e){this.contentRestrictionProvider=e,this.intercept=async e=>{const{market:t,maturityLevel:n,isPromotionalContentRestricted:o}=await this.contentRestrictionProvider();if(!t||null===n)return e;const i={[r.HttpHeader.XContentRestrictionsHeader]:E(t,n,o)};return r.InterceptedRequest.fromRequest(e,{additionalHeaders:i})}}}const T=Symbol("CorrelationVectorProvider");class w{constructor(e,t=0){this.cvProvider=e,this.priority=t,this.intercept=async e=>{const t=await this.cvProvider();return r.InterceptedRequest.fromRequest(e,{additionalHeaders:{[r.HttpHeader.CorrelationVector]:t}})}}}const I=e=>e?e.headers.get(r.HttpHeader.ETag):null;class P{constructor(e=0,t=0){this._requestPriority=e,this._responsePriority=t,this._responseCache={}}get requestInterceptor(){return void 0===this._requestInterceptor&&(this._requestInterceptor={priority:this._requestPriority,intercept:async e=>{const t=I(this._responseCache[e.url]);return t?((e,t)=>r.InterceptedRequest.fromRequest(e,{additionalHeaders:{[r.HttpHeader.IfNoneMatch]:t}}))(e,t):e}}),this.requestInterceptor}get responseIntercepor(){return void 0===this._responseInterceptor&&(this._responseInterceptor={priority:this._responsePriority,intercept:async(e,t)=>{if(304===t.status){const t=this._responseCache[e.url];if(t)return t.clone()}if(200===t.status){I(t)&&(this._responseCache[e.url]=t.clone())}return t}}),this._responseInterceptor}}var A=n(81916);function k({method:e,url:t,headers:n,status:r,data:o}){return`${M(e,t,r,o)}\n${O(n)}\n${o?N(o)+"\n":""}${function(e){return`<-- END ${e.toUpperCase()} Response`}(e)}`}function x({method:e,url:t,status:n,data:r}){return M(e,t,n,r)}function R(e,t,n){const r=n?` ${JSON.stringify(n).length}-byte body`:"";return`--\x3e ${e.toUpperCase()} ${t}${r}`}function O(e){return Array.from(e).map((([e,t])=>`${e}: ${JSON.stringify(t)}`)).join("\n")}function N(e){return JSON.stringify(e)}function M(e,t,n,r){const o=r?` (${JSON.stringify(r).length}-byte body)`:"";return`<-- ${n} ${(0,A.Iw)(n)} ${e.toUpperCase()} ${t}${o}`}class L{constructor(e,t,n=!0){this.log=e,this.priority=t,this.useMinimalLog=n,this.intercept=async e=>{const t=await e.clone().text();if(this.useMinimalLog){let n=function({method:e,url:t,data:n}){return R(e,t,n)}({method:e.method,url:e.url,data:t});const o=e.headers.get(r.HttpHeader.CorrelationVector);o&&(n=`${n} CV:${o}`),this.log(n)}else this.log(function({method:e,url:t,headers:n,data:r}){return`${R(e,t,r)}\n${n?O(n)+"\n":""}${r?N(r)+"\n":""}${function(e){return`<-- END ${e.toUpperCase()} Request`}(e)}`}({method:e.method,url:e.url,data:t,headers:e.headers}));return e}}}class D{constructor(e,t,n=!0){this.log=e,this.priority=t,this.intercept=async(e,t)=>(this.log(await this.stringifyResponse(e,t)),t),this.stringifyResponse=n?async(e,t)=>x(await U(e,t)):async(e,t)=>k(await U(e,t))}}class F{constructor(e,t,n=!0){this.log=e,this.priority=t,this.intercept=async(e,t)=>{throw"response"in t&&t.response||t instanceof r.HttpError?this.log(await this.stringifyResponse(e,t.response)):t instanceof Error&&this.log(t.toString()),t},this.stringifyResponse=n?async(e,t)=>x(await U(e,t)):async(e,t)=>k(await U(e,t))}}const U=async(e,t)=>({method:e.method,url:e.url,status:t.status,headers:t.headers,data:await t.clone().text()});class B{constructor(){this.count5xx=0,this.countResponse=0,this.countError=0,this.sumLatencyMs=0,this.hostData=[]}}class H{constructor(){this.hostName="",this.count5xx=0,this.countResponse=0,this.countError=0,this.sumLatencyMs=0,this.statusData=[],this.errorData=[]}}class G{constructor(e){this.update=e=>{this.count++,this.sumLatencyMs+=e,this.maxLatencyMs<e?this.maxLatencyMs=e:this.minLatencyMs>e&&(this.minLatencyMs=e),0===e&&this.zeroLatencyCount++},this.count=1,this.sumLatencyMs=e,this.maxLatencyMs=e,this.minLatencyMs=e,this.zeroLatencyCount=0===e?1:0}}class q extends G{constructor(e,t){super(t),this.httpStatus=e}}class j extends G{constructor(e,t){super(t),this.errorName=e}}class V{constructor(e){this.addOrUpdateStatus=(e,t)=>{var n;this.statusMap.has(e)?null===(n=this.statusMap.get(e))||void 0===n||n.update(t):this.statusMap.set(e,new q(e,t))},this.addOrUpdateError=(e,t)=>{var n;this.errorMap.has(e)?null===(n=this.errorMap.get(e))||void 0===n||n.update(t):this.errorMap.set(e,new j(e,t))},this.hostName=e,this.statusMap=new Map,this.errorMap=new Map}}class z{constructor(){this.markError=(e,t)=>{const n=this.getLatency(e),r=new URL(e.url);let o=this.stats.get(r.hostname)||null;o?o.addOrUpdateError(t,n):(o=new V(r.hostname),o.addOrUpdateError(t,n),this.stats.set(r.hostname,o))},this.addError=(e,t,n)=>{const r=new URL(e);let o=this.stats.get(r.hostname)||null;o?o.addOrUpdateError(t,n):(o=new V(r.hostname),o.addOrUpdateError(t,n),this.stats.set(r.hostname,o))},this.markRequest=async e=>r.InterceptedRequest.fromRequest(e,{metadata:{[z.headerKey]:Date.now()}}),this.markResponse=(e,t)=>{const n=this.getLatency(e),r=new URL(e.url);let o=this.stats.get(r.hostname)||null;o?o.addOrUpdateStatus(t.status,n):(o=new V(r.hostname),o.addOrUpdateStatus(t.status,n),this.stats.set(r.hostname,o))},this.addResponse=(e,t,n)=>{const r=new URL(e);let o=this.stats.get(r.hostname)||null;o?o.addOrUpdateStatus(t,n):(o=new V(r.hostname),o.addOrUpdateStatus(t,n),this.stats.set(r.hostname,o))},this.summarize=()=>{const e=new B;return this.stats.size>0&&(this.stats.forEach((t=>{const n=new H;n.hostName=t.hostName,n.errorData=Array.from(t.errorMap.values()),n.statusData=Array.from(t.statusMap.values()),n.statusData.forEach((t=>{t.httpStatus>499&&t.httpStatus<600&&(n.count5xx+=t.count,e.count5xx+=t.count),n.sumLatencyMs+=t.sumLatencyMs,e.sumLatencyMs+=t.sumLatencyMs,n.countResponse+=t.count,e.countResponse+=t.count})),n.errorData.forEach((t=>{n.countError+=t.count,e.countError+=t.count})),e.hostData.push(n)})),this.flush()),e},this.flush=()=>{this.stats.clear()},this.getLatency=e=>{var t;let n=Date.now(),r=0;const o=null===(t=e.metadata)||void 0===t?void 0:t[z.headerKey];return o&&(r=o),n=Math.max(n-r,0),n},this.stats=new Map}}z.headerKey="xTime";class X{constructor(e,t,n){this.queryNames=e,this.getMarketAndLocale=t,this.priority=n,this.intercept=async e=>{const{market:t,locale:n}=await this.getMarketAndLocale(),o=new URL(e.url.match(/^[^:]+:\/\//)?e.url:`https://${e.url}`);return o.searchParams.has(this.queryNames.marketQuery)||o.searchParams.append(this.queryNames.marketQuery,t),o.searchParams.has(this.queryNames.localeQuery)||o.searchParams.append(this.queryNames.localeQuery,n),r.InterceptedRequest.fromRequest(e,{url:o.href})}}}const K=Symbol("MarketAndLocaleProvider"),W=Symbol("MarketProvider");class ${constructor(e,t){this.reliabilityTable=e,this.priority=t,this.intercept=async(e,t)=>(this.isThisAnInterestingResponse(t)&&this.reliabilityTable.markResponse(e,t),t),this.isThisAnInterestingResponse=e=>e.status>0}}class Y{constructor(e,t){this.reliabilityTable=e,this.priority=t,this.intercept=async e=>this.reliabilityTable.markRequest(e)}}class Q{constructor(e,t){this.reliabilityTable=e,this.priority=t,this.intercept=async(e,t)=>{throw"response"in t&&t.response||t instanceof r.HttpError?this.reliabilityTable.markResponse(e,t.response):t instanceof Error&&this.reliabilityTable.markError(e,t.name),t}}}class J{constructor(e,t=0){this.marketProvider=e,this.priority=t,this.intercept=async e=>{if(e.headers.has(r.HttpHeader.XXBLMarket))return e;let t;const n=await this.marketProvider()||[];return"string"===typeof n?t=n:"market"in n&&(t=n.market),t?r.InterceptedRequest.fromRequest(e,{additionalHeaders:{[r.HttpHeader.XXBLMarket]:t}}):e}}}},90692:(e,t,n)=>{"use strict";n.r(t),n.d(t,{DEFAULT_BASE_DELAY_MS:()=>g,DEFAULT_MAX_RETRIES:()=>h,DEFAULT_RESPONSE_VALIDATOR:()=>E,DEFAULT_RETRY_PREDICATE:()=>v,DEFAULT_RETRY_TIMEOUT_MS:()=>m,DEFAULT_TIMEOUT_MS:()=>p,ETAG_RESPONSE_VALIDATOR:()=>C,HttpClient:()=>k,HttpClientBuilder:()=>x,HttpError:()=>r,HttpHeader:()=>c,HttpSuccessValidator:()=>o,InterceptedRequest:()=>u,InterceptorCollection:()=>w,MutableRequestFactory:()=>N,RequestFactory:()=>O,ResponseError:()=>l,anySignal:()=>f,composeFetchEnhancers:()=>T,createAuthenticatedFetch:()=>i,createFetchWithTimeout:()=>_,createInterceptedFetch:()=>d,createRetriableFetch:()=>b,interceptorPriorityComparator:()=>P,parseRetryAfterDelayMs:()=>y});class r extends Error{constructor(e,t){super(`HTTP request was not successful: ${t.status} '${e.method} ${e.url}' failed; ${t.statusText}`),this.name="HttpError",this.request=e,this.response=t}}class o{constructor(e){this.validationDelegate=e,this.intercept=async(e,t)=>{if(this.validationDelegate(e,t))return t;throw new r(e,t)}}}function i(e,t){return function(n,o){const i=new Request(n,o);return function(e,t,n){return n.authenticate(e).then((e=>t(e)))}(i,e,t).then((n=>s(n)?a(i,e,t):n),(n=>{if(n instanceof r&&s(n.response))return a(i,e,t);throw n}))}}function a(e,t,n){return n.authenticate(e,!0).then((e=>t(e)))}function s(e){return 401===e.status}class l extends Error{constructor(e,t,n,r){super(e),this.message=e,this.request=t,this.code=n,this.response=r}}var c;!function(e){e.Accept="Accept",e.AcceptLanguage="Accept-Language",e.Authorization="Authorization",e.ContentLength="Content-Length",e.ContentType="Content-type",e.CorrelationVector="MS-CV",e.XContentRestrictionsHeader="x-xbl-contentrestrictions",e.XXBLContractVersion="X-XBL-Contract-Version",e.XXBLMarket="x-xbl-market",e.Signature="Signature",e.XPermissionTicket="X-Permission-Ticket",e.XDeviceThumbprint="X-Device-Thumbprint",e.IfNoneMatch="if-none-match",e.ETag="etag",e.RetryAfter="Retry-After",e.RetryCount="Retry-Count",e.XRewardsCountry="X-Rewards-Country",e.XRewardsLanguage="X-Rewards-Language",e.XRewardsIsMobile="X-Rewards-IsMobile",e.XRewardsAppId="X-Rewards-AppId",e.XCurrentUser="x-current-user"}(c||(c={}));class u extends Request{constructor(e,t,n={}){super(e,t),this.metadata=n}}function d(e,t,n){return async function(r,o){var i,a,s;let l;l="string"===typeof r?new u(r,o,n):await u.fromRequest(r,{init:o,metadata:n});for(const e of null!==(i=t.request)&&void 0!==i?i:[])l=await e.intercept(l);let c=e(l);for(const e of null!==(a=t.response)&&void 0!==a?a:[])c=c.then((t=>e.intercept(l,t)));for(const e of null!==(s=t.error)&&void 0!==s?s:[])c=c.catch((t=>e.intercept(l,t)));return c}}u.fromRequest=async(e,t={})=>{var n,r;if(e.bodyUsed)throw new Error("Cannot copy the Request as its body has been consumed already");const{body:o,headers:i,...a}=null!==(n=t.init)&&void 0!==n?n:{},{cache:s,credentials:l,headers:d,integrity:p,keepalive:m,method:h,mode:g,redirect:f,referrer:_,referrerPolicy:v,signal:y}=e,b=new Headers(null!==i&&void 0!==i?i:d);if(t.additionalHeaders){const e=new Headers(t.additionalHeaders);for(const[t,n]of e)b.set(t,n)}const S={cache:s,credentials:l,headers:b,integrity:p,keepalive:m,method:h,mode:g,redirect:f,referrer:_,referrerPolicy:v,signal:y,...a};if(o)S.body=o;else if("_bodyInit"in e)S.body=e._bodyInit;else if(e.body||e.headers.has(c.ContentType)){const t=await e.blob();t.size>0&&(S.body=t)}const E=e instanceof u?e.metadata:{};return new u(null!==(r=t.url)&&void 0!==r?r:e.url,S,{...E,...t.metadata})};const p=5e3,m=3e4,h=3,g=2e3;function f(...e){const t=new AbortController;function n(){t.abort();for(const t of e)t.removeEventListener("abort",n)}for(const r of e){if(r.aborted){n();break}r.addEventListener("abort",n)}return t.signal}function _(e,t=p){return t<=0||!Number.isFinite(t)?e:function(n,r){const o=new AbortController,i=setTimeout((()=>{o.abort()}),t),a=null===r||void 0===r?void 0:r.signal,s=a?f(a,o.signal):o.signal;return e(n,{...r,signal:s}).finally((()=>clearTimeout(i)))}}const v=(e,t)=>{if(t instanceof r){const e=t.response.status;return 429===e||500===e||503===e}return!0};function y(e){const t=Number(e);if(Number.isSafeInteger(t)&&t>=0)return 1e3*t;{const t=new Date(e);if(isNaN(t.valueOf()))throw new Error(`Unable to parse Retry-After value: ${e}`);const n=t.getTime()-(new Date).getTime();return n<0?0:n}}function b(e,t={}){const{includeRetryCountHeader:n=!1,timeoutMs:o=m,maxRetries:i=h,baseRetryDelayMs:a=g,retryPredicate:s=v}=t;return _(0===i?e:async function(t,l){const u=null===l||void 0===l?void 0:l.signal,d=(new Date).getTime()+o,p=new Request(t,l);for(let o=0;;o++){const t=p.clone();n&&o>0&&t.headers.set(c.RetryCount,o.toString());try{return await e(t)}catch(m){if(null===u||void 0===u?void 0:u.aborted)throw m;if(!(m instanceof Error)||!s(t,m))throw m;if(o>=i)throw m;let e=Math.random()*a*Math.pow(2,o);if(m instanceof r){const t=m.response.headers.get(c.RetryAfter);if(t)try{const n=y(t);n>0&&(e=n)}catch(m){}}if((new Date).getTime()+e>=d)throw m;await S(e)}}},o)}const S=e=>new Promise((t=>setTimeout(t,e))),E=(e,t)=>t.ok,C=(e,t)=>t.ok||304===t.status;function T(e,t={}){var n;const{authenticator:r,interceptors:a,metadata:s,responseValidator:l=E,...c}=t;return e=d(e,{request:null===a||void 0===a?void 0:a.request,response:[new o(l),...null!==(n=null===a||void 0===a?void 0:a.response)&&void 0!==n?n:[]],error:null===a||void 0===a?void 0:a.error},s),r&&(e=i(e,r)),e=b(e,c)}const w=Symbol("InterceptorCollection"),I=1/0,P=(e,t)=>{var n,r;return(null!==(n=e.priority)&&void 0!==n?n:I)<(null!==(r=t.priority)&&void 0!==r?r:I)?-1:e.priority===t.priority?0:1};function A(e,t){var n;const r=new Headers(t);let o=e;const i=Object.prototype.toString.call(e);return"[object Object]"===i||"[object Array]"===i?(o=JSON.stringify(e),r.has(c.ContentType)||r.set(c.ContentType,"application/json")):"number"!==typeof e&&"boolean"!==typeof e&&"string"!==typeof e||(o=null===(n=e.toString)||void 0===n?void 0:n.call(e)),{body:o,headers:r}}class k{constructor(e,t=[],n=[],r=[],o=fetch){this._authenticator=e,this._baseFetchImpl=o,this.execute=async e=>{var t,n;let r,o,i,a,s=this._baseFetchImpl;const l={};if(e instanceof Request)i=e;else{if("request"in e)i=e.request;else{const n=A("data"in e?e.data:e.body,null!==(t=e.headers)&&void 0!==t?t:{});i=new Request(e.url,{method:e.method,headers:n.headers,body:n.body,signal:e.abortSignal})}if(e.validateStatus&&e.validateResponse)throw new Error("Cannot specify both validateStatus and validateResponse; prefer validateResponse!");if(e.fetchImpl&&(s=e.fetchImpl),e.validateResponse)r=e.validateResponse;else if(e.validateStatus){const t=e.validateStatus;r=(e,n)=>t(n.status)}e.responseType&&(a=e.responseType),o=e.metadata,l.includeRetryCountHeader=null===(n=e.includeRetryCountHeader)||void 0===n||n,l.maxRetries=e.maxRetries,l.timeoutMs=e.timeout,l.retryPredicate=e.retryPredicate}s=T(s,{responseValidator:r,interceptors:this.interceptors,metadata:o,authenticator:this._authenticator,...l});const u=await s(i),d=new Headers(u.headers);for(const[c,m]of d)d[c]=m;const p={request:i,ok:u.ok,status:u.status,statusText:u.statusText,headers:d};if("head"===i.method.toLowerCase())return{...p,responseType:a,data:null};switch(a){case"arraybuffer":{const e=await u.arrayBuffer();return{...p,responseType:"arraybuffer",data:e}}case"blob":{const e=await u.blob();return{...p,responseType:"blob",data:e}}case"stream":return{...p,responseType:"stream",data:u.body};case"text":{const e=await u.text();return{...p,responseType:"text",data:e}}default:{if(null===u.body||"_bodyInit"in u&&!u._bodyInit||204===u.status||304===u.status||"0"===u.headers.get(c.ContentLength)||!u.headers.has(c.ContentLength)&&!u.headers.has(c.ContentType))return{...p,responseType:void 0,data:null};const e=await u.json();return{...p,responseType:"json",data:e}}}},this.interceptors={request:null===t||void 0===t?void 0:t.slice().sort(P),response:null===n||void 0===n?void 0:n.slice().sort(P),error:null===r||void 0===r?void 0:r.slice().sort(P)}}}class x{constructor(){this.authenticator=e=>(this._authenticator=e,this),this.requestInterceptor=e=>(this._requestInterceptors||(this._requestInterceptors=[]),this._requestInterceptors.push(e),this),this.responseInterceptor=e=>(this._responseInterceptors||(this._responseInterceptors=[]),this._responseInterceptors.push(e),this),this.errorInterceptor=e=>(this._errorInterceptors||(this._errorInterceptors=[]),this._errorInterceptors.push(e),this),this.interceptors=e=>(e.request&&(this._requestInterceptors||(this._requestInterceptors=[]),this._requestInterceptors.push(...e.request)),e.response&&(this._responseInterceptors||(this._responseInterceptors=[]),this._responseInterceptors.push(...e.response)),e.error&&(this._errorInterceptors||(this._errorInterceptors=[]),this._errorInterceptors.push(...e.error)),this),this.fetchImplementation=e=>(this._fetchImpl=e,this),this.build=()=>new k(this._authenticator,this._requestInterceptors,this._responseInterceptors,this._errorInterceptors,this._fetchImpl)}}function R(e,t,n){let r=`${e}/${t}`;if(n){const e=Object.keys(n).map((e=>{const t=n[e];if(Array.isArray(t)){if(0===t.length)return"";return`${e}=${t.join(",")}`}return`${e}=${t}`})).filter((e=>e.length>0)).join("&");e.length>0&&(r+=`?${e}`)}return r}class O{constructor(e,t={}){this.baseUrl=e,this.commonOptions=t,this.setCommonOptions=e=>(this.commonOptions=e,this),this.setCommonMetadata=e=>(this.commonOptions={...this.commonOptions,metadata:e},this),this.setCommonMetadataValue=(e,t)=>(this.commonOptions={...this.commonOptions,metadata:{...this.commonOptions.metadata,[e]:t}},this),this.setCommonHeaders=e=>(this.commonOptions={...this.commonOptions,headers:e},this),this.setCommonTimeout=e=>(this.commonOptions={...this.commonOptions,timeout:e},this),this.setCommonResponseType=e=>(this.commonOptions={...this.commonOptions,responseType:e},this),this.setCommonMaxRetries=e=>(this.commonOptions={...this.commonOptions,maxRetries:e},this),this.setCommonRetryCondition=e=>this.setCommonRetryPredicate(((t,n)=>{const r=new l(n.message,t,"response"in n?n.response.status:void 0,"response"in n?n.response:void 0);return e(r)})),this.setCommonRetryPredicate=e=>(this.commonOptions={...this.commonOptions,retryPredicate:e},this),this.setCommonRetryCountHeaderPreference=e=>(this.commonOptions={...this.commonOptions,includeRetryCountHeader:e},this),this.setCommonAbortSignal=e=>(this.commonOptions={...this.commonOptions,abortSignal:e},this),this.get=(e,t)=>this._buildRequest(e,"GET",t),this.delete=(e,t,n)=>{const r={...n||{},body:t};return this._buildRequest(e,"DELETE",r)},this.head=(e,t)=>this._buildRequest(e,"HEAD",t),this.options=(e,t)=>this._buildRequest(e,"OPTIONS",t),this.post=(e,t,n)=>{const r={...n||{},body:t};return this._buildRequest(e,"POST",r)},this.put=(e,t,n)=>{const r={...n||{},body:t};return this._buildRequest(e,"PUT",r)},this.patch=(e,t,n)=>{const r={...n||{},body:t};return this._buildRequest(e,"PATCH",r)}}static withBaseUrl(e){return new O(e)}_buildRequest(e,t,n={}){var r;const{params:o,headers:i,body:a,metadata:s,...l}=this.commonOptions,{params:c,headers:d,body:p,metadata:m,...h}=n,g=new Headers(null!==i&&void 0!==i?i:{}),f=s||m?{...s,...m}:void 0,_=new Headers(null!==d&&void 0!==d?d:{});for(const[u,b]of _)g.set(u,b);const v=R(this.baseUrl,e,null!==c&&void 0!==c?c:o),y=A(null!==p&&void 0!==p?p:a,g);return{request:new u(v,{method:t,headers:y.headers,body:y.body,signal:null!==(r=n.abortSignal)&&void 0!==r?r:this.commonOptions.abortSignal},f),...l,...h,metadata:f}}}class N{constructor(e,t={}){this.baseUrl=e,this.commonOptions=t,this.setCommonOptions=e=>(this.commonOptions=e,this),this.setCommonMetadata=e=>(this.commonOptions={...this.commonOptions,metadata:e},this),this.setCommonMetadataValue=(e,t)=>(this.commonOptions={...this.commonOptions,metadata:{...this.commonOptions.metadata,[e]:t}},this),this.setCommonHeaders=e=>(this.commonOptions={...this.commonOptions,headers:e},this),this.setCommonTimeout=e=>(this.commonOptions={...this.commonOptions,timeout:e},this),this.setCommonResponseType=e=>(this.commonOptions={...this.commonOptions,responseType:e},this),this.setCommonMaxRetries=e=>(this.commonOptions={...this.commonOptions,maxRetries:e},this),this.setCommonRetryPredicate=e=>(this.commonOptions={...this.commonOptions,retryPredicate:e},this),this.setCommonRetryCountHeaderPreference=e=>(this.commonOptions={...this.commonOptions,includeRetryCountHeader:e},this),this.setCommonAbortSignal=e=>(this.commonOptions={...this.commonOptions,abortSignal:e},this),this.get=(e,t)=>this._buildRequest(e,"GET",t),this.delete=(e,t,n)=>{const r={...n||{},body:t};return this._buildRequest(e,"DELETE",r)},this.head=(e,t)=>this._buildRequest(e,"HEAD",t),this.options=(e,t)=>this._buildRequest(e,"OPTIONS",t),this.post=(e,t,n)=>{const r={...n||{},body:t};return this._buildRequest(e,"POST",r)},this.put=(e,t,n)=>{const r={...n||{},body:t};return this._buildRequest(e,"PUT",r)},this.patch=(e,t,n)=>{const r={...n||{},body:t};return this._buildRequest(e,"PATCH",r)}}static withBaseUrl(e){return new N(e)}_buildRequest(e,t,n={}){const{params:r,headers:o,body:i,metadata:a,...s}=this.commonOptions,{params:l,headers:c,body:u,metadata:d,...p}=n,m=new Headers(null!==o&&void 0!==o?o:{}),h={...a,...d},g=new Headers(null!==c&&void 0!==c?c:{});for(const[f,_]of g)m.set(f,_);return{...s,...p,url:R(this.baseUrl,e,null!==l&&void 0!==l?l:r),method:t,headers:m,body:null!==u&&void 0!==u?u:i,metadata:h}}}if("undefined"===typeof Request)throw new Error("Global Request constructor must exist to use this package; consider a polyfill like node-fetch in a Node env");if("undefined"===typeof Headers)throw new Error("Global Headers constructor must exist to use this package; consider a polyfill like node-fetch in a Node env")},19409:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});n(85608).__exportStar(n(65568),t)},65568:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Logger=t.LogLevel=void 0,function(e){e[e.Debug=0]="Debug",e[e.Info=1]="Info",e[e.Warn=2]="Warn",e[e.Error=3]="Error"}(t.LogLevel||(t.LogLevel={})),t.Logger=Symbol("Logger")},30659:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPersistentFocus=t.handlePersistentFocusChange=t.PersistentFocus=t.usePersistentFocusRef=t.InnerPersistentFocus=void 0;const r=n(31085),o=n(14041),i=n(38281);class a extends o.Component{constructor(e){super(e),this.doesChildHaveFocus=()=>this.childHasFocus,this.setChildHasFocus=e=>{this.childHasFocus=e},this.getElement=()=>this.props.contentRef.current,this.childHasFocus=!1,this.props.persistentFocusRef.current=this,c(this,e.contentRef)}componentWillUnmount(){u(this)}render(){return(0,r.jsx)(r.Fragment,{children:this.props.children})}}t.InnerPersistentFocus=a;t.usePersistentFocusRef=()=>{const e=(0,o.useContext)(s);if(!e)throw new Error("usePersistentFocusRef can only be used if you are NOT passing in your own `contentRef` to PersistentFocus.");return e};const s=(0,o.createContext)(null);t.PersistentFocus=({contentRef:e,children:t,deps:n})=>{const l=(0,o.useRef)(null),c=(0,o.useRef)(null),u=e||c,p=(0,o.useCallback)((()=>{u.current&&l.current?.doesChildHaveFocus()&&(0,i.setCurrentFocus)(u.current,!1,!1)}),[u,l]),m=(0,o.useCallback)((e=>{u.current=e,p()}),[u,p]);return(0,o.useEffect)((()=>{p()}),n),(0,o.useEffect)((()=>{l.current&&d(l.current,e||c)}),[e]),e?(0,r.jsx)(a,{persistentFocusRef:l,contentRef:e,children:t}):(0,r.jsx)(s.Provider,{value:{ref:c,setRef:m},children:(0,r.jsx)(a,{persistentFocusRef:l,contentRef:c,children:t})})};const l=new Map,c=(e,t)=>{l.set(e,t)},u=e=>{l.delete(e)},d=(e,t)=>{l.set(e,t),t.current&&e.doesChildHaveFocus()&&(0,i.setCurrentFocus)(t.current,!1,!1)};t.handlePersistentFocusChange=(e,n)=>{const r=(0,t.getPersistentFocus)(e),o=(0,t.getPersistentFocus)(n);r!==o&&(r?.setChildHasFocus(!1),o?.setChildHasFocus(!0))};t.getPersistentFocus=e=>{if(e)for(const[t,n]of l.entries())if(n.current===e)return t}},6181:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FocusGroup=t.InnerFocusGroup=void 0;const r=n(31085),o=n(14041),i=n(46769),a=n(58109),s=n(61818);class l extends s.Group{render(){if((0,s.hasInjectedRef)(this.props))return this.props.injectedRef.current?.setAttribute(s.GROUP_ID,`${this.state.id}`),null;const{innerRef:e,forwardedRef:t,exitDirections:n,onUp:o,onDown:i,onLeft:a,onRight:l,onEnter:c,onExit:u,onTab:d,onTabExit:p,tabBehavior:m,boundsShift:h,grid:g,groupPositioning:f,capturesFocus:_,...v}=this.props;return(0,r.jsx)("div",{ref:t,"data-group":this.state.id,...v})}}t.InnerFocusGroup=l,t.FocusGroup=(0,o.forwardRef)((({boundsShift:e,...t},n)=>{const c=(0,o.useRef)(null),u=(0,s.hasInjectedRef)(t),d=u?t.injectedRef:c;return(0,o.useEffect)((()=>{u&&n&&("function"===typeof n?n(t.injectedRef.current):n.current=t.injectedRef.current)}),[n,t.injectedRef,u]),(0,r.jsx)(l,{forwardedRef:(0,a.setAndForwardRef)(n,c),innerRef:d,boundsShift:(0,i.getCompleteOffsets)(e),...t})}))},46064:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PersistentFocusGroup=void 0;const r=n(31085),o=n(14041),i=n(6181),a=n(58109),s=n(38281),l=n(71437),c=n(14428);t.PersistentFocusGroup=(0,o.forwardRef)((({deps:e,...t},n)=>{const u=(0,o.useRef)(null),d=(0,o.useRef)(),p=(0,c.useCurrentFocus)();return(0,o.useEffect)((()=>{p&&(0,a.contains)(u.current,p)?d.current=(0,l.getCachedBoundingClientRect)(p):d.current=void 0}),[p]),(0,o.useEffect)((()=>{const e=(0,s.getCurrentlyFocusedInteractable)();if(d.current&&(!e||!(0,a.contains)(document.body,e))&&u.current){const e=(0,a.findClosestChild)([u.current],d.current);e&&(0,s.setCurrentFocus)(e,!1,!1,!1)}}),e),(0,r.jsx)(i.FocusGroup,{ref:(0,a.setAndForwardRef)(n,u),...t})}))},88677:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hasInjectedRef=t.getGroup=t.isGroup=t.getGroups=t.Group=t.GROUP_ID=void 0;const r=n(14041),o=n(46769);let i=0;t.GROUP_ID="data-group";class a extends r.Component{constructor(e){super(e),this.getId=()=>{if(-1!==this.state.id)return this.state.id.toString()},this.getElement=()=>this.props.innerRef.current,this.onUp=()=>!!this.props.onUp&&this.props.onUp(),this.onDown=()=>!!this.props.onDown&&this.props.onDown(),this.onLeft=()=>!!this.props.onLeft&&this.props.onLeft(),this.onRight=()=>!!this.props.onRight&&this.props.onRight(),this.onEnter=()=>this.props.onEnter?.(),this.onExit=()=>this.props.onExit?.(),this.onTab=()=>!!this.props.onTab&&this.props.onTab(),this.onTabExit=()=>this.props.onTabExit?.(),this.containsExitDirection=e=>this.props.exitDirections?.includes(e),this.getExitDirections=()=>this.props.exitDirections,this.getTabBehavior=()=>this.props.tabBehavior??"all",this.getBoundsShift=()=>this.props.boundsShift,this.isInGrid=()=>!!this.props.grid,this.getGroupPositioning=()=>this.props.groupPositioning,this.doesCaptureFocus=()=>this.props.capturesFocus,this.state={id:-1}}async componentDidMount(){await this.setState({id:i++},(()=>l(this)))}componentWillUnmount(){c(this),this.props.injectedRef&&this.props.injectedRef.current?.removeAttribute(t.GROUP_ID)}}t.Group=a,a.defaultProps={exitDirections:["up","down","left","right"],groupPositioning:"disabled",capturesFocus:!1};const s=new Map;t.getGroups=()=>Array.from(s.values());const l=e=>{const t=e.getId();t&&s.set(t,e)},c=e=>{const t=e.getId();t&&s.delete(t)};t.isGroup=e=>void 0!==(0,t.getGroup)(e);t.getGroup=e=>{if(e&&!(e instanceof o.SyntheticElement)&&e.hasAttribute&&e.hasAttribute(t.GROUP_ID)){const n=e.getAttribute(t.GROUP_ID);if(n)return s.get(n)}};t.hasInjectedRef=e=>"injectedRef"in e&&null!==e.injectedRef&&void 0!==e.injectedRef},61818:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getGroups=t.hasInjectedRef=t.GROUP_ID=t.Group=t.getGroup=t.isGroup=void 0;var r=n(88677);Object.defineProperty(t,"isGroup",{enumerable:!0,get:function(){return r.isGroup}}),Object.defineProperty(t,"getGroup",{enumerable:!0,get:function(){return r.getGroup}}),Object.defineProperty(t,"Group",{enumerable:!0,get:function(){return r.Group}}),Object.defineProperty(t,"GROUP_ID",{enumerable:!0,get:function(){return r.GROUP_ID}}),Object.defineProperty(t,"hasInjectedRef",{enumerable:!0,get:function(){return r.hasInjectedRef}}),Object.defineProperty(t,"getGroups",{enumerable:!0,get:function(){return r.getGroups}})},60008:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PersistentFocusGroup=t.FocusGroup=t.InnerFocusGroup=void 0;const r=n(85608);var o=n(6181);Object.defineProperty(t,"InnerFocusGroup",{enumerable:!0,get:function(){return o.InnerFocusGroup}}),Object.defineProperty(t,"FocusGroup",{enumerable:!0,get:function(){return o.FocusGroup}});var i=n(46064);Object.defineProperty(t,"PersistentFocusGroup",{enumerable:!0,get:function(){return i.PersistentFocusGroup}}),r.__exportStar(n(61818),t)},35893:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resetAllScrollables=t.getScrollable=t.isScrollable=t.Scrollable=void 0;const r=n(31085),o=n(71437),i=n(58109),a=n(46769),s=n(60008),l=n(61818),c=n(94685),u=n(38281),d=n(96607);class p extends l.Group{constructor(e){super(e),this.isDirectVirtualElement=!0,this.onLeftTrigger=()=>this.props.onLeftTrigger?.()||!1,this.onRightTrigger=()=>this.props.onRightTrigger?.()??!1,this.isHorizontal=()=>"horizontal"===this.props.scrollAxis,this.getScrollAlignment=()=>this.props.scrollAlignment??(0,c.getDefaultScrollAlignment)(),this.getMaxScrollSizeFactor=()=>this.props.maxScrollSizeFactor,this.getMaxScrollPixels=()=>this.props.maxScrollPixels,this.doesStopScrollPropagation=()=>this.props.stopScrollPropagation??!1,this.getScrollOffsets=()=>this.props.scrollOffsets??(0,c.getDefaultScrollOffsets)(),this.getSnapToStartThreshold=()=>this.props.snapToStartThreshold??(0,c.getDefaultSnapToStartThreshold)(),this.getSnapToEndThreshold=()=>this.props.snapToEndThreshold??(0,c.getDefaultSnapToEndThreshold)(),this.getBumperBehavior=()=>this.props.bumperBehavior??(0,c.getDefaultBumperBehavior)(),this.getTriggerBehavior=()=>this.props.triggerBehavior??(0,c.getDefaultTriggerBehavior)(),this.doesScrollOnFocus=()=>!!this.props.scrollOnFocus,this.blocksScroll=()=>this.blockScroll,this.getScrollSpeed=()=>this.props.scrollSpeed??(this.isHorizontal()?c.getDefaultHorizontalScrollSpeed:c.getDefaultVerticalScrollSpeed)(),this.isVirtualized=()=>!!this.props.virtualized,this.getVirtualItemAtOffset=e=>this.props.getVirtualItemAtOffset?.(e),this.getVirtualElementsFromVirtualItem=e=>{if(this.virtualTemplates&&0!==this.virtualTemplates?.length){let t;this.isDirectVirtualElement||(t=new a.VirtualElement(new DOMRect(e.x,e.y,e.width,e.height),e.virtualContainer,this));const n=this.virtualTemplates.map((n=>{const{top:r,left:o,width:i,height:s}=n,l=new DOMRect(e.x+o,e.y+r,i,s);return new a.VirtualElement(l,e.virtualContainer,this,this.isDirectVirtualElement?void 0:t)}));return t&&(t.childNodes=n),n}return[new a.VirtualElement(new DOMRect(e.x,e.y,e.width,e.height),e.virtualContainer,this)]},this.getNativeScrollTop=()=>this.props.innerRef.current?(0,i.getScrollTop)(this.props.innerRef.current):0,this.getNativeScrollLeft=()=>this.props.innerRef.current?(0,i.getScrollLeft)(this.props.innerRef.current):0,this.getScrollTop=()=>this.useAnticipatedValue?this.anticipatedScrollTop:this.getNativeScrollTop(),this.getAnticipatedTopDifference=()=>this.useAnticipatedValue?this.anticipatedScrollTop-this.getNativeScrollTop():0,this.getScrollLeft=()=>this.useAnticipatedValue?this.anticipatedScrollLeft:this.getNativeScrollLeft(),this.getAnticipatedLeftDifference=()=>this.useAnticipatedValue?this.anticipatedScrollLeft-this.getNativeScrollLeft():0,this.hasManuallyScrolled=()=>!this.useAnticipatedValue&&(this.isHorizontal()?Math.abs(this.anticipatedScrollLeft-this.getNativeScrollLeft())>20:Math.abs(this.anticipatedScrollTop-this.getNativeScrollTop())>20),this.scrollBy=(e,t)=>{const n=this.getElement();if(!n||Math.abs(e)<1)return;const r=this.getClippedScrollAmount(e);let o=this.anticipatedScrollLeft,a=this.anticipatedScrollTop;this.isHorizontal()?(o=this.getScrollLeft()+r,(0,i.genericScrollTo)(n,0,o,t)):(a=this.getScrollTop()+r,(0,i.genericScrollTo)(n,a,0,t)),clearTimeout(this.anticipatedScrollCheckTimeout),clearTimeout(this.blockScrollTimeout),this.anticipatedScrollLeft=o,this.anticipatedScrollTop=a,this.useAnticipatedValue=!0,this.anticipatedScrollCheckTimeout=setTimeout((()=>{this.useAnticipatedValue=!1}),this.getScrollSpeed()),this.props.repeatDelay&&this.props.repeatDelay>0&&(this.blockScroll=!0,this.blockScrollTimeout=setTimeout((()=>{this.blockScroll=!1}),this.props.repeatDelay))},this.canScrollFurther=e=>{if(!this.getElement())return!1;const t=this.getScrollAmount(e),n=this.getClippedScrollAmount(t);return Math.floor(Math.abs(n))>1},this.scrollIfPossible=e=>{if(!this.getElement())return;const t=this.getScrollAmount(e),n=this.getClippedScrollAmount(t);0!=n&&this.scrollBy(n)},this.getScrollAmount=e=>{const t=this.getElement();if(!t)return 0;const n=this.getMaxScrollSizeFactor(),r=this.getMaxScrollPixels(),i=Math.min((0,o.getCachedClientWidth)(t),(0,o.getCachedInnerWidth)()),a=Math.min((0,o.getCachedClientHeight)(t),(0,o.getCachedInnerHeight)()),s=this.isHorizontal()?i:a;let l;l=r||(n?s*n:.65*s);const c="left"==e||"up"==e?-1:1;return this.isHorizontal()?"left"==e||"right"==e?c*l:0:"up"==e||"down"==e?c*l:0},this.reset=e=>{this.scrollBy(-(this.isHorizontal()?this.getScrollLeft():this.getScrollTop()),e)},this.getClippedScrollAmount=e=>{const t=this.getElement();if(!t)return 0;const n=(0,o.getCachedBoundingClientRect)(t);return this.isHorizontal()?e>0?Math.min((0,i.getScrollWidth)(t)-n.width-this.getScrollLeft(),e):Math.max(-this.getScrollLeft(),e):e>0?Math.min((0,i.getScrollHeight)(t)-n.height-this.getScrollTop(),e):Math.max(-this.getScrollTop(),e)},this.getLastFocusedChild=()=>this.lastFocusedChild,this.getLastFocusedRect=()=>this.lastFocusedRect,this.getLastFocusedOffset=()=>this.lastFocusedOffset,this.setLastScrollDirectionWithoutFocus=e=>{this.lastScrollDirectionWithoutFocus=e},this.getLastScrollDirectionWithoutFocus=()=>this.lastScrollDirectionWithoutFocus,this.setLastFocusedInfo=e=>{if(e instanceof a.VirtualElement){const t=this.props.innerRef.current;if(t){const n=(0,o.getCachedBoundingClientRect)(e),r=(0,o.getCachedBoundingClientRect)(t),i=this.isHorizontal(),a=i?this.getNativeScrollLeft():this.getNativeScrollTop(),s=i?r.left:r.top,l=i?r.right:r.bottom,c=i?n.left:n.top,u=i?n.right:n.bottom;l<c?(this.anticipateRenderOffset[i?"left":"top"]=void 0,this.anticipateRenderOffset[i?"right":"bottom"]=a+(c-l)):(this.anticipateRenderOffset[i?"left":"top"]=a+(u-s),this.anticipateRenderOffset[i?"right":"bottom"]=void 0)}}if(e){if(this.lastFocusedChild=e,this.lastFocusedRect=(0,o.getCachedBoundingClientRect)(e),this.lastFocusedOffset=this.isHorizontal()?this.getScrollLeft():this.getScrollTop(),this.isVirtualized()&&e instanceof HTMLElement){let t=e;for(;null!=t&&t!==this.getElement();){if((0,i.isVirtualItem)(t)){const e=(0,o.getCachedBoundingClientRect)(t);this.virtualTemplates=(0,i.getInteractableChildren)(t,!0).map((t=>{const n=(0,o.getCachedBoundingClientRect)(t);return new DOMRect(n.x-e.left,n.y-e.top,n.width,n.height)}));break}t=t.parentElement}this.isDirectVirtualElement=t===e}}else this.lastFocusedChild=void 0,this.lastFocusedRect=void 0,this.virtualTemplates=void 0,this.lastFocusedOffset=void 0},this.virtualScrollTrackingHandler=()=>{const e=this.props.innerRef.current;if(!e||!this.props.virtualized)return;const t=(this.isHorizontal()?i.getUncachedScrollLeft:i.getUncachedScrollTop)(this.props.innerRef.current),n=this.lastFocusedChild;if(void 0===t||!n||n instanceof HTMLElement||(0,u.getCurrentlyFocusedInteractable)()!==this.lastFocusedChild)return;const r=(r,o)=>{if(r(t)){const t=n.getBoundingClientRect(),r=(0,i.findClosestChild)([e],t);r instanceof HTMLElement&&((0,u.setCurrentFocus)(r,!1,!1,!1),o())}};r((e=>void 0!==this.anticipateRenderOffset.top&&e<=this.anticipateRenderOffset.top),(()=>{this.anticipateRenderOffset.top=void 0})),r((e=>void 0!==this.anticipateRenderOffset.left&&e<=this.anticipateRenderOffset.left),(()=>{this.anticipateRenderOffset.left=void 0})),r((e=>void 0!==this.anticipateRenderOffset.bottom&&e>=this.anticipateRenderOffset.bottom),(()=>{this.anticipateRenderOffset.bottom=void 0})),r((e=>void 0!==this.anticipateRenderOffset.right&&e>=this.anticipateRenderOffset.right),(()=>{this.anticipateRenderOffset.right=void 0}))},this.anticipatedScrollTop=0,this.anticipatedScrollLeft=0,this.useAnticipatedValue=!1,this.blockScroll=!1,this.anticipateRenderOffset={},this.isDirectVirtualElement=!0}async componentDidMount(){await super.componentDidMount();const e=this.props.innerRef.current===document?.body?window:this.props.innerRef.current;e?.addEventListener("scroll",this.virtualScrollTrackingHandler)}componentWillUnmount(){const e=this.props.innerRef.current===document.body?window:this.props.innerRef.current;e?.removeEventListener("scroll",this.virtualScrollTrackingHandler),this.props.injectedRef&&this.props.injectedRef.current?.removeAttribute(m)}render(){if((0,s.hasInjectedRef)(this.props))return this.props.injectedRef.current?.setAttribute(s.GROUP_ID,`${this.state.id}`),this.props.injectedRef.current?.setAttribute(m,"true"),null;const{innerRef:e,forwardedRef:t,exitDirections:n,onUp:o,onDown:i,onLeft:a,onRight:l,onEnter:c,onExit:u,onTab:d,onTabExit:p,tabBehavior:h,boundsShift:g,grid:f,groupPositioning:_,capturesFocus:v,onLeftTrigger:y,onRightTrigger:b,onFocus:S,onBlur:E,scrollAxis:C,scrollAlignment:T,scrollOffsets:w,stopScrollPropagation:I,maxScrollSizeFactor:P,maxScrollPixels:A,snapToStartThreshold:k,snapToEndThreshold:x,scrollOnFocus:R,virtualized:O,scrollSpeed:N,bumperBehavior:M,triggerBehavior:L,repeatDelay:D,getVirtualItemAtOffset:F,...U}=this.props;return(0,r.jsx)("div",{ref:t,"data-group":this.state.id,"data-scrollable":!0,onFocus:t=>{t.target===e.current&&S?.(t)},onBlur:t=>{t.target===e.current&&E?.(t)},...U})}}t.Scrollable=p,p.defaultProps={...l.Group.defaultProps,scrollAxis:"vertical",scrollOnFocus:!0,scrollSpeed:400};const m="data-scrollable";t.isScrollable=(e,n)=>(e=>!!e&&e instanceof HTMLElement&&e.hasAttribute&&e.hasAttribute(m))(e)&&void 0!==(0,t.getScrollable)(e,n);t.getScrollable=(e,t)=>{if(!(!e||e instanceof a.SyntheticElement||!(0,i.isElementVisible)(e)||e===document.body&&(0,d.getFocusContext)()!==d.FocusContext.Global)&&e.hasAttribute&&e.hasAttribute(s.GROUP_ID)&&e.hasAttribute(m)){const n=(0,s.getGroup)(e);if(!n||!(n instanceof p))return;if(!t&&e!==document.body){if(n.isHorizontal()&&(0,o.getCachedClientWidth)(e)===(0,i.getScrollWidth)(e))return;if(!n.isHorizontal()&&(0,o.getCachedClientHeight)(e)===(0,i.getScrollHeight)(e))return}return n}};t.resetAllScrollables=e=>{for(const n of(0,s.getGroups)()){const r=n.getElement();r&&(0,t.getScrollable)(r)?.reset(e)}}},55134:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resetAllScrollables=t.Scrollable=t.isScrollable=t.getScrollable=void 0;var r=n(35893);Object.defineProperty(t,"getScrollable",{enumerable:!0,get:function(){return r.getScrollable}}),Object.defineProperty(t,"isScrollable",{enumerable:!0,get:function(){return r.isScrollable}}),Object.defineProperty(t,"Scrollable",{enumerable:!0,get:function(){return r.Scrollable}}),Object.defineProperty(t,"resetAllScrollables",{enumerable:!0,get:function(){return r.resetAllScrollables}})},30248:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BodyScrollable=void 0;const r=n(31085),o=n(14041),i=n(97881);t.BodyScrollable=({...e})=>{const[t,n]=(0,o.useState)(!1);return(0,o.useEffect)((()=>{n(!0)}),[]),t?(0,r.jsx)(a,{...e}):null};const a=({...e})=>(0,r.jsx)(i.GamepadScrollable,{injectedRef:(0,o.useRef)(document?.body),...e})},67491:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GamepadScrollable=void 0;const r=n(31085),o=n(14041),i=n(46769),a=n(58109),s=n(60008),l=n(55134);t.GamepadScrollable=(0,o.forwardRef)((({scrollOffsets:e,boundsShift:t,...n},c)=>{const u=(0,o.useRef)(null),d=(0,s.hasInjectedRef)(n),p=d?n.injectedRef:u;return(0,o.useEffect)((()=>{d&&c&&("function"===typeof c?c(n.injectedRef.current):c.current=n.injectedRef.current)}),[c,n.injectedRef,d]),(0,r.jsx)(l.Scrollable,{forwardedRef:(0,a.setAndForwardRef)(c,u),innerRef:p,scrollOffsets:(0,i.getCompleteOffsets)(e),boundsShift:(0,i.getCompleteOffsets)(t),...n})}))},97881:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GamepadScrollable=t.BodyScrollable=void 0;var r=n(30248);Object.defineProperty(t,"BodyScrollable",{enumerable:!0,get:function(){return r.BodyScrollable}});var o=n(67491);Object.defineProperty(t,"GamepadScrollable",{enumerable:!0,get:function(){return o.GamepadScrollable}})},83568:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(85608);r.__exportStar(n(97881),t),r.__exportStar(n(55134),t)},45363:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setGlobalSearchScope=t.isGlobalFocusLoading=t.hasGlobalFocus=t.BodyTrappable=t.InnerBodyTrappable=void 0;const r=n(31085),o=n(14041),i=n(38281),a=n(83935),s=n(49042),l=n(49460),c=n(71437);class u extends o.Component{constructor(e){super(e),this.setSearchScope=e=>{this.lastRequestedSearchScope=e,this.currentFocusAtLastSearchScopeRequest=(0,i.getCurrentlyFocusedInteractable)()},this.getSearchScope=()=>{const e=(0,i.getCurrentlyFocusedInteractable)();return!this.lastRequestedSearchScope||e&&e!==this.currentFocusAtLastSearchScopeRequest?globalThis.document?.body??void 0:this.lastRequestedSearchScope},this.hasCustomSearchScope=()=>this.getSearchScope()!==(globalThis.document?.body??void 0)}componentDidMount(){this.props.bodyTrappableRef.current=this}componentWillUnmount(){g(this)}render(){return(0,r.jsx)(r.Fragment,{children:this.props.children})}}t.InnerBodyTrappable=u;t.BodyTrappable=({children:e,loadingTimeoutMs:t,loading:n,retainLoadedState:d})=>{const g=(0,o.useRef)(),f=(0,o.useRef)(globalThis.document?.body??null),_=(0,o.useRef)(!1),v=(0,o.useRef)([]),y=(0,o.useRef)(!0);(0,o.useEffect)((()=>{const e=g.current;e&&m(e)}),[]);const b=(0,o.useCallback)((e=>{const t=g.current;if(!t)return;if(y.current)return;if((n||0!==v.current.length)&&!e)return;if(h(t),_.current=!0,0!==p.size)return;(0,c.clearCache)(),(0,i.pruneCurrentlyFocusedInteractable)();(0,i.getCurrentlyFocusedInteractable)()&&!t.hasCustomSearchScope()||((0,i.clearCurrentFocus)(),(0,i.resetLastRememberedGlobalFocus)(),(0,s.shiftFocus)(t.getSearchScope()))}),[n]);(0,a.usePostInitialRenderCallback)((0,o.useCallback)((()=>{y.current=!1,b()}),[b]));const S=(0,o.useCallback)((()=>{d&&_.current||m(g.current)}),[d]);(0,o.useEffect)((()=>{n?S():b()}),[n,S]),(0,o.useEffect)((()=>{let e;return t&&t>0&&(e=setTimeout((()=>{b(!0)}),t)),()=>{e&&clearTimeout(e)}}),[]);const E=(0,o.useMemo)((()=>({loadingRefs:v,initializeFocus:b,trappableRef:f,onAddLoadingRef:S})),[b]);return(0,r.jsx)(l.TrappableContext.Provider,{value:E,children:(0,r.jsx)(u,{bodyTrappableRef:g,children:e})})};const d=new Set,p=new Set,m=e=>{e&&(d.add(e),p.add(e))},h=e=>{e&&(d.add(e),p.delete(e))},g=e=>{e&&(d.delete(e),p.delete(e))};t.hasGlobalFocus=()=>0!==d.size;t.isGlobalFocusLoading=()=>0!==p.size;t.setGlobalSearchScope=e=>{for(const t of d)t.setSearchScope(e)}},54652:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getFocusContainer=t.isFocusContainer=t.FocusContainer=t.InnerFocusContainer=void 0;const r=n(31085),o=n(14041),i=n(38281),a=n(83935),s=n(49460),l=n(96607),c=n(46769),u=n(60008),d=n(71437),p=n(61818),m=n(58109),h="data-focus-container";class g extends p.Group{constructor(){super(...arguments),this.loading=!1,this.onContainerFocus=()=>{this.props.onContainerFocus?.()},this.onContainerBlur=()=>{this.props.onContainerBlur?.()},this.getName=()=>this.props.name,this.takesFocus=()=>this.props.takesFocus,this.getElement=()=>this.props.innerRef.current,this.getZIndex=()=>this.props.zIndex,this.setLoading=e=>{this.loading=e},this.isLoading=()=>this.loading,this.setSearchScope=e=>{this.lastRequestedSearchScope=e,this.currentFocusAtLastSearchScopeRequest=(0,i.getCurrentlyFocusedInteractable)()},this.getSearchScope=()=>{const e=(0,i.getCurrentlyFocusedInteractable)();return!this.lastRequestedSearchScope||e&&e!==this.currentFocusAtLastSearchScopeRequest?this.props.innerRef.current??void 0:this.lastRequestedSearchScope},this.hasCustomSearchScope=()=>this.getSearchScope()!==this.props.innerRef.current,this.setRefocusTargetRect=e=>{this.refocusTargetRect=e},this.getRefocusTargetRect=()=>this.refocusTargetRect}async componentDidMount(){await super.componentDidMount(),this.props.focusContainerRef.current=this}componentWillUnmount(){(0,l.removeFocusContainer)(this),super.componentWillUnmount(),this.props.injectedRef&&this.props.injectedRef.current?.removeAttribute(h)}componentDidUpdate(e){e.zIndex!==this.props.zIndex&&(0,l.handleFocusContainerZIndexChange)(this)}render(){if((0,u.hasInjectedRef)(this.props))return this.props.injectedRef.current?.setAttribute(u.GROUP_ID,`${this.state.id}`),this.props.injectedRef.current?.setAttribute(h,"true"),null;const{forwardedRef:e,innerRef:t,name:n,onContainerBlur:o,onContainerFocus:i,takesFocus:a,zIndex:s,focusContainerRef:l,exitDirections:c,onUp:d,onDown:p,onLeft:m,onRight:g,onEnter:f,onExit:_,onTab:v,onTabExit:y,tabBehavior:b,boundsShift:S,grid:E,groupPositioning:C,capturesFocus:T,...w}=this.props;return(0,r.jsx)("div",{"data-focus-container":!0,"data-group":this.state.id,ref:t,...w})}}t.InnerFocusContainer=g,g.defaultProps={...p.Group.defaultProps,takesFocus:"first-only",zIndex:0},t.FocusContainer=(0,o.forwardRef)((({boundsShift:e,loading:t,loadingTimeoutMs:n,autoFocusDelayMs:p,autoFocusContainer:h,retainLoadedState:f,..._},v)=>{const y=(0,o.useRef)(null),b=(0,u.hasInjectedRef)(_)?_.injectedRef:y,S=(0,o.useRef)(),E=(0,o.useRef)(!1),C=(0,o.useRef)(!1),T=(0,o.useRef)(!1),w=(0,o.useRef)([]),I=(0,o.useRef)(!0),P=(0,o.useCallback)((e=>{const n=S.current;if(!n||!b.current)return;if(!C.current||I.current)return;if((t||0!==w.current.length)&&!e)return;(0,d.clearCache)(),(0,i.pruneCurrentlyFocusedInteractable)(),E.current=!0,n.setLoading(!1);const r=(0,i.getCurrentlyFocusedInteractable)();(T.current||!r||n.hasCustomSearchScope()&&(0,m.contains)(y.current,r))&&(T.current=!1,(0,i.clearCurrentFocus)(),n.lastFocusedInteractable=void 0),(0,l.setContainerFocus)(n)}),[t]);(0,a.usePostInitialRenderCallback)((0,o.useCallback)((()=>{I.current=!1,P()}),[P]));const A=(0,o.useCallback)((()=>{const e=S.current;!e||f&&E.current||e.setLoading(!0)}),[f]);(0,o.useEffect)((()=>{t?A():P()}),[t,A]),(0,o.useEffect)((()=>{let e,t;const r=setTimeout((()=>{const r=S.current;if(r&&h){void 0!==n&&n>=0&&(e=setTimeout((()=>{P(!0)}),n));const o=()=>{(0,l.addFocusContainer)(r),C.current=!0,P(!0)};void 0!==p&&p>=0?t=setTimeout(o,p):o()}}),0);return()=>{r&&clearTimeout(r),e&&clearTimeout(e),t&&clearTimeout(t)}}),[]);const k=()=>{S.current&&((0,l.addFocusContainer)(S.current),C.current=!0,P())},x=()=>{S.current&&(C.current=!1,(0,l.removeFocusContainer)(S.current))},R=()=>{if(S.current)return S.current.lastFocusedInteractable},O=()=>{S.current&&(S.current.lastFocusedInteractable=void 0)},N=e=>{S.current&&(T.current=!0,S.current.setSearchScope(e),P())},M=e=>{S.current&&S.current.setRefocusTargetRect(e)};(0,o.useImperativeHandle)(v,(()=>{const e={focusContainer:k,blurContainer:x,getLastRememberedFocus:R,resetLastRememberedFocus:O,findNewFocus:N,setRefocusTargetRect:M};if(b.current)for(const t in b.current){const n=b.current[t];e[t]="function"===typeof n?n.bind(b.current):n}return e}));const L=(0,o.useMemo)((()=>({loadingRefs:w,initializeFocus:P,trappableRef:y,onAddLoadingRef:A,focusContainer:k,blurContainer:x,getLastRememberedFocus:R,resetLastRememberedFocus:O,findNewFocus:N,setRefocusTargetRect:M})),[P]),D=(0,o.useMemo)((()=>(0,r.jsx)(g,{innerRef:b,focusContainerRef:S,boundsShift:(0,c.getCompleteOffsets)(e),..._})),[b,S,_]);return(0,u.hasInjectedRef)(_)?D:(0,r.jsx)(s.TrappableContext.Provider,{value:L,children:D})}));t.isFocusContainer=e=>void 0!==(0,t.getFocusContainer)(e);t.getFocusContainer=e=>{if(e&&e.hasAttribute&&e.hasAttribute(h)&&e.hasAttribute(u.GROUP_ID)){const t=(0,u.getGroup)(e);if(!t||!(t instanceof g))return;return t}}},55747:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isFocusContainer=t.getFocusContainer=t.FocusContainer=t.InnerFocusContainer=void 0;var r=n(54652);Object.defineProperty(t,"InnerFocusContainer",{enumerable:!0,get:function(){return r.InnerFocusContainer}}),Object.defineProperty(t,"FocusContainer",{enumerable:!0,get:function(){return r.FocusContainer}}),Object.defineProperty(t,"getFocusContainer",{enumerable:!0,get:function(){return r.getFocusContainer}}),Object.defineProperty(t,"isFocusContainer",{enumerable:!0,get:function(){return r.isFocusContainer}})},12370:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useFocusContainerControls=t.useTrappableLoading=t.isGlobalFocusLoading=t.setGlobalSearchScope=t.hasGlobalFocus=t.BodyTrappable=void 0;const r=n(85608);var o=n(45363);Object.defineProperty(t,"BodyTrappable",{enumerable:!0,get:function(){return o.BodyTrappable}}),Object.defineProperty(t,"hasGlobalFocus",{enumerable:!0,get:function(){return o.hasGlobalFocus}}),Object.defineProperty(t,"setGlobalSearchScope",{enumerable:!0,get:function(){return o.setGlobalSearchScope}}),Object.defineProperty(t,"isGlobalFocusLoading",{enumerable:!0,get:function(){return o.isGlobalFocusLoading}}),r.__exportStar(n(55747),t);var i=n(49460);Object.defineProperty(t,"useTrappableLoading",{enumerable:!0,get:function(){return i.useTrappableLoading}}),Object.defineProperty(t,"useFocusContainerControls",{enumerable:!0,get:function(){return i.useFocusContainerControls}})},49460:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useInnerTrappableContext=t.useTrappableContext=t.TrappableContext=t.useFocusContainerControls=t.useTrappableLoading=void 0;const r=n(14041);t.useTrappableLoading=e=>{const{loadingRefs:n,initializeFocus:o,onAddLoadingRef:i}=(0,t.useTrappableContext)(),a=(0,r.useId)();(0,r.useEffect)((()=>{if(!n.current.includes(a)&&e)n.current.push(a),i?.();else if(n.current.includes(a)&&!e){const e=n.current.indexOf(a);-1!==e&&(n.current.splice(e,1),0===n.current.length&&o())}}),[e,a,n]),(0,r.useEffect)((()=>()=>{const e=n.current.indexOf(a);-1!==e&&(n.current.splice(e,1),0===n.current.length&&o())}),[a,n])};t.useFocusContainerControls=()=>{const e=(0,t.useTrappableContext)();if(!("focusContainer"in e))throw new Error("This hook can only be used by components wrapped under <FocusContainer>");const{focusContainer:n,blurContainer:r,getLastRememberedFocus:o,resetLastRememberedFocus:i,findNewFocus:a,setRefocusTargetRect:s}=e;return{focusContainer:n,blurContainer:r,getLastRememberedFocus:o,resetLastRememberedFocus:i,findNewFocus:a,setRefocusTargetRect:s}},t.TrappableContext=(0,r.createContext)({});t.useTrappableContext=()=>{const e=(0,r.useContext)(t.TrappableContext);if(!e)throw new Error("This hook can only be used by components wrapped under <BodyTrappable> or <FocusContainer>");return e};t.useInnerTrappableContext=()=>(0,r.useContext)(t.TrappableContext)},71437:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.clearCache=t.getCachedInnerWidth=t.getCachedInnerHeight=t.getCachedScrollY=t.getCachedScrollX=t.getCachedScrollTop=t.getCachedScrollLeft=t.getCachedScrollHeight=t.getCachedScrollWidth=t.getCachedOffsetTop=t.getCachedOffsetLeft=t.getCachedClientTop=t.getCachedClientLeft=t.getCachedClientHeight=t.getCachedClientWidth=t.getCachedBoundingClientRect=void 0;const r=n(60008);let o,i,a,s,l=new WeakMap,c=new WeakMap,u=new WeakMap,d=new WeakMap,p=new WeakMap,m=new WeakMap,h=new WeakMap,g=new WeakMap,f=new WeakMap,_=new WeakMap,v=new WeakMap,y=0,b=0,S=0,E=0,C=0,T=0,w=0,I=0,P=0,A=0,k=0,x=0,R=0,O=0,N=0;t.getCachedBoundingClientRect=e=>{if(!l.has(e)){if(e===document.body)l.set(e,new DOMRect(0,0,(0,t.getCachedInnerWidth)(),(0,t.getCachedInnerHeight)()));else{const t=e.getBoundingClientRect?.()??new DOMRect;l.set(e,t);const n=(0,r.getGroup)(e)?.getBoundsShift();if(!n)return t;const o=Math.round(t.left-n.left),i=Math.round(t.right+n.right),a=Math.round(t.top-n.top),s=Math.round(t.bottom+n.bottom);l.set(e,new DOMRect(o,a,i-o,s-a))}y+=1}return l.get(e)};t.getCachedClientWidth=e=>(c.has(e)||(c.set(e,e.clientWidth),b+=1),c.get(e));t.getCachedClientHeight=e=>(u.has(e)||(u.set(e,e.clientHeight),S+=1),u.get(e));t.getCachedClientLeft=e=>(d.has(e)||(d.set(e,e.clientLeft),E+=1),d.get(e));t.getCachedClientTop=e=>(p.has(e)||(p.set(e,e.clientTop),C+=1),p.get(e));t.getCachedOffsetLeft=e=>(m.has(e)||(m.set(e,e.offsetLeft),T+=1),m.get(e));t.getCachedOffsetTop=e=>(h.has(e)||(h.set(e,e.offsetTop),w+=1),h.get(e));t.getCachedScrollWidth=e=>(g.has(e)||(g.set(e,e.scrollWidth),I+=1),g.get(e));t.getCachedScrollHeight=e=>(f.has(e)||(f.set(e,e.scrollHeight),P+=1),f.get(e));t.getCachedScrollLeft=e=>(_.has(e)||(_.set(e,e.scrollLeft),A+=1),_.get(e));t.getCachedScrollTop=e=>(v.has(e)||(v.set(e,e.scrollTop),k+=1),v.get(e));t.getCachedScrollX=()=>(void 0===o&&(o=window.scrollX,x+=1),o);t.getCachedScrollY=()=>(void 0===i&&(i=window.scrollY,R+=1),i);t.getCachedInnerHeight=()=>(void 0===a&&(a=window.innerHeight,O+=1),a);t.getCachedInnerWidth=()=>(void 0===s&&(s=window.innerWidth,N+=1),s);t.clearCache=()=>{l=new WeakMap,c=new WeakMap,u=new WeakMap,d=new WeakMap,p=new WeakMap,m=new WeakMap,h=new WeakMap,g=new WeakMap,f=new WeakMap,_=new WeakMap,v=new WeakMap,o=void 0,i=void 0,a=void 0,s=void 0}},94685:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setDefaultInputMode=t.getDefaultInputMode=t.setDefaultLongPressDelay=t.getDefaultLongPressDelay=t.setDefaultHorizontalScrollSpeed=t.getDefaultHorizontalScrollSpeed=t.setDefaultVerticalScrollSpeed=t.getDefaultVerticalScrollSpeed=t.setDefaultTriggerBehavior=t.getDefaultTriggerBehavior=t.setDefaultBumperBehavior=t.getDefaultBumperBehavior=t.setDefaultSnapToEndThreshold=t.getDefaultSnapToEndThreshold=t.setDefaultSnapToStartThreshold=t.getDefaultSnapToStartThreshold=t.setDefaultScrollOffsets=t.getDefaultScrollOffsets=t.setDefaultScrollAlignment=t.getDefaultScrollAlignment=void 0;const r=n(46769);let o="align-to-next";t.getDefaultScrollAlignment=()=>o;t.setDefaultScrollAlignment=e=>{o=e};let i={top:0,bottom:0,left:0,right:0};t.getDefaultScrollOffsets=()=>i;t.setDefaultScrollOffsets=e=>{const t=(0,r.getCompleteOffsets)(e);t&&(i=t)};let a=0;t.getDefaultSnapToStartThreshold=()=>a;t.setDefaultSnapToStartThreshold=e=>{a=e};let s=0;t.getDefaultSnapToEndThreshold=()=>s;t.setDefaultSnapToEndThreshold=e=>{s=e};let l="scroll";t.getDefaultBumperBehavior=()=>l;t.setDefaultBumperBehavior=e=>{l=e};let c="scroll";t.getDefaultTriggerBehavior=()=>c;t.setDefaultTriggerBehavior=e=>{c=e};let u=700;t.getDefaultVerticalScrollSpeed=()=>u;t.setDefaultVerticalScrollSpeed=e=>{u=Math.max(1,e)};let d=400;t.getDefaultHorizontalScrollSpeed=()=>d;t.setDefaultHorizontalScrollSpeed=e=>{d=Math.max(1,e)};let p=500;t.getDefaultLongPressDelay=()=>p;t.setDefaultLongPressDelay=e=>{p=e};let m="mouse";t.getDefaultInputMode=()=>m;t.setDefaultInputMode=e=>{m=e}},26179:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GamepadEventEmitter=void 0;const r=n(50046);t.GamepadEventEmitter=new r.EventEmitter,t.GamepadEventEmitter.setMaxListeners(1e3)},93675:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.NavigationEvent=t.MostRecentGamepad=t.PollingModeEvent=t.InputModeEvent=t.getKeyboardEvent=t.KeyboardKeyEvent=t.getLongPressGamepadEvent=t.getGamepadEvent=t.GamepadButtonEvent=void 0,function(e){e.GenericButtonUp="gamepad-generic-button-up",e.GenericButtonDown="gamepad-generic-button-down",e.GenericButtonLongPress="gamepad-generic-button-long-press"}(n||(t.GamepadButtonEvent=n={}));t.getGamepadEvent=(e,t)=>`gamepad-${e}-${t}`;var r;t.getLongPressGamepadEvent=(e,r)=>`${"generic"===e?n.GenericButtonLongPress:(0,t.getGamepadEvent)(e,"long-press")}-${r}`,function(e){e.GenericKeyDown="keyboard-generic-key-down",e.GenericKeyUp="keyboard-generic-key-up",e.GenericKeyPress="keyboard-generic-key-press"}(r||(t.KeyboardKeyEvent=r={}));var o,i,a,s;t.getKeyboardEvent=(e,t)=>`keyboard-${e}-${t}`,function(e){e.ChangeActiveMode="change-active-mode",e.ChangeDetailedMode="change-detailed-mode"}(o||(t.InputModeEvent=o={})),function(e){e.Change="polling-mode-change"}(i||(t.PollingModeEvent=i={})),function(e){e.Change="most-recent-gamepad-change"}(a||(t.MostRecentGamepad=a={})),function(e){e.Change="focus-change",e.Shift="focus-shift",e.Press="press",e.NavigateUp="navigate-up",e.NavigateDown="navigate-down",e.NavigateLeft="navigate-left",e.NavigateRight="navigate-right"}(s||(t.NavigationEvent=s={}))},49884:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GamepadButtonEvent=t.emitSyntheticButtonEvent=void 0;const r=n(93675);t.emitSyntheticButtonEvent=(e,t,n)=>{n||(n=document.body);const r=new o(t,e,!0,!0,!0);n.dispatchEvent(r)};class o extends Event{constructor(e,t,n,o,i){super((0,r.getGamepadEvent)(t,e),{bubbles:o,cancelable:i}),this.action=e,this.button=t,this.synthetic=n}}t.GamepadButtonEvent=o},12187:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.shutdownGamepadNavigation=t.initializeGamepadNavigation=t.isLibraryInitialized=t.consolePrefix=void 0;const r=n(27651),o=n(71437),i=n(94685),a=n(22489),s=n(44804),l=n(47093),c=n(51808),u=n(93982),d=n(46697),p=n(78822),m=n(35834),h=n(21998),g=n(81017);t.consolePrefix="[GamepadNavigation]";let f=!1;t.isLibraryInitialized=()=>f;t.initializeGamepadNavigation=e=>{if("undefined"===typeof document)return void console.warn(t.consolePrefix,"Unable to initialize gamepad navigation in a non-browser environment");const n=f;if(f=!0,(e=>{e&&(e.defaults&&(e.defaults.scrollOffsets&&(0,i.setDefaultScrollOffsets)(e.defaults.scrollOffsets),e.defaults.scrollAlignment&&(0,i.setDefaultScrollAlignment)(e.defaults.scrollAlignment),e.defaults.snapToStartThreshold&&(0,i.setDefaultSnapToStartThreshold)(e.defaults.snapToStartThreshold),e.defaults.snapToEndThreshold&&(0,i.setDefaultSnapToEndThreshold)(e.defaults.snapToEndThreshold),e.defaults.bumperBehavior&&(0,i.setDefaultBumperBehavior)(e.defaults.bumperBehavior),e.defaults.triggerBehavior&&(0,i.setDefaultTriggerBehavior)(e.defaults.triggerBehavior),e.defaults.verticalScrollSpeed&&(0,i.setDefaultVerticalScrollSpeed)(e.defaults.verticalScrollSpeed),e.defaults.horizontalScrollSpeed&&(0,i.setDefaultHorizontalScrollSpeed)(e.defaults.horizontalScrollSpeed),e.defaults.longPressDelay&&(0,i.setDefaultLongPressDelay)(e.defaults.longPressDelay),e.defaults.activeInputMode&&(0,i.setDefaultInputMode)(e.defaults.activeInputMode),e.defaults.pollingMode&&a.PollingModeManager.setDefaultPollingMode(e.defaults.pollingMode),e.defaults.navigationKeys&&u.NavigationKeyManager.setDefaultKeys(e.defaults.navigationKeys)),e.gamepadFilter&&(0,c.setGamepadFilter)(e.gamepadFilter),e.defaultToFocusDrivenInputMode&&(0,s.setDoesDefaultToFocusDrivenInputMode)(e.defaultToFocusDrivenInputMode),e.joystickNavigationThreshold&&(0,l.setJoystickNavigationThreshold)(e.joystickNavigationThreshold),e.triggerNavigationThreshold&&(0,l.setTriggerNavigationThreshold)(e.triggerNavigationThreshold),e.gamepadMappingFunction&&(0,c.setGamepadMappingFunction)(e.gamepadMappingFunction))})(e),!n){window.addEventListener("resize",o.clearCache),console.log(t.consolePrefix,"Initializing gamepad navigation");try{console.log(t.consolePrefix,"Loading seamless-scroll-polyfill"),(0,r.polyfill)({overrideDefaultScrollBehavior:e?.overrideDefaultScrollBehavior}),(0,p.initializeGamepadList)(),(0,p.registerGamepadEvents)(),(0,m.registerMouseDownEvents)(),(0,h.registerTouchEvents)(),window.addEventListener("blur",g.onWindowBlur),window.addEventListener("focus",g.onWindowFocus),document.addEventListener("focus",d.onFocus,!0),(0,s.setInputMode)((0,i.getDefaultInputMode)(),!1),(0,s.updateRootInputModes)(),a.PollingModeManager.initialize()}catch(_){console.error(t.consolePrefix,"Encountered error while initializing gamepad navigation",_),(0,t.shutdownGamepadNavigation)()}}};t.shutdownGamepadNavigation=()=>{f&&(f=!1,console.log(t.consolePrefix,"Deinitializing gamepad navigation"),window.removeEventListener("resize",o.clearCache),a.PollingModeManager.reset(),a.PollingModeManager.setDefaultPollingMode("none"),(0,p.unregisterGamepadEvents)(),(0,p.unregisterGamepadEvents)(),(0,m.unregisterMouseDownEvents)(),(0,h.unregisterTouchEvents)(),window.removeEventListener("blur",g.onWindowBlur),window.removeEventListener("focus",g.onWindowFocus),document.removeEventListener("focus",d.onFocus,!0))}},46697:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.onFocus=void 0;const r=n(38281),o=n(71435),i=n(58109),a=n(78822);t.onFocus=e=>{if(!(0,a.shouldHandleGamepadInput)())return;e.target instanceof HTMLElement&&(0,i.isFocusable)(e.target)&&(0,o.onTabFocusEvent)(e);const t=(0,r.getActiveElement)();t instanceof HTMLElement&&(0,r.handleManualFocus)(t)}},78822:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initializeGamepadList=t.unregisterGamepadEvents=t.registerGamepadEvents=t.onGamepadDisconnect=t.onGamepadConnect=t.stopGamepadPolling=t.startGamepadPolling=t.shouldHandleGamepadInput=t.isGamepadPollingEnabled=t.clearInjectedGamepad=t.injectGamepad=t.getGamepadsInOrder=t.getGamepadStates=void 0;const r=n(39281),o=n(22489),i=n(47093),a=n(51808),s=n(4492),l=n(69463),c=n(93675),u=n(81017),d=n(12187),p=n(26179),m=new Map,h=new Map;t.getGamepadStates=()=>h;const g=[];t.getGamepadsInOrder=()=>[...g];const f=e=>({a:"released",b:"released",x:"released",y:"released","left-bumper":"released","right-bumper":"released","left-stick-button":"released","right-stick-button":"released","dpad-up":"released","dpad-down":"released","dpad-left":"released","dpad-right":"released",center:"released",view:"released",menu:"released",timestamp:e.timestamp-1});t.injectGamepad=e=>{if(h.has(e.id)||h.set(e.id,f(e)),(0,t.shouldHandleGamepadInput)()){const n=h.get(e.id);if(n){if((0,l.processGamepadInput)(e,e.id,a.defaultMapping,n)){const n=g.indexOf(e.id);0!=n&&(-1!=n&&g.splice(n,1),g.unshift(e.id),p.GamepadEventEmitter.emit(c.MostRecentGamepad.Change,(0,t.getGamepadsInOrder)()))}}}};t.clearInjectedGamepad=e=>{h.delete(e);const n=g.indexOf(e);-1!=n&&(g.splice(n,1),p.GamepadEventEmitter.emit(c.MostRecentGamepad.Change,(0,t.getGamepadsInOrder)()))};t.isGamepadPollingEnabled=()=>o.PollingModeManager.isNavigationPollingEnabled()||o.PollingModeManager.isCallbackPollingEnabled()&&(0,r.areGamepadButtonCallbacksRegistered)();let _;t.shouldHandleGamepadInput=()=>(0,u.isWindowFocused)()&&(0,t.isGamepadPollingEnabled)();const v=()=>{if(!(0,t.shouldHandleGamepadInput)())return void(0,t.stopGamepadPolling)();if((()=>{let e=[];window.navigator&&window.navigator.getGamepads&&(e=window.navigator.getGamepads());for(const t of e)t&&m.has(t.index)&&(m.set(t.index,t),h.get(t.index)||h.set(t.index,f(t)))})(),0===m.size)return void(0,t.stopGamepadPolling)();let e=!1;for(const t of m.keys()){const n=h.get(t);let r=m.get(t);if(!r||!n)continue;const o=(0,a.getControllerMappingById)(r.id);if(o&&r.timestamp!==n.timestamp){n.timestamp=r.timestamp;const i=(0,s.getGamepadTransformer)();i&&(r=i(r));if((0,l.processGamepadInput)(r,t,o,n)){const n=g.indexOf(t);0!=n&&(-1!=n&&g.splice(n,1),g.unshift(t),e=!0)}}}e&&p.GamepadEventEmitter.emit(c.MostRecentGamepad.Change,(0,t.getGamepadsInOrder)())};t.startGamepadPolling=()=>{!_&&(0,d.isLibraryInitialized)()&&(_=setInterval(v,50))};t.stopGamepadPolling=()=>{_&&(clearInterval(_),_=void 0)};t.onGamepadConnect=e=>{const n=e.gamepad;(0,a.getGamepadFilter)()(n)&&(m.set(e.gamepad.index,e.gamepad),(0,t.startGamepadPolling)())};t.onGamepadDisconnect=e=>{m.delete(e.gamepad.index),h.delete(e.gamepad.index);const n=g.indexOf(e.gamepad.index);-1!=n&&(g.splice(n,1),p.GamepadEventEmitter.emit(c.MostRecentGamepad.Change,(0,t.getGamepadsInOrder)())),0===m.size&&(0,t.stopGamepadPolling)(),(0,i.handleGamepadDisconnect)(e.gamepad.index)};let y=!1;t.registerGamepadEvents=()=>{if(y)return;const e="GamepadEvent"in window,n="WebKitGamepadEvent"in window;e?(window.addEventListener("gamepadconnected",t.onGamepadConnect),window.addEventListener("gamepaddisconnected",t.onGamepadDisconnect)):n&&(window.addEventListener("webkitgamepadconnected",t.onGamepadConnect),window.addEventListener("webkitgamepaddisconnected",t.onGamepadDisconnect)),y=!0};t.unregisterGamepadEvents=()=>{if(!y)return;const e="GamepadEvent"in window,n="WebKitGamepadEvent"in window;e?(window.removeEventListener("gamepadconnected",t.onGamepadConnect),window.removeEventListener("gamepaddisconnected",t.onGamepadDisconnect)):n&&(window.removeEventListener("webkitgamepadconnected",t.onGamepadConnect),window.removeEventListener("webkitgamepaddisconnected",t.onGamepadDisconnect)),y=!1};t.initializeGamepadList=()=>{if(window.navigator&&window.navigator.getGamepads){const e=window.navigator.getGamepads(),t=(0,a.getGamepadFilter)();for(const n of e)n&&n.connected&&t(n)&&m.set(n.index,n)}}},59273:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isLibraryInitialized=t.shutdownGamepadNavigation=t.initializeGamepadNavigation=t.getGamepadsInOrder=t.getGamepadStates=t.injectGamepad=t.clearInjectedGamepad=t.stopGamepadPolling=t.startGamepadPolling=t.isSyntheticMouseEvent=t.emitSyntheticMouseEvent=t.unregisterMouseDownEvents=t.registerMouseDownEvents=t.unregisterMouseMoveEvents=t.registerMouseMoveEvents=t.getKeyboardState=t.unregisterKeyboardEvents=t.registerKeyboardEvents=void 0;var r=n(95028);Object.defineProperty(t,"registerKeyboardEvents",{enumerable:!0,get:function(){return r.registerKeyboardEvents}}),Object.defineProperty(t,"unregisterKeyboardEvents",{enumerable:!0,get:function(){return r.unregisterKeyboardEvents}}),Object.defineProperty(t,"getKeyboardState",{enumerable:!0,get:function(){return r.getKeyboardState}});var o=n(35834);Object.defineProperty(t,"registerMouseMoveEvents",{enumerable:!0,get:function(){return o.registerMouseMoveEvents}}),Object.defineProperty(t,"unregisterMouseMoveEvents",{enumerable:!0,get:function(){return o.unregisterMouseMoveEvents}}),Object.defineProperty(t,"registerMouseDownEvents",{enumerable:!0,get:function(){return o.registerMouseDownEvents}}),Object.defineProperty(t,"unregisterMouseDownEvents",{enumerable:!0,get:function(){return o.unregisterMouseDownEvents}}),Object.defineProperty(t,"emitSyntheticMouseEvent",{enumerable:!0,get:function(){return o.emitSyntheticMouseEvent}}),Object.defineProperty(t,"isSyntheticMouseEvent",{enumerable:!0,get:function(){return o.isSyntheticMouseEvent}});var i=n(78822);Object.defineProperty(t,"startGamepadPolling",{enumerable:!0,get:function(){return i.startGamepadPolling}}),Object.defineProperty(t,"stopGamepadPolling",{enumerable:!0,get:function(){return i.stopGamepadPolling}}),Object.defineProperty(t,"clearInjectedGamepad",{enumerable:!0,get:function(){return i.clearInjectedGamepad}}),Object.defineProperty(t,"injectGamepad",{enumerable:!0,get:function(){return i.injectGamepad}}),Object.defineProperty(t,"getGamepadStates",{enumerable:!0,get:function(){return i.getGamepadStates}}),Object.defineProperty(t,"getGamepadsInOrder",{enumerable:!0,get:function(){return i.getGamepadsInOrder}});var a=n(12187);Object.defineProperty(t,"initializeGamepadNavigation",{enumerable:!0,get:function(){return a.initializeGamepadNavigation}}),Object.defineProperty(t,"shutdownGamepadNavigation",{enumerable:!0,get:function(){return a.shutdownGamepadNavigation}}),Object.defineProperty(t,"isLibraryInitialized",{enumerable:!0,get:function(){return a.isLibraryInitialized}})},95028:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.onKeyUp=t.onKeyDown=t.getKeyboardState=t.unregisterKeyboardEvents=t.registerKeyboardEvents=void 0;const r=n(69463),o=n(12187);let i=!1;t.registerKeyboardEvents=()=>{!i&&(0,o.isLibraryInitialized)()&&(document.body.addEventListener("keyup",t.onKeyUp),document.body.addEventListener("keydown",t.onKeyDown),i=!0)};t.unregisterKeyboardEvents=()=>{i&&(0,o.isLibraryInitialized)()&&(document.body.removeEventListener("keyup",t.onKeyUp),document.body.removeEventListener("keydown",t.onKeyDown),i=!1)};const a={};t.getKeyboardState=()=>a;t.onKeyDown=e=>{(0,r.processKeyboardInput)(e,a,e.repeat?"repeat":"press")&&e.preventDefault()};t.onKeyUp=e=>{(0,r.processKeyboardInput)(e,a,"release")}},35834:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unregisterMouseDownEvents=t.registerMouseDownEvents=t.unregisterMouseMoveEvents=t.registerMouseMoveEvents=t.emitSyntheticMouseEvent=t.isSyntheticMouseEvent=void 0;const r=n(44804),o=n(12187),i=n(21998),a=Symbol("synthetic");t.isSyntheticMouseEvent=e=>e instanceof MouseEvent?!!e[a]:!!e.nativeEvent[a];t.emitSyntheticMouseEvent=(e,t)=>{const n=new MouseEvent(e,{bubbles:!0,cancelable:!0,view:window,detail:0,screenX:void 0,screenY:void 0,clientX:void 0,clientY:void 0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,button:0,buttons:0,relatedTarget:null});Object.defineProperty(n,a,{value:!0,writable:!1,enumerable:!1}),t.dispatchEvent(n)};const s=e=>{const{sourceCapabilities:t,webkitForce:n}=e;!1!==t?.firesTouchEvents&&0!==n||0===e.movementX&&0===e.movementY||(0,r.setInputMode)("passive-mouse",!1)};let l=!1;t.registerMouseMoveEvents=()=>{!l&&(0,o.isLibraryInitialized)()&&(document.addEventListener("mousemove",s,{passive:!1}),l=!0)};t.unregisterMouseMoveEvents=()=>{l&&(0,o.isLibraryInitialized)()&&(document.removeEventListener("mousemove",s),l=!1)};const c=e=>{(0,t.isSyntheticMouseEvent)(e)||(0,i.wasRecentTouchEnd)()||(0,r.setInputMode)("mouse",!1)};let u=!1;t.registerMouseDownEvents=()=>{u||(document.addEventListener("mousedown",c,{passive:!1}),u=!0)};t.unregisterMouseDownEvents=()=>{u&&(document.removeEventListener("mousedown",c),u=!1)}},21998:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unregisterTouchEvents=t.registerTouchEvents=t.wasRecentTouchEnd=void 0;const r=n(44804),o=e=>{(0,r.setInputMode)("touch",!1)};let i,a=!1;t.wasRecentTouchEnd=()=>a;const s=e=>{clearTimeout(i),a=!0,i=setTimeout((()=>{a=!1}),150)};let l=!1;t.registerTouchEvents=()=>{l||(document.addEventListener("touchstart",o,{passive:!1}),document.addEventListener("touchend",s,{passive:!1}),l=!0)};t.unregisterTouchEvents=()=>{l&&(document.removeEventListener("touchstart",o),document.removeEventListener("touchend",s),l=!1)}},81017:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isWindowFocused=t.onWindowFocus=t.onWindowBlur=void 0;const r=n(78822);let o=!0;t.onWindowBlur=()=>{o=!1,(0,r.stopGamepadPolling)()};t.onWindowFocus=()=>{o=!0,(0,r.isGamepadPollingEnabled)()&&(0,r.startGamepadPolling)()};t.isWindowFocused=()=>o},51808:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getControllerMappingById=t.setGamepadMappingFunction=t.defaultMapping=t.iOS13WebKitMapping=t.getControllerMappingKeyFromGamepadButton=t.Platform=t.setGamepadFilter=t.getGamepadFilter=void 0;const r=n(12187);let o=e=>!!e.mapping;t.getGamepadFilter=()=>o;var i;t.setGamepadFilter=e=>{o=e},function(e){e[e.MacOSChromium=0]="MacOSChromium",e[e.MacOSWebkit=1]="MacOSWebkit",e[e.IOS13WebKit=2]="IOS13WebKit",e[e.IOS14Webkit=3]="IOS14Webkit",e[e.AndroidChromium=4]="AndroidChromium",e[e.WindowsChromium=5]="WindowsChromium",e[e.Unknown=6]="Unknown"}(i||(t.Platform=i={}));const a=new Map([["a","a"],["b","b"],["x","x"],["y","y"],["dpad-up","dpadUp"],["dpad-down","dpadDown"],["dpad-left","dpadLeft"],["dpad-right","dpadRight"],["left-bumper","leftBumper"],["right-bumper","rightBumper"],["left-stick-button","leftStickButton"],["right-stick-button","rightStickButton"],["center","center"],["view","view"],["menu","menu"]]);let s;t.getControllerMappingKeyFromGamepadButton=e=>a.get(e),t.iOS13WebKitMapping={a:{index:0,isButton:!0},b:{index:1,isButton:!0},x:{index:2,isButton:!0},y:{index:3,isButton:!0},leftBumper:{index:4,isButton:!0},rightBumper:{index:5,isButton:!0},dpadUp:{index:5,isButton:!1},dpadDown:{index:5,isButton:!1},dpadLeft:{index:4,isButton:!1},dpadRight:{index:4,isButton:!1},leftTrigger:{index:6,isButton:!0},rightTrigger:{index:7,isButton:!0},leftStickX:{index:0,isButton:!1},leftStickY:{index:1,isButton:!1,flipAxis:!0},rightStickX:{index:2,isButton:!1},rightStickY:{index:3,isButton:!1,flipAxis:!0},leftStickButton:{index:10,isButton:!0},rightStickButton:{index:11,isButton:!0},center:{index:16,isButton:!0},view:{index:8,isButton:!0},menu:{index:9,isButton:!0}},t.defaultMapping={a:{index:0,isButton:!0},b:{index:1,isButton:!0},x:{index:2,isButton:!0},y:{index:3,isButton:!0},leftBumper:{index:4,isButton:!0},rightBumper:{index:5,isButton:!0},dpadLeft:{index:14,isButton:!0},dpadRight:{index:15,isButton:!0},dpadUp:{index:12,isButton:!0},dpadDown:{index:13,isButton:!0},leftTrigger:{index:6,isButton:!0},rightTrigger:{index:7,isButton:!0},leftStickX:{index:0,isButton:!1},leftStickY:{index:1,isButton:!1},rightStickX:{index:2,isButton:!1},rightStickY:{index:3,isButton:!1},leftStickButton:{index:10,isButton:!0},rightStickButton:{index:11,isButton:!0},center:{index:16,isButton:!0},view:{index:8,isButton:!0},menu:{index:9,isButton:!0}};const l=new Map;let c;let u;t.setGamepadMappingFunction=e=>{c=e,l.clear()};t.getControllerMappingById=e=>{if(l.has(e))return l.get(e);const n=c?.(e);return n?(l.set(e,n),n):(u||(u=function(){s||(s=(()=>{const e=window.navigator.userAgent.toLowerCase(),t=window.navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);return/iP(hone|od|ad)/.test(window.navigator.platform)?parseInt(t?t[1]:"14",10)>=14?i.IOS14Webkit:i.IOS13WebKit:/Mac/.test(window.navigator.platform)?-1!==e.indexOf("safari")&&e.indexOf("chrome")>-1?i.MacOSChromium:i.MacOSWebkit:e.indexOf("android")>-1&&e.indexOf("chrome")>-1?i.AndroidChromium:/Windows/.test(window.navigator.platform)&&e.indexOf("chrome")>-1?i.WindowsChromium:i.Unknown})());if(s===i.IOS13WebKit)return console.log(r.consolePrefix,"Using iOS 13 WebKit mappings for gamepad navigation"),t.iOS13WebKitMapping;return console.log(r.consolePrefix,"Using default mappings for gamepad navigation"),t.defaultMapping}()),u)}},4492:(e,t)=>{"use strict";let n;Object.defineProperty(t,"__esModule",{value:!0}),t.setGamepadTransformer=t.getGamepadTransformer=void 0;t.getGamepadTransformer=()=>n;t.setGamepadTransformer=e=>{n=e}},18541:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.handleGamepadButtons=void 0;const r=n(51808),o=n(47093),i=n(8035),a=n(96802);t.handleGamepadButtons=(e,t,n,r)=>{let i=!1;for(let o=0;o<e.buttons.length;o++){const a=e.buttons[o].pressed?"pressed":"released";let l;switch(o){case n.a.index:l="a";break;case n.b.index:l="b";break;case n.x.index:l="x";break;case n.y.index:l="y";break;case n.leftBumper.index:l="left-bumper";break;case n.rightBumper.index:l="right-bumper";break;case n.leftStickButton.index:l="left-stick-button";break;case n.rightStickButton.index:l="right-stick-button";break;case n.dpadLeft.index:l="dpad-left";break;case n.dpadRight.index:l="dpad-right";break;case n.dpadUp.index:l="dpad-up";break;case n.dpadDown.index:l="dpad-down";break;case n.center.index:l="center";break;case n.view.index:l="view";break;case n.menu.index:l="menu"}if(l){const e=s(t,n,r,l,a);i=i||e}}for(let a=0;a<e.axes.length;a++){const s=e.axes[a];switch(a){case n.dpadLeft.index:-1===s&&"released"===r["dpad-left"]?(r["dpad-left"]="pressed",(0,o.onButtonPress)("dpad-left","press",t),i=!0):1===s&&"released"===r["dpad-right"]?(r["dpad-right"]="pressed",(0,o.onButtonPress)("dpad-right","press",t),i=!0):0===s&&("pressed"===r["dpad-left"]?(r["dpad-left"]="released",(0,o.onButtonPress)("dpad-left","press",t),i=!0):"pressed"===r["dpad-right"]&&(r["dpad-right"]="released",(0,o.onButtonPress)("dpad-right","press",t),i=!0));break;case n.dpadUp.index:1===s&&"released"===r["dpad-up"]?(r["dpad-up"]="pressed",(0,o.onButtonPress)("dpad-up","press",t),i=!0):-1===s&&"released"===r["dpad-down"]?(r["dpad-down"]="pressed",(0,o.onButtonPress)("dpad-down","press",t),i=!0):0===s&&("pressed"===r["dpad-up"]?(r["dpad-up"]="released",(0,o.onButtonPress)("dpad-up","press",t),i=!0):"pressed"===r["dpad-down"]&&(r["dpad-down"]="released",(0,o.onButtonPress)("dpad-down","press",t),i=!0))}}return i};const s=(e,t,n,s,l)=>{const c=(0,r.getControllerMappingKeyFromGamepadButton)(s);if(!c)return!1;if(t[c].isButton){const t=(0,a.getLongHoldTimeoutsForButton)(s);if(t.has(e)||t.set(e,[]),"released"===n[s]&&"pressed"===l)return n[s]="pressed",(0,i.getLongPressDelays)("generic").forEach((n=>{t.get(e)?.push(setTimeout((()=>{(0,o.onGenericButtonPressEvent)(s,"long-press",n)}),n))})),(0,i.getLongPressDelays)(s).forEach((n=>{t.get(e)?.push(setTimeout((()=>{(0,o.onButtonPressEvent)(s,"long-press",n)}),n))})),(0,o.onGenericButtonPressEvent)(s,"press"),(0,o.onButtonPressEvent)(s,"press"),(0,o.onButtonPress)(s,"press",e),!0;if("pressed"===n[s]&&"released"===l)return n[s]="released",(0,o.onGenericButtonPressEvent)(s,"release"),(0,o.onButtonPressEvent)(s,"release"),(0,o.onButtonPress)(s,"release",e),t.get(e)?.forEach((e=>clearTimeout(e))),t.set(e,[]),!0;"resetting"===n[s]&&"released"===l&&(n[s]="released")}return!1}},28562:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.clearLongHoldTimeouts=t.resetGamepadButtonState=t.handleGamepadButtons=void 0;var r=n(18541);Object.defineProperty(t,"handleGamepadButtons",{enumerable:!0,get:function(){return r.handleGamepadButtons}});var o=n(76281);Object.defineProperty(t,"resetGamepadButtonState",{enumerable:!0,get:function(){return o.resetGamepadButtonState}});var i=n(96802);Object.defineProperty(t,"clearLongHoldTimeouts",{enumerable:!0,get:function(){return i.clearLongHoldTimeouts}})},96802:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.clearLongHoldTimeouts=t.getLongHoldTimeoutsForButton=void 0;const n=new Map;t.getLongHoldTimeoutsForButton=e=>(n.get(e)||n.set(e,new Map),n.get(e));t.clearLongHoldTimeouts=()=>{n.forEach((e=>e.forEach((e=>e.forEach((e=>clearTimeout(e)))))))}},76281:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resetGamepadButtonState=void 0;const r=n(46769),o=n(59273),i=n(47093),a=n(96802);t.resetGamepadButtonState=(e,t)=>{const n=(0,o.getGamepadStates)(),s=(0,a.getLongHoldTimeoutsForButton)(e),l=(0,r.mapDpadToFocusDirection)(e),c=(t,n)=>{l&&(0,i.unregisterDirectionalInput)(l,"dpad",t),"a"===e&&(0,i.unregisterAButtonInput)(t),n[e]="resetting",s&&s.get(t)?.forEach((e=>clearTimeout(e)))};if(void 0===t)n.forEach(((e,t)=>{c(t,e)}));else{const e=n.get(t);e&&c(t,e)}}},65904:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.processGamepadInput=void 0;const r=n(15802),o=n(28562),i=n(30273),a=n(16454),s=n(8529);t.processGamepadInput=(e,t,n,l)=>{const c=(0,o.handleGamepadButtons)(e,t,n,l),u=(0,r.processLeftTriggerInput)(e,t,n),d=(0,i.processRightTriggerInput)(e,t,n),p=(0,a.processLeftStickInput)(e,t,n),m=(0,s.processRightStickInput)(e,t,n);return c||u||d||p||m}},28419:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.clearLongHoldTimeouts=t.resetGamepadButtonState=t.processGamepadInput=void 0;var r=n(65904);Object.defineProperty(t,"processGamepadInput",{enumerable:!0,get:function(){return r.processGamepadInput}});var o=n(28562);Object.defineProperty(t,"resetGamepadButtonState",{enumerable:!0,get:function(){return o.resetGamepadButtonState}}),Object.defineProperty(t,"clearLongHoldTimeouts",{enumerable:!0,get:function(){return o.clearLongHoldTimeouts}})},52692:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.INPUT_THRESHOLD=void 0,t.INPUT_THRESHOLD=.1},16454:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.processLeftStickInput=void 0;const r=n(47093),o=n(52692),i=new Map,a=new Map;t.processLeftStickInput=(e,t,n)=>{const s=(n.leftStickX.flipAxis?-1:1)*(n.leftStickX.isButton?e.buttons[n.leftStickX.index].value:e.axes[n.leftStickX.index]);let l=!1;i.has(t)&&i.get(t)===s?l=!0:i.set(t,s);const c=(n.leftStickY.flipAxis?-1:1)*(n.leftStickY.isButton?e.buttons[n.leftStickY.index].value:e.axes[n.leftStickY.index]);let u=!1;return a.has(t)&&a.get(t)===c?u=!0:a.set(t,c),(!l||!u)&&((0,r.onLeftStickInput)(s,c,t),Math.abs(s)>o.INPUT_THRESHOLD||Math.abs(c)>o.INPUT_THRESHOLD)}},15802:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.processLeftTriggerInput=void 0;const r=n(47093),o=n(52692),i=new Map;t.processLeftTriggerInput=(e,t,n)=>{const a=n.leftTrigger.isButton?e.buttons[n.leftTrigger.index]?.value??0:e.axes[n.leftTrigger.index];let s=!1;return i.has(t)&&i.get(t)===a?s=!0:i.set(t,a),!s&&((0,r.onTrigger)(t,a,"left"),Math.abs(a)>o.INPUT_THRESHOLD)}},8529:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.processRightStickInput=void 0;const r=n(47093),o=n(52692),i=new Map,a=new Map;t.processRightStickInput=(e,t,n)=>{const s=(n.rightStickX.flipAxis?-1:1)*(n.rightStickX.isButton?e.buttons[n.rightStickX.index].value:e.axes[n.rightStickX.index]);let l=!1;i.has(t)&&i.get(t)===s?l=!0:i.set(t,s);const c=(n.rightStickY.flipAxis?-1:1)*(n.rightStickY.isButton?e.buttons[n.rightStickY.index].value:e.axes[n.rightStickY.index]);let u=!1;return a.has(t)&&a.get(t)===c?u=!0:a.set(t,c),(!l||!u)&&((0,r.onRightStickInput)(s,c,t),Math.abs(s)>o.INPUT_THRESHOLD||Math.abs(c)>o.INPUT_THRESHOLD)}},30273:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.processRightTriggerInput=void 0;const r=n(47093),o=n(52692),i=new Map;t.processRightTriggerInput=(e,t,n)=>{const a=n.rightTrigger.isButton?e.buttons[n.rightTrigger.index]?.value??0:e.axes[n.rightTrigger.index];let s=!1;return i.has(t)&&i.get(t)===a?s=!0:i.set(t,a),!s&&((0,r.onTrigger)(t,a,"right"),Math.abs(a)>o.INPUT_THRESHOLD)}},69463:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(85608);r.__exportStar(n(28419),t),r.__exportStar(n(40321),t)},40321:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resetKeyboardKeyState=t.processKeyboardInput=void 0;var r=n(12396);Object.defineProperty(t,"processKeyboardInput",{enumerable:!0,get:function(){return r.processKeyboardInput}});var o=n(79923);Object.defineProperty(t,"resetKeyboardKeyState",{enumerable:!0,get:function(){return o.resetKeyboardKeyState}})},12396:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.processKeyboardInput=void 0;const r=n(46769),o=n(22489),i=n(47093),a=n(93675),s=n(79923),l=n(47093),c=n(93982),u=n(84300),d=n(26179);t.processKeyboardInput=(e,t,n)=>{let p="press"===n?()=>e.preventDefault():void 0;const m=u.TVRemoteBackButtons.keys.has(e.key)||u.TVRemoteBackButtons.keyCodes.has(e.keyCode)?r.NavigationKey.TVRemoteBack:e.key;switch(m){case r.NavigationKey.Enter:case r.NavigationKey.Escape:case r.NavigationKey.Tab:case r.NavigationKey.TVRemoteBack:p=void 0}const h=c.NavigationKeyManager.hasKey(m);if(h){if(e.metaKey)return!1;const t=(0,l.handleTextInput)(m,n);if(t)return!0;if(!1===t)return!1}t[m]||(t[m]={value:"released",lastKeyDownMs:0});if("press"===n){const e=Date.now();if(e-t[m].lastKeyDownMs<100)return"pressed"!==t[m].value&&(0,s.resetKeyboardKeyState)(m),h;t[m].lastKeyDownMs=e}if("resetting"===t[m].value)return"release"===n&&(t[m].value="released"),h;if(t[m].value="release"===n?"released":"pressed",o.PollingModeManager.isCallbackPollingEnabled()){let t;switch(n){case"press":t=a.KeyboardKeyEvent.GenericKeyDown;break;case"release":t=a.KeyboardKeyEvent.GenericKeyUp;break;case"repeat":t=a.KeyboardKeyEvent.GenericKeyPress}d.GamepadEventEmitter.emit(t,e),d.GamepadEventEmitter.emit((0,a.getKeyboardEvent)(m,n),e)}return!!h&&(0,i.onKeyPress)(m,n,p,e.shiftKey)}},79923:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resetKeyboardKeyState=void 0;const r=n(59273);t.resetKeyboardKeyState=e=>{const t=e||e&&e.toString(),n=(0,r.getKeyboardState)();n[t]&&(n[t].value="resetting",n[t].lastKeyDownMs=0)}},93982:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.NavigationKeyManager=void 0;class r{static reset(){this.requestTracker.clear(),this.setKeys(this.defaultKeys),console.info("[NavigationKeyManager] Reset successful")}}t.NavigationKeyManager=r,n=r,r.requestTracker=new class{constructor(){this.requests=new Map,this.requestorKeys=new Set,this.set=(e,t)=>{this.delete(t),this.requestorKeys.add(t);for(const n of e){this.requests.has(n)||this.requests.set(n,new Set);this.requests.get(n).add(t)}},this.delete=e=>{this.requestorKeys.delete(e)&&this.requests.forEach((t=>t.delete(e)))},this.clear=()=>{this.requests.clear(),this.requestorKeys.clear()},this.getRequestedKeys=()=>{if(0===this.requestorKeys.size)return;const e=[];for(const t of this.requests.keys())this.requests.get(t).size>0&&e.push(t);return e}}},r.defaultKeys=[],r.keyboardKeys=n.defaultKeys,r.keyboardKeyStrings=new Set,r.requestKeys=(e,t)=>{n.requestTracker.set(t,e);const r=n.getComputedKeys();return n.setKeys(r),r},r.releaseKeys=e=>{n.requestTracker.delete(e);const t=n.getComputedKeys();return n.setKeys(t),t},r.getKeys=()=>[...n.keyboardKeys],r.hasKey=e=>n.keyboardKeyStrings.has(e),r.setDefaultKeys=e=>{n.defaultKeys=e,n.setKeys(n.getComputedKeys())},r.getDefaultKeys=()=>[...n.defaultKeys],r.setKeys=e=>{n.keyboardKeys=e,n.updateKeyStrings()},r.getComputedKeys=()=>{const e=n.requestTracker.getRequestedKeys();return e||n.defaultKeys},r.updateKeyStrings=()=>{n.keyboardKeyStrings=new Set(n.keyboardKeys.map((e=>e.toString())))}},22489:(e,t,n)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.PollingModeManager=void 0;const o=n(46769),i=n(59273),a=n(93675),s=n(39281),l=n(44804),c=n(47093),u=n(69463),d=n(26179),p="[PollingModeManager]";class m{static reset(){this.requestTracker.clear(),this.setPollingMode(this.defaultPollingMode),console.info(`${p} Reset successful`)}}t.PollingModeManager=m,r=m,m.requestTracker=new class{constructor(){this.none=new Map,this.callbacks=new Map,this.navigation=new Map,this.all=new Map,this.set=(e,t,n)=>{const r=this.find(t);if(r){if(r===e&&this[e].get(t)===n)return;this.delete(t)}this[e].set(t,n)},this.find=e=>o.POLLING_MODES.find((t=>this[t].has(e))),this.delete=e=>{o.POLLING_MODES.forEach((t=>{this[t].delete(e)}))},this.clear=()=>{o.POLLING_MODES.forEach((e=>{this[e].clear()}))}}get size(){return o.POLLING_MODES.reduce(((e,t)=>e+this[t].size),0)}},m.defaultPollingMode="all",m.initialized=!1,m.initialize=()=>{r.initialized||(r.setPollingMode(r.defaultPollingMode),r.initialized=!0)},m.requestPollingMode=(e,t,n=3)=>{const o=r.requestTracker.find(e);r.requestTracker.set(t,e,n),o?o===t&&r.requestTracker[t].get(e)===n?console.debug(`${p} Redundant gamepad control requested by: ${e} - ${r.requestTracker.size} gamepad requestors registered`):console.debug(`${p} Transition gamepad control from ${o} to ${t} requested by: ${e} - ${r.requestTracker.size} gamepad requestors registered`):console.debug(`${p} Gamepad control requested by: ${e} - ${r.requestTracker.size} gamepad requestors registered`);const i=r.getComputedPollingMode();return r.setPollingMode(i),i},m.releasePollingMode=e=>{const t=null==r.requestTracker.find(e);r.requestTracker.delete(e),t?console.debug(`${p} Redundant release gamepad control requested by: ${e} - ${r.requestTracker.size} gamepad control requestors registered`):console.debug(`${p} Release gamepad control requested by: ${e} - ${r.requestTracker.size} gamepad control requestors registered`);const n=r.getComputedPollingMode();return r.setPollingMode(n),n},m.getPollingMode=()=>r.pollingMode,m.getComputedPollingMode=()=>{const e=o.POLLING_MODES.map((e=>({mode:e,priority:Math.max(...Array.from(r.requestTracker[e].values()),-1)}))).filter((e=>-1!==e.priority)).sort(((e,t)=>t.priority-e.priority)),t=e.filter((t=>t.priority===e[0].priority)).map((e=>e.mode));return t.includes("all")||t.includes("callbacks")&&t.includes("navigation")?"all":t.includes("callbacks")?"callbacks":t.includes("navigation")?"navigation":t.includes("none")?"none":r.defaultPollingMode},m.setPollingMode=e=>{if(console.debug(`${p} Setting polling mode to ${e}`),e!==r.pollingMode){switch(r.pollingMode=e,e){case"all":console.log(p,"Enabling controller navigation");break;case"none":console.log(p,"Disabling controller navigation");break;case"callbacks":console.log(p,"Enabling controller navigation for button callbacks only");break;case"navigation":console.log(p,"Enabling controller navigation for navigation only")}r.isNavigationPollingEnabled()?((0,u.resetGamepadButtonState)("a"),(0,u.resetGamepadButtonState)("b"),(0,i.startGamepadPolling)(),(0,i.registerKeyboardEvents)(),(0,l.doesDefaultToFocusDrivenInputMode)()&&(0,l.returnToFocusDrivenInputMode)()):r.isCallbackPollingEnabled()?((0,s.areGamepadButtonCallbacksRegistered)()?(0,i.startGamepadPolling)():(0,i.stopGamepadPolling)(),(0,s.areKeyboardKeyCallbacksRegistered)()?(0,i.registerKeyboardEvents)():(0,i.unregisterKeyboardEvents)(),(0,c.clearNavigationTimeouts)()):((0,i.stopGamepadPolling)(),(0,i.unregisterKeyboardEvents)(),(0,i.unregisterMouseMoveEvents)(),(0,c.clearInputState)()),d.GamepadEventEmitter.emit(a.PollingModeEvent.Change,e)}},m.setDefaultPollingMode=e=>{r.defaultPollingMode=e,r.setPollingMode(r.getComputedPollingMode())},m.getDefaultPollingMode=()=>r.defaultPollingMode,m.isAllPollingEnabled=()=>"all"===r.pollingMode,m.isCallbackPollingEnabled=()=>"all"===r.pollingMode||"callbacks"===r.pollingMode,m.isNavigationPollingEnabled=()=>"all"===r.pollingMode||"navigation"===r.pollingMode},66996:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getIndependentContainers=t.removeFromDependencyGraph=t.addToDependencyGraph=void 0;const r=n(58109),o=(e,t)=>e.getZIndex()<t.getZIndex(),i=(e,t)=>{const n=e.getElement(),o=t.getElement();return!(!n||!o)&&(0,r.contains)(n,o)},a=new Map;t.addToDependencyGraph=e=>{a.has(e)||a.set(e,{zIndexDeps:new Set,hierarchyDeps:new Set});for(const t of a.keys()){if(e===t)continue;const n=i(t,e),r=i(e,t),s=o(t,e),l=o(e,t);r?a.get(e)?.hierarchyDeps.add(t):l&&!n&&a.get(e)?.zIndexDeps.add(t),n?a.get(t)?.hierarchyDeps.add(e):s&&!r&&a.get(t)?.zIndexDeps.add(e)}};t.removeFromDependencyGraph=e=>{a.delete(e);for(const t of a.values())t.zIndexDeps.delete(e),t.hierarchyDeps.delete(e)};t.getIndependentContainers=()=>{const e=new Set,t=new Set;for(const[n,r]of a)r.zIndexDeps.size+r.hierarchyDeps.size===0&&(e.add(n),t.add(n));for(const n of a.keys()){if(t.has(n))continue;const r=s(n);if(r&&r.length>1){let n=!1;for(let e=0;e<r.length;e++){const t=r[e],o=r[(e+1)%r.length];if(a.get(t)?.hierarchyDeps.has(o)){n=!0;break}}if(n){const t=l(r);t&&e.add(t)}r.forEach((e=>t.add(e)))}else t.add(n)}return Array.from(e)};const s=e=>{const t=[],n=new Set;return function e(r){if(t.includes(r)){const e=t.indexOf(r);return t.slice(e)}if(n.has(r))return null;n.add(r),t.push(r);const o=new Set([...a.get(r)?.zIndexDeps||[],...a.get(r)?.hierarchyDeps||[]]);for(const t of o){const n=e(t);if(n)return n}return t.pop(),null}(e)},l=e=>{for(let t=0;t<e.length;t++){const n=e[t],r=e[(t+1)%e.length];if(a.get(n)?.hierarchyDeps.has(r))return r}return null}},53129:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isElementInValidFocusContext=t.handleFocusContainerZIndexChange=t.removeFocusContainer=t.setContainerFocus=t.addFocusContainer=t.getFocusContext=t.FocusContext=t.hasActiveFocusContext=t.addToPreviousContainers=t.getPreviouslyFocusedContainers=t.pruneActiveContainers=t.getActiveContainers=t.pruneFocusedContainers=t.getFocusedContainers=void 0;const r=n(12370),o=n(58109),i=n(49042),a=n(38281),s=n(66996);let l=[];t.getFocusedContainers=()=>l;t.pruneFocusedContainers=()=>{l=l.filter((e=>(0,o.contains)(document.body,e.getElement())))};let c=[];t.getActiveContainers=()=>c;t.pruneActiveContainers=()=>{c=c.filter((e=>(0,o.contains)(document.body,e.getElement())))};let u=[];t.getPreviouslyFocusedContainers=()=>u;t.addToPreviousContainers=e=>{d(e),"none"!==e.takesFocus()&&u.push(e)};const d=e=>{u=u.filter((t=>t!==e))};var p;t.hasActiveFocusContext=()=>(0,t.getFocusContext)()!==p.None,function(e){e[e.None=0]="None",e[e.Global=1]="Global",e[e.Specific=2]="Specific"}(p||(t.FocusContext=p={}));t.getFocusContext=()=>0!==c.length?p.Specific:(0,r.hasGlobalFocus)()&&!(0,r.isGlobalFocusLoading)()?p.Global:p.None;const m=()=>{const e=(0,s.getIndependentContainers)();for(const t of new Set([...c,...e])){const n=c.includes(t),r=e.includes(t);n&&!r?t.onContainerBlur():!n&&r&&t.onContainerFocus()}c=e,(0,a.pruneCurrentlyFocusedInteractable)()};t.addFocusContainer=e=>{if(l.includes(e))return!1;l.push(e),(0,s.addToDependencyGraph)(e),m()};t.setContainerFocus=e=>{const n=(0,a.getCurrentlyFocusedInteractable)(),r=e.getSearchScope();if(r)if("forced"===e.takesFocus()||!n&&"first-only"===e.takesFocus())(0,i.shiftFocus)(r);else if(!n)for(const o of(0,t.getActiveContainers)())"none"===o.takesFocus()||n||(0,i.shiftFocus)(r)};t.removeFocusContainer=e=>{l.includes(e)&&(l=l.filter((t=>t!==e)),(0,s.removeFromDependencyGraph)(e),m(),(0,t.getFocusContext)()===p.Global?(0,i.findInitialFocus)():setTimeout((()=>{if(!(0,a.getCurrentlyFocusedInteractable)())for(const e of(0,t.getActiveContainers)())"none"===e.takesFocus()||(0,a.getCurrentlyFocusedInteractable)()||(0,i.findInitialFocus)(!1,e)}),0))};t.handleFocusContainerZIndexChange=e=>{(0,s.removeFromDependencyGraph)(e),(0,s.addToDependencyGraph)(e),m(),(0,a.getCurrentlyFocusedInteractable)()||setTimeout((()=>(0,i.findInitialFocus)()),0)};t.isElementInValidFocusContext=(e,n)=>{if(!e)return!1;const r=(0,t.getFocusContext)();if(r===p.None)return!1;const i=(0,o.getParentFocusContainer)(e);if(r===p.Global){if(n||i)return!1}else if(!i||n&&n!==i||!c.includes(i))return!1;return!0}},96607:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});n(85608).__exportStar(n(53129),t)},38281:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.handleShadowDomFocusChange=t.handleManualFocus=t.clearCurrentFocus=t.blurCurrentFocus=t.setCurrentFocus=t.setCurrentFocusBasic=t.setLastRememberedFocused=t.resetLastRememberedGlobalFocus=t.getLastFocusedGlobalInteractable=t.getCurrentlyFocusedInteractableParents=t.getActiveElement=t.pruneCurrentlyFocusedInteractable=t.updateScrollableFocusState=t.getCurrentlyFocusedInteractable=void 0;const r=n(30659),o=n(93675),i=n(24072),a=n(58109),s=n(29485),l=n(53129),c=n(44804),u=n(83568),d=n(47093),p=n(81856),m=n(49042),h=n(46769),g=n(26179),f=n(50068);let _;t.getCurrentlyFocusedInteractable=()=>_;const v=(e,t)=>{(0,r.handlePersistentFocusChange)(_,e),g.GamepadEventEmitter.emit(o.NavigationEvent.Change,_,e);const n=(0,a.getParentGroups)(e);let i=[];if(_&&(i=(0,a.getParentGroups)(_)),n[0]!=i[0]){for(const e of n){-1===i.findIndex((t=>e===t))&&e.onEnter()}for(const e of i){-1===n.findIndex((t=>e===t))&&(e.onExit(),t&&e.onTabExit())}}if((0,a.setGamepadPressed)(_,!1),(0,a.setKeyboardPressed)(_,!1),_=e,(0,f.updateCurrentFocusPressStates)(),y.length=0,_&&_!==document.body){let e=(0,a.getDirectParent)(_);for(;e;)y.push(e),e=(0,a.getDirectParent)(e);for(const t of(0,a.getParentScrollables)(_))t.setLastFocusedInfo(_)}};t.updateScrollableFocusState=()=>{if(!_)return!1;if(!(0,u.isScrollable)(_)&&(0,i.getSummedVisibilityInParentScrollables)(_)>=i.FOCUSABLE_VISIBILITY_THRESHOLD)return!1;const e=[_,...(0,t.getCurrentlyFocusedInteractableParents)()].map((e=>(0,u.getScrollable)(e))).filter((e=>void 0!==e));if(0===e.length)return!1;let n=!1;for(let r=0;r<e.length;r++){const o=e[r],a=o.getElement();if(!a)return n;if(o.hasManuallyScrolled()&&(o.setLastFocusedInfo(void 0),o.setLastScrollDirectionWithoutFocus(void 0)),r<e.length-1){if((0,i.getVisibilityInDirectParentScrollable)(a,e[r+1])<i.FOCUSABLE_VISIBILITY_THRESHOLD)continue}const s=(0,m.buildPriorityTree)(a,!1),l=(0,m.findOptimalChild)(s);l!==_&&(l&&((0,t.setCurrentFocus)(l),n=!(0,u.isScrollable)(l)))}return n};t.pruneCurrentlyFocusedInteractable=()=>{if(!_||_===document.body)return;(0,t.handleShadowDomFocusChange)();const e=(0,t.getActiveElement)();(0,a.contains)(document.body,_)&&(S||e===(0,p.getActiveInputElement)()||e===_||_ instanceof h.SyntheticElement||!(0,a.isFocusable)(_))&&(0,l.isElementInValidFocusContext)(_)&&(0,a.isNavigable)(_)||(0,t.clearCurrentFocus)()};t.getActiveElement=()=>{let e=document.activeElement;for(;e&&e.shadowRoot&&e.shadowRoot.activeElement;)e=e.shadowRoot.activeElement;return e};const y=[];let b;t.getCurrentlyFocusedInteractableParents=()=>[...y];t.getLastFocusedGlobalInteractable=()=>b;t.resetLastRememberedGlobalFocus=()=>{b=void 0};t.setLastRememberedFocused=e=>{if(!e)return;const t=(0,a.getParentFocusContainer)(e);t?(t.lastFocusedInteractable=e,(0,l.addToPreviousContainers)(t)):b=e};t.setCurrentFocusBasic=(e,n)=>(0,t.setCurrentFocus)(e,n);let S=!1;t.setCurrentFocus=(e,n=!0,r=!0,i=!1)=>{if(e===_&&(e===(0,t.getActiveElement)()||e===document.body)||!(0,a.isFocusable)(e)&&!(0,u.isScrollable)(e))return;if(!(0,l.isElementInValidFocusContext)(e))return;const d=_;_!==document.body&&(0,t.blurCurrentFocus)(),v(e,i),(_&&_ instanceof HTMLElement&&(0,c.isInputModeFocusDriven)()||"passive-mouse"===(0,c.getDetailedInputMode)())&&(e!==document.body&&(S=!0,setTimeout((()=>{_?.focus({preventScroll:!0}),S=!1}),2)),r&&g.GamepadEventEmitter.emit(o.NavigationEvent.Shift,d,e)),(0,t.setLastRememberedFocused)(_),(0,c.isInputModeFocusDriven)()&&_&&n&&_!==document.body&&(0,s.positionInteractable)(e)};t.blurCurrentFocus=()=>{_ instanceof HTMLElement&&_.blur()};t.clearCurrentFocus=()=>{(0,t.blurCurrentFocus)(),v(void 0)};t.handleManualFocus=e=>{if(!(0,a.isNavigable)(e))return void v(void 0);const n=(0,t.getActiveElement)();if((document&&n instanceof HTMLTextAreaElement||n instanceof HTMLInputElement)&&(0,d.setActiveInputElement)(n),e!==_&&(0,a.isFocusable)(e)){if((0,u.isScrollable)(e)){let t=(0,a.getNestedInteractableChildren)(e);0!==t.length&&(t=t.filter((e=>(0,i.isViewOnParentContainer)(e))),0!==t.length&&(e=t[0]))}if(!(0,l.isElementInValidFocusContext)(e))return void v(void 0);const n=(0,a.getParentGamepadInteractable)(e);if(n&&_&&n===_)return;n&&(e=n),_!==document.body&&(0,t.blurCurrentFocus)(),v(e)}};t.handleShadowDomFocusChange=()=>{const e=(0,t.getCurrentlyFocusedInteractable)();if(!e||e instanceof h.SyntheticElement||!(e.getRootNode()instanceof ShadowRoot))return;const n=(0,t.getActiveElement)();e!==n&&n instanceof HTMLElement&&(0,t.handleManualFocus)(n)}},55644:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isAButtonPressed=t.unregisterAButtonInput=t.registerAButtonInput=t.handleGamepadDisconnect=t.clearAButtonInputStack=void 0;const r=n(50068);let o=[];t.clearAButtonInputStack=()=>{o.length=0};t.handleGamepadDisconnect=e=>{o=o.filter((t=>t!==e)),(0,r.updateCurrentFocusPressStates)()};t.registerAButtonInput=e=>{o.some((t=>t===e))||(o.push(e),(0,r.updateCurrentFocusPressStates)())};t.unregisterAButtonInput=e=>{const t=o.findIndex((t=>t===e));t>-1&&o.splice(t,1),(0,r.updateCurrentFocusPressStates)()};t.isAButtonPressed=()=>o.length>0},6509:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.onButtonPress=t.onButtonPressEvent=t.onGenericButtonPressEvent=void 0;const r=n(61155),o=n(46769),i=n(93675),a=n(71437),s=n(38281),l=n(59273),c=n(58109),u=n(44804),d=n(22489),p=n(50068),m=n(47117),h=n(69463),g=n(55644),f=n(1525),_=n(49884),v=n(26179);t.onGenericButtonPressEvent=(e,t,n)=>{if(d.PollingModeManager.isCallbackPollingEnabled())switch(t){case"press":v.GamepadEventEmitter.emit(i.GamepadButtonEvent.GenericButtonDown,e);break;case"release":v.GamepadEventEmitter.emit(i.GamepadButtonEvent.GenericButtonUp,e);break;case"long-press":n&&v.GamepadEventEmitter.emit((0,i.getLongPressGamepadEvent)("generic",n),e)}};t.onButtonPressEvent=(e,t,n)=>{if(d.PollingModeManager.isCallbackPollingEnabled()){let r=(0,s.getCurrentlyFocusedInteractable)();switch(r instanceof HTMLElement||(r=void 0),t){case"press":v.GamepadEventEmitter.emit((0,i.getGamepadEvent)(e,"press")),(0,_.emitSyntheticButtonEvent)(e,"press",r);break;case"release":v.GamepadEventEmitter.emit((0,i.getGamepadEvent)(e,"release")),(0,_.emitSyntheticButtonEvent)(e,"release",r);break;case"long-press":n&&v.GamepadEventEmitter.emit((0,i.getLongPressGamepadEvent)(e,n))}}};t.onButtonPress=(e,t,n)=>{(0,a.clearCache)();const _=(0,s.getCurrentlyFocusedInteractable)(),y=(0,u.getDetailedInputMode)(),b=(0,u.getActiveInputMode)();if("gamepad"===y||((0,u.setInputMode)("gamepad",!0),(0,o.isFocusDriven)(b)||"a"!==e||(0,h.resetGamepadButtonState)(e,n),!(0,p.shouldSkipNextInput)(b)))switch(e){case"a":if((0,s.handleShadowDomFocusChange)(),!(0,c.isNonGamepadPressable)(_))switch(t){case"press":(0,r.areDefaultGamepadActionsEnabled)()&&d.PollingModeManager.isNavigationPollingEnabled()&&((0,g.registerAButtonInput)(n),_ instanceof HTMLElement&&(0,l.emitSyntheticMouseEvent)("mousedown",_));break;case"release":(0,r.areDefaultGamepadActionsEnabled)()&&d.PollingModeManager.isNavigationPollingEnabled()&&((0,g.unregisterAButtonInput)(n),_ instanceof HTMLElement&&((0,l.emitSyntheticMouseEvent)("click",_),(0,l.emitSyntheticMouseEvent)("mouseup",_),v.GamepadEventEmitter.emit(i.NavigationEvent.Press,_,!1)))}break;case"dpad-up":case"dpad-down":case"dpad-left":case"dpad-right":{const i=(0,o.mapDpadToFocusDirection)(e);switch(t){case"press":(0,r.areDefaultGamepadActionsEnabled)()&&d.PollingModeManager.isNavigationPollingEnabled()&&(0,m.registerDirectionalInput)(i,"dpad",n);break;case"release":(0,m.unregisterDirectionalInput)(i,"dpad",n)}return}case"left-bumper":if("press"===t)(0,r.areDefaultGamepadActionsEnabled)()&&d.PollingModeManager.isNavigationPollingEnabled()&&(0,f.bumperNavigate)("left");break;case"right-bumper":if("press"===t)(0,r.areDefaultGamepadActionsEnabled)()&&d.PollingModeManager.isNavigationPollingEnabled()&&(0,f.bumperNavigate)("right")}}},50068:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateCurrentFocusPressStates=t.shouldSkipNextInput=t.clearNavigationTimeouts=t.clearInputState=void 0;const r=n(83568),o=n(46769),i=n(38281),a=n(46709),s=n(47117),l=n(69463),c=n(55644),u=n(58109),d=n(2782);t.clearInputState=()=>{(0,t.clearNavigationTimeouts)(),(0,l.clearLongHoldTimeouts)(),(0,s.clearDirectionalInputStack)(),(0,c.clearAButtonInputStack)()};t.clearNavigationTimeouts=()=>{(0,a.clearTriggerRepeatInterval)(),(0,s.clearDirectionRepeats)()};t.shouldSkipNextInput=e=>{const t=(0,o.isFocusDriven)(e),n=(0,i.getCurrentlyFocusedInteractable)();return!t&&(!n||!(0,r.isScrollable)(n))};t.updateCurrentFocusPressStates=()=>{const e=(0,i.getCurrentlyFocusedInteractable)();e&&((0,u.setGamepadPressed)(e,(0,c.isAButtonPressed)()),(0,u.setKeyboardPressed)(e,(0,d.isEnterKeyPressed)()))}},47117:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.calculateDelay=t.unregisterDirectionalInput=t.registerDirectionalInput=t.handleGamepadDisconnect=t.clearDirectionalInputStack=t.clearDirectionRepeats=void 0;const r=n(93675),o=n(31904),i=n(26179);let a,s=0,l=[];t.clearDirectionRepeats=()=>{clearTimeout(a),s=0};t.clearDirectionalInputStack=()=>{l.length=0};t.handleGamepadDisconnect=e=>{const t=c();l=l.filter((t=>"arrow-key"===t.source||t.gamepadId!==e));const n=c();t!==n&&u(n)};t.registerDirectionalInput=(e,t,n=0)=>{const r=c();if(l.some((r=>r.direction===e&&r.source===t&&("arrow-key"===t||r.gamepadId===n))))return;const o={direction:e,source:t,..."arrow-key"!==t&&{gamepadId:n}};l.push(o),r!==e&&u(e)};t.unregisterDirectionalInput=(e,t,n=0)=>{const r=c(),o=l.findIndex((r=>r.direction===e&&r.source===t&&("arrow-key"===r.source||r.gamepadId===n)));o>-1&&l.splice(o,1);const i=c();r!==i&&u(i)};const c=()=>{if(l.length>0)return l[l.length-1].direction};t.calculateDelay=e=>{const t=50+250*Math.exp(-.5*e);return Math.floor(t)};const u=e=>{if((0,t.clearDirectionRepeats)(),!e)return;const n=e;a=setTimeout((function e(){s+=1,d(n),a=setTimeout(e,(0,t.calculateDelay)(s))}),(0,t.calculateDelay)(s)),d(e)},d=e=>{(0,o.spatialNavigate)(e);let t=r.NavigationEvent.NavigateUp;switch(e){case"up":t=r.NavigationEvent.NavigateUp;break;case"down":t=r.NavigationEvent.NavigateDown;break;case"left":t=r.NavigationEvent.NavigateLeft;break;case"right":t=r.NavigationEvent.NavigateRight}i.GamepadEventEmitter.emit(t)}},2782:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setEnterKeyReleased=t.setEnterKeyPressed=t.isEnterKeyPressed=void 0;const r=n(50068);let o;t.isEnterKeyPressed=()=>o;t.setEnterKeyPressed=()=>{const e=o;o=!0,e!==o&&(0,r.updateCurrentFocusPressStates)()};t.setEnterKeyReleased=()=>{const e=o;o=!1,e!==o&&(0,r.updateCurrentFocusPressStates)()}},47093:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isAButtonPressed=t.clearAButtonInputStack=t.unregisterAButtonInput=t.registerAButtonInput=t.clearNavigationTimeouts=t.clearInputState=t.setActiveInputElement=t.handleTextInput=t.onKeyPress=t.unregisterDirectionalInput=t.clearDirectionRepeats=t.clearDirectionalInputStack=t.handleGamepadDisconnect=t.setTriggerNavigationThreshold=t.getTriggerNavigationThreshold=t.onTrigger=t.onButtonPressEvent=t.onGenericButtonPressEvent=t.onButtonPress=void 0;const r=n(85608);var o=n(6509);Object.defineProperty(t,"onButtonPress",{enumerable:!0,get:function(){return o.onButtonPress}}),Object.defineProperty(t,"onGenericButtonPressEvent",{enumerable:!0,get:function(){return o.onGenericButtonPressEvent}}),Object.defineProperty(t,"onButtonPressEvent",{enumerable:!0,get:function(){return o.onButtonPressEvent}});var i=n(46709);Object.defineProperty(t,"onTrigger",{enumerable:!0,get:function(){return i.onTrigger}}),Object.defineProperty(t,"getTriggerNavigationThreshold",{enumerable:!0,get:function(){return i.getTriggerNavigationThreshold}}),Object.defineProperty(t,"setTriggerNavigationThreshold",{enumerable:!0,get:function(){return i.setTriggerNavigationThreshold}});var a=n(47117);Object.defineProperty(t,"handleGamepadDisconnect",{enumerable:!0,get:function(){return a.handleGamepadDisconnect}}),Object.defineProperty(t,"clearDirectionalInputStack",{enumerable:!0,get:function(){return a.clearDirectionalInputStack}}),Object.defineProperty(t,"clearDirectionRepeats",{enumerable:!0,get:function(){return a.clearDirectionRepeats}}),Object.defineProperty(t,"unregisterDirectionalInput",{enumerable:!0,get:function(){return a.unregisterDirectionalInput}}),r.__exportStar(n(70649),t);var s=n(51754);Object.defineProperty(t,"onKeyPress",{enumerable:!0,get:function(){return s.onKeyPress}});var l=n(81856);Object.defineProperty(t,"handleTextInput",{enumerable:!0,get:function(){return l.handleTextInput}}),Object.defineProperty(t,"setActiveInputElement",{enumerable:!0,get:function(){return l.setActiveInputElement}});var c=n(50068);Object.defineProperty(t,"clearInputState",{enumerable:!0,get:function(){return c.clearInputState}}),Object.defineProperty(t,"clearNavigationTimeouts",{enumerable:!0,get:function(){return c.clearNavigationTimeouts}});var u=n(55644);Object.defineProperty(t,"registerAButtonInput",{enumerable:!0,get:function(){return u.registerAButtonInput}}),Object.defineProperty(t,"unregisterAButtonInput",{enumerable:!0,get:function(){return u.unregisterAButtonInput}}),Object.defineProperty(t,"clearAButtonInputStack",{enumerable:!0,get:function(){return u.clearAButtonInputStack}}),Object.defineProperty(t,"isAButtonPressed",{enumerable:!0,get:function(){return u.isAButtonPressed}})},13600:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getJoystickNavigationThreshold=t.setJoystickNavigationThreshold=void 0;const r=n(12187);let o=.4;t.setJoystickNavigationThreshold=e=>{e>0&&e<1?o=e:console.warn(r.consolePrefix,"Joystick navigation threshold must be a number between 0 and 1")};t.getJoystickNavigationThreshold=()=>o},70649:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getJoystickNavigationThreshold=t.setJoystickNavigationThreshold=t.onRightStickInput=t.onLeftStickInput=void 0;var r=n(21428);Object.defineProperty(t,"onLeftStickInput",{enumerable:!0,get:function(){return r.onLeftStickInput}});var o=n(97691);Object.defineProperty(t,"onRightStickInput",{enumerable:!0,get:function(){return o.onRightStickInput}});var i=n(13600);Object.defineProperty(t,"setJoystickNavigationThreshold",{enumerable:!0,get:function(){return i.setJoystickNavigationThreshold}}),Object.defineProperty(t,"getJoystickNavigationThreshold",{enumerable:!0,get:function(){return i.getJoystickNavigationThreshold}})},21428:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.onLeftStickNavigation=t.onLeftStickInput=void 0;const r=n(23752),o=n(61155),i=n(71437),a=n(44804),s=n(22489),l=n(47117),c=n(50068),u=n(13600),d=new Map,p=new Map;t.onLeftStickInput=(e,n,i)=>{(0,o.areDefaultGamepadActionsEnabled)()&&s.PollingModeManager.isNavigationPollingEnabled()&&(0,t.onLeftStickNavigation)(e,n,i),s.PollingModeManager.isCallbackPollingEnabled()&&(0,r.onLeftStickCallbacks)(e,n,i)};t.onLeftStickNavigation=(e,t,n)=>{(0,i.clearCache)();const r=(0,a.getDetailedInputMode)(),o=(0,a.getActiveInputMode)(),s=(0,u.getJoystickNavigationThreshold)();if(!d.get(n)&&(Math.abs(e)>s||Math.abs(t)>s)){if("gamepad"!==r&&(0,a.setInputMode)("gamepad",!0),(0,c.shouldSkipNextInput)(o))return void d.set(n,!0);let i;i=Math.abs(t)>=Math.abs(e)?t<0?"up":"down":e<0?"left":"right";const s=p.get(n);s!==i&&(s&&(0,l.unregisterDirectionalInput)(s,"left-stick",n),p.set(n,i)),(0,l.registerDirectionalInput)(i,"left-stick",n)}else{const e=p.get(n);e&&(0,l.unregisterDirectionalInput)(e,"left-stick",n)}Math.abs(e)<s&&Math.abs(t)<s&&d.set(n,!1)}},97691:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.onRightStickNavigation=t.onRightStickInput=void 0;const r=n(23752),o=n(61155),i=n(71437),a=n(44804),s=n(22489),l=n(50068),c=n(13600),u=new Map;t.onRightStickInput=(e,n,i)=>{(0,o.areDefaultGamepadActionsEnabled)()&&s.PollingModeManager.isNavigationPollingEnabled()&&(0,t.onRightStickNavigation)(e,n,i),s.PollingModeManager.isCallbackPollingEnabled()&&(0,r.onRightStickCallbacks)(e,n,i)};t.onRightStickNavigation=(e,t,n)=>{(0,i.clearCache)();const r=(0,a.getActiveInputMode)(),o=(0,c.getJoystickNavigationThreshold)();!u.get(n)&&(Math.abs(e)>o||Math.abs(t)>o)&&(0,l.shouldSkipNextInput)(r)?u.set(n,!0):Math.abs(e)<o&&Math.abs(t)<o&&u.set(n,!1)}},51754:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.onKeyPress=void 0;const r=n(46769),o=n(93675),i=n(71437),a=n(38281),s=n(59273),l=n(71435),c=n(44804),u=n(22489),d=n(50068),p=n(47117),m=n(26179),h=n(2782);t.onKeyPress=(e,t,n,g)=>{(0,i.clearCache)();const f=(0,c.getDetailedInputMode)(),_=(0,c.getActiveInputMode)();if(e!==r.NavigationKey.Escape&&e!==r.NavigationKey.TVRemoteBack&&e!==r.NavigationKey.Enter&&("keyboard"!==f&&(0,c.setInputMode)("keyboard",!0,e===r.NavigationKey.Tab),n?.(),(0,d.shouldSkipNextInput)(_)))return!0;const v=(0,a.getCurrentlyFocusedInteractable)();switch(e){case r.NavigationKey.Enter:if((0,a.handleShadowDomFocusChange)(),v&&u.PollingModeManager.isNavigationPollingEnabled())if("press"===t||"repeat"===t){if((0,h.setEnterKeyPressed)(),v instanceof HTMLElement&&m.GamepadEventEmitter.emit(o.NavigationEvent.Press,v,!0),v instanceof HTMLButtonElement||v instanceof HTMLAnchorElement)return!1;if(v instanceof HTMLElement)return(0,s.emitSyntheticMouseEvent)("click",v),!0}else(0,h.setEnterKeyReleased)();break;case r.NavigationKey.ArrowUp:case r.NavigationKey.ArrowDown:case r.NavigationKey.ArrowLeft:case r.NavigationKey.ArrowRight:{let n;switch(e){case r.NavigationKey.ArrowUp:n="up";break;case r.NavigationKey.ArrowDown:n="down";break;case r.NavigationKey.ArrowLeft:n="left";break;case r.NavigationKey.ArrowRight:n="right"}switch(t){case"press":case"repeat":u.PollingModeManager.isNavigationPollingEnabled()&&(0,p.registerDirectionalInput)(n,"arrow-key");break;case"release":(0,p.unregisterDirectionalInput)(n,"arrow-key")}return!0}case r.NavigationKey.Tab:if(!u.PollingModeManager.isNavigationPollingEnabled())return!1;if("press"===t||"repeat"===t)return(0,l.tabNavigate)(!!g)}return!1}},81856:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.handleTextInput=t.getActiveInputElement=t.setActiveInputElement=void 0;const r=n(46769),o=n(47093),i=n(58109),a=n(38281);let s,l=!1,c=!1;t.setActiveInputElement=e=>{s!=e&&(l=(0,i.isNonStandardInput)(e)),s=e};t.getActiveInputElement=()=>s;t.handleTextInput=(e,t)=>{const n=(0,a.getActiveElement)(),i=n instanceof HTMLTextAreaElement,u=n instanceof HTMLInputElement;if((i||u)&&e!==r.NavigationKey.Tab)if(n){if(i||u&&e!=r.NavigationKey.ArrowUp&&e!=r.NavigationKey.ArrowDown){if(s!=n&&(l=!1),s=n,e==r.NavigationKey.TVRemoteBack&&(c=!0),(e==r.NavigationKey.Escape||e==r.NavigationKey.TVRemoteBack)&&"release"===t)return l=!0,s=void 0,!0;if(!l)return(0,o.clearDirectionRepeats)(),(0,o.clearDirectionalInputStack)(),!1}}else s=void 0;if(c)return c=!1,!0}},46709:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.onTriggerNavigation=t.onTrigger=t.clearTriggerRepeatInterval=t.getTriggerNavigationThreshold=t.setTriggerNavigationThreshold=void 0;const r=n(93196),o=n(61155),i=n(71437),a=n(28540),s=n(44804),l=n(22489),c=n(12187);let u=.25;t.setTriggerNavigationThreshold=e=>{e>0&&e<1?u=e:console.warn(c.consolePrefix,"Trigger navigation threshold must be a number between 0 and 1")};t.getTriggerNavigationThreshold=()=>u;const d=new Map,p=new Map;let m,h;t.clearTriggerRepeatInterval=()=>{clearTimeout(m),h=void 0};t.onTrigger=(e,n,i)=>{(0,o.areDefaultGamepadActionsEnabled)()&&l.PollingModeManager.isNavigationPollingEnabled()&&(0,t.onTriggerNavigation)(e,n,i),l.PollingModeManager.isCallbackPollingEnabled()&&("left"===i?(0,r.onLeftTriggerCallbacks)(n,e):(0,r.onRightTriggerCallbacks)(n,e))};t.onTriggerNavigation=(e,n,r)=>{(0,i.clearCache)();const o="left"===r?d:p;o.get(e)&&n>u?((0,t.clearTriggerRepeatInterval)(),h=r,l.PollingModeManager.isNavigationPollingEnabled()&&((0,a.triggerNavigate)(r),m=setInterval((()=>{(0,i.clearCache)(),(0,a.triggerNavigate)(r)}),350)),o.set(e,!1),(0,s.setInputMode)("gamepad",!0)):n<u&&(h==r&&(0,t.clearTriggerRepeatInterval)(),o.set(e,!0))}},44804:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.returnToFocusDrivenInputMode=t.setInputMode=t.updateRootInputModes=t.detailedInputModeFocusDrivenAttribute=t.detailedInputModeDataAttribute=t.activeInputModeFocusDrivenAttribute=t.activeInputModeDataAttribute=t.isInputModeFocusDriven=t.getActiveInputMode=t.getDetailedInputMode=t.getLastFocusDrivenInputMode=t.setDoesDefaultToFocusDrivenInputMode=t.doesDefaultToFocusDrivenInputMode=void 0;const r=n(93675),o=n(46769),i=n(24072),a=n(38281),s=n(49042),l=n(22489),c=n(59273),u=n(47093),d=n(26179);let p=!1;t.doesDefaultToFocusDrivenInputMode=()=>p;t.setDoesDefaultToFocusDrivenInputMode=e=>{p=e};let m="gamepad";t.getLastFocusDrivenInputMode=()=>m;let h="mouse";t.getDetailedInputMode=()=>h;let g="mouse";t.getActiveInputMode=()=>g;t.isInputModeFocusDriven=()=>(0,o.isFocusDriven)(g),t.activeInputModeDataAttribute="data-active-input",t.activeInputModeFocusDrivenAttribute="data-active-input-focus",t.detailedInputModeDataAttribute="data-detailed-input",t.detailedInputModeFocusDrivenAttribute="data-detailed-input-focus";t.updateRootInputModes=()=>{const e=(0,o.isFocusDriven)(g);document.documentElement.setAttribute(t.activeInputModeFocusDrivenAttribute,e.toString()),document.documentElement.setAttribute(t.activeInputModeDataAttribute,g);const n=(0,o.isFocusDriven)(h);document.documentElement.setAttribute(t.detailedInputModeFocusDrivenAttribute,n.toString()),document.documentElement.setAttribute(t.detailedInputModeDataAttribute,h)};t.setInputMode=(e,n,p)=>{if(h===e||"mouse"===h&&"passive-mouse"===e)return;const f=(0,o.isFocusDriven)(g)!==(0,o.isFocusDriven)(e)&&"passive-mouse"!==e||"passive-mouse"===h&&"mouse"===e;if(g!==e&&"passive-mouse"!==e&&(g=e,d.GamepadEventEmitter.emit(r.InputModeEvent.ChangeActiveMode,e)),h!==e&&(h=e,d.GamepadEventEmitter.emit(r.InputModeEvent.ChangeDetailedMode,e)),"passive-mouse"===h||"mouse"===h?(0,c.unregisterMouseMoveEvents)():(0,c.registerMouseMoveEvents)(),(0,t.updateRootInputModes)(),(0,o.isFocusDriven)(g)||((0,u.clearNavigationTimeouts)(),(0,u.clearInputState)()),f)if((0,o.isFocusDriven)(h)){if(m=h,n&&l.PollingModeManager.isNavigationPollingEnabled()){const e=(0,a.getCurrentlyFocusedInteractable)();if(e){if((0,i.isViewOnParentContainer)(e))return void e.focus();(0,s.findInitialFocus)(p)}else(0,s.findInitialFocus)(p)}}else n&&l.PollingModeManager.isNavigationPollingEnabled()&&(0,a.blurCurrentFocus)()};t.returnToFocusDrivenInputMode=()=>{(0,t.setInputMode)(m,!0)}},1525:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bumperNavigate=void 0;const r=n(60008),o=n(24072),i=n(38281),a=n(29485),s=n(58109),l=n(83568),c=n(49042),u=(e,t)=>{"left"===t?(0,s.sortElements)(e,["right-descending","top-ascending"]):(0,s.sortElements)(e,["left-ascending","top-ascending"])};t.bumperNavigate=e=>{const t=(0,i.getCurrentlyFocusedInteractable)();if(!t)return void(0,c.findInitialFocus)();let n,d,p=[];const m=-1;let h=1;const g="left"===e?"left":"right",f=[],_=(0,l.getScrollable)(t);if(_&&f.push(_),f.push(...(0,s.getParentScrollables)(t,(0,i.getCurrentlyFocusedInteractableParents)()).filter((e=>e.isHorizontal()&&"scroll"===e.getBumperBehavior()))),0!==f.length)for(;h!=m;)switch(h){case 1:{if(d=f.shift(),n=d?.getElement(),!n||!d||d.blocksScroll()){h=m;continue}p.length=0,p.push(...(0,s.getSearchableChildren)(n,!1,(e=>e==n))),p=p.filter((e=>(0,r.isGroup)(e)));const c=(0,o.searchForView)(n,g,p)?.element;if(c){if(p=(0,s.getNestedInteractableChildren)(c).filter((e=>(0,o.isViewOnParentContainer)(e,g)&&(0,o.isViewInCorrectDirection)(t,e,g))),u(p,e),0!==p.length){(0,a.positionInteractable)(p[0],"align-to-far-end",g),(0,i.setCurrentFocus)(p[0],!1),h=m;continue}{const e=(0,l.getScrollable)(c);if(e){(0,i.setCurrentFocus)(c),e.doesScrollOnFocus()&&e.isHorizontal()&&setTimeout((()=>e.scrollIfPossible(g)),0),h=m;continue}}}h=2;continue}case 2:if(d){const n=d.getElement();if(!n){h=m;continue}const r=d.getScrollAmount(g);if(d.getClippedScrollAmount(r)===r){d.scrollIfPossible(g),p=(0,s.getSearchableChildren)(n),p=p.filter((e=>(0,l.isScrollable)(e)));const r=(0,o.searchForView)(t,g,p)?.element;let c=n;r instanceof HTMLElement&&(c=r),p=(0,s.getNestedInteractableChildren)(c);let f=p.filter((e=>(0,o.isViewOnParentContainer)(e)&&(0,o.isViewInCorrectDirection)(t,e,g)));0===f.length&&(f=p.filter((e=>(0,o.isViewOnParentContainer)(e,g)&&(0,o.isViewInCorrectDirection)(t,e,g)))),0!==f.length?(u(f,e),(0,a.positionInteractable)(f[0],"align-to-far-end",g),(0,i.setCurrentFocus)(f[0],!1)):d.canScrollFurther(g)&&(n!==document.body&&(0,a.positionInteractable)(n,"align-to-far-end",g),(0,i.setCurrentFocus)(n,!1),d.setLastScrollDirectionWithoutFocus(g)),h=m;continue}{let r=!1;d.canScrollFurther(g)&&(d.scrollIfPossible(g),r=!0);let a=(0,s.getNestedInteractableChildren)(n);if(a=a.filter((e=>(0,o.isViewOnParentContainer)(e,g))),0!==a.length)if("right"==e){const e=a[a.length-1];if(e!=t){(0,i.setCurrentFocus)(e,!1),h=m;continue}}else{const e=a[0];if(e!=t){(0,i.setCurrentFocus)(e,!1),h=m;continue}}else r&&d.setLastScrollDirectionWithoutFocus(g);h=1;continue}}break;default:h=m}}},31904:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.spatialNavigate=void 0;const r=n(60008),o=n(46769),i=n(71437),a=n(24072),s=n(49042),l=n(96607),c=n(38281),u=n(58109),d=n(83568);var p;!function(e){e[e.Success=0]="Success",e[e.Stop=-1]="Stop",e[e.FindStartPoint=1]="FindStartPoint",e[e.SearchDownInGroup=2]="SearchDownInGroup",e[e.SearchUpInTree=3]="SearchUpInTree",e[e.FindNextFocusable=4]="FindNextFocusable",e[e.ScrollPriorCandidate=5]="ScrollPriorCandidate",e[e.FoundFocusableElement=6]="FoundFocusableElement",e[e.FoundPotentialScrollable=7]="FoundPotentialScrollable",e[e.SearchWithinGroup=8]="SearchWithinGroup",e[e.ScrollCurrentFocusedElement=9]="ScrollCurrentFocusedElement",e[e.ScrollCurrentNode=10]="ScrollCurrentNode",e[e.GoUpTree=11]="GoUpTree"}(p||(p={}));t.spatialNavigate=e=>{if((0,i.clearCache)(),(0,l.pruneActiveContainers)(),(0,l.pruneFocusedContainers)(),!(0,l.hasActiveFocusContext)())return;if((0,c.pruneCurrentlyFocusedInteractable)(),(0,c.updateScrollableFocusState)())return;const t=(0,c.getCurrentlyFocusedInteractable)();t?h(e)||m({currentNode:t,candidates:[],label:p.FindStartPoint,currentInGrid:(0,u.isGridElement)(t),skippedScrollables:[]},t,e):(0,s.findNewFocus)(!0)};const m=(e,t,n)=>{for(;;)switch(e.label){case p.FindStartPoint:{const n=(0,d.getScrollable)(t);if(n){const r=n.getLastFocusedChild();if(r){e.currentNode=r,e.candidates=[r],e.label=p.FindNextFocusable;break}e.currentGroup=t}else{if(t){e.label=p.SearchUpInTree;break}e.currentGroup=document.body,e.scrollableCandidate=(0,d.getScrollable)(document.body)}}case p.SearchDownInGroup:if(e.candidates.length=0,e.searchingParentScrollable=!1,e.currentGroup){if(e.candidates.push(...(0,u.getSearchableChildren)(e.currentGroup,!1)),(0,r.isGroup)(e.currentGroup)){const t=e.candidates.filter((e=>(0,u.isInitialChildInGroup)(e)));if(0!==t.length){e.next=t[0],e.label=p.FoundFocusableElement;break}}const t=(0,r.getGroup)(e.currentGroup);if(t){(0,d.isScrollable)(e.currentGroup)&&(e.searchingParentScrollable=!0);const o=t.isInGrid(),i=t.getElement();if(!e.currentInGrid&&o&&i){let t=(0,u.getSearchableChildren)(i);switch(t=t.filter((e=>(0,a.isViewOnParentContainer)(e,n))),n){case"down":case"right":(0,u.sortElements)(t,["top-ascending","left-ascending"]);break;case"up":(0,u.sortElements)(t,["bottom-descending","left-ascending"]);break;case"left":(0,u.sortElements)(t,["right-descending","top-ascending"])}if(t.length){if((0,r.isGroup)(t[0])){e.currentGroup=t[0],e.label=p.SearchDownInGroup;continue}e.next=t[0],e.label=p.FoundFocusableElement;break}}}}e.label=p.FindNextFocusable;break;case p.SearchUpInTree:if(e.candidates.length=0,e.currentGroup=void 0,e.parentGroupCapturesFocus=!1,e.searchingParentScrollable=!1,!e.currentNode){e.label=p.Stop;continue}{(0,d.getScrollable)(e.currentNode,!0)?.doesStopScrollPropagation()&&(e.didStopScrollPropagation=!0);const t=(0,r.getGroup)(e.currentNode);if(t&&!t.containsExitDirection(n)){e.label=p.Stop;continue}let i;if(i=e.currentNode instanceof o.VirtualElement&&e.currentNode.parentVirtualElement?e.currentNode.parentVirtualElement:(0,u.getParentGroupOrBody)(e.currentNode),!i){e.label=p.Stop;continue}const a=(0,r.getGroup)(i);a&&(e.currentInGrid=e.currentInGrid||a.isInGrid()),e.candidates.push(...(0,u.getSearchableChildren)(i,!1,(t=>(0,u.contains)(e.currentNode,t)||t===e.currentNode))),e.currentNode=i}case p.FindNextFocusable:if(0!==e.candidates.length){const r=(0,a.searchForView)(t,n,e.candidates,e.searchingParentScrollable);if(!e.parentGroupCapturesFocus&&r?.directionalRelation===a.DirectionalRelation.Correct){if(m({...e,next:void 0,label:p.ScrollPriorCandidate,nestedEntry:!0},t,n)){e.label=p.Success;continue}if(e.nestedEntry){e.label=p.Stop;continue}}e.next=r?.element}else e.next=void 0;case p.ScrollPriorCandidate:if(e.scrollableCandidate&&!e.next&&!e.nestedEntry){const t=e.scrollableCandidate.getElement();if(t){if((0,c.setCurrentFocus)(t),e.scrollableCandidate.doesScrollOnFocus()){const t=e.scrollableCandidate;setTimeout((()=>t.scrollIfPossible(n)),0)}e.label=p.Success;continue}}case p.FoundFocusableElement:if((0,u.isFocusable)(e.next)&&!(0,d.getScrollable)(e.next)?.doesScrollOnFocus()){if(e.nestedEntry)for(const t of e.skippedScrollables)t.scrollIfPossible(n);(0,c.setCurrentFocus)(e.next),(0,d.getScrollable)(e.next)&&(0,c.updateScrollableFocusState)(),e.label=p.Success;continue}case p.FoundPotentialScrollable:{const t=(0,d.getScrollable)(e.next);t&&(e.scrollableCandidate=t)}case p.SearchWithinGroup:{const t=(0,r.getGroup)(e.next);if(t){e.currentGroup=e.next,e.parentGroupCapturesFocus=t.doesCaptureFocus(),e.label=p.SearchDownInGroup;continue}}case p.ScrollCurrentFocusedElement:if(!e.nestedEntry&&(0,u.contains)(e.currentNode,t)){const r=(0,d.getScrollable)(t);if(t&&r&&!r.isVirtualized()&&!e.next&&r.canScrollFurther(n)){if(r.scrollIfPossible(n),r.canScrollFurther(n)){e.label=p.Success;continue}e.label=p.GoUpTree;continue}}case p.ScrollCurrentNode:if(!e.next&&e.currentNode&&!e.didStopScrollPropagation){const r=(0,d.getScrollable)(e.currentNode);if(r&&!r.isVirtualized()&&r.canScrollFurther(n)){if(!e.nestedEntry){const o=e.currentNode;setTimeout((()=>{r.scrollIfPossible(n),(0,a.isViewOnParentContainer)(t)||((0,c.setCurrentFocus)(o),r.setLastScrollDirectionWithoutFocus(n))}),0),e.label=p.Success;continue}e.skippedScrollables.push(r)}}case p.GoUpTree:e.label=p.SearchUpInTree;break;case p.Stop:return!1;case p.Success:return!0;default:e.label=p.Stop}},h=e=>{const t=(0,c.getCurrentlyFocusedInteractable)();if(!t)return!1;const n=[],o=(0,r.getGroup)(t);o&&n.push(o),n.push(...(0,u.getParentGroups)(t));for(const r of n){let t=!1;switch(e){case"up":t=r.onUp();break;case"down":t=r.onDown();break;case"left":t=r.onLeft();break;case"right":t=r.onRight()}if(t)return!0}return!1}},71435:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tabNavigate=t.onTabFocusEvent=void 0;const r=n(60008),o=n(24072),i=n(38281),a=n(29485),s=n(96607),l=n(58109),c=n(44804),u=n(49042),d=n(83568),p=()=>Array.from(document.querySelectorAll("button, [href], input, select, textarea"));t.onTabFocusEvent=e=>{if(e.relatedTarget||e.target===(0,i.getCurrentlyFocusedInteractable)()||!(0,c.isInputModeFocusDriven)());else{e.preventDefault(),e.stopPropagation();let n=!1;if(e.target instanceof HTMLElement){const t=p();n=t.indexOf(e.target)>t.length/2}const r=(0,i.getActiveElement)();if((0,i.getCurrentlyFocusedInteractable)()!==r&&r instanceof HTMLElement){const e=(()=>{let e=p();return e=e.filter((e=>{const t=e.getBoundingClientRect();return!(t.height<=0||t.width<=0||t.right<=-window.scrollX||t.bottom<=-window.scrollY||t.left>=document.body.clientWidth||t.top>=document.body.clientHeight)})),e})(),o=e.includes(r)?r:e[n?e.length-1:0];(0,s.isElementInValidFocusContext)(o)&&(0,l.isFocusable)(o)?(0,i.setCurrentFocus)(o):(0,t.tabNavigate)(n)}}};t.tabNavigate=e=>{const t=(0,s.getFocusContext)();if(t===s.FocusContext.None)return!1;const n=(0,i.getCurrentlyFocusedInteractable)();if(n){if((0,o.isViewOnParentContainer)(n)){for(const o of(0,l.getParentGroups)(n))if(o.onTab())return!0}else if((0,a.positionInteractable)(n))return!0}else(0,u.findInitialFocus)(!0);const r=[...(0,s.getActiveContainers)()];(0,l.sortFocusContainers)(r);let c=[];if(c=t===s.FocusContext.Global?m([(0,l.getSearchableChildren)(document.body,!1)],"all"):m(r.map((e=>{const t=e.getElement();return t?(0,l.getSearchableChildren)(t,!1):[]})),"all"),0===c.length)return!1;let d,h=!0,g=-1;if(n)d=n;else{if(t===s.FocusContext.Global)d=(0,i.getLastFocusedGlobalInteractable)();else{const e=(0,s.getPreviouslyFocusedContainers)();e&&e.length>0&&(d=e[e.length-1].lastFocusedInteractable)}h=!1}if(d){const n=c.indexOf(d);if(-1!==n)g=n;else{h=!1;let n=[];n=t===s.FocusContext.Global?(0,l.getNestedInteractableChildren)(document.body):n.concat(...r.map((e=>{const t=e.getElement();return t?(0,l.getNestedInteractableChildren)(t):[]})));const o=n.indexOf(d);if(-1!==o)if(e){n.splice(o,n.length-o);for(let e=n.length-1;e>=0;e--)if(c.includes(n[e])){g=c.indexOf(n[e]);break}}else{n.splice(0,o+1);for(const e of n)if(c.includes(e)){g=c.indexOf(e);break}}}}if(-1===g)g=0;else if(h)if(g+=e?-1:1,t===s.FocusContext.Specific)g=(g+c.length)%c.length;else{if(g<0){const e=p();for(let t=0;t<e.length;t++){const n=e[t];if(n instanceof HTMLElement&&(n.focus(),(0,i.getActiveElement)()===n))break}return!1}if(g>=c.length){const e=p();for(let t=e.length-1;t>=0;t--){const n=e[t];if(n instanceof HTMLElement&&(n.focus(),(0,i.getActiveElement)()===n))break}return!1}}return(0,i.setCurrentFocus)(c[g],!0,!0,!0),!0};const m=(e,t)=>{const n=[];for(const i of e){"last-in-view"===t&&i.reverse(),"initial-only"===t&&i.sort(((e,t)=>{const n=(0,l.isInitialChildInGroup)(e)?1:0;return((0,l.isInitialChildInGroup)(t)?1:0)-n}));for(const e of i){if(0!==n.length&&"all"!==t)return n;if((0,r.isGroup)(e)){const i=(0,r.getGroup)(e);if(!i)continue;if(("first-in-view"===t||"last-in-view"===t)&&!(0,o.isViewOnParentContainer)(e))continue;const a=i.getTabBehavior();let s=a;"all"!==t&&(s="all"===a?t:a),n.push(...m([(0,l.getSearchableChildren)(e,!1)],s))}else if((0,l.isFocusable)(e)){if(("first-in-view"===t||"last-in-view"===t)&&!(0,o.isViewOnParentContainer)(e))continue;n.push(e)}else(0,d.isScrollable)(e)&&n.push(...m([(0,l.getSearchableChildren)(e,!1)],t))}}return n}},28540:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.triggerNavigate=void 0;const r=n(60008),o=n(24072),i=n(38281),a=n(29485),s=n(58109),l=n(83568),c=n(49042),u=(e,t,n)=>{"left"===t&&"align-to-start"!==n?(0,s.sortElements)(e,["bottom-descending","left-ascending"]):(0,s.sortElements)(e,["top-ascending","left-ascending"])},d=(e,t)=>{"left"===t?(0,s.sortElements)(e,["bottom-ascending","left-ascending"]):(0,s.sortElements)(e,["bottom-descending","left-ascending"])};t.triggerNavigate=e=>{const t=(0,i.getCurrentlyFocusedInteractable)();if(!t)return void(0,c.findInitialFocus)();for(const r of(0,s.getParentScrollables)(t)){if("left"===e&&r.onLeftTrigger())return;if("right"===e&&r.onRightTrigger())return}let n,p,m=t,h="align-to-far-end",g=[];const f=-1;let _=1;const v="left"===e?"up":"down",y=[];let b;const S=(0,l.getScrollable)(t);if(S&&y.push(S),y.push(...(0,s.getParentScrollables)(t,(0,i.getCurrentlyFocusedInteractableParents)()).filter((e=>!e.isHorizontal()&&"none"!==e.getTriggerBehavior()))),0!==y.length)for(;_!=f;)switch(_){case 1:if(n=y.shift(),n?.blocksScroll()){_=f;continue}if(p=n?.getElement(),m=n?.getElement(),!m||!n||!p){if(b){const e=b.getElement();e&&(0,i.setCurrentFocus)(e)}_=f;continue}if(h=n.getScrollAlignment(),"align-to-next"===h&&(h="align-to-far-end"),"snap-to-groups"===n.getTriggerBehavior()){g.length=0,g.push(...(0,s.getSearchableChildren)(m,!1,(e=>e==m))),g=g.filter((e=>(0,r.isGroup)(e)));const n=(0,o.searchForView)(m,v,g)?.element;if(n){if(g=(0,s.getNestedInteractableChildren)(n).filter((e=>(0,o.isViewOnParentContainer)(e,v)&&(0,o.isViewInCorrectDirection)(t,e,v))),u(g,e,h),0!==g.length){(0,a.positionInteractable)(g[0],h,v),(0,i.setCurrentFocus)(g[0],!1),_=f;continue}{const e=(0,l.getScrollable)(n);if(e){(0,i.setCurrentFocus)(n),e.doesScrollOnFocus()&&!e.isHorizontal()&&setTimeout((()=>e.scrollIfPossible(v)),0),_=f;continue}}}}_=2;continue;case 2:if(n&&p){const l=n.getScrollAmount(v);if(n.getClippedScrollAmount(l)===l){let l;n.scrollIfPossible(v),"snap-to-groups"===n.getTriggerBehavior()&&(g=(0,s.getSearchableChildren)(p),g=g.filter((e=>(0,r.isGroup)(e)&&(!t||!(0,s.contains)(e,t)))),l=(0,o.searchForView)(t,v,g)?.element);let c=p;l instanceof HTMLElement&&(c=l,"snap-to-groups"===n.getTriggerBehavior()&&(0,a.positionInteractable)(c)),g=(0,s.getNestedInteractableChildren)(c);let d=g.filter((e=>(0,o.isViewOnParentContainer)(e)&&(0,o.isViewInCorrectDirection)(t,e,v)));0===d.length&&(d=g.filter((e=>(0,o.getSummedVisibilityInParentScrollables)(e)>.5&&(0,o.isViewInCorrectDirection)(t,e,v)))),0!==d.length?(u(d,e,h),(0,a.positionInteractable)(d[0],h,v),(0,i.setCurrentFocus)(d[0],!1)):n.canScrollFurther(v)&&(p!==document.body&&(0,a.positionInteractable)(p,h,v),(0,i.setCurrentFocus)(p,!1),n.setLastScrollDirectionWithoutFocus(v)),_=f;continue}{n.canScrollFurther(v)&&(n.scrollIfPossible(v),(0,o.isViewOnParentContainer)(t)||(b=n));let r=(0,s.getNestedInteractableChildren)(p);if(r=r.filter((e=>(0,o.isViewOnParentContainer)(e,v))),0!==r.length){p===t?u(r,e,h):d(r,e);const n=r[0];if(n){(0,i.setCurrentFocus)(n,!1),_=f;continue}}else b===n&&n.setLastScrollDirectionWithoutFocus(v);_=1;continue}}break;default:_=f}}},29485:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getBestFittingScrollOffsets=t.positionInteractableBasic=t.positionInteractable=void 0;var r=n(99063);Object.defineProperty(t,"positionInteractable",{enumerable:!0,get:function(){return r.positionInteractable}}),Object.defineProperty(t,"positionInteractableBasic",{enumerable:!0,get:function(){return r.positionInteractableBasic}});var o=n(60786);Object.defineProperty(t,"getBestFittingScrollOffsets",{enumerable:!0,get:function(){return o.getBestFittingScrollOffsets}})},99063:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.positionInteractable=t.positionInteractableBasic=void 0;const r=n(46769),o=n(71437),i=n(24072),a=n(58109),s=n(60786);t.positionInteractableBasic=(e,n)=>(0,t.positionInteractable)(e,void 0,void 0,n);t.positionInteractable=(e,t,n,r)=>{let o=e,i=!1;for(const s of(0,a.getParentScrollables)(e)){if(i=l(o,s,t,n,r)||i,s.doesStopScrollPropagation())return i;const e=s.getElement();if(!e||e===document.body)return i;o=e}return i};const l=(e,t,n,s,l)=>{const u=t.getElement();if(!u)return!1;const d=t.getSnapToStartThreshold(),p=t.getSnapToEndThreshold(),m=n??t.getScrollAlignment(),h=(0,o.getCachedBoundingClientRect)(u),g=t.isHorizontal(),f=g?h.left:h.top,_=g?h.right:h.bottom,v=g?(0,a.getScrollWidth)(u):(0,a.getScrollHeight)(u),y=g?h.width:h.height,b=g?t.getScrollLeft():t.getScrollTop(),S=v-(b+y),{scrollOffsetStart:E,scrollOffsetEnd:C,targetElement:T,doesFit:w}=c(e,t),I=f+E,P=_-C,A=P-I,k=(0,i.getAnticipatedDOMRect)(T,t),x=g?k.width:k.height,R=g?k.left:k.top,O=g?k.right:k.bottom,N=g?(0,r.isHorizontalDirection)(s):(0,r.isVerticalDirection)(s),M=N&&s===(g?"right":"down"),L=N&&s===(g?"left":"up");if(w&&"align-to-center"!==m){if("align-to-start"===m){let e=R-I;const n=b+e;n<=d&&O-e+n<_&&(e-=n);const r=v-(b+y+e);if(r<=p&&R-e-r>f&&(e+=r),0!==e)return t.scrollBy(e,l),!0}else if("align-to-far-end"===m){if(L){const e=O-P;if(0!==e)return t.scrollBy(e,l),!0}else if(M){const e=R-I;if(0!==e)return t.scrollBy(e,l),!0}else if(O>P){const e=R-I;if(0!==e)return t.scrollBy(e,l),!0}else if(R<I){const e=O-P;if(0!==e)return t.scrollBy(e,l),!0}}else if("align-to-next"===m)if(R<=I){let e=R-I;const n=b+e;if(n<=d&&O-e+n<_&&(e-=n),0!==e)return t.scrollBy(e,l),!0}else if(O>=P){let e=O-P;const n=S-e;if(n<=p&&R-e-n>f&&(e+=n),0!==e)return t.scrollBy(e,l),!0}else{const e=b;if(e<=d&&O+e<_&&0!==e)return t.scrollBy(-e,l),!0;const n=S;if(n<=p&&R-n>f&&0!==n)return t.scrollBy(n,l),!0}}else{let e=-(A-x)/2+R-I;const n=b+e,r=R>f&&O<_;if(n<=d)if(O-e+n<_)e-=n;else if(r)return!1;const o=v-(b+y+e);if(o<=p)if(R-e-o>f)e+=o;else if(r)return!1;if(0!==e)return t.scrollBy(e,l),!0}return!1},c=(e,t)=>{const n=t.getElement();if(!n)return{scrollOffsetStart:0,scrollOffsetEnd:0,targetElement:e,doesFit:!1};let r=null,o={scrollOffsetStart:0,scrollOffsetEnd:0};const{scrollOffsetStart:i,scrollOffsetEnd:l,offsetFit:c}=(0,s.getBestFittingScrollOffsets)(e,t);if(1===c)for(const u of(0,a.getParentGroups)(e)){const i=u.getElement();if(!i||(0,a.contains)(i,n))break;if("disabled"!==u.getGroupPositioning()){"forced"===u.getGroupPositioning()&&(e=i);const{scrollOffsetStart:n,scrollOffsetEnd:a,offsetFit:l}=(0,s.getBestFittingScrollOffsets)(i,t);if(1!==l){if(l>0)return{scrollOffsetStart:n,scrollOffsetEnd:a,targetElement:i,doesFit:!0};break}r=i,o={scrollOffsetStart:n,scrollOffsetEnd:a}}}return r?{...o,targetElement:r,doesFit:0!==c}:{scrollOffsetStart:i,scrollOffsetEnd:l,targetElement:e,doesFit:1===c}}},60786:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getBestFittingScrollOffsets=void 0;const r=n(71437),o=n(94685);t.getBestFittingScrollOffsets=(e,t)=>{const n=t.isHorizontal(),r=t.getScrollOffsets();let a=n?r.left:r.top,s=n?r.right:r.bottom;const l=i(e,t,a,s);if(a*=l,s*=l,1===l||0===l)return{scrollOffsetStart:a,scrollOffsetEnd:s,offsetFit:l};const c=(0,o.getDefaultScrollOffsets)(),u=n?c.left:c.top,d=n?c.right:c.bottom,p=a+s,m=u+d;if(m>p)return{scrollOffsetStart:u*(p/m),scrollOffsetEnd:d*(p/m),offsetFit:l};let h=a-u,g=s-d;return h<0?(g+=h,h=0):g<0&&(h+=g,g=0),{scrollOffsetStart:u+h,scrollOffsetEnd:d+g,offsetFit:l}};const i=(e,t,n,o)=>{const i=t.getElement();if(!i)return 0;const a=(0,r.getCachedBoundingClientRect)(i),s=(0,r.getCachedBoundingClientRect)(e),l=t.isHorizontal(),c=l?a.width:a.height,u=l?s.width:s.height;if(u+n+o<=c)return 1;if(u>=c)return 0;return(c-u)/(n+o)}},24072:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDirectionalRelation=t.DirectionalRelation=t.isViewInCorrectDirection=t.getVisibilityInDirectParentScrollable=t.getSummedVisibilityInParentScrollables=t.calculateVisiblePercentage=t.isViewOnParentContainer=t.getAnticipatedDOMRect=t.searchForView=t.FOCUSABLE_VISIBILITY_THRESHOLD=void 0;const r=n(60008),o=n(83568),i=n(46769),a=n(71437),s=n(95127),l=n(58109),c=n(29485),u=1e5;t.FOCUSABLE_VISIBILITY_THRESHOLD=.75;t.searchForView=(e,n,a,c)=>{if(!e)return;const u=((e,n,r,o)=>{const i=[];for(const a of r){if(e===a)continue;const r=(0,t.getDirectionalRelation)(e,a,n);if(r===d.Wrong)continue;const s=(0,t.getSummedVisibilityInParentScrollables)(a,n),c=o&&s>=.1,u=!o&&s>=.5,m=s>=.1;if((0,l.isFocusable)(a)&&!c&&!u||!m)continue;const h=p(a);h.directionalRelation=r,i.push(h)}return i})(e,n,a,c);if(0===u.length)return;const m=p(e,n),h=(0,s.partition)(u,m),g=(0,s.partition)(h[4],m),f=(0,s.createPriorities)(h,g,n);let _,{result:v,continueSearch:y}=(0,s.prioritize)(f,m),b=d.Correct;for(;v.length>0&&!_;){for(const e of v){const t=e.element;if(e.directionalRelation&&(b=e.directionalRelation),t instanceof i.SyntheticElement||(0,l.isFocusable)(t)||(0,o.isScrollable)(t)||0!==(0,l.getNestedInteractableChildren)(t).length){_=t;break}}if(_)break;if(!y)break;{const e=y();v=e.result,y=e.continueSearch}}if(_){const t=[],o=(0,r.getGroup)(_);o&&t.push(o),t.push(...(0,l.getParentGroups)(_));const i=(0,l.getParentGroups)(e);let a,s;if(0!==t.length&&(a=t[0]),0!==i.length&&(s=i[0]),a!=s)for(const e of i){if(-1==t.indexOf(e)&&!e.containsExitDirection(n))return}return{element:_,directionalRelation:b}}};t.getAnticipatedDOMRect=(e,t,n)=>{const r=t?[t]:(0,l.getParentScrollables)(e);if(n=n??(0,a.getCachedBoundingClientRect)(e),(0,l.isFixed)(e))return n;let o=n.left,i=n.top,s=n.right,c=n.bottom;for(const a of r)o-=a.getAnticipatedLeftDifference(),i-=a.getAnticipatedTopDifference(),s-=a.getAnticipatedLeftDifference(),c-=a.getAnticipatedTopDifference();return new DOMRect(o,i,s-o,c-i)};t.isViewOnParentContainer=(e,n)=>{const r=(0,t.getSummedVisibilityInParentScrollables)(e,n);return(0,l.isFocusable)(e)?r>(n?.5:t.FOCUSABLE_VISIBILITY_THRESHOLD):r>(n?.1:.2)};t.calculateVisiblePercentage=(e,t)=>{const n=Math.max(0,Math.min(e.right,t.right)-Math.max(e.left,t.left))*Math.max(0,Math.min(e.bottom,t.bottom)-Math.max(e.top,t.top)),r=Math.min(e.width,t.width)*Math.min(e.height,t.height);return 0===r?0:n/r};t.getSummedVisibilityInParentScrollables=(e,n)=>{if(e===document.body)return 1;const r=(0,l.getParentScrollables)(e);if(0===r.length){const n=(0,a.getCachedBoundingClientRect)(e),r=(0,a.getCachedBoundingClientRect)(document.body);return(0,t.calculateVisiblePercentage)(n,r)}{let o=e,i=1;for(let e=0;e<r.length;e++){const a=r[e];i*=(0,t.getVisibilityInDirectParentScrollable)(o,a,n);const s=a.getElement();if(!s)return 0;o=s}return i}};t.getVisibilityInDirectParentScrollable=(e,n,r)=>{const o=n.getElement();if(!o)return 0;let i=(0,a.getCachedBoundingClientRect)(o);const s=(0,t.getAnticipatedDOMRect)(e,n);return r&&(i=((e,t,n)=>{if(!t.getElement())return e;let{scrollOffsetStart:r,scrollOffsetEnd:o}=(0,c.getBestFittingScrollOffsets)(n,t),i=e.left,a=e.top,s=e.right,l=e.bottom;return t.isHorizontal()?(Math.abs(t.getClippedScrollAmount(t.getScrollAmount("left")))<=r&&(r=0),t.getClippedScrollAmount(t.getScrollAmount("right"))<=o&&(o=0),i+=r,s-=o):(Math.abs(t.getClippedScrollAmount(t.getScrollAmount("up")))<=r&&(r=0),t.getClippedScrollAmount(t.getScrollAmount("down"))<=o&&(o=0),a+=r,l-=o),new DOMRect(i,a,s-i,l-a)})(i,n,e),i=((e,t,n)=>{const r=e.getSnapToStartThreshold(),o=e.getSnapToEndThreshold();let{top:i,left:a,bottom:s,right:l}=t;if(!e.isHorizontal()&&("up"===n||"down"===n)||e.isHorizontal()&&("left"==n||"right"==n)){const t=e.getScrollAmount(n),c=e.getClippedScrollAmount(t);switch(n){case"up":i+=c-r;break;case"down":s+=c+o;break;case"left":a+=c-r;break;case"right":l+=c+o}}return new DOMRect(a,i,l-a,s-i)})(n,i,r)),(0,t.calculateVisiblePercentage)(s,i)};var d;t.isViewInCorrectDirection=(e,n,r)=>(0,t.getDirectionalRelation)(e,n,r)!==d.Wrong,function(e){e.Aligned="aligned",e.Correct="correct",e.Wrong="wrong"}(d||(t.DirectionalRelation=d={}));t.getDirectionalRelation=(e,n,r)=>{if(!e)return d.Aligned;const i=((e,n,r)=>{let i;if(e instanceof HTMLElement){const t=(0,o.getScrollable)(e);if(t&&(0,l.contains)(e,n)){let n=t.getLastFocusedRect();const o=t.getLastFocusedOffset();if(n&&void 0!==o){const e=o-(t.isHorizontal()?t.getScrollLeft():t.getScrollTop());n=t.isHorizontal()?new DOMRect(n.x+e,n.y,n.width,n.height):new DOMRect(n.x,n.y+e,n.width,n.height)}else n=(0,a.getCachedBoundingClientRect)(e);i=(0,a.getCachedBoundingClientRect)(e);const s=t.getLastScrollDirectionWithoutFocus();switch(r){case"up":i=new DOMRect(n.left,"up"===s?n.top:n.bottom,i.width,1);break;case"down":i=new DOMRect(n.left,"down"===s?n.bottom:n.top,i.width,1);break;case"left":i=new DOMRect("left"===s?n.left:n.right,n.top,1,i.height);break;case"right":i=new DOMRect("right"===s?n.right:n.left,n.top,1,i.height)}}}return i||(i=(0,t.getAnticipatedDOMRect)(e)),i})(e,n,r),s=(0,t.getAnticipatedDOMRect)(n);if(i===s||i.left<=s.left&&i.right>=s.right&&i.top<=s.top&&i.bottom>=s.bottom)return d.Wrong;const c=s.left+s.width/2,u=s.top+s.height/2;switch(r){case"up":if(u-5<i.top)return i.right>s.left&&i.left<s.right?d.Aligned:d.Correct;break;case"down":if(u+5>i.bottom)return i.right>s.left&&i.left<s.right?d.Aligned:d.Correct;break;case"left":if(c-5<i.left)return i.bottom>s.top&&i.top<s.bottom?d.Aligned:d.Correct;break;case"right":if(c+5>i.right)return i.bottom>s.top&&i.top<s.bottom?d.Aligned:d.Correct}return d.Wrong};const p=(e,t)=>{let n;n=e?(0,a.getCachedBoundingClientRect)(e):new DOMRect(0,0,(0,a.getCachedInnerWidth)(),1);const r="up"===t?u:"down"===t?-1e5:0,o="left"===t?u:"right"==t?-1e5:0;return{left:n.left+o,right:n.right+o,top:n.top+r,bottom:n.bottom+r,height:n.height,width:n.width,centerX:n.left+o+n.width/2,centerY:n.top+r+n.height/2,element:e}}},95127:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.prioritize=t.createPriorities=t.partition=void 0;t.partition=(e,t)=>{const n=new Array(9).fill(null).map((()=>[]));for(let r=0;r<e.length;r++){const o=e[r];let i,a;i=o.centerX<=t.left?0:o.centerX<=t.right?1:2,a=o.centerY<=t.top?0:o.centerY<=t.bottom?1:2;const s=3*a+i;if(n[s].push(o),0===s||2===s||6===s||8===s){const e=.5;o.left<=t.right-t.width*e&&(2===s?n[1].push(o):8===s&&n[7].push(o)),o.right>=t.left+t.width*e&&(0===s?n[1].push(o):6===s&&n[7].push(o)),o.top<=t.bottom-t.height*e&&(6===s?n[3].push(o):8===s&&n[5].push(o)),o.bottom>=t.top+t.height*e&&(0===s?n[3].push(o):2===s&&n[5].push(o))}}return n};t.createPriorities=(e,t,n)=>{const r=[];switch(n){case"left":const n=[];n.push(...t[0]),n.push(...t[3]),n.push(...t[6]);const o=[];o.push("near-plumb-line-is-better"),o.push("top-is-better");const i=[];i.push(...e[0]),i.push(...e[6]);const a=[];a.push("near-horizon-is-better"),a.push("right-is-better"),a.push("near-target-top-is-better"),r.push({group:n,distance:o}),r.push({group:e[3],distance:o}),r.push({group:i,distance:a});break;case"right":const s=[];s.push(...t[2]),s.push(...t[5]),s.push(...t[8]);const l=[];l.push("near-plumb-line-is-better"),l.push("top-is-better");const c=[];c.push(...e[2]),c.push(...e[8]);const u=[];u.push("near-horizon-is-better"),u.push("left-is-better"),u.push("near-target-top-is-better"),r.push({group:s,distance:l}),r.push({group:e[5],distance:l}),r.push({group:c,distance:u});break;case"up":const d=[];d.push(...t[0]),d.push(...t[1]),d.push(...t[2]);const p=[];p.push("near-horizon-is-better"),p.push("left-is-better");const m=[];m.push(...e[0]),m.push(...e[2]);const h=[];h.push("near-plumb-line-is-better"),h.push("bottom-is-better"),h.push("near-target-left-is-better"),r.push({group:d,distance:p}),r.push({group:e[1],distance:p}),r.push({group:m,distance:h});break;case"down":const g=[];g.push(...t[6]),g.push(...t[7]),g.push(...t[8]);const f=[];f.push("near-horizon-is-better"),f.push("left-is-better");const _=[];_.push(...e[6]),_.push(...e[8]);const v=[];v.push("near-plumb-line-is-better"),v.push("top-is-better"),v.push("near-target-left-is-better"),r.push({group:g,distance:f}),r.push({group:e[7],distance:f}),r.push({group:_,distance:v})}return r};t.prioritize=(e,t)=>{const r=n=>{let i=n;for(;i<e.length;){const n=e[i];if(n.group.length>0){return{result:o(n.group,n.distance,t),continueSearch:()=>r(i+1)}}i++}return{result:[]}},o=(e,t,r)=>e.sort(((e,o)=>{for(let i=0;i<t.length;i++){const a=n(t[i],r,e)-n(t[i],r,o);if(0!==a)return a}return 0}));return r(0)};const n=(e,t,n)=>{switch(e){case"near-plumb-line-is-better":return r(t,n);case"near-horizon-is-better":return o(t,n);case"near-target-left-is-better":return i(t,n);case"near-target-top-is-better":return a(t,n);case"top-is-better":return s(n);case"bottom-is-better":return l(n);case"left-is-better":return c(n);case"right-is-better":return u(n);default:return 0}},r=(e,t)=>{let n;return n=t.centerX<e.centerX?e.centerX-t.right:t.left-e.centerX,n<0?0:n},o=(e,t)=>{let n;return n=t.centerY<e.centerY?e.centerY-t.bottom:t.top-e.centerY,n<0?0:n},i=(e,t)=>{let n;return n=t.centerX<e.centerX?e.left-t.right:t.left-e.left,n<0?0:n},a=(e,t)=>{let n;return n=t.centerY<e.centerY?e.top-t.bottom:t.top-e.top,n<0?0:n},s=e=>e.top,l=e=>-1*e.bottom,c=e=>e.left,u=e=>-1*e.right},49042:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findOptimalChild=t.buildPriorityTree=t.findInitialFocus=t.shiftFocus=t.findNewFocus=t.setGlobalRefocusTargetRect=void 0;const r=n(24072),o=n(58109),i=n(96607),a=n(38281),s=n(44804),l=n(83568),c=n(71437),u=n(60008),d=n(12370),p=n(29485);let m;t.setGlobalRefocusTargetRect=e=>{m=e};t.findNewFocus=e=>{const n=(0,i.getFocusContext)();if(n!==i.FocusContext.None){if(n===i.FocusContext.Global)(0,a.resetLastRememberedGlobalFocus)();else for(const e of(0,i.getActiveContainers)())e.lastFocusedInteractable=void 0;(0,a.clearCurrentFocus)(),(0,t.findInitialFocus)(!1,void 0,e)}};t.shiftFocus=(e,n=!1,r)=>{if(!e)return;const l=(0,a.getCurrentlyFocusedInteractable)();if(l&&(0,o.contains)(e,l))return;if(!(0,s.isInputModeFocusDriven)())return;let u;const h=(0,i.getFocusContext)(),g=(0,d.getFocusContainer)(e)??(0,o.getParentFocusContainer)(e);if(g){if(g.isLoading())return void g.setSearchScope(e);g.setSearchScope(void 0),u=g.getRefocusTargetRect(),g.setRefocusTargetRect(void 0)}else{if((0,d.isGlobalFocusLoading)())return void(0,d.setGlobalSearchScope)(e);if((0,d.setGlobalSearchScope)(void 0),h===i.FocusContext.Global)u=m,m=void 0;else for(const t of(0,i.getActiveContainers)())(0,o.contains)(e,t.getElement())&&(u||(u=t.getRefocusTargetRect()),t.setRefocusTargetRect(void 0))}if(h===i.FocusContext.None)return;let f;if(u&&(f=(0,o.findClosestChild)([e],u),f))return void(0,a.setCurrentFocus)(f,n,!1);(0,c.clearCache)();const _=(0,t.buildPriorityTree)(e,!!r);return f=(0,t.findOptimalChild)(_),f?((0,o.doesForcedAutoFocus)(f)&&(0,p.positionInteractableBasic)(f,!0),void(0,a.setCurrentFocus)(f,n,!1)):void 0};t.findInitialFocus=(e=!1,n,l)=>{if(!(0,s.isInputModeFocusDriven)())return;const u=(0,i.getFocusContext)();if(u===i.FocusContext.None)return;let p,m;(0,c.clearCache)(),(0,a.pruneCurrentlyFocusedInteractable)();let h=document.body;if(n)if(n instanceof d.InnerFocusContainer){m=n;const e=n.getElement();e&&(h=e)}else m=(0,d.getFocusContainer)(n),h=n;if(u===i.FocusContext.Global)p=(0,a.getLastFocusedGlobalInteractable)();else{const e=(0,i.getPreviouslyFocusedContainers)(),t=(0,i.getActiveContainers)();for(let n=e.length;n>=0;n--)if((!m||e[n]===m)&&t.includes(e[n])){p=e[n].lastFocusedInteractable;break}}p&&(p===document.body||(0,o.contains)(document.body,p)&&(0,r.isViewOnParentContainer)(p)&&(0,o.isElementVisible)(p))?(0,a.setCurrentFocus)(p,!1,!1):(0,t.shiftFocus)(h,l,e)};t.buildPriorityTree=(e,t)=>{const n=e=>{const i={element:e,hasLeaf:!1,hasVisibleLeaf:!1,amountVisible:(0,r.getSummedVisibilityInParentScrollables)(e),priority:0};let a;if(i.priority=((e,n)=>{if(t&&(0,o.doesTabHiddenAutoFocus)(e)||(0,o.doesForcedAutoFocus)(e))return 6;const i=(0,o.isFocusable)(e);if(n>=r.FOCUSABLE_VISIBILITY_THRESHOLD){if(t&&(0,o.doesTabAutoFocus)(e)||!t&&(0,o.doesAutoFocus)(e))return 5*n;if(t&&(0,o.doesAutoFocus)(e))return 4*n;if((0,o.isInitialChildInGroup)(e))return 3*n;if(!i&&(0,l.isScrollable)(e))return 2*Math.min(n/.66,1);if(i||(0,u.isGroup)(e))return 2*n}return 1*n})(e,i.amountVisible),(0,l.isScrollable)(e)){if(a=(0,o.getSearchableChildren)(e),0===a.filter((e=>(0,r.isViewOnParentContainer)(e))).length)return i.hasLeaf=!0,i.hasVisibleLeaf=i.amountVisible>=r.FOCUSABLE_VISIBILITY_THRESHOLD,i}else if((0,o.isFocusable)(e)&&!(0,o.doesWrappedAutoFocus)(e))return i.hasLeaf=!0,i.hasVisibleLeaf=i.amountVisible>=r.FOCUSABLE_VISIBILITY_THRESHOLD,i;a||(a=(0,o.getSearchableChildren)(e));let s=0;for(const t of a){const e=n(t);e.priority>s&&e.hasLeaf?(s=e.priority,i.highestPriorityChild=e,i.hasLeaf=!0,i.hasVisibleLeaf=e.hasVisibleLeaf):e.priority===s&&e.hasVisibleLeaf&&!i.hasVisibleLeaf&&(i.highestPriorityChild=e,i.hasVisibleLeaf=!0)}return s>=r.FOCUSABLE_VISIBILITY_THRESHOLD?i.priority=Math.max(i.priority,s):i.priority=s,i};return n(e)};t.findOptimalChild=e=>{let t=e;for(;t.highestPriorityChild;)t=t.highestPriorityChild;return t.hasLeaf?t.element:void 0}},43863:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findClosestChild=t.findClosestChildFromChildren=t.getChildNodes=t.getChildren=t.getSearchableChildren=t.getNestedInteractableChildren=t.getInteractableChildren=t.contains=void 0;const r=n(12370),o=n(60008),i=n(96607),a=n(93123),s=n(24165),l=n(71437),c=n(46769),u=n(42385),d=n(24072),p=n(42385);t.contains=(e,t)=>{if(!e||!t)return!1;if(e instanceof c.VirtualElement&&t instanceof c.VirtualElement)return t.parentVirtualElement===e;if(e instanceof c.SyntheticElement)return!1;if(t instanceof c.SyntheticElement&&(t=t.parentElement),e.getRootNode()!==t.getRootNode()){let n=(0,p.getDirectParent)(t);for(;n&&e.getRootNode()!==n.getRootNode();)n=(0,p.getDirectParent)(n);return e.contains(n)}return e.contains(t)??!1};t.getInteractableChildren=(e,n=!1,r=!1,o)=>(0,t.getChildren)(e,(t=>(0,a.isFocusable)(t)&&(n||t!==e)),r,o);t.getNestedInteractableChildren=e=>(0,t.getInteractableChildren)(e,!1,!0);t.getSearchableChildren=(e,n=!1,r)=>e instanceof c.SyntheticElement?n?[e]:[]:(0,t.getChildren)(e,(t=>((0,a.isFocusable)(t)||(0,o.isGroup)(t))&&(n||t!==e)),!1,r);t.getChildren=(e,n,o=!1,s)=>{if(!(e instanceof HTMLElement))return[];const l=(0,i.getFocusContext)();if(l===i.FocusContext.None)return[];if(e instanceof HTMLElement&&(0,a.isNonNavigable)(e))return[];const c=(0,i.getActiveContainers)(),u=[];if(l===i.FocusContext.Global)return(0,r.isFocusContainer)(e)?[]:m(e,n,o,s);for(const r of c){const i=r.getElement();if(i){if((0,t.contains)(i,e)&&e!==i)return u.push(...m(e,n,o,s)),u;if((0,t.contains)(e,i)){let t=i;for(;t&&t!==e;)t instanceof HTMLElement&&(0,a.isNonNavigable)(t)||(t=(0,p.getDirectParent)(t));u.push(...m(i,n,o,s))}if(e===i)break}}return u};const m=(e,n,o,i)=>{let s=[];if(e instanceof HTMLElement&&((0,a.isNonNavigable)(e)||(0,a.isNonSearchable)(e)||i?.(e)))return s;if(n(e)&&(s.push(e),!o))return s;let c;(0,a.isVirtualContainer)(e)&&(c=(0,u.getParentScrollable)(e));let p=Number.MAX_SAFE_INTEGER,g=Number.MIN_SAFE_INTEGER;for(const l of(0,t.getChildNodes)(e))if(!(0,r.isFocusContainer)(l)){if(c&&(0,a.isVirtualItem)(l)){const e=(0,d.getAnticipatedDOMRect)(l),t=c.isHorizontal(),n=t?e.left:e.top,r=t?e.right:e.bottom;p=Math.min(p,n),g=Math.max(g,r)}s.push(...m(l,n,o,i))}const f=c?.getElement();if(c&&c.isVirtualized()&&f){const t=c.isHorizontal(),n=(0,d.getAnticipatedDOMRect)(f),r=(0,d.getAnticipatedDOMRect)(e),o=.5*(t?n.width:n.height);let i=(t?n.left:n.top)-o,a=(t?n.right:n.bottom)+o;t?(i=Math.max(i,r.left),a=Math.min(a,r.right)):(i=Math.max(i,r.top),a=Math.min(a,r.bottom));const u=(t?n.left+(0,l.getCachedClientLeft)(f):n.top+(0,l.getCachedClientTop)(f))-(t?c.getScrollLeft():c.getScrollTop());i-=u,a-=u,p-=u,g-=u,p<i&&(p=i,g=Math.max(i,g)),g>a&&(g=a,p=Math.min(a,p));const m=t?(0,l.getCachedScrollWidth)(f):(0,l.getCachedScrollHeight)(f);if(i=Math.min(Math.max(0,i),m),a=Math.min(Math.max(0,a),m),p=Math.min(Math.max(0,p),m),g=Math.min(Math.max(0,g),m),i<p){s=[...h(i,p,c),...s]}if(g<a){const e=h(g,a,c);s.push(...e)}}return s},h=(e,t,n)=>{if(t<e)return[];const r=[];let o=e;for(;;){const i=n.getVirtualItemAtOffset(o);if(!i)break;const a=n.isHorizontal()?i.width:i.height,s=n.isHorizontal()?i.x:i.y;if(o+=a,t<s+a)break;e>s||r.push(i)}return r.flatMap((e=>n.getVirtualElementsFromVirtualItem(e)))};t.getChildNodes=e=>{const t=[];if(e instanceof HTMLSlotElement){for(const n of e.assignedElements({flatten:!0}))n instanceof HTMLElement&&n.offsetParent&&t.push(n);return t}for(let n=0;n<e.childNodes.length;n++){const r=e.childNodes[n];r instanceof HTMLElement&&t.push(r)}if(e instanceof HTMLElement&&e.shadowRoot)for(let n=0;n<e.shadowRoot.childNodes.length;n++){const r=e.shadowRoot.childNodes[n];r instanceof HTMLElement&&t.push(r)}return t};t.findClosestChildFromChildren=(e,t)=>{let n;(0,l.clearCache)();let r=1/0;for(const o of e){const e=(0,s.calculateDistance)(o,t);e<r&&(r=e,n=o)}return n};t.findClosestChild=(e,n)=>{(0,l.clearCache)();let r=[];for(const o of e){const e=(0,t.getNestedInteractableChildren)(o);r=r.concat(e)}return(0,t.findClosestChildFromChildren)(r,n)}},73154:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getNavigationRepeatCount=t.trackNavigationRepeats=t.printStack=t.printCoords=void 0;t.printCoords=(e,t,n,r)=>{console.log("("+e+", "+t+"), ("+n+", "+r+")")};t.printStack=()=>{const e=new Error;console.log(e.stack)};let n,r=0;t.trackNavigationRepeats=()=>{clearTimeout(n),r++,console.log("Navigates: "+r),n=setTimeout((()=>{r=0}),1e3)};t.getNavigationRepeatCount=()=>r},93123:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isVirtualContainer=t.VIRTUAL_CONTAINER_ID=t.isVirtualItem=t.VIRTUAL_ITEM_ID=t.setKeyboardPressed=t.KEYBOARD_PRESS_ID=t.setGamepadPressed=t.GAMEPAD_PRESS_ID=t.isNonSearchable=t.NON_SEARCHABLE_ID=t.isNonNavigable=t.NON_NAVIGABLE_ID=t.isFixed=t.FIXED_ID=t.isNonGamepadPressable=t.NON_GAMEPAD_PRESSABLE_ID=t.isGridElement=t.GRID_ELEMENT_ID=t.isInitialChildInGroup=t.INITIAL_CHILD_ID=t.doesWrappedAutoFocus=t.doesTabHiddenAutoFocus=t.doesTabAutoFocus=t.doesForcedAutoFocus=t.isNonStandardInput=t.NONSTANDARD_INPUT_ID=t.doesAutoFocus=t.AUTO_FOCUS_ID=t.isFocusable=t.isElementVisible=void 0;const r=n(46769),o=n(71437);t.isElementVisible=e=>0!==(0,o.getCachedBoundingClientRect)(e).height&&0!==(0,o.getCachedBoundingClientRect)(e).width;t.isFocusable=e=>e instanceof r.SyntheticElement||!!(e&&e instanceof HTMLElement)&&(e.tabIndex>=0&&(0,t.isElementVisible)(e)&&!(e=>(e instanceof HTMLButtonElement||e instanceof HTMLFieldSetElement||e instanceof HTMLInputElement||e instanceof HTMLOptGroupElement||e instanceof HTMLOptionElement||e instanceof HTMLSelectElement||e instanceof HTMLTextAreaElement)&&e.disabled)(e)&&(e=>(!(e instanceof HTMLAnchorElement)||void 0!==e.href)&&!(e instanceof HTMLIFrameElement)&&!(e instanceof HTMLVideoElement))(e)),t.AUTO_FOCUS_ID="data-auto-focus";t.doesAutoFocus=e=>!(!e||e instanceof r.SyntheticElement)&&(e.hasAttribute(t.AUTO_FOCUS_ID)&&"true"===e.getAttribute(t.AUTO_FOCUS_ID)),t.NONSTANDARD_INPUT_ID="data-nonstandard-input";t.isNonStandardInput=e=>!!e&&(e.hasAttribute(t.NONSTANDARD_INPUT_ID)&&"true"===e.getAttribute(t.NONSTANDARD_INPUT_ID));t.doesForcedAutoFocus=e=>!(!e||e instanceof r.SyntheticElement)&&(e.hasAttribute(t.AUTO_FOCUS_ID)&&"forced"===e.getAttribute(t.AUTO_FOCUS_ID));t.doesTabAutoFocus=e=>!(!e||e instanceof r.SyntheticElement)&&(e.hasAttribute(t.AUTO_FOCUS_ID)&&"tab"===e.getAttribute(t.AUTO_FOCUS_ID));t.doesTabHiddenAutoFocus=e=>!(!e||e instanceof r.SyntheticElement)&&(e.hasAttribute(t.AUTO_FOCUS_ID)&&"tab-hidden"===e.getAttribute(t.AUTO_FOCUS_ID));t.doesWrappedAutoFocus=e=>!(!e||e instanceof r.SyntheticElement)&&(e.hasAttribute(t.AUTO_FOCUS_ID)&&"wrapped"===e.getAttribute(t.AUTO_FOCUS_ID)),t.INITIAL_CHILD_ID="data-initial-child";t.isInitialChildInGroup=e=>!(!e||e instanceof r.SyntheticElement)&&(e.hasAttribute(t.INITIAL_CHILD_ID)&&"true"===e.getAttribute(t.INITIAL_CHILD_ID)),t.GRID_ELEMENT_ID="data-grid-element";t.isGridElement=e=>!(!e||e instanceof r.SyntheticElement)&&(e.hasAttribute(t.GRID_ELEMENT_ID)&&"true"===e.getAttribute(t.GRID_ELEMENT_ID)),t.NON_GAMEPAD_PRESSABLE_ID="data-non-gamepad-pressable";t.isNonGamepadPressable=e=>!(!e||e instanceof r.SyntheticElement)&&(e.hasAttribute(t.NON_GAMEPAD_PRESSABLE_ID)&&"true"===e.getAttribute(t.NON_GAMEPAD_PRESSABLE_ID)),t.FIXED_ID="data-fixed";t.isFixed=e=>!(!e||e instanceof r.SyntheticElement)&&(e.hasAttribute(t.FIXED_ID)&&"true"===e.getAttribute(t.FIXED_ID)),t.NON_NAVIGABLE_ID="data-non-navigable";t.isNonNavigable=e=>!!e&&(e.hasAttribute(t.NON_NAVIGABLE_ID)&&"true"===e.getAttribute(t.NON_NAVIGABLE_ID)),t.NON_SEARCHABLE_ID="data-non-searchable";t.isNonSearchable=e=>!!e&&(e.hasAttribute(t.NON_SEARCHABLE_ID)&&"true"===e.getAttribute(t.NON_SEARCHABLE_ID)),t.GAMEPAD_PRESS_ID="data-gamepad-pressed";t.setGamepadPressed=(e,n)=>{!e||e instanceof r.SyntheticElement||(n?e.setAttribute(t.GAMEPAD_PRESS_ID,"true"):e.removeAttribute(t.GAMEPAD_PRESS_ID))},t.KEYBOARD_PRESS_ID="data-keyboard-pressed";t.setKeyboardPressed=(e,n)=>{!e||e instanceof r.SyntheticElement||(n?e.setAttribute(t.KEYBOARD_PRESS_ID,"true"):e.removeAttribute(t.KEYBOARD_PRESS_ID))},t.VIRTUAL_ITEM_ID="data-virtual-item";t.isVirtualItem=e=>!!e&&(e.hasAttribute(t.VIRTUAL_ITEM_ID)&&"true"===e.getAttribute(t.VIRTUAL_ITEM_ID)),t.VIRTUAL_CONTAINER_ID="data-virtual-container";t.isVirtualContainer=e=>!!e&&(e.hasAttribute(t.VIRTUAL_CONTAINER_ID)&&"true"===e.getAttribute(t.VIRTUAL_CONTAINER_ID))},58109:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getScrollLeft=t.getScrollHeight=t.genericScrollTo=t.isNavigable=t.getParentGroupOrBody=t.getParentGamepadInteractable=t.getParentFocusContainer=t.getParentGroups=t.getParentScrollable=t.getParentScrollables=t.getDirectParent=t.isVirtualContainer=t.VIRTUAL_CONTAINER_ID=t.isVirtualItem=t.VIRTUAL_ITEM_ID=t.setKeyboardPressed=t.KEYBOARD_PRESS_ID=t.setGamepadPressed=t.GAMEPAD_PRESS_ID=t.isNonNavigable=t.NON_NAVIGABLE_ID=t.isNonSearchable=t.NON_SEARCHABLE_ID=t.isNonStandardInput=t.NONSTANDARD_INPUT_ID=t.isFixed=t.FIXED_ID=t.isInitialChildInGroup=t.INITIAL_CHILD_ID=t.isGridElement=t.GRID_ELEMENT_ID=t.isNonGamepadPressable=t.NON_GAMEPAD_PRESSABLE_ID=t.doesTabHiddenAutoFocus=t.doesForcedAutoFocus=t.doesWrappedAutoFocus=t.doesTabAutoFocus=t.doesAutoFocus=t.AUTO_FOCUS_ID=t.isFocusable=t.isElementVisible=t.trackNavigationRepeats=t.printCoords=t.getChildren=t.getChildNodes=t.findClosestChild=t.getInteractableChildren=t.getSearchableChildren=t.getNestedInteractableChildren=t.contains=void 0,t.calculateDistance=t.sortFocusContainers=t.sortElements=t.setAndForwardRef=t.getScrollWidth=t.getUncachedScrollTop=t.getScrollTop=t.getUncachedScrollLeft=void 0;var r=n(43863);Object.defineProperty(t,"contains",{enumerable:!0,get:function(){return r.contains}}),Object.defineProperty(t,"getNestedInteractableChildren",{enumerable:!0,get:function(){return r.getNestedInteractableChildren}}),Object.defineProperty(t,"getSearchableChildren",{enumerable:!0,get:function(){return r.getSearchableChildren}}),Object.defineProperty(t,"getInteractableChildren",{enumerable:!0,get:function(){return r.getInteractableChildren}}),Object.defineProperty(t,"findClosestChild",{enumerable:!0,get:function(){return r.findClosestChild}}),Object.defineProperty(t,"getChildNodes",{enumerable:!0,get:function(){return r.getChildNodes}}),Object.defineProperty(t,"getChildren",{enumerable:!0,get:function(){return r.getChildren}});var o=n(73154);Object.defineProperty(t,"printCoords",{enumerable:!0,get:function(){return o.printCoords}}),Object.defineProperty(t,"trackNavigationRepeats",{enumerable:!0,get:function(){return o.trackNavigationRepeats}});var i=n(93123);Object.defineProperty(t,"isElementVisible",{enumerable:!0,get:function(){return i.isElementVisible}}),Object.defineProperty(t,"isFocusable",{enumerable:!0,get:function(){return i.isFocusable}}),Object.defineProperty(t,"AUTO_FOCUS_ID",{enumerable:!0,get:function(){return i.AUTO_FOCUS_ID}}),Object.defineProperty(t,"doesAutoFocus",{enumerable:!0,get:function(){return i.doesAutoFocus}}),Object.defineProperty(t,"doesTabAutoFocus",{enumerable:!0,get:function(){return i.doesTabAutoFocus}}),Object.defineProperty(t,"doesWrappedAutoFocus",{enumerable:!0,get:function(){return i.doesWrappedAutoFocus}}),Object.defineProperty(t,"doesForcedAutoFocus",{enumerable:!0,get:function(){return i.doesForcedAutoFocus}}),Object.defineProperty(t,"doesTabHiddenAutoFocus",{enumerable:!0,get:function(){return i.doesTabHiddenAutoFocus}}),Object.defineProperty(t,"NON_GAMEPAD_PRESSABLE_ID",{enumerable:!0,get:function(){return i.NON_GAMEPAD_PRESSABLE_ID}}),Object.defineProperty(t,"isNonGamepadPressable",{enumerable:!0,get:function(){return i.isNonGamepadPressable}}),Object.defineProperty(t,"GRID_ELEMENT_ID",{enumerable:!0,get:function(){return i.GRID_ELEMENT_ID}}),Object.defineProperty(t,"isGridElement",{enumerable:!0,get:function(){return i.isGridElement}}),Object.defineProperty(t,"INITIAL_CHILD_ID",{enumerable:!0,get:function(){return i.INITIAL_CHILD_ID}}),Object.defineProperty(t,"isInitialChildInGroup",{enumerable:!0,get:function(){return i.isInitialChildInGroup}}),Object.defineProperty(t,"FIXED_ID",{enumerable:!0,get:function(){return i.FIXED_ID}}),Object.defineProperty(t,"isFixed",{enumerable:!0,get:function(){return i.isFixed}}),Object.defineProperty(t,"NONSTANDARD_INPUT_ID",{enumerable:!0,get:function(){return i.NONSTANDARD_INPUT_ID}}),Object.defineProperty(t,"isNonStandardInput",{enumerable:!0,get:function(){return i.isNonStandardInput}}),Object.defineProperty(t,"NON_SEARCHABLE_ID",{enumerable:!0,get:function(){return i.NON_SEARCHABLE_ID}}),Object.defineProperty(t,"isNonSearchable",{enumerable:!0,get:function(){return i.isNonSearchable}}),Object.defineProperty(t,"NON_NAVIGABLE_ID",{enumerable:!0,get:function(){return i.NON_NAVIGABLE_ID}}),Object.defineProperty(t,"isNonNavigable",{enumerable:!0,get:function(){return i.isNonNavigable}}),Object.defineProperty(t,"GAMEPAD_PRESS_ID",{enumerable:!0,get:function(){return i.GAMEPAD_PRESS_ID}}),Object.defineProperty(t,"setGamepadPressed",{enumerable:!0,get:function(){return i.setGamepadPressed}}),Object.defineProperty(t,"KEYBOARD_PRESS_ID",{enumerable:!0,get:function(){return i.KEYBOARD_PRESS_ID}}),Object.defineProperty(t,"setKeyboardPressed",{enumerable:!0,get:function(){return i.setKeyboardPressed}}),Object.defineProperty(t,"VIRTUAL_ITEM_ID",{enumerable:!0,get:function(){return i.VIRTUAL_ITEM_ID}}),Object.defineProperty(t,"isVirtualItem",{enumerable:!0,get:function(){return i.isVirtualItem}}),Object.defineProperty(t,"VIRTUAL_CONTAINER_ID",{enumerable:!0,get:function(){return i.VIRTUAL_CONTAINER_ID}}),Object.defineProperty(t,"isVirtualContainer",{enumerable:!0,get:function(){return i.isVirtualContainer}});var a=n(42385);Object.defineProperty(t,"getDirectParent",{enumerable:!0,get:function(){return a.getDirectParent}}),Object.defineProperty(t,"getParentScrollables",{enumerable:!0,get:function(){return a.getParentScrollables}}),Object.defineProperty(t,"getParentScrollable",{enumerable:!0,get:function(){return a.getParentScrollable}}),Object.defineProperty(t,"getParentGroups",{enumerable:!0,get:function(){return a.getParentGroups}}),Object.defineProperty(t,"getParentFocusContainer",{enumerable:!0,get:function(){return a.getParentFocusContainer}}),Object.defineProperty(t,"getParentGamepadInteractable",{enumerable:!0,get:function(){return a.getParentGamepadInteractable}}),Object.defineProperty(t,"getParentGroupOrBody",{enumerable:!0,get:function(){return a.getParentGroupOrBody}}),Object.defineProperty(t,"isNavigable",{enumerable:!0,get:function(){return a.isNavigable}});var s=n(23180);Object.defineProperty(t,"genericScrollTo",{enumerable:!0,get:function(){return s.genericScrollTo}}),Object.defineProperty(t,"getScrollHeight",{enumerable:!0,get:function(){return s.getScrollHeight}}),Object.defineProperty(t,"getScrollLeft",{enumerable:!0,get:function(){return s.getScrollLeft}}),Object.defineProperty(t,"getUncachedScrollLeft",{enumerable:!0,get:function(){return s.getUncachedScrollLeft}}),Object.defineProperty(t,"getScrollTop",{enumerable:!0,get:function(){return s.getScrollTop}}),Object.defineProperty(t,"getUncachedScrollTop",{enumerable:!0,get:function(){return s.getUncachedScrollTop}}),Object.defineProperty(t,"getScrollWidth",{enumerable:!0,get:function(){return s.getScrollWidth}});var l=n(33858);Object.defineProperty(t,"setAndForwardRef",{enumerable:!0,get:function(){return l.setAndForwardRef}});var c=n(24165);Object.defineProperty(t,"sortElements",{enumerable:!0,get:function(){return c.sortElements}}),Object.defineProperty(t,"sortFocusContainers",{enumerable:!0,get:function(){return c.sortFocusContainers}}),Object.defineProperty(t,"calculateDistance",{enumerable:!0,get:function(){return c.calculateDistance}})},42385:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isNavigable=t.getParentGamepadInteractable=t.getParentGroupOrBody=t.getParentScrollable=t.getParentScrollables=t.getParentGroups=t.getParentFocusContainer=t.getDirectParent=void 0;const r=n(12370),o=n(60008),i=n(83568),a=n(93123),s=n(46769);t.getDirectParent=e=>e?e instanceof s.SyntheticElement?e.parentElement:e.assignedSlot?e.assignedSlot:e.parentElement?e.parentElement:e.parentNode instanceof ShadowRoot&&e.parentNode.host instanceof HTMLElement?e.parentNode.host:null:null;t.getParentFocusContainer=e=>{if(!e)return;let n=(0,t.getDirectParent)(e);for(;null!=n;){const e=(0,r.getFocusContainer)(n);if(e)return e;n=(0,t.getDirectParent)(n)}};t.getParentGroups=e=>{if(!e)return[];const n=[];let i=(0,t.getDirectParent)(e);for(;null!=i;){const e=(0,o.getGroup)(i);if(e&&n.push(e),(0,r.isFocusContainer)(i))break;i=(0,t.getDirectParent)(i)}return n};const l=(e,n,r)=>{if(!e)return;let o=n&&n.length>0?n[0]:(0,t.getDirectParent)(e);for(;null!=o;){const e=r?.(o);if(void 0!==e)return e;o=n&&n.length>0?(n.shift(),n[0]):(0,t.getDirectParent)(o)??null}};t.getParentScrollables=(e,t)=>{const n=[];return l(e,t,(e=>{if((0,r.isFocusContainer)(e))return n;const t=(0,i.getScrollable)(e,!0);return t&&(n.push(t),t.doesStopScrollPropagation()||t===(0,i.getScrollable)(document.body))?n:void 0})),n};t.getParentScrollable=(e,t)=>l(e,t,(e=>{if((0,r.isFocusContainer)(e))return;const t=(0,i.getScrollable)(e,!0);return t||void 0}));t.getParentGroupOrBody=e=>{let n=(0,t.getDirectParent)(e);for(;null!=n;){if((0,o.isGroup)(n))return n;n=(0,t.getDirectParent)(n)}if(e!==document.body)return document.body};t.getParentGamepadInteractable=e=>{if(!e)return;let n=(0,t.getDirectParent)(e);for(;null!=n;){const e=n;if(n=(0,t.getDirectParent)(n),(0,a.isFocusable)(e))return e}};t.isNavigable=e=>{if(!e)return!1;let n;for(n=e instanceof s.SyntheticElement?e.parentElement:e;null!=n;){const e=n;if(n=(0,t.getDirectParent)(n),(0,a.isNonNavigable)(e))return!1}return!0}},23180:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.genericScrollTo=t.getUncachedScrollLeft=t.getUncachedScrollTop=t.getScrollLeft=t.getScrollTop=t.getScrollHeight=t.getScrollWidth=void 0;const r=n(27651),o=n(71437);t.getScrollWidth=e=>e===document.body?(0,o.getCachedScrollWidth)(document.documentElement):(0,o.getCachedScrollWidth)(e);t.getScrollHeight=e=>e===document.body?(0,o.getCachedScrollHeight)(document.documentElement):(0,o.getCachedScrollHeight)(e);t.getScrollTop=e=>e===document.body?(0,o.getCachedScrollY)():(0,o.getCachedScrollTop)(e);t.getScrollLeft=e=>e===document.body?(0,o.getCachedScrollX)():(0,o.getCachedScrollLeft)(e);t.getUncachedScrollTop=e=>e===document.body?window.scrollY:e.scrollTop;t.getUncachedScrollLeft=e=>e===document.body?window.scrollX:e.scrollLeft;t.genericScrollTo=(e,t,n,i)=>{e===document.body?(0,r.windowScroll)({behavior:i?"auto":"smooth",top:t,left:n}):(0,r.elementScroll)(e,{behavior:i?"auto":"smooth",top:t,left:n}),(0,o.clearCache)()}},33858:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setAndForwardRef=void 0;t.setAndForwardRef=(e,t)=>n=>{t.current=n,e&&("function"===typeof e?e(n):"object"===typeof e&&(e.current=n))}},24165:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.calculateDistance=t.sortElements=t.sortFocusContainers=void 0;const r=n(71437);t.sortFocusContainers=e=>{e.sort(((e,t)=>{const n=e.getElement(),o=t.getElement();if(!n||!o)return 0;const i=(0,r.getCachedBoundingClientRect)(n),a=(0,r.getCachedBoundingClientRect)(o);if(!i||!a)return 0;const s=Math.max(i.top,0)-Math.max(a.top,0);return Math.abs(s)<1?i.height-a.height:s}))};const o=10;t.sortElements=(e,t)=>{e.sort(((e,n)=>{const i=(0,r.getCachedBoundingClientRect)(e),a=(0,r.getCachedBoundingClientRect)(n);for(let r=0;r<t.length;r++){const e=r===t.length-1;switch(t[r]){case"top-ascending":if(e||Math.abs(i.top-a.top)>o)return i.top-a.top;break;case"top-descending":if(e||Math.abs(i.top-a.top)>o)return a.top-i.top;break;case"left-ascending":if(e||Math.abs(i.left-a.left)>o)return i.left-a.left;break;case"left-descending":if(e||Math.abs(i.left-a.left)>o)return a.left-i.left;break;case"bottom-ascending":if(e||Math.abs(i.bottom-a.bottom)>o)return i.bottom-a.bottom;break;case"bottom-descending":if(e||Math.abs(i.bottom-a.bottom)>o)return a.bottom-i.bottom;break;case"right-ascending":if(e||Math.abs(i.right-a.right)>o)return i.right-a.right;break;case"right-descending":if(e||Math.abs(i.right-a.right)>o)return a.right-i.right}}return 0}))};t.calculateDistance=(e,t)=>{const n=(0,r.getCachedBoundingClientRect)(e),o=Math.max(Math.abs(n.left-t.right),Math.abs(t.left-n.right),0),i=Math.max(Math.abs(n.top-t.bottom),Math.abs(t.top-n.bottom),0);return Math.sqrt(o*o+i*i)}},22948:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.round=void 0;t.round=(e,t,n,r)=>{if(Math.abs(e)<n)return 0;if(t<=0)return e;let o=Number.parseFloat((Math.round(e/t)*t).toFixed(15));return Math.abs(o)>1&&(o=r*Math.sign(o)),o}},2165:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useRightTrigger=t.useLeftTrigger=t.useRightStick=t.useLeftStick=void 0;var r=n(23752);Object.defineProperty(t,"useLeftStick",{enumerable:!0,get:function(){return r.useLeftStick}}),Object.defineProperty(t,"useRightStick",{enumerable:!0,get:function(){return r.useRightStick}});var o=n(93196);Object.defineProperty(t,"useLeftTrigger",{enumerable:!0,get:function(){return o.useLeftTrigger}}),Object.defineProperty(t,"useRightTrigger",{enumerable:!0,get:function(){return o.useRightTrigger}})},23752:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.onRightStickCallbacks=t.useRightStick=t.onLeftStickCallbacks=t.useLeftStick=t.createUseStick=void 0;const r=n(14041),o=n(39281),i=n(22948);t.createUseStick=()=>{const e=new Map;return{useStick:(t,n=0,a=0)=>{(0,o.useRegisterInputHook)(o.SubscriptionType.GamepadButton);const s=(0,r.useRef)(Symbol("id")),l=(0,r.useMemo)((()=>Math.max(0,Math.min(n,1))),[n]),c=(0,r.useMemo)((()=>Math.max(0,Math.min(a,1))),[a]),u=(0,r.useMemo)((()=>Math.floor(1/l)*n),[l]),d=(0,r.useRef)(0),p=(0,r.useRef)(0),m=(0,r.useCallback)(((e,n,r)=>{if(0===l&&(0===c||1===c))return void t(e,n,r);const o=(0,i.round)(e,l,c,u),a=(0,i.round)(n,l,c,u);d.current==o&&p.current==a||(t(o,a,r),d.current=o,p.current=a)}),[t,l,c,u]);(0,r.useEffect)((()=>{const t=s.current;return e.has(s.current)||e.set(s.current,m),()=>{e.delete(t)}}),[m])},onCallbacks:(t,n,r)=>{e.forEach((e=>e(t,n,r)))}}};const{useStick:a,onCallbacks:s}=(0,t.createUseStick)();t.useLeftStick=a,t.onLeftStickCallbacks=s;const{useStick:l,onCallbacks:c}=(0,t.createUseStick)();t.useRightStick=l,t.onRightStickCallbacks=c},93196:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.onRightTriggerCallbacks=t.useRightTrigger=t.onLeftTriggerCallbacks=t.useLeftTrigger=t.createUseTrigger=void 0;const r=n(14041),o=n(39281),i=n(22948);t.createUseTrigger=()=>{const e=new Map;return{useTrigger:(t,n=0,a=0)=>{(0,o.useRegisterInputHook)(o.SubscriptionType.GamepadButton);const s=(0,r.useRef)(Symbol("id")),l=(0,r.useMemo)((()=>Math.max(0,Math.min(n,1))),[n]),c=(0,r.useMemo)((()=>Math.max(0,Math.min(a,1))),[a]),u=(0,r.useMemo)((()=>Math.floor(1/l)*n),[l]),d=(0,r.useRef)(0),p=(0,r.useCallback)(((e,n)=>{if(0===l&&(0===c||1===c))return void t(e,n);const r=(0,i.round)(e,l,c,u);d.current!=r&&(t(r,n),d.current=r)}),[t,l,c,u]);(0,r.useEffect)((()=>{const t=s.current;return e.has(s.current)||e.set(s.current,p),()=>{e.delete(t)}}),[p])},onCallbacks:(t,n)=>{e.forEach((e=>e(t,n)))}}};const{useTrigger:a,onCallbacks:s}=(0,t.createUseTrigger)();t.useLeftTrigger=a,t.onLeftTriggerCallbacks=s;const{useTrigger:l,onCallbacks:c}=(0,t.createUseTrigger)();t.useRightTrigger=l,t.onRightTriggerCallbacks=c},60873:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createUseButtonHandler=void 0;const r=n(93675),o=n(95058);t.createUseButtonHandler=e=>{const t=(0,o.createUseGamepadButtonSubscriptionHandler)((0,r.getGamepadEvent)(e,"release"),e),n=(0,o.createUseGamepadButtonSubscriptionHandler)((0,r.getGamepadEvent)(e,"press"),e),i=(0,o.createUseGamepadButtonLongPressSubscriptionHandler)((0,r.getGamepadEvent)(e,"long-press"),e);return(e,r,o)=>{let a;switch(e){case"release":a=t;break;case"press":a=n;break;case"long-press":a=i;break;default:a=()=>{}}a(r,o)}}},10070:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useYButtonHandler=t.useXButtonHandler=t.useViewButtonHandler=t.useRightStickButtonHandler=t.useLeftStickButtonHandler=t.useMenuButtonHandler=t.useGenericGamepadButtonHandler=t.useDpadUpHandler=t.useDpadRightHandler=t.useDpadLeftHandler=t.useDpadDownHandler=t.useCenterButtonHandler=t.useRightBumperHandler=t.useLeftBumperHandler=t.useBButtonHandler=t.useAButtonHandler=void 0;var r=n(50884);Object.defineProperty(t,"useAButtonHandler",{enumerable:!0,get:function(){return r.useAButtonHandler}});var o=n(86075);Object.defineProperty(t,"useBButtonHandler",{enumerable:!0,get:function(){return o.useBButtonHandler}});var i=n(98508);Object.defineProperty(t,"useLeftBumperHandler",{enumerable:!0,get:function(){return i.useLeftBumperHandler}}),Object.defineProperty(t,"useRightBumperHandler",{enumerable:!0,get:function(){return i.useRightBumperHandler}});var a=n(30142);Object.defineProperty(t,"useCenterButtonHandler",{enumerable:!0,get:function(){return a.useCenterButtonHandler}});var s=n(18826);Object.defineProperty(t,"useDpadDownHandler",{enumerable:!0,get:function(){return s.useDpadDownHandler}}),Object.defineProperty(t,"useDpadLeftHandler",{enumerable:!0,get:function(){return s.useDpadLeftHandler}}),Object.defineProperty(t,"useDpadRightHandler",{enumerable:!0,get:function(){return s.useDpadRightHandler}}),Object.defineProperty(t,"useDpadUpHandler",{enumerable:!0,get:function(){return s.useDpadUpHandler}});var l=n(45757);Object.defineProperty(t,"useGenericGamepadButtonHandler",{enumerable:!0,get:function(){return l.useGenericGamepadButtonHandler}});var c=n(67832);Object.defineProperty(t,"useMenuButtonHandler",{enumerable:!0,get:function(){return c.useMenuButtonHandler}});var u=n(58113);Object.defineProperty(t,"useLeftStickButtonHandler",{enumerable:!0,get:function(){return u.useLeftStickButtonHandler}}),Object.defineProperty(t,"useRightStickButtonHandler",{enumerable:!0,get:function(){return u.useRightStickButtonHandler}});var d=n(15706);Object.defineProperty(t,"useViewButtonHandler",{enumerable:!0,get:function(){return d.useViewButtonHandler}});var p=n(31725);Object.defineProperty(t,"useXButtonHandler",{enumerable:!0,get:function(){return p.useXButtonHandler}});var m=n(28892);Object.defineProperty(t,"useYButtonHandler",{enumerable:!0,get:function(){return m.useYButtonHandler}})},50884:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useAButtonHandler=void 0;const r=n(60873);t.useAButtonHandler=(0,r.createUseButtonHandler)("a")},86075:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useBButtonHandler=void 0;const r=n(60873);t.useBButtonHandler=(0,r.createUseButtonHandler)("b")},98508:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useRightBumperHandler=t.useLeftBumperHandler=void 0;const r=n(60873);t.useLeftBumperHandler=(0,r.createUseButtonHandler)("left-bumper"),t.useRightBumperHandler=(0,r.createUseButtonHandler)("right-bumper")},30142:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useCenterButtonHandler=void 0;const r=n(60873);t.useCenterButtonHandler=(0,r.createUseButtonHandler)("center")},18826:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useDpadRightHandler=t.useDpadLeftHandler=t.useDpadDownHandler=t.useDpadUpHandler=void 0;const r=n(60873);t.useDpadUpHandler=(0,r.createUseButtonHandler)("dpad-up"),t.useDpadDownHandler=(0,r.createUseButtonHandler)("dpad-down"),t.useDpadLeftHandler=(0,r.createUseButtonHandler)("dpad-left"),t.useDpadRightHandler=(0,r.createUseButtonHandler)("dpad-right")},45757:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useGenericGamepadButtonHandler=void 0;const r=n(93675),o=n(95058),i=(0,o.createUseGamepadButtonSubscriptionHandler)(r.GamepadButtonEvent.GenericButtonUp,"generic"),a=(0,o.createUseGamepadButtonSubscriptionHandler)(r.GamepadButtonEvent.GenericButtonDown,"generic"),s=(0,o.createUseGamepadButtonLongPressSubscriptionHandler)(r.GamepadButtonEvent.GenericButtonLongPress,"generic");t.useGenericGamepadButtonHandler=(e,t,n)=>{let r;switch(e){case"release":r=i;break;case"press":r=a;break;case"long-press":r=s;break;default:r=()=>{}}r(t,n)}},67832:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useMenuButtonHandler=void 0;const r=n(60873);t.useMenuButtonHandler=(0,r.createUseButtonHandler)("menu")},58113:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useRightStickButtonHandler=t.useLeftStickButtonHandler=void 0;const r=n(60873);t.useLeftStickButtonHandler=(0,r.createUseButtonHandler)("left-stick-button"),t.useRightStickButtonHandler=(0,r.createUseButtonHandler)("right-stick-button")},15706:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useViewButtonHandler=void 0;const r=n(60873);t.useViewButtonHandler=(0,r.createUseButtonHandler)("view")},31725:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useXButtonHandler=void 0;const r=n(60873);t.useXButtonHandler=(0,r.createUseButtonHandler)("x")},28892:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useYButtonHandler=void 0;const r=n(60873);t.useYButtonHandler=(0,r.createUseButtonHandler)("y")},97020:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(85608);r.__exportStar(n(2165),t),r.__exportStar(n(10070),t)},83935:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useIsomorphicLayoutEffect=t.usePostInitialRenderCallback=void 0;var r=n(9931);Object.defineProperty(t,"usePostInitialRenderCallback",{enumerable:!0,get:function(){return r.usePostInitialRenderCallback}});var o=n(82946);Object.defineProperty(t,"useIsomorphicLayoutEffect",{enumerable:!0,get:function(){return o.useIsomorphicLayoutEffect}})},82946:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useIsomorphicLayoutEffect=void 0;const r=n(14041);t.useIsomorphicLayoutEffect=r.useLayoutEffect},9931:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.usePostInitialRenderCallback=void 0;const r=n(14041);t.usePostInitialRenderCallback=e=>{const[t,n]=(0,r.useState)(!1),o=(0,r.useRef)(!1);(0,r.useEffect)((()=>{if(!t)return void n(!0);if(o.current)return;let r;const i=setTimeout((()=>{r=requestAnimationFrame((()=>{o.current||(e(),o.current=!0)}))}),0);return()=>{clearTimeout(i),cancelAnimationFrame(r)}}),[e,t])}},14428:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.usePostInitialRenderCallback=void 0;const r=n(85608);r.__exportStar(n(97020),t),r.__exportStar(n(81680),t),r.__exportStar(n(10764),t),r.__exportStar(n(94987),t),r.__exportStar(n(91407),t);var o=n(83935);Object.defineProperty(t,"usePostInitialRenderCallback",{enumerable:!0,get:function(){return o.usePostInitialRenderCallback}})},2909:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createSubscriptionEventHandler=function(){const e=new Map;return{subscriptions:e,addEventListener:function(e,t){return this.subscriptions.has(e)||this.subscriptions.set(e,t),{remove:()=>this.removeEventListener(e)}},removeEventListener:function(e){this.subscriptions.delete(e)},proxyEventToHandler:function(...t){const n=Array.from(e.entries()).reverse();for(const[e,i]of n){if(!i?.contextIndependent&&i?.trappableRef?.current){const e=(0,o.getFocusContext)();if(e===o.FocusContext.None)continue;if(e===o.FocusContext.Global&&i.trappableRef.current!==globalThis?.document?.body)continue;const t=(0,r.getFocusContainer)(i.trappableRef.current);if(e===o.FocusContext.Specific&&(!t||!(0,o.getActiveContainers)().includes(t)))continue}if(e.current?.(...t))return}}}};const r=n(12370),o=n(53129)},95058:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createUseMultiInputSubscriptionHandler=t.createUseKeyboardKeySubscriptionHandler=t.createUseGamepadButtonLongPressSubscriptionHandler=t.createUseGamepadButtonSubscriptionHandler=t.createUseSubscriptionHandler=void 0;const r=n(14041),o=n(94685),i=n(2909),a=n(39281),s=n(8035),l=n(49460),c=n(26179),u=(e,t,n)=>{const o=(0,r.useRef)(e);o.current=e;const i=(0,l.useInnerTrappableContext)();(0,r.useEffect)((()=>{const e=t?.addEventListener(o,{trappableRef:n?.injectedContext??i?.trappableRef,contextIndependent:n?.contextIndependent});return e?.remove}),[t])};t.createUseSubscriptionHandler=e=>{const t=(0,i.createSubscriptionEventHandler)();return c.GamepadEventEmitter.addListener(e,t.proxyEventToHandler),(e,n)=>{u(e,t,n)}};t.createUseGamepadButtonSubscriptionHandler=(e,t)=>{const n=(0,i.createSubscriptionEventHandler)();return c.GamepadEventEmitter.addListener(e,n.proxyEventToHandler),(e,t)=>{(0,a.useRegisterInputHook)(a.SubscriptionType.GamepadButton),u(e,n,t)}};t.createUseGamepadButtonLongPressSubscriptionHandler=(e,t)=>(n,r)=>{(0,a.useRegisterInputHook)(a.SubscriptionType.GamepadButton);const i=(0,s.useRegisterLongPress)(e,t,r?.longPressDelay??(0,o.getDefaultLongPressDelay)());u(n,i,r)};t.createUseKeyboardKeySubscriptionHandler=e=>{const t=(0,i.createSubscriptionEventHandler)();return c.GamepadEventEmitter.addListener(e,t.proxyEventToHandler),(e,n)=>{(0,a.useRegisterInputHook)(a.SubscriptionType.KeyboardKey),u(e,t,n)}};t.createUseMultiInputSubscriptionHandler=e=>{const t=(0,i.createSubscriptionEventHandler)();return c.GamepadEventEmitter.addListener(e,t.proxyEventToHandler),(e,n)=>{(0,a.useRegisterInputHook)(a.SubscriptionType.All),u(e,t,n)}}},39281:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useRegisterInputHook=t.areKeyboardKeyCallbacksRegistered=t.areGamepadButtonCallbacksRegistered=t.SubscriptionType=void 0;const r=n(14041),o=n(59273),i=n(22489);var a;!function(e){e.None="none",e.GamepadButton="gamepad-button",e.KeyboardKey="keyboard-key",e.All="all"}(a||(t.SubscriptionType=a={}));const s=[],l=[];t.areGamepadButtonCallbacksRegistered=()=>0!==s.length;t.areKeyboardKeyCallbacksRegistered=()=>0!==l.length;t.useRegisterInputHook=e=>{const t=(0,r.useRef)(Symbol("id"));(0,r.useEffect)((()=>{const n=t.current;return e!==a.GamepadButton&&e!==a.All||s.includes(n)||(s.push(n),"callbacks"===i.PollingModeManager.getPollingMode()&&(0,o.startGamepadPolling)()),e!==a.KeyboardKey&&e!==a.All||l.includes(n)||(l.push(n),"callbacks"===i.PollingModeManager.getPollingMode()&&(0,o.registerKeyboardEvents)()),()=>{if(e===a.GamepadButton||e===a.All){const e=s.indexOf(n);-1!==e&&s.splice(e,1),0===s.length&&"callbacks"===i.PollingModeManager.getPollingMode()&&(0,o.stopGamepadPolling)()}if(e===a.KeyboardKey||e===a.All){const e=l.indexOf(n);-1!==e&&l.splice(e,1),0===l.length&&"callbacks"===i.PollingModeManager.getPollingMode()&&(0,o.unregisterKeyboardEvents)()}}}),[])}},8035:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useRegisterLongPress=t.getLongPressDelays=void 0;const r=n(14041),o=n(93675),i=n(2909),a=n(26179),s=new Map,l=new Map;t.getLongPressDelays=e=>{const t=s.get(e);return t?[...t.keys()]:[]};t.useRegisterLongPress=(e,t,n)=>{const c=(0,r.useRef)(Symbol("id")),[u,d]=(0,r.useState)();return(0,r.useEffect)((()=>{const e=(0,o.getLongPressGamepadEvent)(t,n);let r;l.has(e)?r=l.get(e):(r=(0,i.createSubscriptionEventHandler)(),l.set(e,r),a.GamepadEventEmitter.addListener(e,r.proxyEventToHandler)),d(r);let u=s.get(t);u||(u=new Map,s.set(t,u));let p=u.get(n);p||(p=[],u.set(n,p));const m=c.current;return p.push(m),()=>{const o=s.get(t)?.get(n)?.indexOf(m)??-1;-1!==o&&(s.get(t)?.get(n)?.splice(o,1),0===s.get(t)?.get(n)?.length&&(r&&a.GamepadEventEmitter.removeListener(e,r.proxyEventToHandler),l.delete(e),s.get(t)?.delete(n)))}}),[e,t,n]),u}},81680:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useKeyHandler=t.useGenericKeyHandler=t.useEscapeHandler=void 0;var r=n(2522);Object.defineProperty(t,"useEscapeHandler",{enumerable:!0,get:function(){return r.useEscapeHandler}});var o=n(5062);Object.defineProperty(t,"useGenericKeyHandler",{enumerable:!0,get:function(){return o.useGenericKeyHandler}}),Object.defineProperty(t,"useKeyHandler",{enumerable:!0,get:function(){return o.useKeyHandler}})},2522:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useEscapeHandler=void 0;const r=n(5062);t.useEscapeHandler=(e,t="press",n)=>(0,r.useKeyHandler)("Escape",t,e,n)},5062:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useKeyHandler=t.useGenericKeyHandler=void 0;const r=n(93675),o=n(95058),i=new Map;t.useGenericKeyHandler=(e,t,n)=>{const a="press"===e?r.KeyboardKeyEvent.GenericKeyDown:"release"===e?r.KeyboardKeyEvent.GenericKeyUp:r.KeyboardKeyEvent.GenericKeyPress;let s=i.get(a);return s||(s=(0,o.createUseKeyboardKeySubscriptionHandler)(a),i.set(a,s)),s(t,n)};t.useKeyHandler=(e,t,n,a)=>{const s=(0,r.getKeyboardEvent)(e,t);let l=i.get(s);return l||(l=(0,o.createUseKeyboardKeySubscriptionHandler)(s),i.set(s,l)),l(n,a)}},10764:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useBackHandler=void 0;var r=n(91550);Object.defineProperty(t,"useBackHandler",{enumerable:!0,get:function(){return r.useBackHandler}})},91550:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useBackHandler=void 0;const r=n(46769),o=n(86075),i=n(81680),a=n(2522);t.useBackHandler=(e,t,n,s="press")=>{(0,a.useEscapeHandler)(e,s,t),(0,i.useKeyHandler)(r.NavigationKey.TVRemoteBack,s,e,t),(0,o.useBButtonHandler)(n??"press",e,t)}},94987:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useFocusShift=t.useUpHandler=t.useRightHandler=t.useLeftHandler=t.useFocusPress=t.useFocusChange=t.useDownHandler=void 0;var r=n(13290);Object.defineProperty(t,"useDownHandler",{enumerable:!0,get:function(){return r.useDownHandler}});var o=n(50534);Object.defineProperty(t,"useFocusChange",{enumerable:!0,get:function(){return o.useFocusChange}});var i=n(74619);Object.defineProperty(t,"useFocusPress",{enumerable:!0,get:function(){return i.useFocusPress}});var a=n(26429);Object.defineProperty(t,"useLeftHandler",{enumerable:!0,get:function(){return a.useLeftHandler}});var s=n(84458);Object.defineProperty(t,"useRightHandler",{enumerable:!0,get:function(){return s.useRightHandler}});var l=n(72097);Object.defineProperty(t,"useUpHandler",{enumerable:!0,get:function(){return l.useUpHandler}});var c=n(21068);Object.defineProperty(t,"useFocusShift",{enumerable:!0,get:function(){return c.useFocusShift}})},13290:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useDownHandler=void 0;const r=n(93675),o=n(95058);t.useDownHandler=(0,o.createUseMultiInputSubscriptionHandler)(r.NavigationEvent.NavigateDown)},50534:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useFocusChange=void 0;const r=n(93675),o=n(95058);t.useFocusChange=(0,o.createUseSubscriptionHandler)(r.NavigationEvent.Change)},74619:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useFocusPress=void 0;const r=n(93675),o=n(95058);t.useFocusPress=(0,o.createUseSubscriptionHandler)(r.NavigationEvent.Press)},21068:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useFocusShift=void 0;const r=n(93675),o=n(95058);t.useFocusShift=(0,o.createUseSubscriptionHandler)(r.NavigationEvent.Shift)},26429:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useLeftHandler=void 0;const r=n(93675),o=n(95058);t.useLeftHandler=(0,o.createUseMultiInputSubscriptionHandler)(r.NavigationEvent.NavigateLeft)},84458:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useRightHandler=void 0;const r=n(93675),o=n(95058);t.useRightHandler=(0,o.createUseMultiInputSubscriptionHandler)(r.NavigationEvent.NavigateRight)},72097:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useUpHandler=void 0;const r=n(93675),o=n(95058);t.useUpHandler=(0,o.createUseMultiInputSubscriptionHandler)(r.NavigationEvent.NavigateUp)},91407:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useHideInactiveCursor=t.useGetGamepadsInOrder=t.useRequestNavigationKeys=t.useCurrentFocus=t.useRequestPollingMode=t.usePollingMode=t.useDetailedInputMode=t.useActiveInputMode=t.useFindNewFocus=t.useDisableDefaultGamepadActions=t.areDefaultGamepadActionsEnabled=void 0;var r=n(61155);Object.defineProperty(t,"areDefaultGamepadActionsEnabled",{enumerable:!0,get:function(){return r.areDefaultGamepadActionsEnabled}}),Object.defineProperty(t,"useDisableDefaultGamepadActions",{enumerable:!0,get:function(){return r.useDisableDefaultGamepadActions}});var o=n(12497);Object.defineProperty(t,"useFindNewFocus",{enumerable:!0,get:function(){return o.useFindNewFocus}});var i=n(80559);Object.defineProperty(t,"useActiveInputMode",{enumerable:!0,get:function(){return i.useActiveInputMode}});var a=n(5461);Object.defineProperty(t,"useDetailedInputMode",{enumerable:!0,get:function(){return a.useDetailedInputMode}});var s=n(73458);Object.defineProperty(t,"usePollingMode",{enumerable:!0,get:function(){return s.usePollingMode}});var l=n(61731);Object.defineProperty(t,"useRequestPollingMode",{enumerable:!0,get:function(){return l.useRequestPollingMode}});var c=n(11239);Object.defineProperty(t,"useCurrentFocus",{enumerable:!0,get:function(){return c.useCurrentFocus}});var u=n(42865);Object.defineProperty(t,"useRequestNavigationKeys",{enumerable:!0,get:function(){return u.useRequestNavigationKeys}});var d=n(3905);Object.defineProperty(t,"useGetGamepadsInOrder",{enumerable:!0,get:function(){return d.useGetGamepadsInOrder}});var p=n(19699);Object.defineProperty(t,"useHideInactiveCursor",{enumerable:!0,get:function(){return p.useHideInactiveCursor}})},80559:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useActiveInputMode=void 0;const r=n(14041),o=n(44804),i=n(93675),a=n(46769),s=n(26179);t.useActiveInputMode=()=>{const[e,t]=(0,r.useState)((0,o.getActiveInputMode)()),n=(0,r.useCallback)((e=>t(e)),[]);return(0,r.useEffect)((()=>(s.GamepadEventEmitter.addListener(i.InputModeEvent.ChangeActiveMode,n),()=>{s.GamepadEventEmitter.removeListener(i.InputModeEvent.ChangeActiveMode,n)})),[]),{activeInputMode:e,isFocusDriven:(0,a.isFocusDriven)(e)}}},11239:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useCurrentFocus=void 0;const r=n(14041),o=n(38281),i=n(93675),a=n(26179);t.useCurrentFocus=()=>{const[e,t]=(0,r.useState)((0,o.getCurrentlyFocusedInteractable)()),n=(0,r.useCallback)(((e,n)=>t(n)),[]);return(0,r.useEffect)((()=>(a.GamepadEventEmitter.addListener(i.NavigationEvent.Change,n),()=>{a.GamepadEventEmitter.removeListener(i.NavigationEvent.Change,n)})),[]),e}},5461:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useDetailedInputMode=void 0;const r=n(14041),o=n(44804),i=n(93675),a=n(46769),s=n(26179);t.useDetailedInputMode=()=>{const[e,t]=(0,r.useState)((0,o.getDetailedInputMode)()),n=(0,r.useCallback)((e=>t(e)),[]);return(0,r.useEffect)((()=>(s.GamepadEventEmitter.addListener(i.InputModeEvent.ChangeDetailedMode,n),()=>{s.GamepadEventEmitter.removeListener(i.InputModeEvent.ChangeDetailedMode,n)})),[]),{detailedInputMode:e,isFocusDriven:(0,a.isFocusDriven)(e)}}},61155:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.areDefaultGamepadActionsEnabled=void 0,t.useDisableDefaultGamepadActions=function(e){const t=(0,r.useRef)(Symbol("id"));(0,r.useEffect)((()=>{const n=t.current;if(e&&!o.includes(n))o.push(n);else if(!e){const e=o.indexOf(n);-1!==e&&o.splice(e,1)}return()=>{const e=o.indexOf(n);-1!==e&&o.splice(e,1)}}),[e])};const r=n(14041),o=[];t.areDefaultGamepadActionsEnabled=()=>0===o.length},12497:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useFindNewFocus=void 0;const r=n(14041),o=n(49042);t.useFindNewFocus=e=>{(0,r.useEffect)((()=>{const e=requestAnimationFrame((()=>(0,o.findNewFocus)()));return()=>{cancelAnimationFrame(e)}}),e)}},3905:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useGetGamepadsInOrder=void 0;const r=n(93675),o=n(59273),i=n(14041),a=n(26179);t.useGetGamepadsInOrder=()=>{const[e,t]=(0,i.useState)((0,o.getGamepadsInOrder)());return(0,i.useEffect)((()=>(a.GamepadEventEmitter.addListener(r.MostRecentGamepad.Change,t),()=>{a.GamepadEventEmitter.removeListener(r.MostRecentGamepad.Change,t)})),[]),e}},19699:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useHideInactiveCursor=void 0;const r=n(14041),o=n(5461);t.useHideInactiveCursor=()=>{const{detailedInputMode:e}=(0,o.useDetailedInputMode)();(0,r.useEffect)((()=>{"mouse"===e||"passive-mouse"===e?(document.documentElement.style.cursor="auto",document.body.style.removeProperty("pointer-events")):(document.documentElement.style.cursor="none",document.body.style.pointerEvents="none")}),[e])}},73458:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.usePollingMode=void 0;const r=n(14041),o=n(93675),i=n(22489),a=n(26179);t.usePollingMode=()=>{const[e,t]=(0,r.useState)(i.PollingModeManager.getPollingMode());return(0,r.useEffect)((()=>(a.GamepadEventEmitter.addListener(o.PollingModeEvent.Change,t),()=>{a.GamepadEventEmitter.removeListener(o.PollingModeEvent.Change,t)})),[]),e}},42865:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useRequestNavigationKeys=void 0;const r=n(14041),o=n(93982);t.useRequestNavigationKeys=e=>{const t=(0,r.useId)();(0,r.useEffect)((()=>(o.NavigationKeyManager.requestKeys(t,e),()=>{o.NavigationKeyManager.releaseKeys(t)})),[e])}},61731:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useRequestPollingMode=void 0;const r=n(14041),o=n(22489);t.useRequestPollingMode=(e,t)=>{const n=(0,r.useId)();(0,r.useEffect)((()=>(o.PollingModeManager.requestPollingMode(n,e,t),()=>{o.PollingModeManager.releasePollingMode(n)})),[e])}},39731:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NavigationKey=t.POLLING_MODES=t.isFocusDriven=t.DETAILED_INPUT_MODES=t.ACTIVE_INPUT_MODES=t.positionElement=t.resetKeyboardKeyState=t.resetGamepadButtonState=t.setTriggerNavigationThreshold=t.getTriggerNavigationThreshold=t.setJoystickNavigationThreshold=t.getJoystickNavigationThreshold=t.returnToFocusDrivenInputMode=t.getActiveInputMode=t.getDetailedInputMode=t.detailedInputModeFocusDrivenAttribute=t.detailedInputModeDataAttribute=t.activeInputModeFocusDrivenAttribute=t.activeInputModeDataAttribute=t.setGamepadTransformer=t.clearInjectedGamepad=t.injectGamepad=t.isSyntheticMouseEvent=t.isLibraryInitialized=t.initializeGamepadNavigation=t.shutdownGamepadNavigation=t.getGamepadEvent=t.getAnticipatedDOMRect=t.setGamepadMappingFunction=t.setGamepadFilter=t.setGlobalRefocusTargetRect=t.shiftFocus=t.findNewFocus=t.navigate=t.getLastRememberedGlobalFocus=t.setLastRememberedFocused=t.setCurrentFocus=t.resetLastRememberedGlobalFocus=t.getCurrentFocus=t.usePersistentFocusRef=t.PersistentFocus=t.resetAllScrollables=t.GamepadScrollable=t.BodyScrollable=t.useFocusContainerControls=t.useTrappableLoading=t.FocusContainer=t.BodyTrappable=t.PersistentFocusGroup=t.FocusGroup=void 0,t.NavigationKeyManager=t.PollingModeManager=t.setAndForwardRef=t.isVirtualItem=t.VIRTUAL_ITEM_ID=t.isVirtualContainer=t.VIRTUAL_CONTAINER_ID=t.KEYBOARD_PRESS_ID=t.GAMEPAD_PRESS_ID=t.getChildren=t.isNonNavigable=t.NON_NAVIGABLE_ID=t.isNonSearchable=t.NON_SEARCHABLE_ID=t.isNonStandardInput=t.NONSTANDARD_INPUT_ID=t.isFixed=t.FIXED_ID=t.isInitialChildInGroup=t.INITIAL_CHILD_ID=t.isGridElement=t.GRID_ELEMENT_ID=t.isNonGamepadPressable=t.NON_GAMEPAD_PRESSABLE_ID=t.doesTabHiddenAutoFocus=t.doesForcedAutoFocus=t.doesWrappedAutoFocus=t.doesTabAutoFocus=t.doesAutoFocus=t.AUTO_FOCUS_ID=void 0;const r=n(85608);var o=n(60008);Object.defineProperty(t,"FocusGroup",{enumerable:!0,get:function(){return o.FocusGroup}}),Object.defineProperty(t,"PersistentFocusGroup",{enumerable:!0,get:function(){return o.PersistentFocusGroup}});var i=n(12370);Object.defineProperty(t,"BodyTrappable",{enumerable:!0,get:function(){return i.BodyTrappable}}),Object.defineProperty(t,"FocusContainer",{enumerable:!0,get:function(){return i.FocusContainer}}),Object.defineProperty(t,"useTrappableLoading",{enumerable:!0,get:function(){return i.useTrappableLoading}}),Object.defineProperty(t,"useFocusContainerControls",{enumerable:!0,get:function(){return i.useFocusContainerControls}});var a=n(83568);Object.defineProperty(t,"BodyScrollable",{enumerable:!0,get:function(){return a.BodyScrollable}}),Object.defineProperty(t,"GamepadScrollable",{enumerable:!0,get:function(){return a.GamepadScrollable}}),Object.defineProperty(t,"resetAllScrollables",{enumerable:!0,get:function(){return a.resetAllScrollables}});var s=n(30659);Object.defineProperty(t,"PersistentFocus",{enumerable:!0,get:function(){return s.PersistentFocus}}),Object.defineProperty(t,"usePersistentFocusRef",{enumerable:!0,get:function(){return s.usePersistentFocusRef}});var l=n(38281);Object.defineProperty(t,"getCurrentFocus",{enumerable:!0,get:function(){return l.getCurrentlyFocusedInteractable}}),Object.defineProperty(t,"resetLastRememberedGlobalFocus",{enumerable:!0,get:function(){return l.resetLastRememberedGlobalFocus}}),Object.defineProperty(t,"setCurrentFocus",{enumerable:!0,get:function(){return l.setCurrentFocusBasic}}),Object.defineProperty(t,"setLastRememberedFocused",{enumerable:!0,get:function(){return l.setLastRememberedFocused}}),Object.defineProperty(t,"getLastRememberedGlobalFocus",{enumerable:!0,get:function(){return l.getLastFocusedGlobalInteractable}});var c=n(31904);Object.defineProperty(t,"navigate",{enumerable:!0,get:function(){return c.spatialNavigate}});var u=n(49042);Object.defineProperty(t,"findNewFocus",{enumerable:!0,get:function(){return u.findNewFocus}}),Object.defineProperty(t,"shiftFocus",{enumerable:!0,get:function(){return u.shiftFocus}}),Object.defineProperty(t,"setGlobalRefocusTargetRect",{enumerable:!0,get:function(){return u.setGlobalRefocusTargetRect}});var d=n(51808);Object.defineProperty(t,"setGamepadFilter",{enumerable:!0,get:function(){return d.setGamepadFilter}}),Object.defineProperty(t,"setGamepadMappingFunction",{enumerable:!0,get:function(){return d.setGamepadMappingFunction}});var p=n(24072);Object.defineProperty(t,"getAnticipatedDOMRect",{enumerable:!0,get:function(){return p.getAnticipatedDOMRect}});var m=n(93675);Object.defineProperty(t,"getGamepadEvent",{enumerable:!0,get:function(){return m.getGamepadEvent}});var h=n(59273);Object.defineProperty(t,"shutdownGamepadNavigation",{enumerable:!0,get:function(){return h.shutdownGamepadNavigation}}),Object.defineProperty(t,"initializeGamepadNavigation",{enumerable:!0,get:function(){return h.initializeGamepadNavigation}}),Object.defineProperty(t,"isLibraryInitialized",{enumerable:!0,get:function(){return h.isLibraryInitialized}}),Object.defineProperty(t,"isSyntheticMouseEvent",{enumerable:!0,get:function(){return h.isSyntheticMouseEvent}}),Object.defineProperty(t,"injectGamepad",{enumerable:!0,get:function(){return h.injectGamepad}}),Object.defineProperty(t,"clearInjectedGamepad",{enumerable:!0,get:function(){return h.clearInjectedGamepad}});var g=n(4492);Object.defineProperty(t,"setGamepadTransformer",{enumerable:!0,get:function(){return g.setGamepadTransformer}});var f=n(44804);Object.defineProperty(t,"activeInputModeDataAttribute",{enumerable:!0,get:function(){return f.activeInputModeDataAttribute}}),Object.defineProperty(t,"activeInputModeFocusDrivenAttribute",{enumerable:!0,get:function(){return f.activeInputModeFocusDrivenAttribute}}),Object.defineProperty(t,"detailedInputModeDataAttribute",{enumerable:!0,get:function(){return f.detailedInputModeDataAttribute}}),Object.defineProperty(t,"detailedInputModeFocusDrivenAttribute",{enumerable:!0,get:function(){return f.detailedInputModeFocusDrivenAttribute}}),Object.defineProperty(t,"getDetailedInputMode",{enumerable:!0,get:function(){return f.getDetailedInputMode}}),Object.defineProperty(t,"getActiveInputMode",{enumerable:!0,get:function(){return f.getActiveInputMode}}),Object.defineProperty(t,"returnToFocusDrivenInputMode",{enumerable:!0,get:function(){return f.returnToFocusDrivenInputMode}});var _=n(47093);Object.defineProperty(t,"getJoystickNavigationThreshold",{enumerable:!0,get:function(){return _.getJoystickNavigationThreshold}}),Object.defineProperty(t,"setJoystickNavigationThreshold",{enumerable:!0,get:function(){return _.setJoystickNavigationThreshold}}),Object.defineProperty(t,"getTriggerNavigationThreshold",{enumerable:!0,get:function(){return _.getTriggerNavigationThreshold}}),Object.defineProperty(t,"setTriggerNavigationThreshold",{enumerable:!0,get:function(){return _.setTriggerNavigationThreshold}});var v=n(69463);Object.defineProperty(t,"resetGamepadButtonState",{enumerable:!0,get:function(){return v.resetGamepadButtonState}}),Object.defineProperty(t,"resetKeyboardKeyState",{enumerable:!0,get:function(){return v.resetKeyboardKeyState}});var y=n(29485);Object.defineProperty(t,"positionElement",{enumerable:!0,get:function(){return y.positionInteractableBasic}});var b=n(46769);Object.defineProperty(t,"ACTIVE_INPUT_MODES",{enumerable:!0,get:function(){return b.ACTIVE_INPUT_MODES}}),Object.defineProperty(t,"DETAILED_INPUT_MODES",{enumerable:!0,get:function(){return b.DETAILED_INPUT_MODES}}),Object.defineProperty(t,"isFocusDriven",{enumerable:!0,get:function(){return b.isFocusDriven}}),Object.defineProperty(t,"POLLING_MODES",{enumerable:!0,get:function(){return b.POLLING_MODES}}),Object.defineProperty(t,"NavigationKey",{enumerable:!0,get:function(){return b.NavigationKey}});var S=n(58109);Object.defineProperty(t,"AUTO_FOCUS_ID",{enumerable:!0,get:function(){return S.AUTO_FOCUS_ID}}),Object.defineProperty(t,"doesAutoFocus",{enumerable:!0,get:function(){return S.doesAutoFocus}}),Object.defineProperty(t,"doesTabAutoFocus",{enumerable:!0,get:function(){return S.doesTabAutoFocus}}),Object.defineProperty(t,"doesWrappedAutoFocus",{enumerable:!0,get:function(){return S.doesWrappedAutoFocus}}),Object.defineProperty(t,"doesForcedAutoFocus",{enumerable:!0,get:function(){return S.doesForcedAutoFocus}}),Object.defineProperty(t,"doesTabHiddenAutoFocus",{enumerable:!0,get:function(){return S.doesTabHiddenAutoFocus}}),Object.defineProperty(t,"NON_GAMEPAD_PRESSABLE_ID",{enumerable:!0,get:function(){return S.NON_GAMEPAD_PRESSABLE_ID}}),Object.defineProperty(t,"isNonGamepadPressable",{enumerable:!0,get:function(){return S.isNonGamepadPressable}}),Object.defineProperty(t,"GRID_ELEMENT_ID",{enumerable:!0,get:function(){return S.GRID_ELEMENT_ID}}),Object.defineProperty(t,"isGridElement",{enumerable:!0,get:function(){return S.isGridElement}}),Object.defineProperty(t,"INITIAL_CHILD_ID",{enumerable:!0,get:function(){return S.INITIAL_CHILD_ID}}),Object.defineProperty(t,"isInitialChildInGroup",{enumerable:!0,get:function(){return S.isInitialChildInGroup}}),Object.defineProperty(t,"FIXED_ID",{enumerable:!0,get:function(){return S.FIXED_ID}}),Object.defineProperty(t,"isFixed",{enumerable:!0,get:function(){return S.isFixed}}),Object.defineProperty(t,"NONSTANDARD_INPUT_ID",{enumerable:!0,get:function(){return S.NONSTANDARD_INPUT_ID}}),Object.defineProperty(t,"isNonStandardInput",{enumerable:!0,get:function(){return S.isNonStandardInput}}),Object.defineProperty(t,"NON_SEARCHABLE_ID",{enumerable:!0,get:function(){return S.NON_SEARCHABLE_ID}}),Object.defineProperty(t,"isNonSearchable",{enumerable:!0,get:function(){return S.isNonSearchable}}),Object.defineProperty(t,"NON_NAVIGABLE_ID",{enumerable:!0,get:function(){return S.NON_NAVIGABLE_ID}}),Object.defineProperty(t,"isNonNavigable",{enumerable:!0,get:function(){return S.isNonNavigable}}),Object.defineProperty(t,"getChildren",{enumerable:!0,get:function(){return S.getChildren}}),Object.defineProperty(t,"GAMEPAD_PRESS_ID",{enumerable:!0,get:function(){return S.GAMEPAD_PRESS_ID}}),Object.defineProperty(t,"KEYBOARD_PRESS_ID",{enumerable:!0,get:function(){return S.KEYBOARD_PRESS_ID}}),Object.defineProperty(t,"VIRTUAL_CONTAINER_ID",{enumerable:!0,get:function(){return S.VIRTUAL_CONTAINER_ID}}),Object.defineProperty(t,"isVirtualContainer",{enumerable:!0,get:function(){return S.isVirtualContainer}}),Object.defineProperty(t,"VIRTUAL_ITEM_ID",{enumerable:!0,get:function(){return S.VIRTUAL_ITEM_ID}}),Object.defineProperty(t,"isVirtualItem",{enumerable:!0,get:function(){return S.isVirtualItem}}),Object.defineProperty(t,"setAndForwardRef",{enumerable:!0,get:function(){return S.setAndForwardRef}});var E=n(22489);Object.defineProperty(t,"PollingModeManager",{enumerable:!0,get:function(){return E.PollingModeManager}});var C=n(93982);Object.defineProperty(t,"NavigationKeyManager",{enumerable:!0,get:function(){return C.NavigationKeyManager}}),r.__exportStar(n(14428),t)},35098:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isObject=t.nonFinite=t.step=t.now=t.modifyPrototypes=t.original=t.isScrollBehaviorSupported=t.setTimingFunction=t.doesOverrideDefaultScrollBehavior=t.setOverrideDefaultScrollBehavior=void 0;const r=n(85608).__importDefault(n(76272)),o=n(71437);let i=!1;t.setOverrideDefaultScrollBehavior=e=>{i=e};t.doesOverrideDefaultScrollBehavior=()=>i;let a=(0,r.default)(.22,.53,.3,1);t.setTimingFunction=e=>{a=e};t.isScrollBehaviorSupported=()=>!i&&"scrollBehavior"in document.documentElement.style,t.original={_elementScroll:void 0,get elementScroll(){return this._elementScroll||HTMLElement.prototype.scroll||HTMLElement.prototype.scrollTo||function(e,t){this.scrollLeft=e,this.scrollTop=t}},_elementScrollIntoView:void 0,get elementScrollIntoView(){return this._elementScrollIntoView||HTMLElement.prototype.scrollIntoView},_windowScroll:void 0,get windowScroll(){return this._windowScroll||window.scroll||window.scrollTo}};t.modifyPrototypes=e=>{[HTMLElement.prototype,SVGElement.prototype,Element.prototype].forEach((t=>e(t)))};t.now=()=>window.performance?.now?.()??Date.now();t.step=e=>{const n=((0,t.now)()-e.timeStamp)/(e.duration??500);if(n>1||e.href!==window.location.href)return e.method(e.targetX,e.targetY),e.callback(),void(0,o.clearCache)();const r=a(n),i=e.startX+(e.targetX-e.startX)*r,s=e.startY+(e.targetY-e.startY)*r;e.method(i,s),e.rafId=requestAnimationFrame((()=>{(0,t.step)(e)}))};t.nonFinite=e=>isFinite(e)?Number(e):0;t.isObject=e=>{const t=typeof e;return null!==e&&("object"===t||"function"===t)}},5643:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.elementScrollPolyfill=t.elementScroll=void 0;const r=n(83568),o=n(35098);t.elementScroll=(e,t)=>{const n=o.original.elementScroll.bind(e);if(!(0,o.doesOverrideDefaultScrollBehavior)())return void n(t);if(void 0===t.left&&void 0===t.top)return;const i=e.scrollLeft,a=e.scrollTop,s=(0,o.nonFinite)(t.left??i),l=(0,o.nonFinite)(t.top??a);if("smooth"!==t.behavior)return n(s,l);const c=()=>{window.removeEventListener("wheel",p),window.removeEventListener("touchmove",p)};let u=400;if(e instanceof HTMLElement){const t=(0,r.getScrollable)(e)?.getScrollSpeed();t&&t>0&&(u=t)}const d={timeStamp:(0,o.now)(),duration:u,startX:i,startY:a,targetX:s,targetY:l,rafId:0,method:n,callback:c,href:window.location.href},p=()=>{cancelAnimationFrame(d.rafId),c()};window.addEventListener("wheel",p,{passive:!0,once:!0}),window.addEventListener("touchmove",p,{passive:!0,once:!0}),(0,o.step)(d)};t.elementScrollPolyfill=e=>{if((0,o.isScrollBehaviorSupported)())return;const n=o.original.elementScroll;(0,o.modifyPrototypes)((r=>r.scroll=function(){if(1===arguments.length){const n=arguments[0];if(!(0,o.isObject)(n))throw new TypeError("Failed to execute 'scroll' on 'Element': parameter 1 ('options') is not an object.");return(0,t.elementScroll)(this,{...n,...e})}return n.apply(this,arguments)}))}},56106:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.elementScrollByPolyfill=t.elementScrollBy=void 0;const r=n(35098),o=n(5643);t.elementScrollBy=(e,t)=>{const n=(0,r.nonFinite)(t.left||0)+e.scrollLeft,i=(0,r.nonFinite)(t.top||0)+e.scrollTop;return(0,o.elementScroll)(e,{...t,left:n,top:i})};t.elementScrollByPolyfill=e=>{(0,r.isScrollBehaviorSupported)()||(0,r.modifyPrototypes)((n=>n.scrollBy=function(){if(1===arguments.length){const n=arguments[0];if(!(0,r.isObject)(n))throw new TypeError("Failed to execute 'scrollBy' on 'Element': parameter 1 ('options') is not an object.");return(0,t.elementScrollBy)(this,{...n,...e})}const n=Number(arguments[0]),o=Number(arguments[1]);return(0,t.elementScrollBy)(this,{left:n,top:o})}))}},48772:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.elementScrollIntoViewPolyfill=t.elementScrollIntoView=void 0;const r=n(35098),o=n(5643);var i,a;!function(e){e[e.AlignToEdgeIfNeeded=0]="AlignToEdgeIfNeeded",e[e.AlignCenterAlways=1]="AlignCenterAlways",e[e.AlignTopAlways=2]="AlignTopAlways",e[e.AlignBottomAlways=3]="AlignBottomAlways",e[e.AlignLeftAlways=4]="AlignLeftAlways",e[e.AlignRightAlways=5]="AlignRightAlways"}(i||(i={})),function(e){e[e.HorizontalScroll=0]="HorizontalScroll",e[e.VerticalScroll=1]="VerticalScroll"}(a||(a={}));const s=(e,t,n,r)=>{const o=t===a.HorizontalScroll&&n||t===a.VerticalScroll&&!n?e.inline:e.block;return"center"===o?i.AlignCenterAlways:"nearest"===o?i.AlignToEdgeIfNeeded:"start"===o?t===a.HorizontalScroll?r?i.AlignRightAlways:i.AlignLeftAlways:i.AlignTopAlways:"end"===o?t===a.HorizontalScroll?r?i.AlignLeftAlways:i.AlignRightAlways:i.AlignBottomAlways:n?t===a.HorizontalScroll?i.AlignToEdgeIfNeeded:i.AlignTopAlways:t===a.HorizontalScroll?i.AlignLeftAlways:i.AlignToEdgeIfNeeded},l=(e,t,n,r,o,i,a,s)=>i<e&&a>t||i>e&&a<t?0:i<=e&&s<=n||a>=t&&s>=n?i-e-r:a>t&&s<n||i<e&&s>n?a-t+o:0,c=e=>"visible"!==e&&"clip"!==e,u=e=>{if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){const t=getComputedStyle(e);return c(t.overflowY)||c(t.overflowX)}return!1},d=e=>{const t=e.parentNode;return t&&(t.nodeType===Node.DOCUMENT_FRAGMENT_NODE?t.host:t)};t.elementScrollIntoView=(e,t)=>{if(!e.ownerDocument.documentElement.contains(e))return;const n=document.scrollingElement||document.documentElement,r=[];for(let o=d(e);null!==o;o=d(o)){if(o===n){r.push(o);break}o===document.body&&u(o)&&!u(document.documentElement)||u(o)&&r.push(o)}const c=window.visualViewport?window.visualViewport.width:innerWidth,p=window.visualViewport?window.visualViewport.height:innerHeight,m=window.scrollX||window.pageXOffset,h=window.scrollY||window.pageYOffset,{height:g,width:f,top:_,right:v,bottom:y,left:b}=e.getBoundingClientRect(),S=getComputedStyle(e),E=S.writingMode||S.getPropertyValue("-webkit-writing-mode")||S.getPropertyValue("-ms-writing-mode")||"horizontal-tb",C=["horizontal-tb","lr","lr-tb","rl"].some((e=>e===E)),T=["vertical-rl","tb-rl"].some((e=>e===E)),w=s(t,a.HorizontalScroll,C,T),I=s(t,a.VerticalScroll,C,T);let P=(()=>{switch(I){case i.AlignTopAlways:case i.AlignToEdgeIfNeeded:return _;case i.AlignBottomAlways:return y;default:return _+g/2}})(),A=(()=>{switch(w){case i.AlignCenterAlways:return b+f/2;case i.AlignRightAlways:return v;default:return b}})();const k=[];for(const a of r){const{height:e,width:r,top:s,right:u,bottom:d,left:_}=a.getBoundingClientRect(),v=getComputedStyle(a),y=parseInt(v.borderLeftWidth,10),b=parseInt(v.borderTopWidth,10),S=parseInt(v.borderRightWidth,10),E=parseInt(v.borderBottomWidth,10);let C=0,T=0;const x="offsetWidth"in a?a.offsetWidth-a.clientWidth-y-S:0,R="offsetHeight"in a?a.offsetHeight-a.clientHeight-b-E:0;if(n===a){switch(I){case i.AlignTopAlways:C=P;break;case i.AlignBottomAlways:C=P-p;break;case i.AlignCenterAlways:C=P-p/2;break;case i.AlignToEdgeIfNeeded:C=l(h,h+p,p,b,E,h+P,h+P+g,g)}switch(w){case i.AlignLeftAlways:T=A;break;case i.AlignRightAlways:T=A-c;break;case i.AlignCenterAlways:T=A-c/2;break;case i.AlignToEdgeIfNeeded:T=l(m,m+c,c,y,S,m+A,m+A+f,f)}C=Math.max(0,C+h),T=Math.max(0,T+m)}else{switch(I){case i.AlignTopAlways:C=P-s-b;break;case i.AlignBottomAlways:C=P-d+E+R;break;case i.AlignCenterAlways:C=P-(s+e/2)+R/2;break;case i.AlignToEdgeIfNeeded:C=l(s,d,e,b,E+R,P,P+g,g)}switch(w){case i.AlignLeftAlways:T=A-_-y;break;case i.AlignRightAlways:T=A-u+S+x;break;case i.AlignCenterAlways:T=A-(_+r/2)+x/2;break;case i.AlignToEdgeIfNeeded:T=l(_,u,r,y,S+x,A,A+f,f)}const{scrollLeft:t,scrollTop:n}=a;C=Math.max(0,Math.min(n+C,a.scrollHeight-e+R)),T=Math.max(0,Math.min(t+T,a.scrollWidth-r+x)),P+=n-C,A+=t-T}k.push((()=>(0,o.elementScroll)(a,{...t,top:C,left:T})))}k.forEach((e=>e()))};t.elementScrollIntoViewPolyfill=e=>{if((0,r.isScrollBehaviorSupported)())return;const n=r.original.elementScrollIntoView;(0,r.modifyPrototypes)((o=>o.scrollIntoView=function(){const o=arguments[0];return 1===arguments.length&&(0,r.isObject)(o)?(0,t.elementScrollIntoView)(this,{...o,...e}):n.apply(this,arguments)}))}},85118:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.elementScrollToPolyfill=t.elementScrollTo=void 0;const r=n(35098),o=n(5643);var i=n(5643);Object.defineProperty(t,"elementScrollTo",{enumerable:!0,get:function(){return i.elementScroll}});t.elementScrollToPolyfill=e=>{if((0,r.isScrollBehaviorSupported)())return;const t=r.original.elementScroll;(0,r.modifyPrototypes)((n=>n.scrollTo=function(){if(1===arguments.length){const t=arguments[0];if(!(0,r.isObject)(t))throw new TypeError("Failed to execute 'scrollTo' on 'Element': parameter 1 ('options') is not an object.");const n=Number(t.left),i=Number(t.top);return(0,o.elementScroll)(this,{...t,left:n,top:i,...e})}return t.apply(this,arguments)}))}},27651:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.seamless=t.windowScrollToPolyfill=t.windowScrollTo=t.windowScrollByPolyfill=t.windowScrollBy=t.windowScrollPolyfill=t.windowScroll=t.elementScrollToPolyfill=t.elementScrollTo=t.elementScrollIntoViewPolyfill=t.elementScrollIntoView=t.elementScrollByPolyfill=t.elementScrollBy=t.elementScrollPolyfill=t.elementScroll=t.polyfill=void 0;const r=n(35098);t.polyfill=e=>{e&&(void 0!==e.overrideDefaultScrollBehavior&&(0,r.setOverrideDefaultScrollBehavior)(e.overrideDefaultScrollBehavior),e.timingFunction&&(0,r.setTimingFunction)(e.timingFunction))},t.seamless=t.polyfill;var o=n(5643);Object.defineProperty(t,"elementScroll",{enumerable:!0,get:function(){return o.elementScroll}}),Object.defineProperty(t,"elementScrollPolyfill",{enumerable:!0,get:function(){return o.elementScrollPolyfill}});var i=n(56106);Object.defineProperty(t,"elementScrollBy",{enumerable:!0,get:function(){return i.elementScrollBy}}),Object.defineProperty(t,"elementScrollByPolyfill",{enumerable:!0,get:function(){return i.elementScrollByPolyfill}});var a=n(48772);Object.defineProperty(t,"elementScrollIntoView",{enumerable:!0,get:function(){return a.elementScrollIntoView}}),Object.defineProperty(t,"elementScrollIntoViewPolyfill",{enumerable:!0,get:function(){return a.elementScrollIntoViewPolyfill}});var s=n(85118);Object.defineProperty(t,"elementScrollTo",{enumerable:!0,get:function(){return s.elementScrollTo}}),Object.defineProperty(t,"elementScrollToPolyfill",{enumerable:!0,get:function(){return s.elementScrollToPolyfill}});var l=n(89975);Object.defineProperty(t,"windowScroll",{enumerable:!0,get:function(){return l.windowScroll}}),Object.defineProperty(t,"windowScrollPolyfill",{enumerable:!0,get:function(){return l.windowScrollPolyfill}});var c=n(6710);Object.defineProperty(t,"windowScrollBy",{enumerable:!0,get:function(){return c.windowScrollBy}}),Object.defineProperty(t,"windowScrollByPolyfill",{enumerable:!0,get:function(){return c.windowScrollByPolyfill}});var u=n(21370);Object.defineProperty(t,"windowScrollTo",{enumerable:!0,get:function(){return u.windowScrollTo}}),Object.defineProperty(t,"windowScrollToPolyfill",{enumerable:!0,get:function(){return u.windowScrollToPolyfill}})},89975:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.windowScrollPolyfill=t.windowScroll=void 0;const r=n(83568),o=n(35098);let i;t.windowScroll=e=>{const t=o.original.windowScroll.bind(window);if(!(0,o.doesOverrideDefaultScrollBehavior)())return void t(e);if(void 0===e.left&&void 0===e.top)return;const n=window.scrollX||window.pageXOffset,a=window.scrollY||window.pageYOffset,s=(0,o.nonFinite)(e.left??n),l=(0,o.nonFinite)(e.top??a),c=()=>{window.removeEventListener("wheel",p),window.removeEventListener("touchmove",p)};let u=750;const d=(0,r.getScrollable)(document.body)?.getScrollSpeed();d&&d>0&&(u=d),i&&cancelAnimationFrame(i.rafId),i={timeStamp:(0,o.now)(),duration:u,startX:n,startY:a,targetX:s,targetY:l,rafId:0,method:t,callback:c,href:window.location.href};const p=()=>{cancelAnimationFrame(i.rafId),c()};if("smooth"!==e.behavior)return t(s,l);window.addEventListener("wheel",p,{passive:!0,once:!0}),window.addEventListener("touchmove",p,{passive:!0,once:!0}),(0,o.step)(i)};t.windowScrollPolyfill=e=>{if((0,o.isScrollBehaviorSupported)())return;const n=o.original.windowScroll;window.scroll=function(){if(1===arguments.length){const n=arguments[0];if(!(0,o.isObject)(n))throw new TypeError("Failed to execute 'scroll' on 'Window': parameter 1 ('options') is not an object.");return(0,t.windowScroll)({...n,...e})}return n.apply(this,arguments)}}},6710:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.windowScrollByPolyfill=t.windowScrollBy=void 0;const r=n(35098),o=n(89975);t.windowScrollBy=e=>{const t=(0,r.nonFinite)(e.left||0)+(window.scrollX||window.pageXOffset),n=(0,r.nonFinite)(e.top||0)+(window.scrollY||window.pageYOffset);return"smooth"!==e.behavior?r.original.windowScroll.call(window,t,n):(0,o.windowScroll)({...e,left:t,top:n})};t.windowScrollByPolyfill=e=>{(0,r.isScrollBehaviorSupported)()||(window.scrollBy=function(){if(1===arguments.length){const n=arguments[0];if(!(0,r.isObject)(n))throw new TypeError("Failed to execute 'scrollBy' on 'Window': parameter 1 ('options') is not an object.");return(0,t.windowScrollBy)({...n,...e})}const n=Number(arguments[0]),o=Number(arguments[1]);return(0,t.windowScrollBy)({left:n,top:o})})}},21370:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.windowScrollToPolyfill=t.windowScrollTo=void 0;const r=n(35098),o=n(89975);var i=n(89975);Object.defineProperty(t,"windowScrollTo",{enumerable:!0,get:function(){return i.windowScroll}});t.windowScrollToPolyfill=e=>{if((0,r.isScrollBehaviorSupported)())return;const t=r.original.windowScroll;window.scrollTo=function(){if(1===arguments.length){const t=arguments[0];if(!(0,r.isObject)(t))throw new TypeError("Failed to execute 'scrollTo' on 'Window': parameter 1 ('options') is not an object.");const n=Number(t.left),i=Number(t.top);return(0,o.windowScroll)({...t,left:n,top:i,...e})}return t.apply(this,arguments)}}},39297:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProxyElement=void 0;const r=n(57428);class o extends r.SyntheticElement{constructor(e,t){super(t),this.childNodes=[],this.getBoundingClientRect=()=>this.baseRect,this.focus=e=>{},this.baseRect=e}}t.ProxyElement=o},57428:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SyntheticElement=void 0;t.SyntheticElement=class{constructor(e){this.childNodes=[],this.parentElement=e}getBoundingClientRect(){return new DOMRect}focus(e){}}},62280:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VirtualElement=void 0;const r=n(71437),o=n(57428);class i extends o.SyntheticElement{constructor(e,t,n,o){super(t),this.getBoundingClientRect=()=>{const e=this.getParentScrollRectOffset(),t=this.getOffsetFromScrollable();return new DOMRect(this.baseRect.left+(e.x-t.x),this.baseRect.top+(e.y-t.y),this.baseRect.width,this.baseRect.height)},this.focus=e=>{},this.getOffsetFromScrollable=()=>this.parentScrollable.isHorizontal()?{x:this.parentScrollable.getNativeScrollLeft(),y:0}:{x:0,y:this.parentScrollable.getNativeScrollTop()},this.getParentScrollRectOffset=()=>{const e=this.parentScrollable.getElement();if(!e)return{x:0,y:0};const t=(0,r.getCachedBoundingClientRect)(e);return{x:t.left+(0,r.getCachedClientLeft)(e),y:t.top+(0,r.getCachedClientTop)(e)}},this.parentScrollable=n,this.baseRect=e,this.parentVirtualElement=o,this.childNodes=[]}}t.VirtualElement=i},54624:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mapDpadToFocusDirection=t.isVerticalDirection=t.isHorizontalDirection=t.invertFocusDirection=void 0;t.invertFocusDirection=e=>{switch(e){case"up":return"down";case"down":return"up";case"left":return"right";case"right":return"left"}};t.isHorizontalDirection=e=>"left"===e||"right"===e;t.isVerticalDirection=e=>"up"===e||"down"===e;t.mapDpadToFocusDirection=e=>{switch(e){case"dpad-up":return"up";case"dpad-down":return"down";case"dpad-left":return"left";case"dpad-right":return"right";default:return}}},46769:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProxyElement=t.SyntheticElement=t.VirtualElement=t.POLLING_MODES=t.getCompleteOffsets=t.NavigationKey=t.isFocusDriven=t.ACTIVE_INPUT_MODES=t.DETAILED_INPUT_MODES=t.mapDpadToFocusDirection=t.invertFocusDirection=t.isVerticalDirection=t.isHorizontalDirection=void 0;var r=n(54624);Object.defineProperty(t,"isHorizontalDirection",{enumerable:!0,get:function(){return r.isHorizontalDirection}}),Object.defineProperty(t,"isVerticalDirection",{enumerable:!0,get:function(){return r.isVerticalDirection}}),Object.defineProperty(t,"invertFocusDirection",{enumerable:!0,get:function(){return r.invertFocusDirection}}),Object.defineProperty(t,"mapDpadToFocusDirection",{enumerable:!0,get:function(){return r.mapDpadToFocusDirection}});var o=n(76718);Object.defineProperty(t,"DETAILED_INPUT_MODES",{enumerable:!0,get:function(){return o.DETAILED_INPUT_MODES}}),Object.defineProperty(t,"ACTIVE_INPUT_MODES",{enumerable:!0,get:function(){return o.ACTIVE_INPUT_MODES}}),Object.defineProperty(t,"isFocusDriven",{enumerable:!0,get:function(){return o.isFocusDriven}});var i=n(84300);Object.defineProperty(t,"NavigationKey",{enumerable:!0,get:function(){return i.NavigationKey}});var a=n(35685);Object.defineProperty(t,"getCompleteOffsets",{enumerable:!0,get:function(){return a.getCompleteOffsets}});var s=n(73389);Object.defineProperty(t,"POLLING_MODES",{enumerable:!0,get:function(){return s.POLLING_MODES}});var l=n(62280);Object.defineProperty(t,"VirtualElement",{enumerable:!0,get:function(){return l.VirtualElement}});var c=n(57428);Object.defineProperty(t,"SyntheticElement",{enumerable:!0,get:function(){return c.SyntheticElement}});var u=n(39297);Object.defineProperty(t,"ProxyElement",{enumerable:!0,get:function(){return u.ProxyElement}})},76718:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isFocusDriven=t.DETAILED_INPUT_MODES=t.ACTIVE_INPUT_MODES=void 0,t.ACTIVE_INPUT_MODES=["touch","mouse","gamepad","keyboard"],t.DETAILED_INPUT_MODES=["passive-mouse",...t.ACTIVE_INPUT_MODES];t.isFocusDriven=e=>"gamepad"===e||"keyboard"===e},84300:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.TVRemoteBackButtons=t.NavigationKey=void 0,function(e){e.Enter="Enter",e.Escape="Escape",e.TVRemoteBack="TVRemoteBack",e.ArrowUp="ArrowUp",e.ArrowDown="ArrowDown",e.ArrowLeft="ArrowLeft",e.ArrowRight="ArrowRight",e.Tab="Tab"}(n||(t.NavigationKey=n={})),t.TVRemoteBackButtons={keys:new Set(["XF86Back","GoBack"]),keyCodes:new Set([461])}},35685:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCompleteOffsets=void 0;t.getCompleteOffsets=e=>{if(void 0!==e)return"number"===typeof e?(e=>({top:e,bottom:e,left:e,right:e}))(e):(e=>({top:e.top??0,bottom:e.bottom??0,left:e.left??0,right:e.right??0}))(e)}},73389:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.POLLING_MODES=void 0,t.POLLING_MODES=["none","callbacks","navigation","all"]},12168:(e,t,n)=>{"use strict";t.LceRenderer=void 0;const r=n(14041),o=n(88262);class i extends r.Component{constructor(){super(...arguments),this.renderDefault=e=>this.props.renderDefault?this.props.renderDefault(e):null}render(){const{data:e,renderNotRequested:t,renderFetching:n,renderContent:r,renderError:i}=this.props;return o.lceSelect(e,{isNotRequested:t,isFetching:n,content:r,error:i,default:this.renderDefault})}}t.LceRenderer=i},20090:(e,t,n)=>{"use strict";e.exports=n(12168)},8388:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createAction=void 0,t.createAction=function(e,t){var n=t;return n||(n=function(){return{type:e}}),n.getType=function(){return e},n}},22318:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createAsyncAction=void 0,t.createAsyncAction=function(e,t,n,r,o){var i=n;i.getType=function(){return e};var a=r;a.getType=function(){return t};var s=o;return s.getType=function(){return t},{start:i,success:a,error:s}}},55340:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getType=void 0,t.getType=function(e){if(!e)throw new Error("Argument 'actionCreator' is null");if("function"!==typeof e||!("getType"in e)||"function"!==typeof e.getType)throw new Error("Invalid action creator does not have 'getType'");return e.getType()}},88896:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(76469);r.__exportStar(n(8388),t),r.__exportStar(n(22318),t),r.__exportStar(n(55340),t),r.__exportStar(n(12509),t),r.__exportStar(n(72296),t)},12509:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isErrorActionOf=t.isSuccessActionOf=t.isActionOf=void 0;var r=n(72296);function o(e,t,n){if(!e)throw new Error("isActionOf failed. actionCreatorOrCreators is undefined");var r=Array.isArray(e)?e:[e],o=function(e){return r.some((function(t){return!!t&&!!t.getType&&"function"===typeof t.getType&&e.type===t.getType()&&(!n||n(e))}))};return void 0===t?o:o(t)}t.isActionOf=function(e,t){return o(e,t)},t.isSuccessActionOf=function(e,t){return o(e,t,(function(e){return!r.isErrorAction(e)}))},t.isErrorActionOf=function(e,t){return o(e,t,r.isErrorAction)}},72296:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isErrorAction=void 0,t.isErrorAction=function(e){return!!(e&&e.type&&e.error)}},46075:(e,t,n)=>{"use strict";e.exports=n(88896)},76469:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__assign:()=>i,__asyncDelegator:()=>b,__asyncGenerator:()=>y,__asyncValues:()=>S,__await:()=>v,__awaiter:()=>u,__classPrivateFieldGet:()=>w,__classPrivateFieldSet:()=>I,__createBinding:()=>p,__decorate:()=>s,__exportStar:()=>m,__extends:()=>o,__generator:()=>d,__importDefault:()=>T,__importStar:()=>C,__makeTemplateObject:()=>E,__metadata:()=>c,__param:()=>l,__read:()=>g,__rest:()=>a,__spread:()=>f,__spreadArrays:()=>_,__values:()=>h});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function o(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i=function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function s(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}function l(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)}function u(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(t){i(t)}}function s(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))}function d(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function p(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function m(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function h(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function f(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(g(arguments[t]));return e}function _(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r}function v(e){return this instanceof v?(this.v=e,this):new v(e)}function y(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){o[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=o[e](t)).value instanceof v?Promise.resolve(n.value.v).then(l,c):u(i[0][2],n)}catch(r){u(i[0][3],r)}var n}function l(e){s("next",e)}function c(e){s("throw",e)}function u(e,t){e(t),i.shift(),i.length&&s(i[0][0],i[0][1])}}function b(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,o){t[r]=e[r]?function(t){return(n=!n)?{value:v(e[r](t)),done:"return"===r}:o?o(t):t}:o}}function S(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=h(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,o,(t=e[n](t)).done,t.value)}))}}}function E(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function C(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function T(e){return e&&e.__esModule?e:{default:e}}function w(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function I(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},37673:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},24233:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},81246:(e,t)=>{"use strict";var n,r;Object.defineProperty(t,"__esModule",{value:!0}),t.transformConsentValuesToSimplifiedConsentValues=t.convertValue=t.CategoryName=t.ModelType=void 0,function(e){e.XboxOptionalDataCollection="xboxoptionaldatacollection",e.XboxPersonalizedPurchaseUpsell="xboxpersonalizedpurchaseupsell",e.XboxFinPartnerSharing="xboxfinpartnersharing"}(n=t.ModelType||(t.ModelType={})),function(e){e.XboxDiagnosticsOptionalData="xboxdiagnosticsoptionaldata",e.XboxPPUData="xboxppudata",e.XboxFinPartnerSharingData="xboxfinpartnersharingdata"}(r=t.CategoryName||(t.CategoryName={})),t.convertValue=function(e){return"true"===e.toLowerCase()},t.transformConsentValuesToSimplifiedConsentValues=function(e){const t={optionalDataCollectionValue:void 0,personalizedPurchaseUpsellValue:e.some((e=>e&&(!e.values||0===e.values.length)&&("optout"===e.consentType.toLowerCase()||"unknown"===e.consentType.toLowerCase())&&e.modelType===n.XboxPersonalizedPurchaseUpsell)),finpartnersharingValue:void 0};return e.reduce(((e,t)=>("values"in t&&t.values&&t.values.forEach((t=>{t.categoryName.toLowerCase()===r.XboxDiagnosticsOptionalData?e.optionalDataCollectionValue=t.value:t.categoryName.toLowerCase()===r.XboxPPUData?e.personalizedPurchaseUpsellValue=t.value:t.categoryName.toLowerCase()===r.XboxFinPartnerSharingData&&(e.finpartnersharingValue=t.value)})),e)),t)}},43951:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(85608);(0,r.__exportStar)(n(24233),t),(0,r.__exportStar)(n(37673),t),(0,r.__exportStar)(n(81246),t)},98838:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(85608);(0,r.__exportStar)(n(40094),t),(0,r.__exportStar)(n(43951),t)},68654:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},18647:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Platform=t.FormFactor=t.ConsentSurface=void 0,function(e){e.Backstage2="Backstage2",e.SISU="SISU",e.WebStart="WebStart"}(t.ConsentSurface||(t.ConsentSurface={})),function(e){e.Desktop="Desktop",e.Mobile="Mobile",e.Laptop="Laptop",e.Tablet="Tablet"}(t.FormFactor||(t.FormFactor={})),function(e){e.Web="Web",e.Windows="Windows",e.Android="Android",e.IOS="iOS"}(t.Platform||(t.Platform={}))},74947:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},21753:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UnifiedConsentService=t.checkinConsentUrl=t.consentUrl=t.baseUrl=void 0;const r=n(90692),o=n(89263),i=n(52444),a=n(18647),s=n(99869);t.baseUrl="https://consent.config.office.com",t.consentUrl="consentweb/v2.0/consents",t.checkinConsentUrl="consentcheckin/v2.0/consents";t.UnifiedConsentService=class{constructor(e,n,i,l,c,u,d){this.consentSurface=null!==c&&void 0!==c?c:a.ConsentSurface.WebStart,this.formFactor=null!==u&&void 0!==u?u:a.FormFactor.Desktop,this.platform=null!==d&&void 0!==d?d:a.Platform.Web;const p=(new r.HttpClientBuilder).authenticator(new s.TokenAuthenticator(e)).interceptors(null!==l&&void 0!==l?l:{});i&&p.requestInterceptor(new o.CorrelationVectorInterceptor(i)),n&&p.requestInterceptor(new o.AcceptLanguageInterceptor(n)),this.httpClient=p.build();const m={[r.HttpHeader.ContentType]:"application/json",formFactor:this.formFactor,platform:this.platform,consentSurface:this.consentSurface};this.requestFactory=r.RequestFactory.withBaseUrl(t.baseUrl).setCommonHeaders(m).setCommonMaxRetries(3)}async submitConsent({id:e,values:n}){const r=JSON.stringify([{id:e,values:n.map((e=>Object.assign(Object.assign({},e),{value:JSON.stringify(e.value)})))}]),{status:o,data:a,statusText:s}=await this.httpClient.execute(this.requestFactory.post(`${t.consentUrl}`,r));if(o>=300)throw new Error(`Failed to save consent: status ${o}, text ${s}`);return(0,i.mapConsentSubmissionResponseToDomain)(a)}async getPrivacyConsentUiDetails(){const{status:e,data:n,statusText:r}=await this.httpClient.execute(this.requestFactory.get(`${t.consentUrl}`));if(e>=300||!n)throw new Error(`Failed to get privacy consent ui details: status ${e}, text ${r}`);return(0,i.mapConsentsResponseToDomain)(n)}async getPrivacyConsent(){const{status:e,data:n,statusText:r}=await this.httpClient.execute(this.requestFactory.get(`${t.checkinConsentUrl}`));if(e>=300||!n)throw new Error(`Failed to get privacy consent : status ${e}, text ${r}`);return(0,i.mapConsentsCheckinResponseToDomain)(n)}}},76457:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UnifiedConsentServiceInterface=void 0,t.UnifiedConsentServiceInterface=Symbol("UnifiedConsentServiceInterface")},52444:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mapConsentSubmissionResponseToDomain=t.mapConsentsCheckinResponseToDomain=t.mapConsentsResponseToDomain=void 0;const r=n(12885),o=n(43951),i=n(81246);t.mapConsentsResponseToDomain=function(e){var t,n;if(!e)throw new Error("ConsentResponse undefined");return null!==(n=null===(t=null===e||void 0===e?void 0:e.consents)||void 0===t?void 0:t.filter((e=>e.schema&&e.schema.modelTexts)).map((e=>{var t,n,a,s;const l=e.schema.layout.pages[0].consentComponents.find((e=>"true"===e.defaultSelection.toLowerCase())),c=l?"true"===l.defaultSelection.toLowerCase():"true"===e.schema.layout.pages[0].consentComponents[0].defaultSelection.toLowerCase(),u=e.values?e.values.map((e=>Object.assign(Object.assign({},e),{value:(0,i.convertValue)(e.value)}))):null,d=e.schema.layout.pages[0].consentComponents[0].consentCategory[0];return{id:(0,r.asString)(e.id),consentType:(0,r.asString)(e.consentType),modelType:(0,r.asString)(e.modelType)===o.ModelType.XboxOptionalDataCollection?o.ModelType.XboxOptionalDataCollection:(0,r.asString)(e.modelType)===o.ModelType.XboxFinPartnerSharing?o.ModelType.XboxFinPartnerSharing:o.ModelType.XboxPersonalizedPurchaseUpsell,consentModelTexts:{header:e.schema.modelTexts[0].header,description:e.schema.modelTexts[0].description,consentComponents:e.schema.modelTexts[0].consentComponents,tellMeMoreLinkText:e.schema.modelTexts[0]["tellMeMore-linkText"],tellMeMoreLinkUrl:e.schema.modelTexts[0]["tellMeMore-linkUrl"],defaultSelection:c,optInSelectionText:null!==(n=null===(t=e.schema.modelTexts[0].consentComponents.find((e=>e.name.toLowerCase().includes("optin"))))||void 0===t?void 0:t.texts.selectionText)&&void 0!==n?n:"",optOutSelectionText:null!==(s=null===(a=e.schema.modelTexts[0].consentComponents.find((e=>e.name.toLowerCase().includes("optout"))))||void 0===a?void 0:a.texts.selectionText)&&void 0!==s?s:"",footer:e.schema.modelTexts[0].footer},maxPromptsReached:(0,r.asBool)(e.maxPromptsReached),values:u,status:(0,r.asString)(e.status),categoryName:null!==d&&void 0!==d?d:(null===u||void 0===u?void 0:u.length)&&u[0].categoryName?u[0].categoryName:""}})))&&void 0!==n?n:[]},t.mapConsentsCheckinResponseToDomain=function(e){if(!e)throw new Error("ConsentCheckinResponse undefined");return e.consentValues.map((e=>{var t,n,o;const a=e.values?e.values.map((e=>Object.assign(Object.assign({},e),{value:(0,i.convertValue)(e.value)}))):null;return{id:e.id,modelType:(0,r.asString)(e.modelType.toLocaleLowerCase()),status:e.status,version:e.version,consentType:e.consentType,maxPromptsReached:e.maxPromptsReached,consentedBy:null!==(t=e.consentedBy)&&void 0!==t?t:void 0,consentedInSurface:null!==(n=e.consentedInSurface)&&void 0!==n?n:void 0,consentedUTC:null!==(o=e.consentedUTC)&&void 0!==o?o:void 0,values:a,needConsent:e.needConsent,consentReason:e.consentReason,categoryName:(null===a||void 0===a?void 0:a.length)&&a[0].categoryName?a[0].categoryName:""}}))},t.mapConsentSubmissionResponseToDomain=function(e){if(!e)throw new Error("ConsentSubmissionResponse undefined");return e.map((e=>{const t=e.values?e.values.map((e=>Object.assign(Object.assign({},e),{value:(0,i.convertValue)(e.value)}))):[];return{id:e.id,values:t}}))}},40094:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UnifiedConsentService=void 0;const r=n(85608);(0,r.__exportStar)(n(76457),t);var o=n(21753);Object.defineProperty(t,"UnifiedConsentService",{enumerable:!0,get:function(){return o.UnifiedConsentService}}),(0,r.__exportStar)(n(68654),t),(0,r.__exportStar)(n(74947),t),(0,r.__exportStar)(n(18647),t)},58810:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(14041);const o=function(e){return r.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 32 32"},e),r.createElement("path",{d:"M12.921 2.001l.117.007a1 1 0 010 1.986l-.117.007H7l-.176.005a3 3 0 00-2.819 2.819L4 7v18l.005.176a3 3 0 002.819 2.819l.176.005h18l.176-.005a3 3 0 002.819-2.819l.005-.176v-6l.007-.116a1 1 0 011.986 0L30 19v6l-.005.217a5 5 0 01-4.772 4.778l-.223.005H7l-.217-.004a5 5 0 01-4.778-4.773L2 25.001v-18l.005-.217a5 5 0 014.772-4.778L7 2.001h5.921zm16.079 0c.27 0 .505.1.703.297a.961.961 0 01.297.703v10c0 .27-.099.505-.297.703a.961.961 0 01-.703.297.961.961 0 01-.703-.297.961.961 0 01-.297-.703V5.407L17.703 15.704a.929.929 0 01-.703.297.929.929 0 01-.703-.297c-.198-.218-.297-.453-.297-.703 0-.27.099-.505.297-.703L26.594 4.001H19a.961.961 0 01-.703-.297.961.961 0 01-.297-.703c0-.27.099-.505.297-.703A.961.961 0 0119 2.001h10z",fillRule:"evenodd"}))}},17650:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(14041);const o=function(e){return r.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 32 32"},e),r.createElement("path",{d:"M3.922 32c-.521 0-1.016-.104-1.485-.313a4.12 4.12 0 01-1.25-.859 4.12 4.12 0 01-.859-1.25 3.84 3.84 0 01-.328-1.5V3.922C0 3.4.104 2.906.313 2.437a4.12 4.12 0 01.859-1.25 4.12 4.12 0 011.25-.859A3.84 3.84 0 013.922 0h24.156c.521 0 1.016.104 1.485.313a4.12 4.12 0 011.25.859c.364.364.65.781.859 1.25.208.469.318.969.328 1.5v24.156c0 .521-.104 1.016-.313 1.485a4.12 4.12 0 01-.859 1.25 4.12 4.12 0 01-1.25.859 3.84 3.84 0 01-1.5.328H3.922zM28 30c.281 0 .542-.052.781-.156.24-.104.448-.245.625-.422a2.18 2.18 0 00.438-.64c.114-.25.166-.511.156-.782V4a1.9 1.9 0 00-.156-.766 2.207 2.207 0 00-.422-.64 1.845 1.845 0 00-.64-.438A2.012 2.012 0 0028 2H4c-.281 0-.542.052-.781.156-.24.104-.448.245-.625.422a2.18 2.18 0 00-.438.64C2.042 3.469 1.99 3.73 2 4v24c0 .281.052.542.156.781.104.24.245.453.422.64.177.188.386.329.625.423.24.093.505.146.797.156h24z",fillRule:"evenodd"}))}},79982:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(14041);const o=function(e){return r.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 32 32"},e),r.createElement("path",{d:"M3.203 32c-.437 0-.849-.083-1.234-.25a3.437 3.437 0 01-1.032-.688 2.925 2.925 0 01-.687-1.015 3.517 3.517 0 01-.25-1.25V3.203c0-.437.083-.849.25-1.234.167-.386.396-.73.688-1.032.291-.302.63-.53 1.015-.687.386-.156.802-.24 1.25-.25h25.594c.437 0 .849.083 1.234.25.386.167.73.396 1.032.688.302.291.53.63.687 1.015.156.386.24.802.25 1.25v25.594c0 .437-.083.849-.25 1.234-.167.386-.396.73-.688 1.032-.291.302-.63.53-1.015.687-.386.156-.802.24-1.25.25H3.203zM13 22.25c.156 0 .313-.031.469-.094.156-.062.297-.15.422-.265l12-12c.24-.24.359-.537.359-.891s-.12-.651-.36-.89a1.21 1.21 0 00-.89-.36c-.354 0-.651.12-.89.36L13 19.233 7.89 14.11A1.21 1.21 0 007 13.75c-.354 0-.651.12-.89.36-.24.239-.36.536-.36.89 0 .156.031.313.094.469.062.156.15.297.265.422l6 6a1.293 1.293 0 00.89.36z",fillRule:"evenodd"}))}},41340:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(14041);const o=function(e){return r.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 32 32"},e),r.createElement("path",{d:"M1.132 10.277a1.125 1.125 0 011.493-.088l.098.088 13.381 13.38 13.349-13.349a1.125 1.125 0 011.492-.087l.099.087c.408.408.437 1.051.087 1.493l-.087.098-14.145 14.145a1.125 1.125 0 01-1.493.087l-.098-.087L1.132 11.868a1.125 1.125 0 010-1.591z",fillRule:"evenodd"}))}},56764:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(14041);const o=function(e){return r.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 32 32"},e),r.createElement("path",{d:"M10.236 1.205a1.125 1.125 0 011.493-.088l.098.088L25.97 15.349c.408.408.437 1.051.088 1.493l-.088.098-14.176 14.176a1.125 1.125 0 01-1.678-1.493l.088-.098 13.379-13.381L10.236 2.795a1.125 1.125 0 01-.087-1.492l.087-.098z",fillRule:"evenodd"}))}},6985:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(14041);const o=function(e){return r.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 32 32"},e),r.createElement("path",{d:"M15.277 6.277a1.125 1.125 0 011.493-.088l.098.088 14.176 14.176a1.125 1.125 0 01-1.493 1.678l-.098-.087L16.072 8.663 2.723 22.013a1.125 1.125 0 01-1.493.087l-.098-.088a1.125 1.125 0 01-.087-1.493l.087-.098L15.277 6.277z",fillRule:"evenodd"}))}},69616:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(14041);const o=function(e){return r.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 32 32"},e),r.createElement("path",{d:"M16 0c8.837 0 16 7.163 16 16s-7.163 16-16 16S0 24.837 0 16 7.163 0 16 0zm0 2C8.268 2 2 8.268 2 16s6.268 14 14 14 14-6.268 14-14S23.732 2 16 2zm0 10.875c.58 0 1.057.439 1.118 1.002l.007.123v9a1.125 1.125 0 01-2.243.123L14.875 23v-9c0-.621.504-1.125 1.125-1.125zm0-5a1.625 1.625 0 110 3.25 1.625 1.625 0 010-3.25z",fillRule:"evenodd"}))}},84989:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(14041);const o=function(e){return r.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 32 32"},e),r.createElement("path",{d:"M5.922 14c-.521 0-1.016-.104-1.484-.313a4.12 4.12 0 01-1.25-.859 4.12 4.12 0 01-.86-1.25 3.84 3.84 0 01-.328-1.5V5.922c0-.521.104-1.016.313-1.484a4.12 4.12 0 01.859-1.25 4.12 4.12 0 011.25-.86A3.84 3.84 0 015.922 2h4.156c.521 0 1.016.104 1.485.313a4.12 4.12 0 011.25.859c.364.364.65.781.859 1.25.208.469.318.969.328 1.5v4.156c0 .521-.104 1.016-.313 1.485a4.12 4.12 0 01-.859 1.25 4.12 4.12 0 01-1.25.859 3.84 3.84 0 01-1.5.328H5.922zm16 0c-.521 0-1.016-.104-1.485-.313a4.12 4.12 0 01-1.25-.859 4.12 4.12 0 01-.859-1.25 3.84 3.84 0 01-.328-1.5V5.922c0-.521.104-1.016.313-1.484a4.12 4.12 0 01.859-1.25 4.12 4.12 0 011.25-.86 3.84 3.84 0 011.5-.328h4.156c.521 0 1.016.104 1.485.313a4.12 4.12 0 011.25.859c.364.364.65.781.859 1.25.208.469.318.969.328 1.5v4.156c0 .521-.104 1.016-.313 1.485a4.12 4.12 0 01-.859 1.25 4.12 4.12 0 01-1.25.859 3.84 3.84 0 01-1.5.328h-4.156zM10 12c.281 0 .542-.052.781-.156.24-.104.448-.245.625-.422a2.18 2.18 0 00.438-.64c.114-.25.166-.511.156-.782V6a1.9 1.9 0 00-.156-.766 2.207 2.207 0 00-.422-.64 1.845 1.845 0 00-.64-.438A2.012 2.012 0 0010 4H6c-.281 0-.542.052-.781.156-.24.104-.448.245-.625.422a2.18 2.18 0 00-.438.64C4.042 5.469 3.99 5.73 4 6v4c0 .281.052.542.156.781.104.24.245.453.422.64.177.188.386.329.625.423.24.094.505.146.797.156h4zm16 0c.281 0 .542-.052.781-.156.24-.104.448-.245.625-.422a2.18 2.18 0 00.438-.64c.114-.25.166-.511.156-.782V6a1.9 1.9 0 00-.156-.766 2.207 2.207 0 00-.422-.64 1.845 1.845 0 00-.64-.438A2.012 2.012 0 0026 4h-4c-.281 0-.542.052-.781.156-.24.104-.448.245-.625.422a2.18 2.18 0 00-.438.64c-.114.25-.166.511-.156.782v4c0 .281.052.542.156.781.104.24.245.453.422.64.177.188.386.329.625.423.24.094.505.146.797.156h4zm-16-2H6V6h4v4zm16 0h-4V6h4v4zM5.922 30c-.521 0-1.016-.104-1.484-.313a4.12 4.12 0 01-1.25-.859 4.12 4.12 0 01-.86-1.25 3.84 3.84 0 01-.328-1.5v-4.156c0-.521.104-1.016.313-1.485a4.12 4.12 0 01.859-1.25 4.12 4.12 0 011.25-.859 3.84 3.84 0 011.5-.328h4.156c.521 0 1.016.104 1.485.313a4.12 4.12 0 011.25.859c.364.364.65.781.859 1.25.208.469.318.969.328 1.5v4.156c0 .521-.104 1.016-.313 1.485a4.12 4.12 0 01-.859 1.25 4.12 4.12 0 01-1.25.859 3.84 3.84 0 01-1.5.328H5.922zM22 22h-4v-4h4v4zm8 0h-4v-4h4v4zm-20 6c.281 0 .542-.052.781-.156.24-.104.448-.245.625-.422a2.18 2.18 0 00.438-.64c.114-.25.166-.511.156-.782v-4a1.9 1.9 0 00-.156-.766 2.207 2.207 0 00-.422-.64 1.845 1.845 0 00-.64-.438A2.012 2.012 0 0010 20H6c-.281 0-.542.052-.781.156-.24.104-.448.245-.625.422a2.18 2.18 0 00-.438.64c-.114.25-.166.511-.156.782v4c0 .281.052.542.156.781.104.24.245.453.422.64.177.188.386.329.625.423.24.093.505.146.797.156h4zm0-2H6v-4h4v4zm16 0h-4v-4h4v4zm-4 4h-4v-4h4v4zm8 0h-4v-4h4v4z",fillRule:"evenodd"}))}},63042:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(85608),o=n(14041);const i=function(e){var{title:t,titleId:n}=e,i=(0,r.__rest)(e,["title","titleId"]);return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:"1em",height:"1em","aria-labelledby":n},i),t?o.createElement("title",{id:n},t):null,o.createElement("path",{d:"M640 1755L19 1133l90-90 531 531L1939 275l90 90L640 1755z"}))}},99971:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(85608),o=n(14041);const i=function(e){var{title:t,titleId:n}=e,i=(0,r.__rest)(e,["title","titleId"]);return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:"1em",height:"1em","aria-labelledby":n},i),t?o.createElement("title",{id:n},t):null,o.createElement("path",{d:"M1664 896v128h-640v640H896v-640H256V896h640V256h128v640h640z"}))}},77345:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(85608),o=n(14041);const i=function(e){var{title:t,titleId:n}=e,i=(0,r.__rest)(e,["title","titleId"]);return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:"1em",height:"1em","aria-labelledby":n},i),t?o.createElement("title",{id:n},t):null,o.createElement("path",{d:"M1663 1921v-641h129v768H0V256h768v129H127v1536h1536zM896 0h1152v1152h-128V219L557 1581l-90-90L1829 128H896V0z"}))}},75184:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(85608),o=n(14041);const i=function(e){var{title:t,titleId:n}=e,i=(0,r.__rest)(e,["title","titleId"]);return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:"1em",height:"1em","aria-labelledby":n},i),t?o.createElement("title",{id:n},t):null,o.createElement("path",{d:"M640 1280h256v128H512V768h128v512zm765-210q32 28 49 66t18 80q0 40-15 75t-41 61-61 41-75 15h-256V768h224q40 0 75 15t61 41 41 61 15 75q0 61-35 110zm-253-46h96q26 0 45-19t19-45q0-26-19-45t-45-19h-96v128zm128 256q26 0 45-19t19-45q0-26-19-45t-45-19h-128v128h128zm224-896q57 0 110 21t95 62l256 256q41 41 62 94t21 111q0 60-8 123t-27 121l-96 286q-5 13-8 24t-9 23q-19 38-47 68t-64 50-75 30-82 11H256q-53 0-99-20t-82-55-55-81-20-100v-8l64-508q2-13 2-25t4-25q12-51 42-93t69-76q64-57 152-101t191-76 212-53 217-35 208-18 183-6h160zm128 1152q47 0 89-21t64-65q4-8 6-15t4-15l96-287q16-48 22-101t7-104q0-32-11-62t-35-53l-255-255q-23-23-53-34t-62-12h-160q-102 0-209 6t-216 22-212 39-201 60q-24 9-56 22t-68 32-69 41-61 47-43 55-17 60v4q0 2-1 4l-63 507q-1 5 1 14t3 15q6 21 17 38t28 31 37 20 42 7h1376z"}))}},33235:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(85608),o=n(14041);const i=function(e){var{title:t,titleId:n}=e,i=(0,r.__rest)(e,["title","titleId"]);return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:"1em",height:"1em","aria-labelledby":n},i),t?o.createElement("title",{id:n},t):null,o.createElement("path",{d:"M960 992q0 58-28 108t-77 82l112 226H825l-97-192h-88v192H512V768h224q46 0 87 17t71 48 48 72 18 87zm-320 96h96q40 0 68-28t28-68q0-40-28-68t-68-28h-96v192zm893-18q32 28 49 66t18 80q0 40-15 75t-41 61-61 41-75 15h-256V768h224q40 0 75 15t61 41 41 61 15 75q0 61-35 110zm-253-46h96q26 0 45-19t19-45q0-26-19-45t-45-19h-96v128zm128 256q26 0 45-19t19-45q0-26-19-45t-45-19h-128v128h128zm640 128q0 53-20 99t-55 82-81 55-100 20H416q-103 0-178-54t-108-152l-95-286q-19-57-27-120T0 928q0-57 21-110t62-95l256-256q41-41 94-62t111-21h160q82 0 182 5t208 19 218 34 211 54 190 76 154 101q38 34 68 76t43 93q3 13 3 25t3 25l64 508v8zm-256 128q22 0 42-7t36-20 28-30 18-39q1-4 3-13t1-15l-63-508v-4q0-2-1-4 0-31-16-60t-44-54-61-48-69-40-67-32-57-23q-96-35-200-59t-213-40-215-21-210-7H544q-32 0-62 11t-53 35L174 813q-23 23-34 53t-12 62q0 51 6 104t23 101l96 287q2 8 4 15t6 15q23 43 64 64t89 22h1376z"}))}},17266:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(85608),o=n(14041);const i=function(e){var{title:t,titleId:n}=e,i=(0,r.__rest)(e,["title","titleId"]);return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:"1em",height:"1em","aria-labelledby":n},i),t?o.createElement("title",{id:n},t):null,o.createElement("path",{d:"M1024 0q141 0 272 36t244 104 207 160 161 207 103 245 37 272q0 142-36 273t-103 244-160 207-207 160-245 103-273 37q-142 0-273-36t-244-103-207-160-160-207-103-245-37-273q0-142 36-273t103-244 160-207 207-160T751 37t273-37zm0 1920q123 0 237-32t214-90 182-141 140-181 91-214 32-238q0-123-32-237t-90-214-141-182-181-140-214-91-238-32q-123 0-237 32t-214 90-182 141-140 181-91 214-32 238q0 123 32 237t90 214 141 182 181 140 214 91 238 32zm137-925q38 5 71 19t58 38 39 56 14 73q0 62-24 106t-64 72-91 42-107 13H758V634h284q45 0 92 8t88 28 65 56 26 91q0 33-12 61t-34 51-48 39-58 25v2zm-228-47h77q24 0 45-5t37-18 25-31 10-45q0-27-11-44t-30-26-42-12-45-4h-66v185zm96 337q25 0 48-6t42-19 29-33 11-48q0-28-11-47t-29-31-42-17-48-5h-96v206h96z"}))}},76260:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(85608),o=n(14041);const i=function(e){var{title:t,titleId:n}=e,i=(0,r.__rest)(e,["title","titleId"]);return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:"1em",height:"1em","aria-labelledby":n},i),t?o.createElement("title",{id:n},t):null,o.createElement("path",{d:"M1600 1536q40 0 75 15t61 41 41 61 15 75q0 40-15 75t-41 61-61 41-75 15q-40 0-75-15t-61-41-41-61-15-75q0-31 11-64H885q11 33 11 64 0 40-15 75t-41 61-61 41-75 15q-40 0-75-15t-61-41-41-61-15-75q0-55 29-102t80-71L188 256H0V128h281l85 256h1682l-299 896H665l85 256h850zM409 512l213 640h1035l213-640H409zm359 1216q0-26-19-45t-45-19q-26 0-45 19t-19 45q0 26 19 45t45 19q26 0 45-19t19-45zm832 64q26 0 45-19t19-45q0-26-19-45t-45-19q-26 0-45 19t-19 45q0 26 19 45t45 19z"}))}},13742:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(85608),o=n(14041);const i=function(e){var{title:t,titleId:n}=e,i=(0,r.__rest)(e,["title","titleId"]);return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:"1em",height:"1em","aria-labelledby":n},i),t?o.createElement("title",{id:n},t):null,o.createElement("path",{d:"M2048 1024q0 142-36 272t-103 245-160 207-208 160-245 103-272 37q-142 0-272-36t-245-103-207-160-160-208-103-245-37-272q0-141 36-272t103-245 160-207 208-160T752 37t272-37q141 0 272 36t245 103 207 160 160 208 103 245 37 272zm-1024 896q123 0 237-32t214-90 182-141 140-181 91-214 32-238q0-123-32-237t-90-214-141-182-181-140-214-91-238-32q-124 0-238 32t-213 90-182 141-140 181-91 214-32 238q0 124 32 238t90 213 141 182 181 140 214 91 238 32z"}))}},16890:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(85608),o=n(14041);const i=function(e){var{title:t,titleId:n}=e,i=(0,r.__rest)(e,["title","titleId"]);return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:"1em",height:"1em","aria-labelledby":n},i),t?o.createElement("title",{id:n},t):null,o.createElement("path",{d:"M2048 1024q0 142-36 272t-103 245-160 207-208 160-245 103-272 37q-142 0-272-36t-245-103-207-160-160-208-103-245-37-272q0-141 36-272t103-245 160-207 208-160T752 37t272-37q141 0 272 36t245 103 207 160 160 208 103 245 37 272zm-1024 896q123 0 237-32t214-90 182-141 140-181 91-214 32-238q0-123-32-237t-90-214-141-182-181-140-214-91-238-32q-124 0-238 32t-213 90-182 141-140 181-91 214-32 238q0 124 32 238t90 213 141 182 181 140 214 91 238 32zm-233-553l774-774 82 82-856 856-390-390 82-82 308 308z"}))}},34843:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(85608),o=n(14041);const i=function(e){var{title:t,titleId:n}=e,i=(0,r.__rest)(e,["title","titleId"]);return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:"1em",height:"1em","aria-labelledby":n},i),t?o.createElement("title",{id:n},t):null,o.createElement("path",{d:"M1939 467l90 90-1005 1005L19 557l90-90 915 915 915-915z"}))}},55490:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(85608),o=n(14041);const i=function(e){var{title:t,titleId:n}=e,i=(0,r.__rest)(e,["title","titleId"]);return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:"1em",height:"1em","aria-labelledby":n},i),t?o.createElement("title",{id:n},t):null,o.createElement("path",{d:"M1533 93l-930 931 930 931-90 90L421 1024 1443 3l90 90z"}))}},46341:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(85608),o=n(14041);const i=function(e){var{title:t,titleId:n}=e,i=(0,r.__rest)(e,["title","titleId"]);return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:"1em",height:"1em","aria-labelledby":n},i),t?o.createElement("title",{id:n},t):null,o.createElement("path",{d:"M605 3l1022 1021L605 2045l-90-90 930-931L515 93l90-90z"}))}},2750:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(85608),o=n(14041);const i=function(e){var{title:t,titleId:n}=e,i=(0,r.__rest)(e,["title","titleId"]);return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:"1em",height:"1em","aria-labelledby":n},i),t?o.createElement("title",{id:n},t):null,o.createElement("path",{d:"M1955 1533l-931-930-931 930-90-90L1024 422l1021 1021-90 90z"}))}},92488:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(85608),o=n(14041);const i=function(e){var{title:t,titleId:n}=e,i=(0,r.__rest)(e,["title","titleId"]);return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:"1em",height:"1em","aria-labelledby":n},i),t?o.createElement("title",{id:n},t):null,o.createElement("path",{d:"M2029 109l-914 915 914 915-90 90-915-914-915 914-90-90 914-915L19 109l90-90 915 914 915-914 90 90z"}))}},80650:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(85608),o=n(14041);const i=function(e){var{title:t,titleId:n}=e,i=(0,r.__rest)(e,["title","titleId"]);return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:"1em",height:"1em","aria-labelledby":n},i),t?o.createElement("title",{id:n},t):null,o.createElement("path",{d:"M384 2048v-128h1152v128H384zm1197-851l-621 626-621-626 90-90 467 470V0h128v1577l467-470 90 90z"}))}},58869:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(85608),o=n(14041);const i=function(e){var{title:t,titleId:n}=e,i=(0,r.__rest)(e,["title","titleId"]);return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 6272 2048",width:"1em",height:"1em","aria-labelledby":n},i),t?o.createElement("title",{id:n},t):null,o.createElement("path",{d:"M928 1856q-128 0-246-33t-222-93-188-146-145-188-94-221T0 928q0-128 33-246t93-222 146-188 188-145 221-94T928 0q128 0 246 33t222 93 188 146 145 188 94 221 33 247q0 128-33 246t-93 222-145 188-188 145-222 94-247 33zm285-904l-81 130h237l80 129h153l-405-648-324 519H506l81-130h248l81-130H396l-81 130h119l-162 259h673l252-403 91 144h-75zM558 563l-81 130h534l81-130H558zm5022 1485h-270l280-568-419-871h278l284 588 278-588h261l-692 1439zm-1030-427q-104 0-191-43t-151-114-99-165-36-192q0-102 36-194t102-164 154-113 194-42q87 0 165 31t139 94V609h249v997h-249v-109q-63 60-144 92t-169 32zm43-800q-57 0-106 21t-87 59-58 87-22 107v27q0 57 21 106t59 86 86 58 107 21q53 0 101-20t86-55 60-82 25-101v-41q0-56-21-105t-59-87-86-59-106-22zm-649 785h-249V208l249-80v1478zm-1177 0h-271V208h318q158 0 319-1 92 0 171 35t138 95 92 140 34 172q0 99-37 181t-100 142-149 92-182 33h-333v509zm0-1152v407h165q82 0 164 1 43 0 80-16t64-44 44-65 16-80q0-42-16-79t-44-65-65-44-80-16h-164q-82 0-164 1z"}))}},95129:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(85608),o=n(14041);const i=function(e){var{title:t,titleId:n}=e,i=(0,r.__rest)(e,["title","titleId"]);return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:"1em",height:"1em","aria-labelledby":n},i),t?o.createElement("title",{id:n},t):null,o.createElement("path",{d:"M2048 1024q0 142-36 272t-103 245-160 207-208 160-245 103-272 37q-141 0-272-36t-244-104-207-160-161-207-103-245-37-272q0-141 36-272t104-244 160-207 207-161T752 37t272-37q141 0 272 36t244 104 207 160 161 207 103 245 37 272zM616 621l-90 143h589l90-143H616zm983 715h169l-447-715-358 572H559l89-143h274l89-143H437l-89 143h131l-179 286h743l278-445 100 159h-83l-89 143h261l89 143z"}))}},74748:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(85608),o=n(14041);const i=function(e){var{title:t,titleId:n}=e,i=(0,r.__rest)(e,["title","titleId"]);return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:"1em",height:"1em","aria-labelledby":n},i),t?o.createElement("title",{id:n},t):null,o.createElement("path",{d:"M1024 640q26 0 45 19t19 45q0 26-19 45t-45 19q-26 0-45-19t-19-45q0-26 19-45t45-19zm704-164q20 14 36 35t25 45l224 607q20 55 27 121t8 124q0 55-17 111t-49 103-80 76-110 30q-22 0-48-8t-43-24l-304-304q-12-12-30-21t-40-15-42-9-37-3H800q-17 0-37 3t-42 9-39 15-31 21l-304 304q-16 16-42 24t-49 8q-62 0-109-29t-80-76-50-103-17-112q0-61 7-124t28-121l1-1 225-609v-2q9-22 24-41t35-34v-66q44-23 85-40t84-28 88-16 95-6q34 0 61 10t49 22 42 22 40 10h320q19 0 39-10t42-22 50-22 61-10q50 0 95 5t87 17 84 28 86 40v66zm64 1124q33 0 57-20t40-49 23-62 8-61q0-49-6-102t-22-101q-32-93-66-184t-70-184l-61-167q-7-17-12-35t-14-35q-5-10-12-17-11-11-27-17t-30-12v-66q-53-22-110-31t-114-9q-20 0-39 10t-42 22-50 22-61 10H864q-34 0-61-10t-49-22-43-22-39-10q-57 0-114 9t-110 31v66q-8 4-18 8t-21 9-18 12-12 17l-223 605q-16 44-22 100t-6 103q0 27 7 60t23 63 40 49 58 20q5 0 7-1l302-303q20-20 49-35t61-25 65-15 60-5h448q27 0 59 5t65 15 62 25 49 35l302 303q2 1 7 1z"}))}},38485:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(85608),o=n(14041);const i=function(e){var{title:t,titleId:n}=e,i=(0,r.__rest)(e,["title","titleId"]);return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:"1em",height:"1em","aria-labelledby":n},i),t?o.createElement("title",{id:n},t):null,o.createElement("path",{d:"M0 384h2048v1280H0V384zm684 160L536 974h146l20-78h120l19 78h146L848 544H684zM88 766q0 113 59 164t169 51q10 0 35-3t52-8 50-11 28-14V711H266v104h81v53q-8 1-14 1t-15 1q-50 0-72-31t-23-77q0-53 28-83t83-31q34 0 60 7t58 18V553h-3q-31-5-59-10t-60-6q-33 0-65 6t-60 18-53 33-41 51q-16 27-19 58t-4 63zm491 450q0-42-13-70t-37-44-56-22-70-7H226v430h135v-136h35q35 0 68-9t58-27 41-47 16-68zm320 288h147l-140-430H743l-148 430h146l20-77h119l19 77zm529-131q0-33-13-55t-32-39-42-26-42-19-32-18-13-21q0-16 15-20t28-5q26 0 57 8t52 24v-118h-3q-31-5-58-11t-60-6q-33 0-64 8t-56 24-40 43-15 64q0 35 12 57t31 38 41 25 40 18 31 17 13 23q0 16-14 20t-26 5q-33 0-65-14t-58-33v126q33 10 62 17t64 7q33 0 66-7t61-23 43-42 17-67zm5-696q-1 15-1 30t0 29v238h130V544h-191q-16 68-33 135t-29 136q-3-10-4-19t-3-20l-58-229-1-3h-197v430h119V771q0-23-1-46t-2-46q13 75 34 148t40 147h126l63-257 4-20 4-20zm395 698q0-33-13-55t-32-38-42-26-42-20-32-17-13-21q0-15 15-20t28-6q31 0 56 9t53 23v-117q-26-11-59-14t-62-3q-33 0-64 8t-56 24-40 43-15 64q0 34 12 57t31 38 41 24 40 18 31 18 13 22q0 16-13 21t-27 5q-35 0-64-14t-58-33v126q11 6 27 10t34 8 35 4 29 1q34 0 67-6t60-23 43-43 17-67zm106-401V867h-137v-55h127V705h-127v-54h135V544h-270v430h272zM820 1187q7 35 16 70t19 71h-71q9-35 20-70t16-71zm-23-389h-71l36-141q8 36 17 71t18 70zm-415 374q24 0 39 11t16 38q0 25-13 36t-38 12h-25v-97h21z"}))}},15761:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(85608),o=n(14041);const i=function(e){var{title:t,titleId:n}=e,i=(0,r.__rest)(e,["title","titleId"]);return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:"1em",height:"1em","aria-labelledby":n},i),t?o.createElement("title",{id:n},t):null,o.createElement("path",{d:"M1504 128q113 0 212 42t173 117 116 173 43 212q0 109-41 208t-118 177l-865 864-865-864Q82 980 41 881T0 672q0-113 42-212t117-173 173-116 212-43q109 0 208 41t177 118q24 24 47 48t48 48q24-24 47-48t48-48q77-77 176-118t209-41z"}))}},27892:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(85608),o=n(14041);const i=function(e){var{title:t,titleId:n}=e,i=(0,r.__rest)(e,["title","titleId"]);return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:"1em",height:"1em","aria-labelledby":n},i),t?o.createElement("title",{id:n},t):null,o.createElement("path",{d:"M2048 1536h-640v128h256v128h-640v-128h256v-128H896v256H0V128h896v512h1152v896zm-128-128V768H768v640h1152zM768 1664v-128H256v-128h384v-128H256v-128h384V640h128V256H128v1408h640zM640 384v128H256V384h384z"}))}},57103:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(85608),o=n(14041);const i=function(e){var{title:t,titleId:n}=e,i=(0,r.__rest)(e,["title","titleId"]);return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:"1em",height:"1em","aria-labelledby":n},i),t?o.createElement("title",{id:n},t):null,o.createElement("path",{d:"M1329 1203q136 47 245 131t187 195 118 243 41 276h-128q0-164-58-304t-162-244-243-161-305-59q-108 0-206 27t-184 76-155 119-119 155-77 184-27 207H128q0-143 42-274t119-242 186-195 245-133q-78-42-140-102T475 968t-67-156-24-172q0-88 23-170t64-153 100-129T701 88t153-65 170-23q88 0 170 23t153 64 129 100 100 130 65 153 23 170q0 87-23 170t-67 157-106 134-139 102zM512 640q0 106 40 199t110 162 163 110 199 41q106 0 199-40t162-110 110-163 41-199q0-106-40-199t-110-162-163-110-199-41q-106 0-199 40T663 278 553 441t-41 199z"}))}},72482:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(85608),o=n(14041);const i=function(e){var{title:t,titleId:n}=e,i=(0,r.__rest)(e,["title","titleId"]);return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:"1em",height:"1em","aria-labelledby":n},i),t?o.createElement("title",{id:n},t):null,o.createElement("path",{d:"M1024 0q141 0 272 36t245 103 207 160 160 208 103 245 37 272q0 141-36 272t-103 245-160 207-208 160-245 103-272 37q-141 0-272-36t-245-103-207-160-160-208-103-244-37-273q0-141 36-272t103-245 160-207 208-160T751 37t273-37zm0 1920q123 0 237-32t214-90 182-141 140-181 91-214 32-238q0-123-32-237t-90-214-141-182-181-140-214-91-238-32q-123 0-237 32t-214 90-182 141-140 181-91 214-32 238q0 123 32 237t90 214 141 182 181 140 214 91 238 32z"}))}},15870:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(85608),o=n(14041);const i=function(e){var{title:t,titleId:n}=e,i=(0,r.__rest)(e,["title","titleId"]);return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:"1em",height:"1em","aria-labelledby":n},i),t?o.createElement("title",{id:n},t):null,o.createElement("path",{d:"M1024 0q141 0 272 36t245 103 207 160 160 208 103 245 37 272q0 141-36 272t-103 245-160 207-208 160-245 103-272 37q-141 0-272-36t-245-103-207-160-160-208-103-244-37-273q0-141 36-272t103-245 160-207 208-160T751 37t273-37zm0 1920q123 0 237-32t214-90 182-141 140-181 91-214 32-238q0-123-32-237t-90-214-141-182-181-140-214-91-238-32q-123 0-237 32t-214 90-182 141-140 181-91 214-32 238q0 123 32 237t90 214 141 182 181 140 214 91 238 32zm0-1568q93 0 178 24t161 68 136 105 105 136 68 160 24 179q0 93-24 178t-68 161-105 136-136 105-160 68-179 24q-93 0-178-24t-161-68-136-105-105-136-68-160-24-179q0-93 24-178t68-161 105-136 136-105 160-68 179-24z"}))}},17915:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(85608),o=n(14041);const i=function(e){var{title:t,titleId:n}=e,i=(0,r.__rest)(e,["title","titleId"]);return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:"1em",height:"1em","aria-labelledby":n},i),t?o.createElement("title",{id:n},t):null,o.createElement("path",{d:"M2048 1024q0 142-36 272t-103 245-160 207-208 160-245 103-272 37q-142 0-272-36t-245-103-207-160-160-208-103-245-37-272q0-140 37-272t105-248 167-212 221-164H256V0h512v512H640V215q-117 56-211 140T267 545 164 773t-36 251q0 124 32 238t90 213 141 182 181 140 214 91 238 32q123 0 237-32t214-90 182-141 140-181 91-214 32-238q0-150-48-289t-136-253-207-197-266-124l34-123q166 45 304 140t237 226 155 289 55 331z"}))}},14447:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(85608),o=n(14041);const i=function(e){var{title:t,titleId:n}=e,i=(0,r.__rest)(e,["title","titleId"]);return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:"1em",height:"1em","aria-labelledby":n},i),t?o.createElement("title",{id:n},t):null,o.createElement("path",{d:"M1783 988v18q0 9 1 18v18q0 9-1 18l259 161-159 383-297-68q-24 26-50 50l68 297-383 159-161-259h-18q-9 0-18 1h-18q-9 0-18-1l-161 259-383-159 68-297q-26-24-50-50l-297 68L6 1221l259-161v-18q0-9-1-18v-18q0-9 1-18L6 827l159-383 297 68q24-26 50-50l-68-297L827 6l161 259h18q9 0 18-1h18q9 0 18 1L1221 6l383 159-68 297q26 24 50 50l297-68 159 383-259 161zm-117 130q2-24 4-47t2-48q0-23-2-47t-4-47l236-147-86-208-271 63q-31-38-63-70t-71-64l63-271-208-86-148 236q-23-2-47-4t-47-2q-24 0-47 2t-48 4L782 146l-208 86 63 271q-38 31-70 63t-64 71l-271-63-86 208 236 148q-2 24-4 47t-2 48q0 23 2 47t4 47l-236 147 86 208 271-63q31 38 63 70t71 64l-63 271 208 86 148-236q23 2 47 4t47 2q24 0 47-2t48-4l147 236 208-86-63-271q38-31 70-63t64-71l271 63 86-208-236-148zm-642-470q78 0 146 29t120 81 80 119 30 147q0 78-29 146t-81 120-119 80-147 30q-78 0-146-29t-120-81-80-119-30-147q0-78 29-146t81-120 119-80 147-30zm0 640q55 0 103-20t84-57 56-84 21-103q0-55-20-103t-57-84-84-56-103-21q-55 0-103 20t-84 57-56 84-21 103q0 55 20 103t57 84 84 56 103 21z"}))}},7588:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(85608),o=n(14041);const i=function(e){var{title:t,titleId:n}=e,i=(0,r.__rest)(e,["title","titleId"]);return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:"1em",height:"1em","aria-labelledby":n},i),t?o.createElement("title",{id:n},t):null,o.createElement("path",{d:"M1920 1920H0L960 0l960 1920zM207 1792h1506L960 286 207 1792zm817-1024v640H896V768h128zm-128 768h128v128H896v-128z"}))}},72178:(e,t,n)=>{"use strict";n.d(t,{Mp:()=>o,SC:()=>h,VQ:()=>r,w9:()=>i});var r,o,i,a=n(85608),s=n(39731),l=n(53373),c=n.n(l),u=n(14041),d=n(54559),p=n(95451);!function(e){e.Brand="Brand",e.UserAccent="UserAccent",e.Primary="Primary",e.Secondary="Secondary",e.Tertiary="Tertiary"}(r||(r={})),function(e){e.XSmall="XSmall",e.Small="Small",e.Medium="Medium",e.Large="Large"}(o||(o={})),function(e){e.Solid="Solid",e.SemiTransparent="Semitransparent",e.Acrylic="Acrylic"}(i||(i={}));var m=(0,u.forwardRef)((function(e,t){var n,l=e.as,m=e.className,h=e.textDecorationUnderline,g=e.isCallToAction,f=e.buttonType,_=e.buttonSize,v=e.overlayMode,y=e.children,b=e.onKeyDown,S=e.onKeyUp,E=e.onClick,C=(0,a.__rest)(e,["as","className","textDecorationUnderline","isCallToAction","buttonType","buttonSize","overlayMode","children","onKeyDown","onKeyUp","onClick"]),T=l,w=(0,u.useRef)(null),I=(0,s.useActiveInputMode)().activeInputMode,P=(0,u.useRef)(I),A=c()(m,p.e,((n={})[p.oC]=g,n[p.IM]=h,n[p.JJ]=!1===!!h,n[p.yl]=f===r.Brand,n[p.mu]=f===r.UserAccent,n[p.nr]=f===r.Primary,n[p.V6]=f===r.Secondary,n[p.Lk]=f===r.Tertiary,n[p.JH]=_===o.XSmall,n[p.PG]=_===o.Small,n[p.$g]=_===o.Medium,n[p.Pu]=_===o.Large,n[p.Nd]=v===i.Solid,n[p.Un]=v===i.SemiTransparent,n[p.LE]=v===i.Acrylic,n)),k=(0,u.useState)(!0),x=k[0],R=k[1],O=(0,u.useState)("keyboard"===P.current),N=O[0],M=O[1];return(0,u.useEffect)((function(){if("keyboard"===P.current){var e=setTimeout((function(){return M(!1)}),250);return function(){return clearTimeout(e)}}}),[]),u.createElement(T,(0,a.__assign)({ref:(0,d.i)(t,w),tabIndex:"div"===l?0:void 0,className:A,onKeyUp:function(e){"Enter"===e.key&&(R(!0),M(!1)),null===S||void 0===S||S(e)},onKeyDown:function(e){if("Enter"===e.key&&N)return R(!1),void e.preventDefault();x?null===b||void 0===b||b(e):e.preventDefault()},onClick:function(e){var t=0===e.detail;N&&t||!x&&t||null===E||void 0===E||E(e)}},C),y)}));m.displayName="BaseButton";var h=(0,u.memo)(m)},6409:(e,t,n)=>{"use strict";n.d(t,{a:()=>u});var r=n(85608),o=n(53373),i=n.n(o),a=n(14041),s=n(72178),l=n(95451),c=(0,a.forwardRef)((function(e,t){var n=e.buttonType,o=void 0===n?s.VQ.Brand:n,c=e.buttonSize,u=void 0===c?s.Mp.Medium:c,d=e.overlayMode,p=void 0===d?s.w9.Solid:d,m=e.className,h=(0,r.__rest)(e,["buttonType","buttonSize","overlayMode","className"]);return a.createElement(s.SC,(0,r.__assign)({ref:t,buttonType:o,buttonSize:u,overlayMode:p,className:i()(m,l.Pv,l.px)},h))}));c.displayName="BasicButtonUnmanaged";var u=(0,a.memo)(c)},39288:(e,t,n)=>{"use strict";n.d(t,{m:()=>d});var r=n(85608),o=n(53373),i=n.n(o),a=n(14041),s=n(47566),l=n(72178),c=n(95451),u=(0,a.forwardRef)((function(e,t){var n,o=e.iconClassName,u=e.iconStyle,d=e.iconSize,p=void 0===d?s.lK.XXSmall:d,m=e.className,h=e.icon,g=e.buttonType,f=void 0===g?l.VQ.Brand:g,_=e.buttonSize,v=void 0===_?l.Mp.Medium:_,y=e.overlayMode,b=void 0===y?l.w9.Solid:y,S=e.children,E=(0,r.__rest)(e,["iconClassName","iconStyle","iconSize","className","icon","buttonType","buttonSize","overlayMode","children"]);return a.createElement(l.SC,(0,r.__assign)({ref:t,buttonType:f,overlayMode:b,className:i()(m,c.$9,c.Pv,(n={},n[c._B]=v===l.Mp.XSmall,n[c._c]=v===l.Mp.Small,n[c.sM]=v===l.Mp.Medium,n[c.y4]=v===l.Mp.Large,n))},E),a.createElement(s.In,{iconSize:p,className:i()(c.iA,c.mK,o),style:u,icon:h,"aria-hidden":!0}),S)}));u.displayName="BasicIconButtonUnmanaged";var d=(0,a.memo)(u)},99115:(e,t,n)=>{"use strict";n.d(t,{j:()=>u});var r=n(85608),o=n(53373),i=n.n(o),a=n(14041),s=n(72178),l=n(95451),c=(0,a.forwardRef)((function(e,t){var n,o=e.buttonType,c=void 0===o?s.VQ.Brand:o,u=e.buttonSize,d=void 0===u?s.Mp.Medium:u,p=e.overlayMode,m=void 0===p?s.w9.Solid:p,h=e.className,g=(0,r.__rest)(e,["buttonType","buttonSize","overlayMode","className"]);return a.createElement(s.SC,(0,r.__assign)({ref:t,buttonType:c,buttonSize:d,overlayMode:m,className:i()(h,l.px,(n={},n[l.UA]=d===s.Mp.XSmall,n[l.kh]=d===s.Mp.Small,n[l.Qy]=d===s.Mp.Medium,n[l.eS]=d===s.Mp.Large,n))},g))}));c.displayName="HeroButtonUnmanaged";var u=(0,a.memo)(c)},51622:(e,t,n)=>{"use strict";n.d(t,{M:()=>d});var r=n(85608),o=n(53373),i=n.n(o),a=n(14041),s=n(47566),l=n(72178),c=n(95451),u=(0,a.forwardRef)((function(e,t){var n,o=e.iconClassName,u=e.iconStyle,d=e.iconSize,p=void 0===d?s.lK.XXSmall:d,m=e.className,h=e.icon,g=e.buttonType,f=void 0===g?l.VQ.Brand:g,_=e.buttonSize,v=void 0===_?l.Mp.Medium:_,y=e.overlayMode,b=void 0===y?l.w9.Solid:y,S=e.children,E=(0,r.__rest)(e,["iconClassName","iconStyle","iconSize","className","icon","buttonType","buttonSize","overlayMode","children"]);return a.createElement(l.SC,(0,r.__assign)({ref:t,buttonType:f,overlayMode:b,className:i()(m,c.$9,(n={},n[c.UA]=v===l.Mp.XSmall,n[c.kh]=v===l.Mp.Small,n[c.Qy]=v===l.Mp.Medium,n[c.eS]=v===l.Mp.Large,n[c._B]=v===l.Mp.XSmall,n[c._c]=v===l.Mp.Small,n[c.sM]=v===l.Mp.Medium,n[c.y4]=v===l.Mp.Large,n))},E),a.createElement(s.In,{iconSize:p,className:i()(c.iA,c.mK,o),style:u,icon:h,"aria-hidden":!0}),S)}));u.displayName="HeroIconButtonUnmanaged";var d=(0,a.memo)(u)},43342:(e,t,n)=>{"use strict";n.d(t,{T:()=>h});var r=n(85608),o=n(53373),i=n.n(o),a=n(14041),s=n(47566),l=n(6409),c=n(95451),u=n(99115),d={basic:l.a,hero:u.j},p={basic:"IconLabelButton",hero:"HeroIconLabelButton"},m=function(e){var t=d[e],n=a.forwardRef((function(e,n){var o=e.iconClassName,l=e.iconStyle,u=e.iconSize,d=void 0===u?s.lK.XXSmall:u,p=e.className,m=e.icon,h=e.children,g=(0,r.__rest)(e,["iconClassName","iconStyle","iconSize","className","icon","children"]);return a.createElement(t,(0,r.__assign)({ref:n,className:i()(p,c.yp)},g),h,a.createElement(s.In,{iconSize:d,className:i()(c.iA,c.S$,o),style:l,icon:m,"aria-hidden":!0}))}));return n.displayName=p[e],n},h=(0,a.memo)(m("basic"));(0,a.memo)(m("hero"))},72939:(e,t,n)=>{"use strict";n.d(t,{lY:()=>h,Ow:()=>o});var r,o,i=n(85608),a=n(57103),s=n(53373),l=n.n(s),c=n(14041),u=n(47566),d="GamerPic-module__gamerPic___LVS6s";!function(e){e[e.None=0]="None",e[e.Offline=1]="Offline",e[e.Online=2]="Online",e[e.FavoriteOffline=3]="FavoriteOffline",e[e.FavoriteOnline=4]="FavoriteOnline"}(r||(r={})),function(e){e[e.Small=0]="Small",e[e.Large=1]="Large"}(o||(o={}));var p=[r.FavoriteOnline,r.FavoriteOffline],m=[r.Online,r.FavoriteOnline],h=function(e){var t,n=e.marker,s=void 0===n?r.None:n,h=e.className,g=e.src,f=e.sources,_=e.type,v=void 0===_?"complex":_,y=e.size,b=e.isXbox360GamerPic,S=void 0!==b&&b,E=e.xbox360GamerPicClassName,C=e.role,T=void 0===C?"img":C,w=e.imageTagProps,I=(0,i.__rest)(e,["marker","className","src","sources","type","size","isXbox360GamerPic","xbox360GamerPicClassName","role","imageTagProps"]),P=(0,c.useState)(!1),A=P[0],k=P[1],x=m.includes(s),R=p.includes(s),O="complex"===v&&s!==r.None,N=(0,c.useMemo)((function(){var e;return"complex"===v?l()(((e={})["GamerPic-module__circleMask___j3NCd"]=!O,e["GamerPic-module__smallCircleMarkerMask___U5-8N"]=O&&!R&&y===o.Small,e["GamerPic-module__largeCircleMarkerMask___5sLAp"]=O&&!R&&y===o.Large,e["GamerPic-module__smallFavoriteMarkerMask___vfSur"]=O&&R&&y===o.Small,e["GamerPic-module__largeFavoriteMarkerMask___BF7AW"]=O&&R&&y===o.Large,e)):"GamerPic-module__defaultMask___l6n-E"}),[R,O,y,v]),M=(0,c.useMemo)((function(){var e,t;return O&&(R?c.createElement("svg",{"aria-hidden":!0,className:l()((e={},e["GamerPic-module__smallFavoriteMarker___Z634Y"]=y===o.Small,e["GamerPic-module__largeFavoriteMarker___GXLA9"]=y===o.Large,e["GamerPic-module__onlineGreenFill___StiJC"]=x,e["GamerPic-module__offlineGrayFill___UoOGM"]=!x,e)),viewBox:"0 0 32 32"},c.createElement("path",{d:"M16 27 6.11958763 32 8 20.4251627 0 12.2169197 11.0515464 10.5336226 16 0 20.9484536 10.5336226 32 12.2169197 24 20.4251627 25.8804124 32z"})):c.createElement("div",{"aria-hidden":!0,className:l()((t={},t["GamerPic-module__smallCircleMarker___MnFGP"]=y===o.Small,t["GamerPic-module__largeCircleMarker___kSFgF"]=y===o.Large,t["GamerPic-module__onlineGreenBackground___rWisN"]=x,t["GamerPic-module__offlineGrayBackground___DXdoW"]=!x,t))}))}),[x,R,O,y]);if(!g||A)return c.createElement("div",(0,i.__assign)({className:l()(d,h),role:T},I),c.createElement("div",{className:l()("GamerPic-module__noGamerPicWrapper___IYztp",N)},c.createElement(u.In,{"aria-hidden":!0,className:"GamerPic-module__playerIcon___plBaj",iconSize:u.lK.Custom,icon:a.A})),M);var L=c.createElement("img",(0,i.__assign)({onLoad:function(){return k(!1)},onError:function(){return k(!0)},src:g,alt:"","aria-hidden":!0,className:l()((t={},t["GamerPic-module__imageXbox360___dp+mT"]=S,t["GamerPic-module__image___mdxba"]=!S,t[N]=!S,t))},w));return S?c.createElement("div",(0,i.__assign)({className:l()(d,h),role:T},I),c.createElement("div",{className:l()("GamerPic-module__gamerPicXbox360Wrapper___OM-24",E,N)},f?c.createElement("picture",null,c.createElement(c.Fragment,null,f),L):L),M):c.createElement("div",(0,i.__assign)({className:l()(d,h),role:T},I),f?c.createElement("picture",null,c.createElement(c.Fragment,null,f),L):L,M)}},47566:(e,t,n)=>{"use strict";n.d(t,{In:()=>l,lK:()=>r});var r,o=n(85608),i=n(53373),a=n.n(i),s=n(14041);!function(e){e.Custom="Custom",e.XXSmall="XXSmall",e.XSmall="XSmall",e.Small="Small",e.Medium="Medium",e.Large="Large",e.XLarge="XLarge",e.XXLarge="XXLarge",e.XXXLarge="XXXLarge"}(r||(r={}));var l=(0,s.memo)((function(e){var t,n=e.className,i=e.icon,l=e.iconSize,c=(0,o.__rest)(e,["className","icon","iconSize"]);return s.createElement(i,(0,o.__assign)({className:a()(n,"Icon-module__icon___6ICyA",(t={},t["Icon-module__xxSmall___vViZA"]=l===r.XXSmall,t["Icon-module__xSmall___yjDD8"]=l===r.XSmall,t["Icon-module__small___Wn-vn"]=l===r.Small,t["Icon-module__medium___ybk1w"]=l===r.Medium,t["Icon-module__large___BlOBd"]=l===r.Large,t["Icon-module__xLarge___Hh0AA"]=l===r.XLarge,t["Icon-module__xxLarge___n0YBZ"]=l===r.XXLarge,t["Icon-module__xxxLarge___sXrvq"]=l===r.XXXLarge,t))},c))}))},97560:(e,t,n)=>{"use strict";n.d(t,{EQ:()=>a,Tc:()=>i,ZJ:()=>r});var r,o=n(85608);!function(e){e[e.DefaultLight=0]="DefaultLight",e[e.DefaultDark=1]="DefaultDark",e[e.DefaultHcWhite=2]="DefaultHcWhite",e[e.DefaultHcBlack=3]="DefaultHcBlack",e[e.DefaultHcDesert=4]="DefaultHcDesert",e[e.DefaultHcAquatic=5]="DefaultHcAquatic"}(r||(r={}));var i=function(e){switch(e){case r.DefaultLight:return"light";case r.DefaultDark:return"dark";case r.DefaultHcWhite:return"hc-white";case r.DefaultHcBlack:return"hc-black";case r.DefaultHcDesert:return"hc-desert";case r.DefaultHcAquatic:return"hc-aquatic"}};function a(e){return(0,o.__awaiter)(this,void 0,void 0,(function(){return(0,o.__generator)(this,(function(t){switch(t.label){case 0:switch(e){case r.DefaultLight:return[3,1];case r.DefaultDark:return[3,3];case r.DefaultHcWhite:return[3,5];case r.DefaultHcBlack:return[3,7];case r.DefaultHcDesert:return[3,9];case r.DefaultHcAquatic:return[3,11]}return[3,13];case 1:return[4,n.e(6867).then(n.bind(n,39248))];case 2:case 4:case 6:case 8:case 10:case 12:return t.sent(),[2];case 3:return[4,n.e(2976).then(n.bind(n,32976))];case 5:return[4,n.e(4781).then(n.bind(n,44781))];case 7:return[4,n.e(3343).then(n.bind(n,53343))];case 9:return[4,n.e(7257).then(n.bind(n,77257))];case 11:return[4,n.e(6724).then(n.bind(n,26724))];case 13:return[2]}}))}))}},54559:(e,t,n)=>{"use strict";n.d(t,{i:()=>r});var r=function(e,t){return function(n){t.current=n,"function"===typeof e?e(n):"object"===typeof e&&e&&(e.current=n)}}},20774:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>x,ai:()=>A});var r=n(14041),o=n(17502),i=n(89575),a=n(2474),s=n(50701),l=n(93316),c=n(75985),u=n.n(c);function d(e,t){if(!e){var n=new Error("loadable: "+t);throw n.framesToPop=1,n.name="Invariant Violation",n}}function p(e){console.warn("loadable: "+e)}var m=r.createContext(),h="__LOADABLE_REQUIRED_CHUNKS__";function g(e){return""+e+h}var f={initialChunks:{}},_="PENDING",v="REJECTED";var y=function(e){return e};function b(e){var t=e.defaultResolveComponent,n=void 0===t?y:t,c=e.render,p=e.onLoad;function h(e,t){void 0===t&&(t={});var h=function(e){return"function"===typeof e?{requireAsync:e,resolve:function(){},chunkName:function(){}}:e}(e),g={};function y(e){return t.cacheKey?t.cacheKey(e):h.resolve?h.resolve(e):"static"}function b(e,r,o){var i=t.resolveComponent?t.resolveComponent(e,r):n(e);if(t.resolveComponent&&!(0,l.isValidElementType)(i))throw new Error("resolveComponent returned something that is not a React component!");return u()(o,i,{preload:!0}),i}var S=function(e){var t=y(e),n=g[t];return n&&n.status!==v||((n=h.requireAsync(e)).status=_,g[t]=n,n.then((function(){n.status="RESOLVED"}),(function(t){console.error("loadable-components: failed to asynchronously load component",{fileName:h.resolve(e),chunkName:h.chunkName(e),error:t?t.message:t}),n.status=v}))),n},E=function(e){var t=function(t){return r.createElement(m.Consumer,null,(function(n){return r.createElement(e,Object.assign({__chunkExtractor:n},t))}))};return e.displayName&&(t.displayName=e.displayName+"WithChunkExtractor"),t}(function(e){function n(n){var r;return(r=e.call(this,n)||this).state={result:null,error:null,loading:!0,cacheKey:y(n)},d(!n.__chunkExtractor||h.requireSync,"SSR requires `@loadable/babel-plugin`, please install it"),n.__chunkExtractor?(!1===t.ssr||(h.requireAsync(n).catch((function(){return null})),r.loadSync(),n.__chunkExtractor.addChunk(h.chunkName(n))),(0,a.A)(r)):(!1!==t.ssr&&(h.isReady&&h.isReady(n)||h.chunkName&&f.initialChunks[h.chunkName(n)])&&r.loadSync(),r)}(0,s.A)(n,e),n.getDerivedStateFromProps=function(e,t){var n=y(e);return(0,i.A)({},t,{cacheKey:n,loading:t.loading||t.cacheKey!==n})};var r=n.prototype;return r.componentDidMount=function(){this.mounted=!0;var e=this.getCache();e&&e.status===v&&this.setCache(),this.state.loading&&this.loadAsync()},r.componentDidUpdate=function(e,t){t.cacheKey!==this.state.cacheKey&&this.loadAsync()},r.componentWillUnmount=function(){this.mounted=!1},r.safeSetState=function(e,t){this.mounted&&this.setState(e,t)},r.getCacheKey=function(){return y(this.props)},r.getCache=function(){return g[this.getCacheKey()]},r.setCache=function(e){void 0===e&&(e=void 0),g[this.getCacheKey()]=e},r.triggerOnLoad=function(){var e=this;p&&setTimeout((function(){p(e.state.result,e.props)}))},r.loadSync=function(){if(this.state.loading)try{var e=b(h.requireSync(this.props),this.props,C);this.state.result=e,this.state.loading=!1}catch(t){console.error("loadable-components: failed to synchronously load component, which expected to be available",{fileName:h.resolve(this.props),chunkName:h.chunkName(this.props),error:t?t.message:t}),this.state.error=t}},r.loadAsync=function(){var e=this,t=this.resolveAsync();return t.then((function(t){var n=b(t,e.props,C);e.safeSetState({result:n,loading:!1},(function(){return e.triggerOnLoad()}))})).catch((function(t){return e.safeSetState({error:t,loading:!1})})),t},r.resolveAsync=function(){var e=this.props,t=(e.__chunkExtractor,e.forwardedRef,(0,o.A)(e,["__chunkExtractor","forwardedRef"]));return S(t)},r.render=function(){var e=this.props,n=e.forwardedRef,r=e.fallback,a=(e.__chunkExtractor,(0,o.A)(e,["forwardedRef","fallback","__chunkExtractor"])),s=this.state,l=s.error,u=s.loading,d=s.result;if(t.suspense&&(this.getCache()||this.loadAsync()).status===_)throw this.loadAsync();if(l)throw l;var p=r||t.fallback||null;return u?p:c({fallback:p,result:d,options:t,props:(0,i.A)({},a,{ref:n})})},n}(r.Component)),C=r.forwardRef((function(e,t){return r.createElement(E,Object.assign({forwardedRef:t},e))}));return C.displayName="Loadable",C.preload=function(e){C.load(e)},C.load=function(e){return S(e)},C}return{loadable:h,lazy:function(e,t){return h(e,(0,i.A)({},t,{suspense:!0}))}}}var S=b({defaultResolveComponent:function(e){return e.__esModule?e.default:e.default||e},render:function(e){var t=e.result,n=e.props;return r.createElement(t,n)}}),E=S.loadable,C=S.lazy,T=b({onLoad:function(e,t){e&&t.forwardedRef&&("function"===typeof t.forwardedRef?t.forwardedRef(e):t.forwardedRef.current=e)},render:function(e){var t=e.result,n=e.props;return n.children?n.children(t):null}}),w=T.loadable,I=T.lazy,P=!0;function A(e,t){void 0===e&&(e=function(){});var n=void 0===t?{}:t,r=n.namespace,o=void 0===r?"":r,i=n.chunkLoadingGlobal,a=void 0===i?"__LOADABLE_LOADED_CHUNKS__":i;if(!P)return p("`loadableReady()` must be called in browser only"),e(),Promise.resolve();var s=null;if(P){var l=g(o),c=document.getElementById(l);if(c){s=JSON.parse(c.textContent);var u=document.getElementById(l+"_ext");if(!u)throw new Error("loadable-component: @loadable/server does not match @loadable/component");JSON.parse(u.textContent).namedChunks.forEach((function(e){f.initialChunks[e]=!0}))}}if(!s)return p("`loadableReady()` requires state, please use `getScriptTags` or `getScriptElements` server-side"),e(),Promise.resolve();var d=!1;return new Promise((function(e){window[a]=window[a]||[];var t=window[a],n=t.push.bind(t);function r(){s.every((function(e){return t.some((function(t){return t[0].indexOf(e)>-1}))}))&&(d||(d=!0,e()))}t.push=function(){n.apply(void 0,arguments),r()},r()})).then(e)}var k=E;k.lib=w,C.lib=I;const x=k},776:(e,t)=>{"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,o=n?Symbol.for("react.portal"):60106,i=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,p=n?Symbol.for("react.forward_ref"):60112,m=n?Symbol.for("react.suspense"):60113,h=n?Symbol.for("react.suspense_list"):60120,g=n?Symbol.for("react.memo"):60115,f=n?Symbol.for("react.lazy"):60116,_=n?Symbol.for("react.block"):60121,v=n?Symbol.for("react.fundamental"):60117,y=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function S(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case u:case d:case i:case s:case a:case m:return e;default:switch(e=e&&e.$$typeof){case c:case p:case f:case g:case l:return e;default:return t}}case o:return t}}}function E(e){return S(e)===d}t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===i||e===d||e===s||e===a||e===m||e===h||"object"===typeof e&&null!==e&&(e.$$typeof===f||e.$$typeof===g||e.$$typeof===l||e.$$typeof===c||e.$$typeof===p||e.$$typeof===v||e.$$typeof===y||e.$$typeof===b||e.$$typeof===_)}},93316:(e,t,n)=>{"use strict";e.exports=n(776)},36647:(e,t,n)=>{"use strict";n.d(t,{J:()=>o,N:()=>i});var r=n(14041);const o={locales:[],merge:Object.assign,messages:{},pathSep:"."},i=(0,r.createContext)(o)},7247:(e,t,n)=>{"use strict";n.d(t,{p:()=>u});var r=n(14041),o=n(36647);const i={EBADMSG:"Message with unexpected object value",ENOMSG:"Message not found"};class a extends Error{constructor(e,t,n){super(`${i[t]}: ${n(e)}`),this.code=t,this.path=e}}function s(e,t,n,r){const o=e=>e.join(t||",");function s(e,t){return console.warn(i[t],e),o(e)}if(void 0===n){if("function"===typeof r)return(e,t)=>r(`${i[t]}: ${o(e)}`);n=r}switch(n){case"silent":return o;case"error":return function(e,t){throw new a(e,t,o)};case"warn":return s;default:if("function"===typeof n){const e=n;return(t,n)=>e(new a(t,n,o))}return e.onError||s}}function l({locales:e},t){const n=e.filter((e=>e!==t));return[t].concat(n)}function c({merge:e,messages:t},n,r){const o=Object.assign({},t),i=o[n];return o[n]=i&&"object"===typeof i?e({},i,r):r,o}function u(e){const{children:t,context:n,debug:i,locale:a="",merge:u,messages:d,onError:p,pathSep:m}=e;let h=(0,r.useContext)(o.N);n?h=n:null===n&&(h=o.J);const g=(0,r.useMemo)((()=>{const e=function(e,t){return null===t||"string"===typeof t?t:e.pathSep}(h,m);return{locales:l(h,a),merge:u||h.merge,messages:c(h,a,d),onError:s(h,e,p,i),pathSep:e}}),[h,a,u,d,m]);return(0,r.createElement)(o.N.Provider,{value:g},t)}},56769:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.buyNowUIUrlPath=t.purchaseUIUrlPath=void 0;var r=n(9274);t.purchaseUIUrlPath=function(e,t,n){return"ppe"===(null===e||void 0===e?void 0:e.selectEnv)||t&&t.length>0&&t.map((function(e){return e.toLowerCase()})).includes(r.ppeFlightName)||n&&n.length>0&&n.map((function(e){return e.toLowerCase()})).includes(r.ppeFlightName)?r.PPE_PURCHASEUI_URL:r.BASE_PURCHASEUI_URL};t.buyNowUIUrlPath=function(e,t,n){return"ppe"===(null===e||void 0===e?void 0:e.selectEnv)||t&&t.length>0&&t.map((function(e){return e.toLowerCase()})).includes(r.ppeFlightName)||n&&n.length>0&&n.map((function(e){return e.toLowerCase()})).includes(r.ppeFlightName)?r.PPE_BUYNOWUI_URL:r.BASE_BUYNOWUI_URL}},80849:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPrefetchUrlByRoute=t.getPrefetchUrl=t.addingQueryParams=t.createInputForArray=t.extraData=t.createInput=void 0;var r=n(9274);t.createInput=function(e,t,n){var r=document.createElement("input");return r.name=e,r.type="hidden",r.value=t?JSON.stringify(t):null!==n&&void 0!==n?n:"",r};t.extraData=function(e){return{usePurchaseSdk:!0,clientType:e}};t.createInputForArray=function(e,n,r){if(e&&r&&(null===r||void 0===r?void 0:r.length)>0){var o=0;r.forEach((function(r){e.appendChild((0,t.createInput)(n+"["+o+"]",void 0,r)),o++}))}};t.addingQueryParams=function(e,t){return t&&t.length>0?(null===e||void 0===e?void 0:e.indexOf("?"))>-1?e+"&"+t:e+"?"+t:e};t.getPrefetchUrl=function(e,n){var r=new URLSearchParams;return n?(n.market&&r.append("market",n.market),n.locale&&r.append("locale",n.locale),n.clientType&&r.append("clientType",n.clientType),n.cssOverride&&r.append("cssOverride",n.cssOverride),n.optionalAssets&&r.append("optional",n.optionalAssets),(0,t.addingQueryParams)(e,r.toString())):e};t.getPrefetchUrlByRoute=function(e){return e.indexOf("cart")>-1||e.indexOf("checkout")>-1?r.prefetchURLTemplate.replace("{0}",r.purchaseUIAppName).replace("{1}",e):r.prefetchURLTemplate.replace("{0}",r.buyNowUIAppName).replace("{1}",e)}},14850:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getTimeToInvokeMarkFromArgsOrNewMetric=t.getTimeToInvokeMark=t.clearPerfMarks=void 0;var n=function(e){var t=function(e){return performance&&performance.getEntriesByName?performance.getEntriesByName(e):[]}(e);return t.length>0?t[0].startTime:-1};t.clearPerfMarks=function(){performance&&performance.clearMarks&&performance.clearMarks()};t.getTimeToInvokeMark=function(e){return function(e){performance&&performance.mark&&performance.mark(e)}(e),n(e)};t.getTimeToInvokeMarkFromArgsOrNewMetric=function(e,n){return n&&n>0?n:(0,t.getTimeToInvokeMark)(e)}},76858:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(t){i(t)}}function s(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.prefetchCart=t.makeWindowListener=t.invokeCartInFrame=void 0;var i=n(80849),a=n(14850),s=n(9274),l=n(93304),c=n(12571);t.invokeCartInFrame=function(e,t){var n,i;return r(this,void 0,void 0,(function(){var r;return o(this,(function(o){switch(o.label){case 0:if(!e.name)throw new Error('purchase-sdk: target iframe must have unique "name" attribute set');return(r=document.createElement("form")).target=e.name,r.action=(0,l.constructCartURl)(t),r.method="post",(0,l.createInputForPurchaseUI)(r,{market:t.market,cV:encodeURIComponent(t.cV),data:(0,l.externalData)(t),locale:t.locale,clientType:t.clientType,layout:t.layout,cssOverride:t.cssOverride,theme:t.theme,hostRedirectReturnUrlTemplate:t.hostRedirectReturnUrlTemplate,muid:t.muid,keepShoppingUrl:t.keepShoppingUrl,aveSuccessRedirectUrl:t.aveSuccessRedirectUrl,aveFailureRedirectUrl:t.aveFailureRedirectUrl,postBusyStateToParent:t.postBusyStateToParent,postCartCountToParent:t.postCartCountToParent,productImageBackgroundColorARGB:t.productImageBackgroundColorARGB,pageFormat:t.pageFormat||"full",authToken:t.authToken,xToken:t.xToken,isHosted:null===(n=t.isHosted)||void 0===n||n,canvasType:null!==(i=t.canvasType)&&void 0!==i?i:"web",alternativeMuid:t.alternativeMuid,bearerToken:t.bearerToken,flights:t.flights,corpAccessToken:t.corpAccessToken,billingAccountId:t.billingAccountId,pidlBearerToken:t.pidlBearerToken,clientHandleUrl:!0,GPC_DataSharingOptIn:t.GPC_DataSharingOptIn,queryStringParams:t.queryStringParams,experiments:t.experiments,timeToInvokeIframe:(0,a.getTimeToInvokeMarkFromArgsOrNewMetric)("cartInvoke",t.timeToInvokeIframe),sdkVersion:c.LIB_VERSION}),e.appendChild(r),r.submit(),[4,(0,l.attachingMessageHandler)(r)];case 1:return o.sent(),[2,!0]}}))}))};t.makeWindowListener=function(e){return function(t){var n,r,o,i,a,l,c,u;if(t.origin===s.TARGET_ORIGIN){var d=t.data;switch(null===d||void 0===d?void 0:d.message){case"cartStatus":null===(n=e.cartStatus)||void 0===n||n.call(e,d);break;case"done":e.done(d);break;case"stageChanged":null===(r=e.stageChanged)||void 0===r||r.call(e,d);break;case"status":null===(o=e.status)||void 0===o||o.call(e,d);break;case"sizeChanged":null===(i=e.sizeChanged)||void 0===i||i.call(e,d);break;case"resize":null===(a=e.resize)||void 0===a||a.call(e,d);break;case"ready":null===(l=e.ready)||void 0===l||l.call(e,d);break;case"checkout":null===(c=e.checkout)||void 0===c||c.call(e,d);break;case"openUrl":null===(u=e.openUrl)||void 0===u||u.call(e,d)}}}};t.prefetchCart=function(e){e.src=(0,i.getPrefetchUrlByRoute)(s.appRoutes.cart)}},93304:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.externalData=t.createInputForPurchaseUI=t.attachingMessageHandler=t.constructCartURl=void 0;var r=n(56769),o=n(80849),i=n(9274);t.constructCartURl=function(e){var t=""+i.TARGET_ORIGIN+(0,r.purchaseUIUrlPath)(e,e.flights)+i.appRoutes.cart;if(!e.clientType)throw new Error("purchase-sdk: clientType is missing !!!");return t=t+"?client="+e.clientType,(0,o.addingQueryParams)(t,e.queryStringParams)};t.attachingMessageHandler=function(e){return new Promise((function(t){return window.addEventListener("message",(function(n){n.origin===i.TARGET_ORIGIN&&("ReactPurchaseReadyToRender"===n.data&&t(),e&&e.remove())}),!0)}))};t.createInputForPurchaseUI=function(e,t){Object.keys(t).forEach((function(n){if(n&&t[n])if("authToken"===n)e.appendChild((0,o.createInput)("msaTicket",void 0,t.authToken));else if("data"===n)e.appendChild((0,o.createInput)("data",t.data));else if("flights"===n)(0,o.createInputForArray)(e,"flights",t.flights);else if("experiments"===n)(0,o.createInputForArray)(e,"experiments",t.experiments);else{var r=t[n];e.appendChild((0,o.createInput)(n,void 0,r))}else if(n&&n===i.GPC_DataSharingOptInKey){r=t[n];e.appendChild((0,o.createInput)(n,void 0,r))}}))};t.externalData=function(e){var t,n,r,o,i,a;return{usePurchaseSdk:!0,postCartCountToParent:null===e||void 0===e?void 0:e.postCartCountToParent,postBusyStateToParent:null===e||void 0===e?void 0:e.postBusyStateToParent,keepShoppingUrl:null===e||void 0===e?void 0:e.keepShoppingUrl,aveSuccessRedirectUrl:null===e||void 0===e?void 0:e.aveSuccessRedirectUrl,aveFailureRedirectUrl:null===e||void 0===e?void 0:e.aveFailureRedirectUrl,hostRedirectReturnUrlTemplate:null===e||void 0===e?void 0:e.hostRedirectReturnUrlTemplate,clientType:null===(t=null===e||void 0===e?void 0:e.data)||void 0===t?void 0:t.clientType,addPiSuccessUrl:null===(n=null===e||void 0===e?void 0:e.data)||void 0===n?void 0:n.addPiSuccessUrl,addPiFailureUrl:null===(r=null===e||void 0===e?void 0:e.data)||void 0===r?void 0:r.addPiFailureUrl,layout:null===(o=null===e||void 0===e?void 0:e.data)||void 0===o?void 0:o.layout,cssOverride:null===(i=null===e||void 0===e?void 0:e.data)||void 0===i?void 0:i.cssOverride,data:null===(a=null===e||void 0===e?void 0:e.data)||void 0===a?void 0:a.data}}},45068:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(t){i(t)}}function s(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.prefetchCheckout=t.makeWindowListener=t.invokeDeviceRepairInFrame=t.invokeCheckoutInFrame=void 0;var i=n(80849),a=n(14850),s=n(9274),l=n(80278),c=n(12571);t.invokeCheckoutInFrame=function(e,t){var n,i;return r(this,void 0,void 0,(function(){var r;return o(this,(function(o){switch(o.label){case 0:if(!e.name)throw new Error('purchase-sdk: target iframe must have unique "name" attribute set');return(r=document.createElement("form")).target=e.name,r.action=(0,l.constructCheckoutURl)(t),r.method="post",(0,l.createInputForCheckout)(r,{market:t.market,cV:encodeURIComponent(t.cV),data:(0,l.externalData)(t),locale:t.locale,clientType:t.clientType,layout:t.layout,cssOverride:t.cssOverride,theme:t.theme,hostRedirectReturnUrlTemplate:t.hostRedirectReturnUrlTemplate,muid:t.muid,keepShoppingUrl:t.keepShoppingUrl,postBusyStateToParent:t.postBusyStateToParent,productImageBackgroundColorARGB:t.productImageBackgroundColorARGB,pageFormat:t.pageFormat||"full",authToken:t.authToken,xToken:t.xToken,isHosted:null===(n=t.isHosted)||void 0===n||n,canvasType:null!==(i=t.canvasType)&&void 0!==i?i:"web",alternativeMuid:t.alternativeMuid,bearerToken:t.bearerToken,flights:t.flights,corpAccessToken:t.corpAccessToken,billingAccountId:t.billingAccountId,pidlBearerToken:t.pidlBearerToken,clientHandleUrl:!0,GPC_DataSharingOptIn:t.GPC_DataSharingOptIn,queryStringParams:t.queryStringParams,experiments:t.experiments,timeToInvokeIframe:(0,a.getTimeToInvokeMarkFromArgsOrNewMetric)("checkoutInvoke",t.timeToInvokeIframe),sdkVersion:c.LIB_VERSION}),e.appendChild(r),r.submit(),[4,(0,l.attachingMessageHandler)(r)];case 1:return o.sent(),[2,!0]}}))}))},t.invokeDeviceRepairInFrame=function(e,t){var n,i;return r(this,void 0,void 0,(function(){var r;return o(this,(function(o){switch(o.label){case 0:if(!e.name)throw new Error('purchase-sdk: target iframe must have unique "name" attribute set');return(r=document.createElement("form")).target=e.name,r.action=(0,l.constructDeviceRepairURl)(t),r.method="post",(0,l.createInputForDeviceRepair)(r,{market:t.market,cV:encodeURIComponent(t.cV),data:(0,l.externalData)(t),locale:t.locale,cartId:t.cartId,clientType:t.clientType,layout:t.layout,cssOverride:t.cssOverride,theme:t.theme,hostRedirectReturnUrlTemplate:t.hostRedirectReturnUrlTemplate,muid:t.muid,postBusyStateToParent:t.postBusyStateToParent,pageFormat:t.pageFormat||"full",authToken:t.authToken,isHosted:null===(n=t.isHosted)||void 0===n||n,canvasType:null!==(i=t.canvasType)&&void 0!==i?i:"web",GPC_DataSharingOptIn:t.GPC_DataSharingOptIn,queryStringParams:t.queryStringParams,experiments:t.experiments,flights:t.flights,sdkVersion:c.LIB_VERSION}),e.appendChild(r),r.submit(),[4,(0,l.attachingMessageHandler)(r)];case 1:return o.sent(),[2,!0]}}))}))};t.makeWindowListener=function(e){return function(t){var n,r,o,i,a,l,c;if(t.origin===s.TARGET_ORIGIN){var u=t.data;switch(null===u||void 0===u?void 0:u.message){case"checkoutStatus":null===(n=e.checkoutStatus)||void 0===n||n.call(e,u);break;case"done":e.done(u);break;case"stageChanged":null===(r=e.stageChanged)||void 0===r||r.call(e,u);break;case"status":null===(o=e.status)||void 0===o||o.call(e,u);break;case"sizeChanged":null===(i=e.sizeChanged)||void 0===i||i.call(e,u);break;case"resize":null===(a=e.resize)||void 0===a||a.call(e,u);break;case"ready":null===(l=e.ready)||void 0===l||l.call(e,u);break;case"openUrl":null===(c=e.openUrl)||void 0===c||c.call(e,u)}}}};t.prefetchCheckout=function(e){e.src=(0,i.getPrefetchUrlByRoute)(s.appRoutes.checkout)}},80278:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.externalData=t.constructDeviceRepairURl=t.constructCheckoutURl=t.createInputForDeviceRepair=t.createInputForCheckout=t.attachingMessageHandler=void 0;var r=n(56769),o=n(80849),i=n(9274);t.attachingMessageHandler=function(e){return new Promise((function(t){return window.addEventListener("message",(function(n){n.origin===i.TARGET_ORIGIN&&("ReactPurchaseReadyToRender"===n.data&&t(),e&&e.remove())}),!0)}))};t.createInputForCheckout=function(e,t){Object.keys(t).forEach((function(n){if(n&&t[n])if("authToken"===n)e.appendChild((0,o.createInput)("msaTicket",void 0,t.authToken));else if("data"===n)e.appendChild((0,o.createInput)("data",t.data));else if("flights"===n)(0,o.createInputForArray)(e,"flights",t.flights);else if("experiments"===n)(0,o.createInputForArray)(e,"experiments",t.experiments);else{var r=t[n];e.appendChild((0,o.createInput)(n,void 0,r))}else if(n&&n===i.GPC_DataSharingOptInKey){r=t[n];e.appendChild((0,o.createInput)(n,void 0,r))}}))};t.createInputForDeviceRepair=function(e,t){Object.keys(t).forEach((function(n){if(n&&t[n])if("authToken"===n)e.appendChild((0,o.createInput)("msaTicket",void 0,t.authToken));else if("data"===n)e.appendChild((0,o.createInput)("data",t.data));else if("flights"===n)(0,o.createInputForArray)(e,"flights",t.flights);else if("experiments"===n)(0,o.createInputForArray)(e,"experiments",t.experiments);else{var r=t[n];e.appendChild((0,o.createInput)(n,void 0,r))}else if(n&&n===i.GPC_DataSharingOptInKey){r=t[n];e.appendChild((0,o.createInput)(n,void 0,r))}}))};t.constructCheckoutURl=function(e){var t=""+i.TARGET_ORIGIN+(0,r.purchaseUIUrlPath)(e,e.flights)+i.appRoutes.checkout;if(!e.authToken&&!e.xToken)throw new Error("purchase-sdk: Authentication token is missing !!!");if(!e.clientType)throw new Error("purchase-sdk: clientType is missing !!!");return t=t+"?client="+e.clientType,(0,o.addingQueryParams)(t,e.queryStringParams)};t.constructDeviceRepairURl=function(e){var t=""+i.TARGET_ORIGIN+(0,r.purchaseUIUrlPath)(e,e.flights)+i.appRoutes.deviceRepair;if(!e.authToken)throw new Error("purchase-sdk: authToken is missing !!!");if(!e.cartId)throw new Error("purchase-sdk: order id is missing !!!");if(!e.clientType)throw new Error("purchase-sdk: clientType is missing !!!");return t=t+"?client="+e.clientType};t.externalData=function(e){var t,n,r,o,i,a;return{usePurchaseSdk:!0,postBusyStateToParent:null===e||void 0===e?void 0:e.postBusyStateToParent,keepShoppingUrl:null===e||void 0===e?void 0:e.keepShoppingUrl,aveSuccessRedirectUrl:null===e||void 0===e?void 0:e.aveSuccessRedirectUrl,aveFailureRedirectUrl:null===e||void 0===e?void 0:e.aveFailureRedirectUrl,hostRedirectReturnUrlTemplate:null===e||void 0===e?void 0:e.hostRedirectReturnUrlTemplate,clientType:null===(t=null===e||void 0===e?void 0:e.data)||void 0===t?void 0:t.clientType,addPiSuccessUrl:null===(n=null===e||void 0===e?void 0:e.data)||void 0===n?void 0:n.addPiSuccessUrl,addPiFailureUrl:null===(r=null===e||void 0===e?void 0:e.data)||void 0===r?void 0:r.addPiFailureUrl,layout:null===(o=null===e||void 0===e?void 0:e.data)||void 0===o?void 0:o.layout,cssOverride:null===(i=null===e||void 0===e?void 0:e.data)||void 0===i?void 0:i.cssOverride,data:null===(a=null===e||void 0===e?void 0:e.data)||void 0===a?void 0:a.data,postCartCountToParent:null===e||void 0===e?void 0:e.postCartCountToParent}}},9274:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.appRoutes=t.ppeFlightName=t.buyNowUIAppName=t.purchaseUIAppName=t.prefetchURLTemplate=t.GPC_DataSharingOptInKey=t.windowTargetCurrent=t.REDEEMNOW_PREFETCH_URL=t.BUYNOW_PREFETCH_URL=t.PPE_BUYNOWUI_URL=t.PPE_PURCHASEUI_URL=t.BASE_BUYNOWUI_URL=t.BASE_PURCHASEUI_URL=t.TARGET_ORIGIN=void 0,t.TARGET_ORIGIN="https://www.microsoft.com",t.BASE_PURCHASEUI_URL="/store/purchase/purchaseui/",t.BASE_BUYNOWUI_URL="/store/purchase/buynowui",t.PPE_PURCHASEUI_URL="/store/purchase/purchaseui-ppe/",t.PPE_BUYNOWUI_URL="/store/purchase/buynowui-ppe",t.BUYNOW_PREFETCH_URL="https://www.microsoft.com/store/purchase/buynowui/prefetch/buynow",t.REDEEMNOW_PREFETCH_URL="https://www.microsoft.com/store/purchase/buynowui/prefetch/redeemnow",t.windowTargetCurrent="current",t.GPC_DataSharingOptInKey="GPC_DataSharingOptIn",t.prefetchURLTemplate="https://www.microsoft.com/store/purchase/{0}/prefetch/{1}",t.purchaseUIAppName="purchaseui",t.buyNowUIAppName="buynowui",t.ppeFlightName="sc_cartppe",t.appRoutes={cart:"cart",checkout:"checkout",buyNow:"buynow",redeem:"redeem",deviceRepair:"device-repair",guestOrderLookup:"guest-order-lookup",aadSignIn:"aad-signin",commercialCheckout:"commercial-checkout"}},12571:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LIB_VERSION=void 0,t.LIB_VERSION="VERSION_PLACEHOLDER"},14764:(e,t,n)=>{"use strict";n.d(t,{t:()=>s});const r=Object.keys||function(e){const t=[];for(const n in e)({}).hasOwnProperty.call(e,n)&&t.push(n);return t};var o=n(82419);function i(e){const t=e||{};return t.features={pause:!0,export:!0,test:!0},t.type="redux",void 0===t.autoPause&&(t.autoPause=!0),void 0===t.latency&&(t.latency=500),function(e){return function(n,o){const i=e(n,o),a=i.dispatch,s=window.__REDUX_DEVTOOLS_EXTENSION__.connect(t);s.init(i.getState());const l=function(e){const t=a(e);return s.send(e,i.getState()),t};return Object.assign?Object.assign(i,{dispatch:l}):function(e,t,n){const o=r(e),i={};for(let r=0,a=o.length;r<a;r++){const t=o[r];i[t]=e[t]}return i[t]=n,i}(i,"dispatch",l)}}}function a(e){return function(){return(0,o.compose)((0,o.compose)(...arguments),i(e))}}window.__REDUX_DEVTOOLS_EXTENSION__;const s=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return window.__REDUX_DEVTOOLS_EXTENSION__?0===t.length?i():"object"===typeof t[0]?a(t[0]):a()(...t):0!==t.length?"object"===typeof t[0]?o.compose:(0,o.compose)(...t):void 0}},90258:(e,t,n)=>{"use strict";n.d(t,{$:()=>ne,A:()=>D,B:()=>P,C:()=>U,D:()=>_,E:()=>b,F:()=>H,G:()=>K,H:()=>c,I:()=>N,J:()=>G,K:()=>Q,L:()=>J,M:()=>le,N:()=>de,O:()=>ie,P:()=>L,Q:()=>ve,R:()=>F,S:()=>j,T:()=>M,U:()=>me,V:()=>R,W:()=>re,X:()=>$,Y:()=>Z,Z:()=>ee,_:()=>te,a:()=>B,a0:()=>ae,a1:()=>se,a2:()=>ce,a3:()=>ue,a4:()=>pe,a5:()=>he,a6:()=>ge,a7:()=>fe,a8:()=>_e,b:()=>q,d:()=>V,e:()=>O,f:()=>z,g:()=>X,h:()=>W,i:()=>v,j:()=>w,k:()=>s,l:()=>T,m:()=>y,n:()=>x,o:()=>m,p:()=>u,q:()=>f,r:()=>p,s:()=>C,t:()=>l,u:()=>d,v:()=>I,y:()=>E,z:()=>S});var r=n(3068),o=n(89575),i=n(54860);const a=function(e,t){var n;void 0===t&&(t=!0);var o=new Promise((function(r){n=setTimeout(r,Math.min(2147483647,e),t)}));return o[r.bO]=function(){clearTimeout(n)},o};var s=function(e){return function(){return e}}(!0),l=function(){};var c=function(e){return e};"function"===typeof Symbol&&Symbol.asyncIterator&&Symbol.asyncIterator;var u=function(e,t){(0,o.A)(e,t),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach((function(n){e[n]=t[n]}))},d=function(e,t){var n;return(n=[]).concat.apply(n,t.map(e))};function p(e,t){var n=e.indexOf(t);n>=0&&e.splice(n,1)}function m(e){var t=!1;return function(){t||(t=!0,e())}}var h=function(e){throw e},g=function(e){return{value:e,done:!0}};function f(e,t,n){void 0===t&&(t=h),void 0===n&&(n="iterator");var r={meta:{name:n},next:e,throw:t,return:g,isSagaIterator:!0};return"undefined"!==typeof Symbol&&(r[Symbol.iterator]=function(){return r}),r}function _(e,t){var n=t.sagaStack;console.error(e),console.error(n)}var v=function(e){return new Error("\n  redux-saga: Error checking hooks detected an inconsistent state. This is likely a bug\n  in redux-saga code and not yours. Thanks for reporting this in the project's github repo.\n  Error: "+e+"\n")},y=function(e){return Array.apply(null,new Array(e))},b=function(e){return function(t){return e(Object.defineProperty(t,r.q8,{value:!0}))}},S=function(e){return e===r.a6},E=function(e){return e===r.nm},C=function(e){return S(e)||E(e)};function T(e,t){var n=Object.keys(e),r=n.length;var o,a=0,s=(0,i.YO)(e)?y(r):{},c={};return n.forEach((function(e){var n=function(n,i){o||(i||C(n)?(t.cancel(),t(n,i)):(s[e]=n,++a===r&&(o=!0,t(s))))};n.cancel=l,c[e]=n})),t.cancel=function(){o||(o=!0,n.forEach((function(e){return c[e].cancel()})))},c}function w(e){return{name:e.name||"anonymous",location:I(e)}}function I(e){return e[r.x2]}function P(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}var A={isEmpty:s,put:l,take:l};function k(e,t){void 0===e&&(e=10);var n=new Array(e),r=0,o=0,i=0,a=function(t){n[o]=t,o=(o+1)%e,r++},s=function(){if(0!=r){var t=n[i];return n[i]=null,r--,i=(i+1)%e,t}},l=function(){for(var e=[];r;)e.push(s());return e};return{isEmpty:function(){return 0==r},put:function(s){var c;if(r<e)a(s);else switch(t){case 1:throw new Error("Channel's Buffer overflow!");case 3:n[o]=s,i=o=(o+1)%e;break;case 4:c=2*e,n=l(),r=n.length,o=n.length,i=0,n.length=c,e=c,a(s)}},take:s,flush:l}}var x=function(){return A},R=function(e){return k(e,3)},O=function(e){return k(e,4)},N=Object.freeze({__proto__:null,none:x,fixed:function(e){return k(e,1)},dropping:function(e){return k(e,2)},sliding:R,expanding:O}),M="TAKE",L="PUT",D="ALL",F="RACE",U="CALL",B="CPS",H="FORK",G="JOIN",q="CANCEL",j="SELECT",V="ACTION_CHANNEL",z="CANCELLED",X="FLUSH",K="GET_CONTEXT",W="SET_CONTEXT",$=Object.freeze({__proto__:null,TAKE:M,PUT:L,ALL:D,RACE:F,CALL:U,CPS:B,FORK:H,JOIN:G,CANCEL:q,SELECT:j,ACTION_CHANNEL:V,CANCELLED:z,FLUSH:X,GET_CONTEXT:K,SET_CONTEXT:W}),Y=function(e,t){var n;return(n={})[r.IO]=!0,n.combinator=!1,n.type=e,n.payload=t,n},Q=function(e){return Y(H,(0,o.A)({},e.payload,{detached:!0}))};function J(e,t){return void 0===e&&(e="*"),(0,i.T1)(e)?((0,i.uQ)(t)&&console.warn("take(pattern) takes one argument but two were provided. Consider passing an array for listening to several action types"),Y(M,{pattern:e})):(0,i.fD)(e)&&(0,i.uQ)(t)&&(0,i.T1)(t)?Y(M,{channel:e,pattern:t}):(0,i.Ix)(e)?((0,i.uQ)(t)&&console.warn("take(channel) takes one argument but two were provided. Second argument is ignored."),Y(M,{channel:e})):void 0}var Z=function(){var e=J.apply(void 0,arguments);return e.payload.maybe=!0,e};function ee(e,t){return(0,i.vD)(t)&&(t=e,e=void 0),Y(L,{channel:e,action:t})}var te=function(){var e=ee.apply(void 0,arguments);return e.payload.resolve=!0,e};function ne(e){var t=Y(D,e);return t.combinator=!0,t}function re(e){var t=Y(F,e);return t.combinator=!0,t}function oe(e,t){var n,r=null;return(0,i.Pc)(e)?n=e:((0,i.YO)(e)?(r=e[0],n=e[1]):(r=e.context,n=e.fn),r&&(0,i.Yj)(n)&&(0,i.Pc)(r[n])&&(n=r[n])),{context:r,fn:n,args:t}}function ie(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Y(U,oe(e,n))}function ae(e,t,n){void 0===n&&(n=[]);return Y(U,oe([e,t],n))}function se(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Y(B,oe(e,n))}function le(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Y(H,oe(e,n))}function ce(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Q(le.apply(void 0,[e].concat(n)))}function ue(e){return Y(G,e)}function de(e){return void 0===e&&(e=r.Pe),Y(q,e)}function pe(e){void 0===e&&(e=c);for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Y(j,{selector:e,args:n})}function me(e,t){return Y(V,{pattern:e,buffer:t})}function he(){return Y(z,{})}function ge(e){return Y(X,e)}function fe(e){return Y(K,e)}function _e(e){return Y(W,e)}var ve=ie.bind(null,a)},75064:(e,t,n)=>{"use strict";n.d(t,{bO:()=>r.bO,Kp:()=>T,x2:()=>r.x2,u2:()=>s.I,Ix:()=>I,Ay:()=>J,Yo:()=>s.K,Od:()=>P,uV:()=>w,I5:()=>A,_H:()=>Q,n7:()=>k});var r=n(3068),o=n(89575),i=n(17502),a=n(54860),s=n(90258);function l(){var e={};return e.promise=new Promise((function(t,n){e.resolve=t,e.reject=n})),e}const c=l;var u=[],d=0;function p(e){try{g(),e()}finally{f()}}function m(e){u.push(e),d||(g(),_())}function h(e){try{return g(),e()}finally{_()}}function g(){d++}function f(){d--}function _(){var e;for(f();!d&&void 0!==(e=u.shift());)p(e)}var v=function(e){return function(t){return e.some((function(e){return C(e)(t)}))}},y=function(e){return function(t){return e(t)}},b=function(e){return function(t){return t.type===String(e)}},S=function(e){return function(t){return t.type===e}},E=function(){return s.k};function C(e){var t="*"===e?E:(0,a.Yj)(e)?b:(0,a.YO)(e)?v:(0,a.mr)(e)?b:(0,a.Pc)(e)?y:(0,a.HR)(e)?S:null;if(null===t)throw new Error("invalid pattern: "+e);return t(e)}var T={type:r.x7},w=function(e){return e&&e.type===r.x7};function I(e){void 0===e&&(e=(0,s.e)());var t=!1,n=[];return{take:function(r){t&&e.isEmpty()?r(T):e.isEmpty()?(n.push(r),r.cancel=function(){(0,s.r)(n,r)}):r(e.take())},put:function(r){if(!t){if(0===n.length)return e.put(r);n.shift()(r)}},flush:function(n){t&&e.isEmpty()?n(T):n(e.flush())},close:function(){if(!t){t=!0;var e=n;n=[];for(var r=0,o=e.length;r<o;r++){(0,e[r])(T)}}}}}function P(e,t){void 0===t&&(t=(0,s.n)());var n,r=!1,o=I(t),i=function(){r||(r=!0,(0,a.Pc)(n)&&n(),o.close())};return n=e((function(e){w(e)?i():o.put(e)})),n=(0,s.o)(n),r&&n(),{take:o.take,flush:o.flush,close:i}}function A(){var e,t=!1,n=[],o=n;var i=function(){o===n&&(o=n.slice())},a=function(){t=!0;var e=n=o;o=[],e.forEach((function(e){e(T)}))};return(e={})[r.Xl]=!0,e.put=function(e){if(!t)if(w(e))a();else for(var i=n=o,s=0,l=i.length;s<l;s++){var c=i[s];c[r.E_](e)&&(c.cancel(),c(e))}},e.take=function(e,n){void 0===n&&(n=E),t?e(T):(e[r.E_]=n,i(),o.push(e),e.cancel=(0,s.o)((function(){i(),(0,s.r)(o,e)})))},e.close=a,e}function k(){var e=A(),t=e.put;return e.put=function(e){e[r.q8]?t(e):m((function(){t(e)}))},e}var x=0,R=1,O=2,N=3;function M(e,t){var n=e[r.bO];(0,a.Pc)(n)&&(t.cancel=n),e.then(t,(function(e){t(e,!0)}))}var L,D=0,F=function(){return++D};function U(e){e.isRunning()&&e.cancel()}var B=((L={})[s.T]=function(e,t,n){var o=t.channel,i=void 0===o?e.channel:o,s=t.pattern,l=t.maybe,c=function(e){e instanceof Error?n(e,!0):!w(e)||l?n(e):n(r.a6)};try{i.take(c,(0,a.uQ)(s)?C(s):null)}catch(u){return void n(u,!0)}n.cancel=c.cancel},L[s.P]=function(e,t,n){var r=t.channel,o=t.action,i=t.resolve;m((function(){var t;try{t=(r?r.put:e.dispatch)(o)}catch(s){return void n(s,!0)}i&&(0,a.iv)(t)?M(t,n):n(t)}))},L[s.A]=function(e,t,n,r){var o=r.digestEffect,i=D,l=Object.keys(t);if(0!==l.length){var c=(0,s.l)(t,n);l.forEach((function(e){o(t[e],i,c[e],e)}))}else n((0,a.YO)(t)?[]:{})},L[s.R]=function(e,t,n,r){var o=r.digestEffect,i=D,l=Object.keys(t),c=(0,a.YO)(t)?(0,s.m)(l.length):{},u={},d=!1;l.forEach((function(e){var t=function(t,r){d||(r||(0,s.s)(t)?(n.cancel(),n(t,r)):(n.cancel(),d=!0,c[e]=t,n(c)))};t.cancel=s.t,u[e]=t})),n.cancel=function(){d||(d=!0,l.forEach((function(e){return u[e].cancel()})))},l.forEach((function(e){d||o(t[e],i,u[e],e)}))},L[s.C]=function(e,t,n,r){var o=t.context,i=t.fn,l=t.args,c=r.task;try{var u=i.apply(o,l);if((0,a.iv)(u))return void M(u,n);if((0,a.lJ)(u))return void Y(e,u,c.context,D,(0,s.j)(i),!1,n);n(u)}catch(d){n(d,!0)}},L[s.a]=function(e,t,n){var r=t.context,o=t.fn,i=t.args;try{var s=function(e,t){(0,a.vD)(e)?n(t):n(e,!0)};o.apply(r,i.concat(s)),s.cancel&&(n.cancel=s.cancel)}catch(l){n(l,!0)}},L[s.F]=function(e,t,n,r){var o=t.context,i=t.fn,l=t.args,c=t.detached,u=r.task,d=function(e){var t=e.context,n=e.fn,r=e.args;try{var o=n.apply(t,r);if((0,a.lJ)(o))return o;var i=!1;return(0,s.q)((function(e){return i?{value:e,done:!0}:(i=!0,{value:o,done:!(0,a.iv)(o)})}))}catch(l){return(0,s.q)((function(){throw l}))}}({context:o,fn:i,args:l}),p=function(e,t){return e.isSagaIterator?{name:e.meta.name}:(0,s.j)(t)}(d,i);h((function(){var t=Y(e,d,u.context,D,p,c,void 0);c?n(t):t.isRunning()?(u.queue.addTask(t),n(t)):t.isAborted()?u.queue.abort(t.error()):n(t)}))},L[s.J]=function(e,t,n,r){var o=r.task,i=function(e,t){if(e.isRunning()){var n={task:o,cb:t};t.cancel=function(){e.isRunning()&&(0,s.r)(e.joiners,n)},e.joiners.push(n)}else e.isAborted()?t(e.error(),!0):t(e.result())};if((0,a.YO)(t)){if(0===t.length)return void n([]);var l=(0,s.l)(t,n);t.forEach((function(e,t){i(e,l[t])}))}else i(t,n)},L[s.b]=function(e,t,n,o){var i=o.task;t===r.Pe?U(i):(0,a.YO)(t)?t.forEach(U):U(t),n()},L[s.S]=function(e,t,n){var r=t.selector,o=t.args;try{n(r.apply(void 0,[e.getState()].concat(o)))}catch(i){n(i,!0)}},L[s.d]=function(e,t,n){var r=t.pattern,o=I(t.buffer),i=C(r),a=function t(n){w(n)||e.channel.take(t,i),o.put(n)},s=o.close;o.close=function(){a.cancel(),s()},e.channel.take(a,i),n(o)},L[s.f]=function(e,t,n,r){n(r.task.isCancelled())},L[s.g]=function(e,t,n){t.flush(n)},L[s.G]=function(e,t,n,r){n(r.task.context[t])},L[s.h]=function(e,t,n,r){var o=r.task;(0,s.p)(o.context,t),n()},L);function H(e,t){return e+"?"+t}function G(e){var t=e.name,n=e.location;return n?t+"  "+H(n.fileName,n.lineNumber):t}function q(e){var t=(0,s.u)((function(e){return e.cancelledTasks}),e);return t.length?["Tasks cancelled due to error:"].concat(t).join("\n"):""}var j=null,V=[],z=function(e){e.crashedEffect=j,V.push(e)},X=function(){j=null,V.length=0},K=function(e){j=e},W=function(){var e=V[0],t=V.slice(1),n=e.crashedEffect?function(e){var t=(0,s.v)(e);return t?t.code+"  "+H(t.fileName,t.lineNumber):""}(e.crashedEffect):null;return["The above error occurred in task "+G(e.meta)+(n?" \n when executing effect "+n:"")].concat(t.map((function(e){return"    created by "+G(e.meta)})),[q(V)]).join("\n")};function $(e,t,n,o,i,a,l){var u;void 0===l&&(l=s.t);var d,p,m=x,h=null,g=[],f=Object.create(n),_=function(e,t,n){var r,o=[],i=!1;function a(e){t(),c(),n(e,!0)}function l(t){o.push(t),t.cont=function(l,c){i||((0,s.r)(o,t),t.cont=s.t,c?a(l):(t===e&&(r=l),o.length||(i=!0,n(r))))}}function c(){i||(i=!0,o.forEach((function(e){e.cont=s.t,e.cancel()})),o=[])}return l(e),{addTask:l,cancelAll:c,abort:a,getTasks:function(){return o}}}(t,(function(){g.push.apply(g,_.getTasks().map((function(e){return e.meta.name})))}),v);function v(t,n){if(n){if(m=O,z({meta:i,cancelledTasks:g}),y.isRoot){var o=W();X(),e.onError(t,{sagaStack:o})}p=t,h&&h.reject(t)}else t===r.nm?m=R:m!==R&&(m=N),d=t,h&&h.resolve(t);y.cont(t,n),y.joiners.forEach((function(e){e.cb(t,n)})),y.joiners=null}var y=((u={})[r.wn]=!0,u.id=o,u.meta=i,u.isRoot=a,u.context=f,u.joiners=[],u.queue=_,u.cancel=function(){m===x&&(m=R,_.cancelAll(),v(r.nm,!1))},u.cont=l,u.end=v,u.setContext=function(e){(0,s.p)(f,e)},u.toPromise=function(){return h||(h=c(),m===O?h.reject(p):m!==x&&h.resolve(d)),h.promise},u.isRunning=function(){return m===x},u.isCancelled=function(){return m===R||m===x&&t.status===R},u.isAborted=function(){return m===O},u.result=function(){return d},u.error=function(){return p},u);return y}function Y(e,t,n,o,i,l,c){var u=e.finalizeRunEffect((function(t,n,o){if((0,a.iv)(t))M(t,o);else if((0,a.lJ)(t))Y(e,t,p.context,n,i,!1,o);else if(t&&t[r.IO]){(0,B[t.type])(e,t.payload,o,m)}else o(t)}));h.cancel=s.t;var d={meta:i,cancel:function(){d.status===x&&(d.status=R,h(r.nm))},status:x},p=$(e,d,n,o,i,l,c),m={task:p,digestEffect:g};return c&&(c.cancel=p.cancel),h(),p;function h(e,n){try{var i;n?(i=t.throw(e),X()):(0,s.y)(e)?(d.status=R,h.cancel(),i=(0,a.Pc)(t.return)?t.return(r.nm):{done:!0,value:r.nm}):i=(0,s.z)(e)?(0,a.Pc)(t.return)?t.return():{done:!0}:t.next(e),i.done?(d.status!==R&&(d.status=N),d.cont(i.value)):g(i.value,o,h)}catch(l){if(d.status===R)throw l;d.status=O,d.cont(l,!0)}}function g(t,n,r,o){void 0===o&&(o="");var i,a=F();function l(n,o){i||(i=!0,r.cancel=s.t,e.sagaMonitor&&(o?e.sagaMonitor.effectRejected(a,n):e.sagaMonitor.effectResolved(a,n)),o&&K(t),r(n,o))}e.sagaMonitor&&e.sagaMonitor.effectTriggered({effectId:a,parentEffectId:n,label:o,effect:t}),l.cancel=s.t,r.cancel=function(){i||(i=!0,l.cancel(),l.cancel=s.t,e.sagaMonitor&&e.sagaMonitor.effectCancelled(a))},u(t,a,l)}}function Q(e,t){var n=e.channel,r=void 0===n?k():n,o=e.dispatch,i=e.getState,a=e.context,l=void 0===a?{}:a,c=e.sagaMonitor,u=e.effectMiddlewares,d=e.onError,p=void 0===d?s.D:d;for(var m=arguments.length,g=new Array(m>2?m-2:0),f=2;f<m;f++)g[f-2]=arguments[f];var _=t.apply(void 0,g);var v,y=F();if(c&&(c.rootSagaStarted=c.rootSagaStarted||s.t,c.effectTriggered=c.effectTriggered||s.t,c.effectResolved=c.effectResolved||s.t,c.effectRejected=c.effectRejected||s.t,c.effectCancelled=c.effectCancelled||s.t,c.actionDispatched=c.actionDispatched||s.t,c.rootSagaStarted({effectId:y,saga:t,args:g})),u){var b=s.B.apply(void 0,u);v=function(e){return function(t,n,r){return b((function(t){return e(t,n,r)}))(t)}}}else v=s.H;var S={channel:r,dispatch:(0,s.E)(o),getState:i,sagaMonitor:c,onError:p,finalizeRunEffect:v};return h((function(){var e=Y(S,_,l,y,(0,s.j)(t),!0,void 0);return c&&c.effectResolved(y,e),e}))}const J=function(e){var t,n=void 0===e?{}:e,r=n.context,a=void 0===r?{}:r,l=n.channel,c=void 0===l?k():l,u=n.sagaMonitor,d=(0,i.A)(n,["context","channel","sagaMonitor"]);function p(e){var n=e.getState,r=e.dispatch;return t=Q.bind(null,(0,o.A)({},d,{context:a,channel:c,dispatch:r,getState:n,sagaMonitor:u})),function(e){return function(t){u&&u.actionDispatched&&u.actionDispatched(t);var n=e(t);return c.put(t),n}}}return p.run=function(){return t.apply(void 0,arguments)},p.setContext=function(e){(0,s.p)(a,e)},p}},92361:(e,t,n)=>{"use strict";n.d(t,{Bb:()=>o.a0,IJ:()=>_,KW:()=>o.a5,L5:()=>y,Lt:()=>o.a4,O4:()=>o.W,Q7:()=>o.$,Q_:()=>o.Y,SD:()=>o.a7,T1:()=>o.O,ZT:()=>o.N,Zy:()=>o.M,bX:()=>o.a6,c0:()=>o._,cH:()=>o.a2,cb:()=>o.Q,fB:()=>o.X,fj:()=>o.a3,jP:()=>g,nF:()=>v,nG:()=>o.a1,o:()=>o.a8,p8:()=>f,s:()=>o.L,sg:()=>b,wE:()=>o.U,yJ:()=>o.Z});var r=n(54860),o=n(90258),i=function(e){return{done:!0,value:e}},a={};function s(e){return(0,r.Ix)(e)?"channel":(0,r.mr)(e)?String(e):(0,r.Pc)(e)?e.name:String(e)}function l(e,t,n){var r,s,l,c=t;function u(t,n){if(c===a)return i(t);if(n&&!s)throw c=a,n;r&&r(t);var o=n?e[s](n):e[c]();return c=o.nextState,l=o.effect,r=o.stateUpdater,s=o.errorState,c===a?i(t):l}return(0,o.q)(u,(function(e){return u(null,e)}),n)}function c(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var a,c={done:!1,value:(0,o.L)(e)},u=function(e){return a=e};return l({q1:function(){return{nextState:"q2",effect:c,stateUpdater:u}},q2:function(){return{nextState:"q1",effect:(e=a,{done:!1,value:o.M.apply(void 0,[t].concat(r,[e]))})};var e}},"q1","takeEvery("+s(e)+", "+t.name+")")}function u(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var a,c,u={done:!1,value:(0,o.L)(e)},d=function(e){return{done:!1,value:o.M.apply(void 0,[t].concat(r,[e]))}},p=function(e){return{done:!1,value:(0,o.N)(e)}},m=function(e){return a=e},h=function(e){return c=e};return l({q1:function(){return{nextState:"q2",effect:u,stateUpdater:h}},q2:function(){return a?{nextState:"q3",effect:p(a)}:{nextState:"q1",effect:d(c),stateUpdater:m}},q3:function(){return{nextState:"q1",effect:d(c),stateUpdater:m}}},"q1","takeLatest("+s(e)+", "+t.name+")")}function d(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var a,c={done:!1,value:(0,o.L)(e)},u=function(e){return a=e};return l({q1:function(){return{nextState:"q2",effect:c,stateUpdater:u}},q2:function(){return{nextState:"q1",effect:(e=a,{done:!1,value:o.O.apply(void 0,[t].concat(r,[e]))})};var e}},"q1","takeLeading("+s(e)+", "+t.name+")")}function p(e,t,n){for(var i=arguments.length,a=new Array(i>3?i-3:0),c=3;c<i;c++)a[c-3]=arguments[c];var u,d,p={done:!1,value:(0,o.Q)(e)},m=function(e){return u=e},h=function(e){return d=e},g=!(0,r.Ix)(t);return g||h(t),l({q1:function(){return{nextState:"q2",effect:{done:!1,value:(0,o.U)(t,(0,o.V)(1))},stateUpdater:h}},q2:function(){return{nextState:"q3",effect:{done:!1,value:(0,o.L)(d)},stateUpdater:m}},q3:function(){return{nextState:"q4",effect:(e=u,{done:!1,value:o.M.apply(void 0,[n].concat(a,[e]))})};var e},q4:function(){return{nextState:"q2",effect:p}}},g?"q1":"q2","throttle("+s(t)+", "+n.name+")")}function m(e,t,n){for(var r=e,i=arguments.length,s=new Array(i>3?i-3:0),c=3;c<i;c++)s[c-3]=arguments[c];var u={done:!1,value:o.O.apply(void 0,[n].concat(s))},d={done:!1,value:(0,o.Q)(t)};return l({q1:function(){return{nextState:"q2",effect:u,errorState:"q10"}},q2:function(){return{nextState:a}},q10:function(e){if((r-=1)<=0)throw e;return{nextState:"q1",effect:d}}},"q1","retry("+n.name+")")}function h(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var c,u,d={done:!1,value:(0,o.L)(t)},p={done:!1,value:(0,o.W)({action:(0,o.L)(t),debounce:(0,o.Q)(e)})},m=function(e){return c=e},h=function(e){return u=e};return l({q1:function(){return{nextState:"q2",effect:d,stateUpdater:m}},q2:function(){return{nextState:"q3",effect:p,stateUpdater:h}},q3:function(){return u.debounce?{nextState:"q1",effect:(t=c,{done:!1,value:o.M.apply(void 0,[n].concat(i,[t]))})}:{nextState:"q2",effect:(e=u.action,{done:!1,value:e}),stateUpdater:m};var e,t}},"q1","debounce("+s(t)+", "+n.name+")")}function g(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return o.M.apply(void 0,[c,e,t].concat(r))}function f(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return o.M.apply(void 0,[u,e,t].concat(r))}function _(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return o.M.apply(void 0,[d,e,t].concat(r))}function v(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];return o.M.apply(void 0,[p,e,t,n].concat(i))}function y(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];return o.O.apply(void 0,[m,e,t,n].concat(i))}function b(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];return o.M.apply(void 0,[h,e,t,n].concat(i))}},54860:(e,t,n)=>{"use strict";n.d(t,{HR:()=>h,Ix:()=>p,Pc:()=>a,T1:()=>d,YO:()=>l,Yj:()=>s,fD:()=>g,iv:()=>c,lJ:()=>u,mr:()=>m,uQ:()=>i,vD:()=>o});var r=n(3068),o=function(e){return null===e||void 0===e},i=function(e){return null!==e&&void 0!==e},a=function(e){return"function"===typeof e},s=function(e){return"string"===typeof e},l=Array.isArray,c=function(e){return e&&a(e.then)},u=function(e){return e&&a(e.next)&&a(e.throw)},d=function e(t){return t&&(s(t)||h(t)||a(t)||l(t)&&t.every(e))},p=function(e){return e&&a(e.take)&&a(e.close)},m=function(e){return a(e)&&e.hasOwnProperty("toString")},h=function(e){return Boolean(e)&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype},g=function(e){return p(e)&&e[r.Xl]}},3068:(e,t,n)=>{"use strict";n.d(t,{E_:()=>s,IO:()=>a,Pe:()=>u,Xl:()=>l,a6:()=>m,bO:()=>o,nm:()=>p,q8:()=>c,wn:()=>d,x2:()=>h,x7:()=>i});var r=function(e){return"@@redux-saga/"+e},o=r("CANCEL_PROMISE"),i=r("CHANNEL_END"),a=r("IO"),s=r("MATCH"),l=r("MULTICAST"),c=r("SAGA_ACTION"),u=r("SELF_CANCELLATION"),d=r("TASK"),p=r("TASK_CANCEL"),m=r("TERMINATE"),h=r("LOCATION")},7606:(e,t,n)=>{"use strict";n.d(t,{dp:()=>mt});var r=n(4259),o=n(22234),i=n(35835),a=n(96114),s=n(46591),l=n(70460);let c;function u(e){return c?c.get(e):void 0}function d(e){const t=u(e);if(!t)return;const n={};for(const[,[r,o]]of t)n[r]||(n[r]=[]),n[r].push((0,l.Ce)(o));return n}const p="sentry.source",m="sentry.sample_rate",h="sentry.op",g="sentry.origin";var f=n(61455),_=n(35676);class v{constructor(e=1e3){this._maxlen=e,this.spans=[]}add(e){this.spans.length>this._maxlen?e.spanRecorder=void 0:this.spans.push(e)}}class y{constructor(e={}){this._traceId=e.traceId||(0,s.eJ)(),this._spanId=e.spanId||(0,s.eJ)().substring(16),this._startTime=e.startTimestamp||(0,o.zf)(),this.tags=e.tags?{...e.tags}:{},this.data=e.data?{...e.data}:{},this.instrumenter=e.instrumenter||"sentry",this._attributes={},this.setAttributes({[g]:e.origin||"manual",[h]:e.op,...e.attributes}),this._name=e.name||e.description,e.parentSpanId&&(this._parentSpanId=e.parentSpanId),"sampled"in e&&(this._sampled=e.sampled),e.status&&(this._status=e.status),e.endTimestamp&&(this._endTime=e.endTimestamp),void 0!==e.exclusiveTime&&(this._exclusiveTime=e.exclusiveTime),this._measurements=e.measurements?{...e.measurements}:{}}get name(){return this._name||""}set name(e){this.updateName(e)}get description(){return this._name}set description(e){this._name=e}get traceId(){return this._traceId}set traceId(e){this._traceId=e}get spanId(){return this._spanId}set spanId(e){this._spanId=e}set parentSpanId(e){this._parentSpanId=e}get parentSpanId(){return this._parentSpanId}get sampled(){return this._sampled}set sampled(e){this._sampled=e}get attributes(){return this._attributes}set attributes(e){this._attributes=e}get startTimestamp(){return this._startTime}set startTimestamp(e){this._startTime=e}get endTimestamp(){return this._endTime}set endTimestamp(e){this._endTime=e}get status(){return this._status}set status(e){this._status=e}get op(){return this._attributes[h]}set op(e){this.setAttribute(h,e)}get origin(){return this._attributes[g]}set origin(e){this.setAttribute(g,e)}spanContext(){const{_spanId:e,_traceId:t,_sampled:n}=this;return{spanId:e,traceId:t,traceFlags:n?a.aO:a.CC}}startChild(e){const t=new y({...e,parentSpanId:this._spanId,sampled:this._sampled,traceId:this._traceId});t.spanRecorder=this.spanRecorder,t.spanRecorder&&t.spanRecorder.add(t);const n=(0,f.z)(this);if(t.transaction=n,i.T&&n){const o=`[Tracing] Starting '${e&&e.op||"< unknown op >"}' span on transaction '${(0,a.et)(t).description||"< unknown name >"}' (${n.spanContext().spanId}).`;r.vF.log(o),this._logMessage=o}return t}setTag(e,t){return this.tags={...this.tags,[e]:t},this}setData(e,t){return this.data={...this.data,[e]:t},this}setAttribute(e,t){void 0===t?delete this._attributes[e]:this._attributes[e]=t}setAttributes(e){Object.keys(e).forEach((t=>this.setAttribute(t,e[t])))}setStatus(e){return this._status=e,this}setHttpStatus(e){return(0,_.N8)(this,e),this}setName(e){this.updateName(e)}updateName(e){return this._name=e,this}isSuccess(){return"ok"===this._status}finish(e){return this.end(e)}end(e){if(this._endTime)return;const t=(0,f.z)(this);if(i.T&&t&&t.spanContext().spanId!==this._spanId){const e=this._logMessage;e&&r.vF.log(e.replace("Starting","Finishing"))}this._endTime=(0,a.cI)(e)}toTraceparent(){return(0,a.Qh)(this)}toContext(){return(0,l.Ce)({data:this._getData(),description:this._name,endTimestamp:this._endTime,op:this.op,parentSpanId:this._parentSpanId,sampled:this._sampled,spanId:this._spanId,startTimestamp:this._startTime,status:this._status,tags:this.tags,traceId:this._traceId})}updateWithContext(e){return this.data=e.data||{},this._name=e.name||e.description,this._endTime=e.endTimestamp,this.op=e.op,this._parentSpanId=e.parentSpanId,this._sampled=e.sampled,this._spanId=e.spanId||this._spanId,this._startTime=e.startTimestamp||this._startTime,this._status=e.status,this.tags=e.tags||{},this._traceId=e.traceId||this._traceId,this}getTraceContext(){return(0,a.kX)(this)}getSpanJSON(){return(0,l.Ce)({data:this._getData(),description:this._name,op:this._attributes[h],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:this._status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[g],_metrics_summary:d(this),profile_id:this._attributes.profile_id,exclusive_time:this._exclusiveTime,measurements:Object.keys(this._measurements).length>0?this._measurements:void 0})}isRecording(){return!this._endTime&&!!this._sampled}toJSON(){return this.getSpanJSON()}_getData(){const{data:e,_attributes:t}=this,n=Object.keys(e).length>0,r=Object.keys(t).length>0;if(n||r)return n&&r?{...e,...t}:n?e:t}}var b=n(83750),S=n(82277),E=n(92634);class C extends y{constructor(e,t){super(e),this._contexts={},this._hub=t||(0,b.BF)(),this._name=e.name||"",this._metadata={...e.metadata},this._trimEnd=e.trimEnd,this.transaction=this;const n=this._metadata.dynamicSamplingContext;n&&(this._frozenDynamicSamplingContext={...n})}get name(){return this._name}set name(e){this.setName(e)}get metadata(){return{source:"custom",spanMetadata:{},...this._metadata,...this._attributes[p]&&{source:this._attributes[p]},...this._attributes[m]&&{sampleRate:this._attributes[m]}}}set metadata(e){this._metadata=e}setName(e,t="custom"){this._name=e,this.setAttribute(p,t)}updateName(e){return this._name=e,this}initSpanRecorder(e=1e3){this.spanRecorder||(this.spanRecorder=new v(e)),this.spanRecorder.add(this)}setContext(e,t){null===t?delete this._contexts[e]:this._contexts[e]=t}setMeasurement(e,t,n=""){this._measurements[e]={value:t,unit:n}}setMetadata(e){this._metadata={...this._metadata,...e}}end(e){const t=(0,a.cI)(e),n=this._finishTransaction(t);if(n)return this._hub.captureEvent(n)}toContext(){const e=super.toContext();return(0,l.Ce)({...e,name:this._name,trimEnd:this._trimEnd})}updateWithContext(e){return super.updateWithContext(e),this._name=e.name||"",this._trimEnd=e.trimEnd,this}getDynamicSamplingContext(){return(0,S.k)(this)}setHub(e){this._hub=e}getProfileId(){if(void 0!==this._contexts&&void 0!==this._contexts.profile)return this._contexts.profile.profile_id}_finishTransaction(e){if(void 0!==this._endTime)return;this._name||(i.T&&r.vF.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>"),super.end(e);const t=this._hub.getClient();if(t&&t.emit&&t.emit("finishTransaction",this),!0!==this._sampled)return i.T&&r.vF.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),void(t&&t.recordDroppedEvent("sample_rate","transaction"));const n=this.spanRecorder?this.spanRecorder.spans.filter((e=>e!==this&&(0,a.et)(e).timestamp)):[];if(this._trimEnd&&n.length>0){const e=n.map((e=>(0,a.et)(e).timestamp)).filter(Boolean);this._endTime=e.reduce(((e,t)=>e>t?e:t))}const{scope:o,isolationScope:s}=(0,E.Lb)(this),{metadata:c}=this,{source:u}=c,p={contexts:{...this._contexts,trace:(0,a.kX)(this)},spans:n,start_timestamp:this._startTime,tags:this.tags,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{...c,capturedSpanScope:o,capturedSpanIsolationScope:s,...(0,l.Ce)({dynamicSamplingContext:(0,S.k)(this)})},_metrics_summary:d(this),...u&&{transaction_info:{source:u}}};return Object.keys(this._measurements).length>0&&(i.T&&r.vF.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),p.measurements=this._measurements),i.T&&r.vF.log(`[Tracing] Finishing ${this.op} transaction: ${this._name}.`),p}}const T={idleTimeout:1e3,finalTimeout:3e4,heartbeatInterval:5e3},w=["heartbeatFailed","idleTimeout","documentHidden","finalTimeout","externalFinish","cancelled"];class I extends v{constructor(e,t,n,r){super(r),this._pushActivity=e,this._popActivity=t,this.transactionSpanId=n}add(e){if(e.spanContext().spanId!==this.transactionSpanId){const t=e.end;e.end=(...n)=>(this._popActivity(e.spanContext().spanId),t.apply(e,n)),void 0===(0,a.et)(e).timestamp&&this._pushActivity(e.spanContext().spanId)}super.add(e)}}class P extends C{constructor(e,t,n=T.idleTimeout,o=T.finalTimeout,a=T.heartbeatInterval,s=!1,l=!1){super(e,t),this._idleHub=t,this._idleTimeout=n,this._finalTimeout=o,this._heartbeatInterval=a,this._onScope=s,this.activities={},this._heartbeatCounter=0,this._finished=!1,this._idleTimeoutCanceledPermanently=!1,this._beforeFinishCallbacks=[],this._finishReason=w[4],this._autoFinishAllowed=!l,s&&(i.T&&r.vF.log(`Setting idle transaction on scope. Span ID: ${this.spanContext().spanId}`),t.getScope().setSpan(this)),l||this._restartIdleTimeout(),setTimeout((()=>{this._finished||(this.setStatus("deadline_exceeded"),this._finishReason=w[3],this.end())}),this._finalTimeout)}end(e){const t=(0,a.cI)(e);if(this._finished=!0,this.activities={},"ui.action.click"===this.op&&this.setAttribute("finishReason",this._finishReason),this.spanRecorder){i.T&&r.vF.log("[Tracing] finishing IdleTransaction",new Date(1e3*t).toISOString(),this.op);for(const e of this._beforeFinishCallbacks)e(this,t);this.spanRecorder.spans=this.spanRecorder.spans.filter((e=>{if(e.spanContext().spanId===this.spanContext().spanId)return!0;(0,a.et)(e).timestamp||(e.setStatus("cancelled"),e.end(t),i.T&&r.vF.log("[Tracing] cancelling span since transaction ended early",JSON.stringify(e,void 0,2)));const{start_timestamp:n,timestamp:o}=(0,a.et)(e),s=n&&n<t,l=(this._finalTimeout+this._idleTimeout)/1e3,c=o&&n&&o-n<l;if(i.T){const t=JSON.stringify(e,void 0,2);s?c||r.vF.log("[Tracing] discarding Span since it finished after Transaction final timeout",t):r.vF.log("[Tracing] discarding Span since it happened after Transaction was finished",t)}return s&&c})),i.T&&r.vF.log("[Tracing] flushing IdleTransaction")}else i.T&&r.vF.log("[Tracing] No active IdleTransaction");if(this._onScope){const e=this._idleHub.getScope();e.getTransaction()===this&&e.setSpan(void 0)}return super.end(e)}registerBeforeFinishCallback(e){this._beforeFinishCallbacks.push(e)}initSpanRecorder(e){if(!this.spanRecorder){const t=e=>{this._finished||this._pushActivity(e)},n=e=>{this._finished||this._popActivity(e)};this.spanRecorder=new I(t,n,this.spanContext().spanId,e),i.T&&r.vF.log("Starting heartbeat"),this._pingHeartbeat()}this.spanRecorder.add(this)}cancelIdleTimeout(e,{restartOnChildSpanChange:t}={restartOnChildSpanChange:!0}){this._idleTimeoutCanceledPermanently=!1===t,this._idleTimeoutID&&(clearTimeout(this._idleTimeoutID),this._idleTimeoutID=void 0,0===Object.keys(this.activities).length&&this._idleTimeoutCanceledPermanently&&(this._finishReason=w[5],this.end(e)))}setFinishReason(e){this._finishReason=e}sendAutoFinishSignal(){this._autoFinishAllowed||(i.T&&r.vF.log("[Tracing] Received finish signal for idle transaction."),this._restartIdleTimeout(),this._autoFinishAllowed=!0)}_restartIdleTimeout(e){this.cancelIdleTimeout(),this._idleTimeoutID=setTimeout((()=>{this._finished||0!==Object.keys(this.activities).length||(this._finishReason=w[1],this.end(e))}),this._idleTimeout)}_pushActivity(e){this.cancelIdleTimeout(void 0,{restartOnChildSpanChange:!this._idleTimeoutCanceledPermanently}),i.T&&r.vF.log(`[Tracing] pushActivity: ${e}`),this.activities[e]=!0,i.T&&r.vF.log("[Tracing] new activities count",Object.keys(this.activities).length)}_popActivity(e){if(this.activities[e]&&(i.T&&r.vF.log(`[Tracing] popActivity ${e}`),delete this.activities[e],i.T&&r.vF.log("[Tracing] new activities count",Object.keys(this.activities).length)),0===Object.keys(this.activities).length){const e=(0,o.zf)();this._idleTimeoutCanceledPermanently?this._autoFinishAllowed&&(this._finishReason=w[5],this.end(e)):this._restartIdleTimeout(e+this._idleTimeout/1e3)}}_beat(){if(this._finished)return;const e=Object.keys(this.activities).join("");e===this._prevHeartbeatString?this._heartbeatCounter++:this._heartbeatCounter=1,this._prevHeartbeatString=e,this._heartbeatCounter>=3?this._autoFinishAllowed&&(i.T&&r.vF.log("[Tracing] Transaction finished because of no change for 3 heart beats"),this.setStatus("deadline_exceeded"),this._finishReason=w[0],this.end()):this._pingHeartbeat()}_pingHeartbeat(){i.T&&r.vF.log(`pinging Heartbeat -> current counter: ${this._heartbeatCounter}`),setTimeout((()=>{this._beat()}),this._heartbeatInterval)}}var A=n(91962),k=n(55180);function x(e){return(e||(0,b.BF)()).getScope().getTransaction()}let R=!1;function O(){const e=x();if(e){const t="internal_error";i.T&&r.vF.log(`[Tracing] Transaction: ${t} -> Global error occured`),e.setStatus(t)}}O.tag="sentry_tracingErrorCallback";var N=n(32823),M=n(62592);function L(e,t,n){if(!(0,M.w)(t))return e.sampled=!1,e;if(void 0!==e.sampled)return e.setAttribute(m,Number(e.sampled)),e;let o;return"function"===typeof t.tracesSampler?(o=t.tracesSampler(n),e.setAttribute(m,Number(o))):void 0!==n.parentSampled?o=n.parentSampled:"undefined"!==typeof t.tracesSampleRate?(o=t.tracesSampleRate,e.setAttribute(m,Number(o))):(o=1,e.setAttribute(m,o)),D(o)?o?(e.sampled=Math.random()<o,e.sampled?(i.T&&r.vF.log(`[Tracing] starting ${e.op} transaction - ${(0,a.et)(e).description}`),e):(i.T&&r.vF.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(o)})`),e)):(i.T&&r.vF.log("[Tracing] Discarding transaction because "+("function"===typeof t.tracesSampler?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0")),e.sampled=!1,e):(i.T&&r.vF.warn("[Tracing] Discarding transaction because of invalid sample rate."),e.sampled=!1,e)}function D(e){return(0,N.yr)(e)||"number"!==typeof e&&"boolean"!==typeof e?(i.T&&r.vF.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(e)} of type ${JSON.stringify(typeof e)}.`),!1):!(e<0||e>1)||(i.T&&r.vF.warn(`[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got ${e}.`),!1)}function F(){const e=this.getScope().getSpan();return e?{"sentry-trace":(0,a.Qh)(e)}:{}}function U(e,t){const n=this.getClient(),o=n&&n.getOptions()||{},a=o.instrumenter||"sentry",s=e.instrumenter||"sentry";a!==s&&(i.T&&r.vF.error(`A transaction was started with instrumenter=\`${s}\`, but the SDK is configured with the \`${a}\` instrumenter.\nThe transaction will not be sampled. Please use the ${a} instrumentation to start transactions.`),e.sampled=!1);let l=new C(e,this);return l=L(l,o,{name:e.name,parentSampled:e.parentSampled,transactionContext:e,attributes:{...e.data,...e.attributes},...t}),l.isRecording()&&l.initSpanRecorder(o._experiments&&o._experiments.maxSpans),n&&n.emit&&n.emit("startTransaction",l),l}function B(e,t,n,r,o,i,a,s=!1){const l=e.getClient(),c=l&&l.getOptions()||{};let u=new P(t,e,n,r,a,o,s);return u=L(u,c,{name:t.name,parentSampled:t.parentSampled,transactionContext:t,attributes:{...t.data,...t.attributes},...i}),u.isRecording()&&u.initSpanRecorder(c._experiments&&c._experiments.maxSpans),l&&l.emit&&l.emit("startTransaction",u),u}function H(){const e=(0,b.EU)();e.__SENTRY__&&(e.__SENTRY__.extensions=e.__SENTRY__.extensions||{},e.__SENTRY__.extensions.startTransaction||(e.__SENTRY__.extensions.startTransaction=U),e.__SENTRY__.extensions.traceHeaders||(e.__SENTRY__.extensions.traceHeaders=F),R||(R=!0,(0,A.L)(O),(0,k.r)(O)))}var G=n(80982),q=n(88701),j=n(13181),V=n(85287);const z="undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;const X=n(66272).OW;var K=n(45682);const W=(e,t,n)=>{let r,o;return i=>{t.value>=0&&(i||n)&&(o=t.value-(r||0),(o||void 0===r)&&(r=t.value,t.delta=o,e(t)))}},$=()=>X.__WEB_VITALS_POLYFILL__?X.performance&&(performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]||(()=>{const e=X.performance.timing,t=X.performance.navigation.type,n={entryType:"navigation",startTime:0,type:2==t?"back_forward":1===t?"reload":"navigate"};for(const r in e)"navigationStart"!==r&&"toJSON"!==r&&(n[r]=Math.max(e[r]-e.navigationStart,0));return n})()):X.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0],Y=()=>{const e=$();return e&&e.activationStart||0},Q=(e,t)=>{const n=$();let r="navigate";return n&&(r=X.document&&X.document.prerendering||Y()>0?"prerender":n.type.replace(/_/g,"-")),{name:e,value:"undefined"===typeof t?-1:t,rating:"good",delta:0,entries:[],id:`v3-${Date.now()}-${Math.floor(8999999999999*Math.random())+1e12}`,navigationType:r}},J=(e,t,n)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){const r=new PerformanceObserver((e=>{t(e.getEntries())}));return r.observe(Object.assign({type:e,buffered:!0},n||{})),r}}catch(r){}},Z=(e,t)=>{const n=r=>{"pagehide"!==r.type&&"hidden"!==X.document.visibilityState||(e(r),t&&(removeEventListener("visibilitychange",n,!0),removeEventListener("pagehide",n,!0)))};X.document&&(addEventListener("visibilitychange",n,!0),addEventListener("pagehide",n,!0))},ee=(e,t={})=>{const n=Q("CLS",0);let r,o=0,i=[];const a=e=>{e.forEach((e=>{if(!e.hadRecentInput){const t=i[0],a=i[i.length-1];o&&0!==i.length&&e.startTime-a.startTime<1e3&&e.startTime-t.startTime<5e3?(o+=e.value,i.push(e)):(o=e.value,i=[e]),o>n.value&&(n.value=o,n.entries=i,r&&r())}}))},s=J("layout-shift",a);if(s){r=W(e,n,t.reportAllChanges);const o=()=>{a(s.takeRecords()),r(!0)};return Z(o),o}};let te=-1;const ne=()=>(te<0&&(X.document&&X.document.visibilityState&&(te="hidden"!==X.document.visibilityState||X.document.prerendering?1/0:0),Z((({timeStamp:e})=>{te=e}),!0)),{get firstHiddenTime(){return te}}),re=e=>{const t=ne(),n=Q("FID");let r;const o=e=>{e.startTime<t.firstHiddenTime&&(n.value=e.processingStart-e.startTime,n.entries.push(e),r(!0))},i=e=>{e.forEach(o)},a=J("first-input",i);r=W(e,n),a&&Z((()=>{i(a.takeRecords()),a.disconnect()}),!0)};let oe=0,ie=1/0,ae=0;const se=e=>{e.forEach((e=>{e.interactionId&&(ie=Math.min(ie,e.interactionId),ae=Math.max(ae,e.interactionId),oe=ae?(ae-ie)/7+1:0)}))};let le;const ce=()=>{"interactionCount"in performance||le||(le=J("event",se,{type:"event",buffered:!0,durationThreshold:0}))},ue=()=>le?oe:performance.interactionCount||0,de=[],pe={},me=e=>{const t=de[de.length-1],n=pe[e.interactionId];if(n||de.length<10||e.duration>t.latency){if(n)n.entries.push(e),n.latency=Math.max(n.latency,e.duration);else{const t={id:e.interactionId,latency:e.duration,entries:[e]};pe[t.id]=t,de.push(t)}de.sort(((e,t)=>t.latency-e.latency)),de.splice(10).forEach((e=>{delete pe[e.id]}))}},he=(e,t)=>{t=t||{},ce();const n=Q("INP");let r;const o=e=>{e.forEach((e=>{if(e.interactionId&&me(e),"first-input"===e.entryType){!de.some((t=>t.entries.some((t=>e.duration===t.duration&&e.startTime===t.startTime))))&&me(e)}}));const t=(()=>{const e=Math.min(de.length-1,Math.floor(ue()/50));return de[e]})();t&&t.latency!==n.value&&(n.value=t.latency,n.entries=t.entries,r())},i=J("event",o,{durationThreshold:t.durationThreshold||40});r=W(e,n,t.reportAllChanges),i&&(i.observe({type:"first-input",buffered:!0}),Z((()=>{o(i.takeRecords()),n.value<0&&ue()>0&&(n.value=0,n.entries=[]),r(!0)})))},ge={},fe=e=>{const t=ne(),n=Q("LCP");let r;const o=e=>{const o=e[e.length-1];if(o){const e=Math.max(o.startTime-Y(),0);e<t.firstHiddenTime&&(n.value=e,n.entries=[o],r())}},i=J("largest-contentful-paint",o);if(i){r=W(e,n);const t=()=>{ge[n.id]||(o(i.takeRecords()),i.disconnect(),ge[n.id]=!0,r(!0))};return["keydown","click"].forEach((e=>{X.document&&addEventListener(e,t,{once:!0,capture:!0})})),Z(t,!0),t}},_e=e=>{X.document&&(X.document.prerendering?addEventListener("prerenderingchange",(()=>_e(e)),!0):"complete"!==X.document.readyState?addEventListener("load",(()=>_e(e)),!0):setTimeout(e,0))},ve=(e,t)=>{t=t||{};const n=Q("TTFB"),r=W(e,n,t.reportAllChanges);_e((()=>{const e=$();if(e){if(n.value=Math.max(e.responseStart-Y(),0),n.value<0||n.value>performance.now())return;n.entries=[e],r(!0)}}))},ye={},be={};let Se,Ee,Ce,Te,we;function Ie(e,t){return Me(e,t),be[e]||(!function(e){const t={};"event"===e&&(t.durationThreshold=0);J(e,(t=>{Pe(e,{entries:t})}),t)}(e),be[e]=!0),Le(e,t)}function Pe(e,t){const n=ye[e];if(n&&n.length)for(const i of n)try{i(t)}catch(o){z&&r.vF.error(`Error while triggering instrumentation handler.\nType: ${e}\nName: ${(0,K.qQ)(i)}\nError:`,o)}}function Ae(){return ee((e=>{Pe("cls",{metric:e}),Se=e}),{reportAllChanges:!0})}function ke(){return re((e=>{Pe("fid",{metric:e}),Ee=e}))}function xe(){return fe((e=>{Pe("lcp",{metric:e}),Ce=e}))}function Re(){return ve((e=>{Pe("ttfb",{metric:e}),Te=e}))}function Oe(){return he((e=>{Pe("inp",{metric:e}),we=e}))}function Ne(e,t,n,r,o=!1){let i;return Me(e,t),be[e]||(i=n(),be[e]=!0),r&&t({metric:r}),Le(e,t,o?i:void 0)}function Me(e,t){ye[e]=ye[e]||[],ye[e].push(t)}function Le(e,t,n){return()=>{n&&n();const r=ye[e];if(!r)return;const o=r.indexOf(t);-1!==o&&r.splice(o,1)}}var De=n(22298),Fe=n(83179);function Ue(e){return[{type:"span"},e]}var Be=n(73778);function He(e){return"number"===typeof e&&isFinite(e)}function Ge(e,{startTimestamp:t,...n}){return t&&e.startTimestamp>t&&(e.startTimestamp=t),e.startChild({startTimestamp:t,...n})}const qe=2147483647;function je(e){return e/1e3}function Ve(){return X&&X.addEventListener&&X.performance}let ze,Xe,Ke=0,We={};function $e(){const e=Ve();if(e&&o.k3){e.mark&&X.performance.mark("sentry-tracing-init");const t=function(){return e=({metric:e})=>{const t=e.entries[e.entries.length-1];if(!t)return;const n=je(o.k3),i=je(t.startTime);z&&r.vF.log("[Measurements] Adding FID"),We.fid={value:e.value,unit:"millisecond"},We["mark.fid"]={value:n+i,unit:"second"}},Ne("fid",e,ke,Ee);var e}(),n=function(e,t=!1){return Ne("cls",e,Ae,Se,t)}((({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(z&&r.vF.log("[Measurements] Adding CLS"),We.cls={value:e.value,unit:""},Xe=t)}),!0),i=function(e,t=!1){return Ne("lcp",e,xe,Ce,t)}((({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(z&&r.vF.log("[Measurements] Adding LCP"),We.lcp={value:e.value,unit:"millisecond"},ze=t)}),!0),a=function(){return e=({metric:e})=>{e.entries[e.entries.length-1]&&(z&&r.vF.log("[Measurements] Adding TTFB"),We.ttfb={value:e.value,unit:"millisecond"})},Ne("ttfb",e,Re,Te);var e}();return()=>{t(),n(),i(),a()}}return()=>{}}function Ye(e,t){if(Ve()&&o.k3){const n=function(e,t){return n=({metric:n})=>{if(void 0===n.value)return;const i=n.entries.find((e=>e.duration===n.value&&void 0!==Qe[e.name])),a=(0,G.KU)();if(!i||!a)return;const s=Qe[i.name],l=a.getOptions(),c=je(o.k3+i.startTime),u=je(n.value),d=void 0!==i.interactionId?e[i.interactionId]:void 0;if(void 0===d)return;const{routeName:p,parentContext:m,activeTransaction:h,user:g,replayId:f}=d,_=void 0!==g?g.email||g.id||g.ip_address:void 0,v=void 0!==h?h.getProfileId():void 0,b=new y({startTimestamp:c,endTimestamp:c+u,op:`ui.interaction.${s}`,name:(0,V.Hd)(i.target),attributes:{release:l.release,environment:l.environment,transaction:p,...void 0!==_&&""!==_?{user:_}:{},...void 0!==v?{profile_id:v}:{},...void 0!==f?{replay_id:f}:{}},exclusiveTime:n.value,measurements:{inp:{value:n.value,unit:"millisecond"}}}),S=function(e,t,n){if(!(0,M.w)(t))return!1;let o;return o=void 0!==e&&"function"===typeof t.tracesSampler?t.tracesSampler({transactionContext:e,name:e.name,parentSampled:e.parentSampled,attributes:{...e.data,...e.attributes},location:X.location}):void 0!==e&&void 0!==e.sampled?e.sampled:"undefined"!==typeof t.tracesSampleRate?t.tracesSampleRate:1,D(o)?!0===o?n:!1===o?0:o*n:(z&&r.vF.warn("[Tracing] Discarding interaction span because of invalid sample rate."),!1)}(m,l,t);if(S&&Math.random()<S){const e=b?function(t,n){const r={sent_at:(new Date).toISOString()};n&&(r.dsn=(0,De.SB)(n));const o=t.map(Ue);return(0,e.h4)(r,o)}([b],a.getDsn()):void 0,t=a&&a.getTransport();t&&e&&t.send(e).then(null,(e=>{z&&r.vF.error("Error while sending interaction:",e)}))}},Ne("inp",n,Oe,we);var n}(e,t);return()=>{n()}}return()=>{}}const Qe={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"};function Je(e){const t=Ve();if(!t||!X.performance.getEntries||!o.k3)return;z&&r.vF.log("[Tracing] Adding & adjusting spans using Performance API");const n=je(o.k3),i=t.getEntries(),{op:s,start_timestamp:l}=(0,a.et)(e);if(i.slice(Ke).forEach((t=>{const o=je(t.startTime),i=je(t.duration);if(!("navigation"===e.op&&l&&n+o<l))switch(t.entryType){case"navigation":!function(e,t,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach((r=>{Ze(e,t,r,n)})),Ze(e,t,"secureConnection",n,"TLS/SSL","connectEnd"),Ze(e,t,"fetch",n,"cache","domainLookupStart"),Ze(e,t,"domainLookup",n,"DNS"),function(e,t,n){t.responseEnd&&(Ge(e,{op:"browser",origin:"auto.browser.browser.metrics",description:"request",startTimestamp:n+je(t.requestStart),endTimestamp:n+je(t.responseEnd)}),Ge(e,{op:"browser",origin:"auto.browser.browser.metrics",description:"response",startTimestamp:n+je(t.responseStart),endTimestamp:n+je(t.responseEnd)}))}(e,t,n)}(e,t,n);break;case"mark":case"paint":case"measure":{!function(e,t,n,r,o){const i=o+n,a=i+r;Ge(e,{description:t.name,endTimestamp:a,op:t.entryType,origin:"auto.resource.browser.metrics",startTimestamp:i})}(e,t,o,i,n);const a=ne(),s=t.startTime<a.firstHiddenTime;"first-paint"===t.name&&s&&(z&&r.vF.log("[Measurements] Adding FP"),We.fp={value:t.startTime,unit:"millisecond"}),"first-contentful-paint"===t.name&&s&&(z&&r.vF.log("[Measurements] Adding FCP"),We.fcp={value:t.startTime,unit:"millisecond"});break}case"resource":!function(e,t,n,r,o,i){if("xmlhttprequest"===t.initiatorType||"fetch"===t.initiatorType)return;const a=(0,Be.Dl)(n),s={};et(s,t,"transferSize","http.response_transfer_size"),et(s,t,"encodedBodySize","http.response_content_length"),et(s,t,"decodedBodySize","http.decoded_response_content_length"),"renderBlockingStatus"in t&&(s["resource.render_blocking_status"]=t.renderBlockingStatus);a.protocol&&(s["url.scheme"]=a.protocol.split(":").pop());a.host&&(s["server.address"]=a.host);s["url.same_origin"]=n.includes(X.location.origin);const l=i+r,c=l+o;Ge(e,{description:n.replace(X.location.origin,""),endTimestamp:c,op:t.initiatorType?`resource.${t.initiatorType}`:"resource.other",origin:"auto.resource.browser.metrics",startTimestamp:l,data:s})}(e,t,t.name,o,i,n)}})),Ke=Math.max(i.length-1,0),function(e){const t=X.navigator;if(!t)return;const n=t.connection;n&&(n.effectiveType&&e.setTag("effectiveConnectionType",n.effectiveType),n.type&&e.setTag("connectionType",n.type),He(n.rtt)&&(We["connection.rtt"]={value:n.rtt,unit:"millisecond"}));He(t.deviceMemory)&&e.setTag("deviceMemory",`${t.deviceMemory} GB`);He(t.hardwareConcurrency)&&e.setTag("hardwareConcurrency",String(t.hardwareConcurrency))}(e),"pageload"===s){!function(e){const t=$();if(!t)return;const{responseStart:n,requestStart:o}=t;o<=n&&(z&&r.vF.log("[Measurements] Adding TTFB Request Time"),e["ttfb.requestTime"]={value:n-o,unit:"millisecond"})}(We),["fcp","fp","lcp"].forEach((e=>{if(!We[e]||!l||n>=l)return;const t=We[e].value,o=n+je(t),i=Math.abs(1e3*(o-l)),a=i-t;z&&r.vF.log(`[Measurements] Normalized ${e} from ${t} to ${i} (${a})`),We[e].value=i}));const t=We["mark.fid"];t&&We.fid&&(Ge(e,{description:"first input delay",endTimestamp:t.value+je(We.fid.value),op:"ui.action",origin:"auto.ui.browser.metrics",startTimestamp:t.value}),delete We["mark.fid"]),"fcp"in We||delete We.cls,Object.keys(We).forEach((e=>{!function(e,t,n){const r=x();r&&r.setMeasurement(e,t,n)}(e,We[e].value,We[e].unit)})),function(e){ze&&(z&&r.vF.log("[Measurements] Adding LCP Data"),ze.element&&e.setTag("lcp.element",(0,V.Hd)(ze.element)),ze.id&&e.setTag("lcp.id",ze.id),ze.url&&e.setTag("lcp.url",ze.url.trim().slice(0,200)),e.setTag("lcp.size",ze.size));Xe&&Xe.sources&&(z&&r.vF.log("[Measurements] Adding CLS Data"),Xe.sources.forEach(((t,n)=>e.setTag(`cls.source.${n+1}`,(0,V.Hd)(t.node)))))}(e)}ze=void 0,Xe=void 0,We={}}function Ze(e,t,n,r,o,i){const a=i?t[i]:t[`${n}End`],s=t[`${n}Start`];s&&a&&Ge(e,{op:"browser",origin:"auto.browser.browser.metrics",description:o||n,startTimestamp:r+je(s),endTimestamp:r+je(a)})}function et(e,t,n,r){const o=t[n];null!=o&&o<qe&&(e[r]=o)}var tt=n(83393),nt=n(37383),rt=n(81114),ot=n(15101);function it(e,t,n,r,o="auto.http.browser"){if(!(0,M.w)()||!e.fetchData)return;const i=t(e.fetchData.url);if(e.endTimestamp&&i){const t=e.fetchData.__span;if(!t)return;const n=r[t];return void(n&&(!function(e,t){if(t.response){(0,_.N8)(e,t.response.status);const n=t.response&&t.response.headers&&t.response.headers.get("content-length");if(n){const t=parseInt(n);t>0&&e.setAttribute("http.response_content_length",t)}}else t.error&&e.setStatus("internal_error");e.end()}(n,e),delete r[t]))}const s=(0,G.o5)(),l=(0,G.KU)(),{method:c,url:u}=e.fetchData,d=function(e){try{return new URL(e).href}catch(t){return}}(u),p=d?(0,Be.Dl)(d).host:void 0,m=i?(0,E.Uk)({name:`${c} ${u}`,onlyIfParent:!0,attributes:{url:u,type:"fetch","http.method":c,"http.url":d,"server.address":p,[g]:o},op:"http.client"}):void 0;if(m&&(e.fetchData.__span=m.spanContext().spanId,r[m.spanContext().spanId]=m),n(e.fetchData.url)&&l){const t=e.args[0];e.args[1]=e.args[1]||{};const n=e.args[1];n.headers=function(e,t,n,r,o){const i=o||n.getSpan(),s=(0,b.rm)(),{traceId:l,spanId:c,sampled:u,dsc:d}={...s.getPropagationContext(),...n.getPropagationContext()},p=i?(0,a.Qh)(i):(0,q.TC)(l,c,u),m=(0,ot.De)(d||(i?(0,S.k)(i):(0,S.l)(l,t,n))),h=r.headers||("undefined"!==typeof Request&&(0,N.tH)(e,Request)?e.headers:void 0);if(h){if("undefined"!==typeof Headers&&(0,N.tH)(h,Headers)){const e=new Headers(h);return e.append("sentry-trace",p),m&&e.append(ot.hF,m),e}if(Array.isArray(h)){const e=[...h,["sentry-trace",p]];return m&&e.push([ot.hF,m]),e}{const e="baggage"in h?h.baggage:void 0,t=[];return Array.isArray(e)?t.push(...e):e&&t.push(e),m&&t.push(m),{...h,"sentry-trace":p,baggage:t.length>0?t.join(","):void 0}}}return{"sentry-trace":p,baggage:m}}(t,l,s,n,m)}return m}const at=["localhost",/^\/(?!\/)/],st={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,tracingOrigins:at,tracePropagationTargets:at};function lt(e){const{traceFetch:t,traceXHR:n,tracePropagationTargets:r,tracingOrigins:o,shouldCreateSpanForRequest:i,enableHTTPTimings:s}={traceFetch:st.traceFetch,traceXHR:st.traceXHR,...e},l="function"===typeof i?i:e=>!0,c=e=>function(e,t){return(0,rt.Xr)(e,t||at)}(e,r||o),u={};t&&(0,tt.u)((e=>{const t=it(e,l,c,u);if(t){const n=dt(e.fetchData.url),r=n?(0,Be.Dl)(n).host:void 0;t.setAttributes({"http.url":n,"server.address":r})}s&&t&&ct(t)})),n&&(0,nt.Mn)((e=>{const t=function(e,t,n,r){const o=e.xhr,i=o&&o[nt.Er];if(!(0,M.w)()||!o||o.__sentry_own_request__||!i)return;const s=t(i.url);if(e.endTimestamp&&s){const e=o.__sentry_xhr_span_id__;if(!e)return;const t=r[e];return void(t&&void 0!==i.status_code&&((0,_.N8)(t,i.status_code),t.end(),delete r[e]))}const l=(0,G.o5)(),c=(0,b.rm)(),u=dt(i.url),d=u?(0,Be.Dl)(u).host:void 0,p=s?(0,E.Uk)({name:`${i.method} ${i.url}`,onlyIfParent:!0,attributes:{type:"xhr","http.method":i.method,"http.url":u,url:i.url,"server.address":d,[g]:"auto.http.browser"},op:"http.client"}):void 0;p&&(o.__sentry_xhr_span_id__=p.spanContext().spanId,r[o.__sentry_xhr_span_id__]=p);const m=(0,G.KU)();if(o.setRequestHeader&&n(i.url)&&m){const{traceId:e,spanId:t,sampled:n,dsc:r}={...c.getPropagationContext(),...l.getPropagationContext()};!function(e,t,n){try{e.setRequestHeader("sentry-trace",t),n&&e.setRequestHeader(ot.hF,n)}catch(r){}}(o,p?(0,a.Qh)(p):(0,q.TC)(e,t,n),(0,ot.De)(r||(p?(0,S.k)(p):(0,S.l)(e,m,l))))}return p}(e,l,c,u);s&&t&&ct(t)}))}function ct(e){const{url:t}=(0,a.et)(e).data||{};if(!t||"string"!==typeof t)return;const n=Ie("resource",(({entries:r})=>{r.forEach((r=>{if(function(e){return"resource"===e.entryType&&"initiatorType"in e&&"string"===typeof e.nextHopProtocol&&("fetch"===e.initiatorType||"xmlhttprequest"===e.initiatorType)}(r)&&r.name.endsWith(t)){(function(e){const{name:t,version:n}=function(e){let t="unknown",n="unknown",r="";for(const o of e){if("/"===o){[t,n]=e.split("/");break}if(!isNaN(Number(o))){t="h"===r?"http":r,n=e.split(r)[1];break}r+=o}r===e&&(t=r);return{name:t,version:n}}(e.nextHopProtocol),r=[];if(r.push(["network.protocol.version",n],["network.protocol.name",t]),!o.k3)return r;return[...r,["http.request.redirect_start",ut(e.redirectStart)],["http.request.fetch_start",ut(e.fetchStart)],["http.request.domain_lookup_start",ut(e.domainLookupStart)],["http.request.domain_lookup_end",ut(e.domainLookupEnd)],["http.request.connect_start",ut(e.connectStart)],["http.request.secure_connection_start",ut(e.secureConnectionStart)],["http.request.connection_end",ut(e.connectEnd)],["http.request.request_start",ut(e.requestStart)],["http.request.response_start",ut(e.responseStart)],["http.request.response_end",ut(e.responseEnd)]]})(r).forEach((t=>e.setAttribute(...t))),setTimeout(n)}}))}))}function ut(e=0){return((o.k3||performance.timeOrigin)+e)/1e3}function dt(e){try{return new URL(e,X.location.origin).href}catch(t){return}}const pt={...T,instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableInp:!1,interactionsSampleRate:1,_experiments:{},...st},mt=(e={})=>{const t=!!z&&!(!e.tracePropagationTargets&&!e.tracingOrigins);H(),!e.tracePropagationTargets&&e.tracingOrigins&&(e.tracePropagationTargets=e.tracingOrigins);const n={...pt,...e},i=$e(),s={};n.enableInp&&Ye(s,n.interactionsSampleRate),n.enableLongTask&&Ie("longtask",(({entries:e})=>{for(const t of e){const e=x();if(!e)return;const n=je(o.k3+t.startTime),r=je(t.duration);e.startChild({description:"Main UI thread blocked",op:"ui.long-task",origin:"auto.ui.browser.metrics",startTimestamp:n,endTimestamp:n+r})}})),n._experiments.enableInteractions&&Ie("event",(({entries:e})=>{for(const t of e){const e=x();if(!e)return;if("click"===t.name){const n=je(o.k3+t.startTime),r=je(t.duration),i={description:(0,V.Hd)(t.target),op:`ui.interaction.${t.name}`,origin:"auto.ui.browser.metrics",startTimestamp:n,endTimestamp:n+r},a=(0,V.xE)(t.target);a&&(i.attributes={"ui.component_name":a}),e.startChild(i)}}}));const l={name:void 0,context:void 0};function c(e){const t=(0,b.BF)(),{beforeStartSpan:o,idleTimeout:a,finalTimeout:s,heartbeatInterval:c}=n,u="pageload"===e.op;let d;if(u){const t=u?ht("sentry-trace"):"",n=u?ht("baggage"):void 0,{traceId:r,dsc:o,parentSpanId:i,sampled:a}=(0,q.kM)(t,n);d={traceId:r,parentSpanId:i,parentSampled:a,...e,metadata:{...e.metadata,dynamicSamplingContext:o},trimEnd:!0}}else d={trimEnd:!0,...e};const p=o?o(d):d;p.metadata=p.name!==d.name?{...p.metadata,source:"custom"}:p.metadata,l.name=p.name,l.context=p,!1===p.sampled&&z&&r.vF.log(`[Tracing] Will not send ${p.op} transaction because of beforeNavigate.`),z&&r.vF.log(`[Tracing] Starting ${p.op} transaction on scope`);const{location:m}=X,h=B(t,p,a,s,!0,{location:m},c,u);return u&&X.document&&(X.document.addEventListener("readystatechange",(()=>{["interactive","complete"].includes(X.document.readyState)&&h.sendAutoFinishSignal()})),["interactive","complete"].includes(X.document.readyState)&&h.sendAutoFinishSignal()),h.registerBeforeFinishCallback((e=>{i(),Je(e)})),h}return{name:"BrowserTracing",setupOnce:()=>{},afterAllSetup(e){const i=e.getOptions(),{markBackgroundSpan:u,traceFetch:d,traceXHR:m,shouldCreateSpanForRequest:h,enableHTTPTimings:g,_experiments:f}=n,_=i&&i.tracePropagationTargets,v=_||n.tracePropagationTargets;let y;z&&t&&_&&r.vF.warn("[Tracing] The `tracePropagationTargets` option was set in the BrowserTracing integration and top level `Sentry.init`. The top level `Sentry.init` value is being used.");let S=X.location&&X.location.href;if(e.on&&(e.on("startNavigationSpan",(e=>{y&&(z&&r.vF.log(`[Tracing] Finishing current transaction with op: ${(0,a.et)(y).op}`),y.end()),y=c({op:"navigation",...e})})),e.on("startPageLoadSpan",(e=>{y&&(z&&r.vF.log(`[Tracing] Finishing current transaction with op: ${(0,a.et)(y).op}`),y.end()),y=c({op:"pageload",...e})}))),n.instrumentPageLoad&&e.emit&&X.location){const t={name:X.location.pathname,startTimestamp:o.k3?o.k3/1e3:void 0,origin:"auto.pageload.browser",attributes:{[p]:"url"}};!function(e,t){if(!e.emit)return;e.emit("startPageLoadSpan",t);const n=(0,E.Bk)();n&&(0,a.et)(n).op}(e,t)}n.instrumentNavigation&&e.emit&&X.location&&(0,j._)((({to:t,from:n})=>{if(void 0===n&&S&&-1!==S.indexOf(t))S=void 0;else if(n!==t){S=void 0;const t={name:X.location.pathname,origin:"auto.navigation.browser",attributes:{[p]:"url"}};!function(e,t){if(!e.emit)return;e.emit("startNavigationSpan",t);const n=(0,E.Bk)();n&&(0,a.et)(n).op}(e,t)}})),u&&(X.document?X.document.addEventListener("visibilitychange",(()=>{const e=x();if(X.document.hidden&&e){const t="cancelled",{op:n,status:o}=(0,a.et)(e);z&&r.vF.log(`[Tracing] Transaction: ${t} -> since tab moved to the background, op: ${n}`),o||e.setStatus(t),e.setTag("visibilitychange","document.hidden"),e.end()}})):z&&r.vF.warn("[Tracing] Could not set up background tab detection due to lack of global document")),f.enableInteractions&&function(e,t){let n;const o=()=>{const{idleTimeout:o,finalTimeout:i,heartbeatInterval:a}=e,s="ui.action.click",l=x();if(l&&l.op&&["navigation","pageload"].includes(l.op))return void(z&&r.vF.warn(`[Tracing] Did not create ${s} transaction because a pageload or navigation transaction is in progress.`));if(n&&(n.setFinishReason("interactionInterrupted"),n.end(),n=void 0),!t.name)return void(z&&r.vF.warn(`[Tracing] Did not create ${s} transaction because _latestRouteName is missing.`));const{location:c}=X,u={name:t.name,op:s,trimEnd:!0,data:{[p]:t.context?ft(t.context):"url"}};n=B((0,b.BF)(),u,o,i,!0,{location:c},a)};["click"].forEach((e=>{X.document&&addEventListener(e,o,{once:!1,capture:!0})}))}(n,l),n.enableInp&&function(e,t){const n=({entries:n})=>{const r=(0,G.KU)(),o=void 0!==r&&void 0!==r.getIntegrationByName?r.getIntegrationByName("Replay"):void 0,i=void 0!==o?o.getReplayId():void 0,a=x(),s=(0,G.o5)(),l=void 0!==s?s.getUser():void 0;n.forEach((n=>{if(function(e){return"duration"in e}(n)){const r=n.interactionId;if(void 0===r)return;const o=e[r],s=n.duration,c=n.startTime,u=Object.keys(e),d=u.length>0?u.reduce(((t,n)=>e[t].duration<e[n].duration?t:n)):void 0;if("first-input"===n.entryType){if(u.map((t=>e[t])).some((e=>e.duration===s&&e.startTime===c)))return}if(!r)return;if(o)o.duration=Math.max(o.duration,s);else if(u.length<gt||void 0===d||s>e[d].duration){const n=t.name,o=t.context;n&&o&&(d&&Object.keys(e).length>=gt&&delete e[d],e[r]={routeName:n,duration:s,parentContext:o,user:l,activeTransaction:a,replayId:i,startTime:c})}}}))};Ie("event",n),Ie("first-input",n)}(s,l),lt({traceFetch:d,traceXHR:m,tracePropagationTargets:v,shouldCreateSpanForRequest:h,enableHTTPTimings:g})},options:n}};function ht(e){const t=(0,V.NX)(`meta[name=${e}]`);return t?t.getAttribute("content"):void 0}const gt=10;function ft(e){const t=e.attributes&&e.attributes[p],n=e.data&&e.data[p],r=e.metadata&&e.metadata.source;return t||n||r}},46392:(e,t,n)=>{"use strict";n.d(t,{T:()=>r});const r="undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__},13755:(e,t,n)=>{"use strict";n.d(t,{LV:()=>u,jN:()=>c,jf:()=>s});var r=n(80982),o=n(66272),i=n(70460),a=n(46591);const s=o.OW;let l=0;function c(){return l>0}function u(e,t={},n){if("function"!==typeof e)return e;try{const t=e.__sentry_wrapped__;if(t)return"function"===typeof t?t:e;if((0,i.sp)(e))return e}catch(s){return e}const o=function(){const o=Array.prototype.slice.call(arguments);try{n&&"function"===typeof n&&n.apply(this,arguments);const r=o.map((e=>u(e,t)));return e.apply(this,r)}catch(i){throw l++,setTimeout((()=>{l--})),(0,r.v4)((e=>{e.addEventProcessor((e=>(t.mechanism&&((0,a.gO)(e,void 0,void 0),(0,a.M6)(e,t.mechanism)),e.extra={...e.extra,arguments:o},e))),(0,r.Cp)(i)})),i}};try{for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&(o[t]=e[t])}catch(c){}(0,i.pO)(o,e),(0,i.my)(e,"__sentry_wrapped__",o);try{Object.getOwnPropertyDescriptor(o,"name").configurable&&Object.defineProperty(o,"name",{get:()=>e.name})}catch(c){}return o}},28583:(e,t,n)=>{"use strict";n.d(t,{F:()=>x});var r=n(30399),o=n(80982),i=n(4259),a=n(70460),s=n(66272),l=n(38833);function c(){"console"in s.OW&&i.Ow.forEach((function(e){e in s.OW.console&&(0,a.GS)(s.OW.console,e,(function(t){return i.Z9[e]=t,function(...t){const n={args:t,level:e};(0,l.aj)("console",n);const r=i.Z9[e];r&&r.apply(s.OW.console,t)}}))}))}var u=n(46591);const d=s.OW,p=1e3;let m,h,g;function f(){if(!d.document)return;const e=l.aj.bind(null,"dom"),t=_(e,!0);d.document.addEventListener("click",t,!1),d.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach((t=>{const n=d[t]&&d[t].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&((0,a.GS)(n,"addEventListener",(function(t){return function(n,r,o){if("click"===n||"keypress"==n)try{const r=this,i=r.__sentry_instrumentation_handlers__=r.__sentry_instrumentation_handlers__||{},a=i[n]=i[n]||{refCount:0};if(!a.handler){const r=_(e);a.handler=r,t.call(this,n,r,o)}a.refCount++}catch(i){}return t.call(this,n,r,o)}})),(0,a.GS)(n,"removeEventListener",(function(e){return function(t,n,r){if("click"===t||"keypress"==t)try{const n=this,o=n.__sentry_instrumentation_handlers__||{},i=o[t];i&&(i.refCount--,i.refCount<=0&&(e.call(this,t,i.handler,r),i.handler=void 0,delete o[t]),0===Object.keys(o).length&&delete n.__sentry_instrumentation_handlers__)}catch(o){}return e.call(this,t,n,r)}})))}))}function _(e,t=!1){return n=>{if(!n||n._sentryCaptured)return;const r=function(e){try{return e.target}catch(t){return null}}(n);if(function(e,t){return"keypress"===e&&(!t||!t.tagName||"INPUT"!==t.tagName&&"TEXTAREA"!==t.tagName&&!t.isContentEditable)}(n.type,r))return;(0,a.my)(n,"_sentryCaptured",!0),r&&!r._sentryId&&(0,a.my)(r,"_sentryId",(0,u.eJ)());const o="keypress"===n.type?"input":n.type;if(!function(e){if(e.type!==h)return!1;try{if(!e.target||e.target._sentryId!==g)return!1}catch(t){}return!0}(n)){e({event:n,name:o,global:t}),h=n.type,g=r?r._sentryId:void 0}clearTimeout(m),m=d.setTimeout((()=>{g=void 0,h=void 0}),p)}}var v=n(37383),y=n(83393),b=n(13181),S=n(85287);const E=["fatal","error","warning","log","info","debug"];function C(e){return"warn"===e?"warning":E.includes(e)?e:"log"}var T=n(81114),w=n(73778),I=n(46392),P=n(13755);const A=1024,k="Breadcrumbs",x=(0,r._C)(((e={})=>{const t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:k,setupOnce(){},setup(e){var n;t.console&&function(e){const t="console";(0,l.s5)(t,e),(0,l.AS)(t,c)}(function(e){return function(t){if((0,o.KU)()!==e)return;const n={category:"console",data:{arguments:t.args,logger:"console"},level:C(t.level),message:(0,T.gt)(t.args," ")};if("assert"===t.level){if(!1!==t.args[0])return;n.message=`Assertion failed: ${(0,T.gt)(t.args.slice(1)," ")||"console.assert"}`,n.data.arguments=t.args.slice(1)}(0,o.ZQ)(n,{input:t.args,level:t.level})}}(e)),t.dom&&(n=function(e,t){return function(n){if((0,o.KU)()!==e)return;let r,a,s="object"===typeof t?t.serializeAttribute:void 0,l="object"===typeof t&&"number"===typeof t.maxStringLength?t.maxStringLength:void 0;l&&l>A&&(I.T&&i.vF.warn(`\`dom.maxStringLength\` cannot exceed 1024, but a value of ${l} was configured. Sentry will use 1024 instead.`),l=A),"string"===typeof s&&(s=[s]);try{const e=n.event,t=function(e){return!!e&&!!e.target}(e)?e.target:e;r=(0,S.Hd)(t,{keyAttrs:s,maxStringLength:l}),a=(0,S.xE)(t)}catch(u){r="<unknown>"}if(0===r.length)return;const c={category:`ui.${n.name}`,message:r};a&&(c.data={"ui.component_name":a}),(0,o.ZQ)(c,{event:n.event,name:n.name,global:n.global})}}(e,t.dom),(0,l.s5)("dom",n),(0,l.AS)("dom",f)),t.xhr&&(0,v.Mn)(function(e){return function(t){if((0,o.KU)()!==e)return;const{startTimestamp:n,endTimestamp:r}=t,i=t.xhr[v.Er];if(!n||!r||!i)return;const{method:a,url:s,status_code:l,body:c}=i,u={method:a,url:s,status_code:l},d={xhr:t.xhr,input:c,startTimestamp:n,endTimestamp:r};(0,o.ZQ)({category:"xhr",data:u,type:"http"},d)}}(e)),t.fetch&&(0,y.u)(function(e){return function(t){if((0,o.KU)()!==e)return;const{startTimestamp:n,endTimestamp:r}=t;if(r&&(!t.fetchData.url.match(/sentry_key/)||"POST"!==t.fetchData.method))if(t.error){const e=t.fetchData,i={data:t.error,input:t.args,startTimestamp:n,endTimestamp:r};(0,o.ZQ)({category:"fetch",data:e,level:"error",type:"http"},i)}else{const e=t.response,i={...t.fetchData,status_code:e&&e.status},a={input:t.args,response:e,startTimestamp:n,endTimestamp:r};(0,o.ZQ)({category:"fetch",data:i,type:"http"},a)}}}(e)),t.history&&(0,b._)(function(e){return function(t){if((0,o.KU)()!==e)return;let n=t.from,r=t.to;const i=(0,w.Dl)(P.jf.location.href);let a=n?(0,w.Dl)(n):void 0;const s=(0,w.Dl)(r);a&&a.path||(a=i),i.protocol===s.protocol&&i.host===s.host&&(r=s.relative),i.protocol===a.protocol&&i.host===a.host&&(n=a.relative),(0,o.ZQ)({category:"navigation",data:{from:n,to:r}})}}(e)),t.sentry&&e.on&&e.on("beforeSendEvent",function(e){return function(t){(0,o.KU)()===e&&(0,o.ZQ)({category:"sentry."+("transaction"===t.type?"transaction":"event"),event_id:t.event_id,level:t.level,message:(0,u.$X)(t)},{event:t})}}(e))}}}));(0,r.F)(k,x)},82699:(e,t,n)=>{"use strict";n.d(t,{M:()=>a});var r=n(30399),o=n(13755);const i="HttpContext",a=(0,r._C)((()=>({name:i,setupOnce(){},preprocessEvent(e){if(!o.jf.navigator&&!o.jf.location&&!o.jf.document)return;const t=e.request&&e.request.url||o.jf.location&&o.jf.location.href,{referrer:n}=o.jf.document||{},{userAgent:r}=o.jf.navigator||{},i={...e.request&&e.request.headers,...n&&{Referer:n},...r&&{"User-Agent":r}},a={...e.request,...t&&{url:t},headers:i};e.request=a}})));(0,r.F)(i,a)},22466:(e,t,n)=>{"use strict";n.d(t,{G:()=>c});var r=n(30399),o=n(70460),i=n(45682),a=n(13755);const s=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],l="TryCatch",c=(0,r._C)(((e={})=>{const t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...e};return{name:l,setupOnce(){t.setTimeout&&(0,o.GS)(a.jf,"setTimeout",u),t.setInterval&&(0,o.GS)(a.jf,"setInterval",u),t.requestAnimationFrame&&(0,o.GS)(a.jf,"requestAnimationFrame",d),t.XMLHttpRequest&&"XMLHttpRequest"in a.jf&&(0,o.GS)(XMLHttpRequest.prototype,"send",p);const e=t.eventTarget;if(e){(Array.isArray(e)?e:s).forEach(m)}}}}));(0,r.F)(l,c);function u(e){return function(...t){const n=t[0];return t[0]=(0,a.LV)(n,{mechanism:{data:{function:(0,i.qQ)(e)},handled:!1,type:"instrument"}}),e.apply(this,t)}}function d(e){return function(t){return e.apply(this,[(0,a.LV)(t,{mechanism:{data:{function:"requestAnimationFrame",handler:(0,i.qQ)(e)},handled:!1,type:"instrument"}})])}}function p(e){return function(...t){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach((e=>{e in n&&"function"===typeof n[e]&&(0,o.GS)(n,e,(function(t){const n={mechanism:{data:{function:e,handler:(0,i.qQ)(t)},handled:!1,type:"instrument"}},r=(0,o.sp)(t);return r&&(n.mechanism.data.handler=(0,i.qQ)(r)),(0,a.LV)(t,n)}))})),e.apply(this,t)}}function m(e){const t=a.jf,n=t[e]&&t[e].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&((0,o.GS)(n,"addEventListener",(function(t){return function(n,r,o){try{"function"===typeof r.handleEvent&&(r.handleEvent=(0,a.LV)(r.handleEvent,{mechanism:{data:{function:"handleEvent",handler:(0,i.qQ)(r),target:e},handled:!1,type:"instrument"}}))}catch(s){}return t.apply(this,[n,(0,a.LV)(r,{mechanism:{data:{function:"addEventListener",handler:(0,i.qQ)(r),target:e},handled:!1,type:"instrument"}}),o])}})),(0,o.GS)(n,"removeEventListener",(function(e){return function(t,n,r){const o=n;try{const n=o&&o.__sentry_wrapped__;n&&e.call(this,t,n,r)}catch(i){}return e.call(this,t,o,r)}})))}},39164:(e,t,n)=>{"use strict";n.d(t,{U:()=>r});const r="production"},35835:(e,t,n)=>{"use strict";n.d(t,{T:()=>r});const r="undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__},62252:(e,t,n)=>{"use strict";n.d(t,{jB:()=>u,lG:()=>l,lb:()=>c});var r=n(66272),o=n(19455),i=n(4259),a=n(32823),s=n(35835);function l(){return(0,r.BY)("globalEventProcessors",(()=>[]))}function c(e){l().push(e)}function u(e,t,n,r=0){return new o.T2(((o,l)=>{const c=e[r];if(null===t||"function"!==typeof c)o(t);else{const d=c({...t},n);s.T&&c.id&&null===d&&i.vF.log(`Event processor "${c.id}" dropped event`),(0,a.Qg)(d)?d.then((t=>u(e,t,n,r+1).then(o))).then(null,l):u(e,d,n,r+1).then(o).then(null,l)}}))}},80982:(e,t,n)=>{"use strict";n.d(t,{Cp:()=>u,J0:()=>y,J5:()=>E,KU:()=>_,NA:()=>m,VN:()=>f,ZQ:()=>p,gV:()=>h,o5:()=>v,r:()=>d,v4:()=>g});var r=n(4259),o=n(66272),i=n(39164),a=n(35835),s=n(83750),l=n(44149),c=n(23294);function u(e,t){return(0,s.BF)().captureException(e,(0,c.li)(t))}function d(e,t){return(0,s.BF)().captureEvent(e,t)}function p(e,t){(0,s.BF)().addBreadcrumb(e,t)}function m(e,t){(0,s.BF)().setTag(e,t)}function h(e){(0,s.BF)().setUser(e)}function g(...e){const t=(0,s.BF)();if(2===e.length){const[n,r]=e;return n?t.withScope((()=>(t.getStackTop().scope=n,r(n)))):t.withScope(r)}return t.withScope(e[0])}async function f(e){const t=_();return t?t.close(e):(a.T&&r.vF.warn("Cannot flush events and disable SDK. No client defined."),Promise.resolve(!1))}function _(){return(0,s.BF)().getClient()}function v(){return(0,s.BF)().getScope()}function y(e){const t=_(),n=(0,s.rm)(),r=v(),{release:a,environment:c=i.U}=t&&t.getOptions()||{},{userAgent:u}=o.OW.navigator||{},d=(0,l.fj)({release:a,environment:c,user:r.getUser()||n.getUser(),...u&&{userAgent:u},...e}),p=n.getSession();return p&&"ok"===p.status&&(0,l.qO)(p,{status:"exited"}),b(),n.setSession(d),r.setSession(d),d}function b(){const e=(0,s.rm)(),t=v(),n=t.getSession()||e.getSession();n&&(0,l.Vu)(n),S(),e.setSession(),t.setSession()}function S(){const e=(0,s.rm)(),t=v(),n=_(),r=t.getSession()||e.getSession();r&&n&&n.captureSession&&n.captureSession(r)}function E(e=!1){e?b():S()}},83750:(e,t,n)=>{"use strict";n.d(t,{BF:()=>v,EU:()=>f,fx:()=>S,rm:()=>y});var r=n(32823),o=n(46591),i=n(22234),a=n(4259),s=n(66272),l=n(39164),c=n(35835),u=n(53765),d=n(44149),p=n(26045);const m=parseFloat(p.M),h=100;class g{constructor(e,t,n,r=m){let o,i;this._version=r,t?o=t:(o=new u.HG,o.setClient(e)),n?i=n:(i=new u.HG,i.setClient(e)),this._stack=[{scope:o}],e&&this.bindClient(e),this._isolationScope=i}isOlderThan(e){return this._version<e}bindClient(e){const t=this.getStackTop();t.client=e,t.scope.setClient(e),e&&e.setupIntegrations&&e.setupIntegrations()}pushScope(){const e=this.getScope().clone();return this.getStack().push({client:this.getClient(),scope:e}),e}popScope(){return!(this.getStack().length<=1)&&!!this.getStack().pop()}withScope(e){const t=this.pushScope();let n;try{n=e(t)}catch(o){throw this.popScope(),o}return(0,r.Qg)(n)?n.then((e=>(this.popScope(),e)),(e=>{throw this.popScope(),e})):(this.popScope(),n)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(e,t){const n=this._lastEventId=t&&t.event_id?t.event_id:(0,o.eJ)(),r=new Error("Sentry syntheticException");return this.getScope().captureException(e,{originalException:e,syntheticException:r,...t,event_id:n}),n}captureMessage(e,t,n){const r=this._lastEventId=n&&n.event_id?n.event_id:(0,o.eJ)(),i=new Error(e);return this.getScope().captureMessage(e,t,{originalException:e,syntheticException:i,...n,event_id:r}),r}captureEvent(e,t){const n=t&&t.event_id?t.event_id:(0,o.eJ)();return e.type||(this._lastEventId=n),this.getScope().captureEvent(e,{...t,event_id:n}),n}lastEventId(){return this._lastEventId}addBreadcrumb(e,t){const{scope:n,client:r}=this.getStackTop();if(!r)return;const{beforeBreadcrumb:o=null,maxBreadcrumbs:s=h}=r.getOptions&&r.getOptions()||{};if(s<=0)return;const l={timestamp:(0,i.lu)(),...e},c=o?(0,a.pq)((()=>o(l,t))):l;null!==c&&(r.emit&&r.emit("beforeAddBreadcrumb",c,t),n.addBreadcrumb(c,s))}setUser(e){this.getScope().setUser(e),this.getIsolationScope().setUser(e)}setTags(e){this.getScope().setTags(e),this.getIsolationScope().setTags(e)}setExtras(e){this.getScope().setExtras(e),this.getIsolationScope().setExtras(e)}setTag(e,t){this.getScope().setTag(e,t),this.getIsolationScope().setTag(e,t)}setExtra(e,t){this.getScope().setExtra(e,t),this.getIsolationScope().setExtra(e,t)}setContext(e,t){this.getScope().setContext(e,t),this.getIsolationScope().setContext(e,t)}configureScope(e){const{scope:t,client:n}=this.getStackTop();n&&e(t)}run(e){const t=_(this);try{e(this)}finally{_(t)}}getIntegration(e){const t=this.getClient();if(!t)return null;try{return t.getIntegration(e)}catch(n){return c.T&&a.vF.warn(`Cannot retrieve integration ${e.id} from the current Hub`),null}}startTransaction(e,t){const n=this._callExtensionMethod("startTransaction",e,t);if(c.T&&!n){this.getClient()?a.vF.warn("Tracing extension 'startTransaction' has not been added. Call 'addTracingExtensions' before calling 'init':\nSentry.addTracingExtensions();\nSentry.init({...});\n"):a.vF.warn("Tracing extension 'startTransaction' is missing. You should 'init' the SDK before calling 'startTransaction'")}return n}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(e=!1){if(e)return this.endSession();this._sendSessionUpdate()}endSession(){const e=this.getStackTop().scope,t=e.getSession();t&&(0,d.Vu)(t),this._sendSessionUpdate(),e.setSession()}startSession(e){const{scope:t,client:n}=this.getStackTop(),{release:r,environment:o=l.U}=n&&n.getOptions()||{},{userAgent:i}=s.OW.navigator||{},a=(0,d.fj)({release:r,environment:o,user:t.getUser(),...i&&{userAgent:i},...e}),c=t.getSession&&t.getSession();return c&&"ok"===c.status&&(0,d.qO)(c,{status:"exited"}),this.endSession(),t.setSession(a),a}shouldSendDefaultPii(){const e=this.getClient(),t=e&&e.getOptions();return Boolean(t&&t.sendDefaultPii)}_sendSessionUpdate(){const{scope:e,client:t}=this.getStackTop(),n=e.getSession();n&&t&&t.captureSession&&t.captureSession(n)}_callExtensionMethod(e,...t){const n=f().__SENTRY__;if(n&&n.extensions&&"function"===typeof n.extensions[e])return n.extensions[e].apply(this,t);c.T&&a.vF.warn(`Extension method ${e} couldn't be found, doing nothing.`)}}function f(){return s.OW.__SENTRY__=s.OW.__SENTRY__||{extensions:{},hub:void 0},s.OW}function _(e){const t=f(),n=C(t);return T(t,e),n}function v(){const e=f();if(e.__SENTRY__&&e.__SENTRY__.acs){const t=e.__SENTRY__.acs.getCurrentHub();if(t)return t}return b(e)}function y(){return v().getIsolationScope()}function b(e=f()){return E(e)&&!C(e).isOlderThan(m)||T(e,new g),C(e)}function S(e,t={}){const n=f();return n.__SENTRY__&&n.__SENTRY__.acs?n.__SENTRY__.acs.runWithAsyncContext(e,t):e()}function E(e){return!!(e&&e.__SENTRY__&&e.__SENTRY__.hub)}function C(e){return(0,s.BY)("hub",(()=>new g),e)}function T(e,t){if(!e)return!1;return(e.__SENTRY__=e.__SENTRY__||{}).hub=t,!0}},30399:(e,t,n)=>{"use strict";n.d(t,{F:()=>m,P$:()=>u,_C:()=>h,lc:()=>d,mH:()=>c,qm:()=>p});var r=n(46591),o=n(4259),i=n(35835),a=n(62252),s=n(83750);const l=[];function c(e){const t=e.defaultIntegrations||[],n=e.integrations;let o;t.forEach((e=>{e.isDefaultInstance=!0})),o=Array.isArray(n)?[...t,...n]:"function"===typeof n?(0,r.k9)(n(t)):t;const i=function(e){const t={};return e.forEach((e=>{const{name:n}=e,r=t[n];r&&!r.isDefaultInstance&&e.isDefaultInstance||(t[n]=e)})),Object.keys(t).map((e=>t[e]))}(o),a=function(e,t){for(let n=0;n<e.length;n++)if(!0===t(e[n]))return n;return-1}(i,(e=>"Debug"===e.name));if(-1!==a){const[e]=i.splice(a,1);i.push(e)}return i}function u(e,t){const n={};return t.forEach((t=>{t&&p(e,t,n)})),n}function d(e,t){for(const n of t)n&&n.afterAllSetup&&n.afterAllSetup(e)}function p(e,t,n){if(n[t.name])i.T&&o.vF.log(`Integration skipped because it was already installed: ${t.name}`);else{if(n[t.name]=t,-1===l.indexOf(t.name)&&(t.setupOnce(a.lb,s.BF),l.push(t.name)),t.setup&&"function"===typeof t.setup&&t.setup(e),e.on&&"function"===typeof t.preprocessEvent){const n=t.preprocessEvent.bind(t);e.on("preprocessEvent",((t,r)=>n(t,r,e)))}if(e.addEventProcessor&&"function"===typeof t.processEvent){const n=t.processEvent.bind(t),r=Object.assign(((t,r)=>n(t,r,e)),{id:t.name});e.addEventProcessor(r)}i.T&&o.vF.log(`Integration installed: ${t.name}`)}}function m(e,t){return Object.assign((function(...e){return t(...e)}),{id:e})}function h(e){return e}},53765:(e,t,n)=>{"use strict";n.d(t,{HG:()=>d,m6:()=>p});var r=n(32823),o=n(22234),i=n(46591),a=n(4259),s=n(62252),l=n(44149),c=n(28788);let u;class d{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=m()}static clone(e){return e?e.clone():new d}clone(){const e=new d;return e._breadcrumbs=[...this._breadcrumbs],e._tags={...this._tags},e._extra={...this._extra},e._contexts={...this._contexts},e._user=this._user,e._level=this._level,e._span=this._span,e._session=this._session,e._transactionName=this._transactionName,e._fingerprint=this._fingerprint,e._eventProcessors=[...this._eventProcessors],e._requestSession=this._requestSession,e._attachments=[...this._attachments],e._sdkProcessingMetadata={...this._sdkProcessingMetadata},e._propagationContext={...this._propagationContext},e._client=this._client,e}setClient(e){this._client=e}getClient(){return this._client}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{email:void 0,id:void 0,ip_address:void 0,segment:void 0,username:void 0},this._session&&(0,l.qO)(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(e){return this._requestSession=e,this}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,t){return this._tags={...this._tags,[e]:t},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,t){return this._extra={...this._extra,[e]:t},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,t){return null===t?delete this._contexts[e]:this._contexts[e]=t,this._notifyScopeListeners(),this}setSpan(e){return this._span=e,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){const e=this._span;return e&&e.transaction}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;const t="function"===typeof e?e(this):e;if(t instanceof d){const e=t.getScopeData();this._tags={...this._tags,...e.tags},this._extra={...this._extra,...e.extra},this._contexts={...this._contexts,...e.contexts},e.user&&Object.keys(e.user).length&&(this._user=e.user),e.level&&(this._level=e.level),e.fingerprint.length&&(this._fingerprint=e.fingerprint),t.getRequestSession()&&(this._requestSession=t.getRequestSession()),e.propagationContext&&(this._propagationContext=e.propagationContext)}else if((0,r.Qd)(t)){const t=e;this._tags={...this._tags,...t.tags},this._extra={...this._extra,...t.extra},this._contexts={...this._contexts,...t.contexts},t.user&&(this._user=t.user),t.level&&(this._level=t.level),t.fingerprint&&(this._fingerprint=t.fingerprint),t.requestSession&&(this._requestSession=t.requestSession),t.propagationContext&&(this._propagationContext=t.propagationContext)}return this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this._propagationContext=m(),this}addBreadcrumb(e,t){const n="number"===typeof t?t:100;if(n<=0)return this;const r={timestamp:(0,o.lu)(),...e},i=this._breadcrumbs;return i.push(r),this._breadcrumbs=i.length>n?i.slice(-n):i,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}getAttachments(){return this.getScopeData().attachments}clearAttachments(){return this._attachments=[],this}getScopeData(){const{_breadcrumbs:e,_attachments:t,_contexts:n,_tags:r,_extra:o,_user:i,_level:a,_fingerprint:s,_eventProcessors:l,_propagationContext:c,_sdkProcessingMetadata:u,_transactionName:d,_span:p}=this;return{breadcrumbs:e,attachments:t,contexts:n,tags:r,extra:o,user:i,level:a,fingerprint:s||[],eventProcessors:l,propagationContext:c,sdkProcessingMetadata:u,transactionName:d,span:p}}applyToEvent(e,t={},n=[]){(0,c.e2)(e,this.getScopeData());const r=[...n,...(0,s.lG)(),...this._eventProcessors];return(0,s.jB)(r,e,t)}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...e},this}setPropagationContext(e){return this._propagationContext=e,this}getPropagationContext(){return this._propagationContext}captureException(e,t){const n=t&&t.event_id?t.event_id:(0,i.eJ)();if(!this._client)return a.vF.warn("No client configured on scope - will not capture exception!"),n;const r=new Error("Sentry syntheticException");return this._client.captureException(e,{originalException:e,syntheticException:r,...t,event_id:n},this),n}captureMessage(e,t,n){const r=n&&n.event_id?n.event_id:(0,i.eJ)();if(!this._client)return a.vF.warn("No client configured on scope - will not capture message!"),r;const o=new Error(e);return this._client.captureMessage(e,t,{originalException:e,syntheticException:o,...n,event_id:r},this),r}captureEvent(e,t){const n=t&&t.event_id?t.event_id:(0,i.eJ)();return this._client?(this._client.captureEvent(e,{...t,event_id:n},this),n):(a.vF.warn("No client configured on scope - will not capture event!"),n)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach((e=>{e(this)})),this._notifyingListeners=!1)}}function p(){return u||(u=new d),u}function m(){return{traceId:(0,i.eJ)(),spanId:(0,i.eJ)().substring(16)}}},44149:(e,t,n)=>{"use strict";n.d(t,{Vu:()=>l,fj:()=>a,qO:()=>s});var r=n(22234),o=n(46591),i=n(70460);function a(e){const t=(0,r.zf)(),n={sid:(0,o.eJ)(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>function(e){return(0,i.Ce)({sid:`${e.sid}`,init:e.init,started:new Date(1e3*e.started).toISOString(),timestamp:new Date(1e3*e.timestamp).toISOString(),status:e.status,errors:e.errors,did:"number"===typeof e.did||"string"===typeof e.did?`${e.did}`:void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}})}(n)};return e&&s(n,e),n}function s(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),e.did||t.did||(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||(0,r.zf)(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=32===t.sid.length?t.sid:(0,o.eJ)()),void 0!==t.init&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),"number"===typeof t.started&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if("number"===typeof t.duration)e.duration=t.duration;else{const t=e.timestamp-e.started;e.duration=t>=0?t:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),"number"===typeof t.errors&&(e.errors=t.errors),t.status&&(e.status=t.status)}function l(e,t){let n={};t?n={status:t}:"ok"===e.status&&(n={status:"exited"}),s(e,n)}},82277:(e,t,n)=>{"use strict";n.d(t,{k:()=>c,l:()=>l});var r=n(70460),o=n(39164),i=n(80982),a=n(61455),s=n(96114);function l(e,t,n){const i=t.getOptions(),{publicKey:a}=t.getDsn()||{},{segment:s}=n&&n.getUser()||{},l=(0,r.Ce)({environment:i.environment||o.U,release:i.release,user_segment:s,public_key:a,trace_id:e});return t.emit&&t.emit("createDsc",l),l}function c(e){const t=(0,i.KU)();if(!t)return{};const n=l((0,s.et)(e).trace_id||"",t,(0,i.o5)()),r=(0,a.z)(e);if(!r)return n;const o=r&&r._frozenDynamicSamplingContext;if(o)return o;const{sampleRate:c,source:u}=r.metadata;null!=c&&(n.sample_rate=`${c}`);const d=(0,s.et)(r);return u&&"url"!==u&&(n.transaction=d.description),n.sampled=String((0,s.pK)(r)),t.emit&&t.emit("createDsc",n),n}},35676:(e,t,n)=>{"use strict";var r;function o(e){if(e<400&&e>=100)return"ok";if(e>=400&&e<500)switch(e){case 401:return"unauthenticated";case 403:return"permission_denied";case 404:return"not_found";case 409:return"already_exists";case 413:return"failed_precondition";case 429:return"resource_exhausted";default:return"invalid_argument"}if(e>=500&&e<600)switch(e){case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline_exceeded";default:return"internal_error"}return"unknown_error"}n.d(t,{N8:()=>i}),function(e){e.Ok="ok";e.DeadlineExceeded="deadline_exceeded";e.Unauthenticated="unauthenticated";e.PermissionDenied="permission_denied";e.NotFound="not_found";e.ResourceExhausted="resource_exhausted";e.InvalidArgument="invalid_argument";e.Unimplemented="unimplemented";e.Unavailable="unavailable";e.InternalError="internal_error";e.UnknownError="unknown_error";e.Cancelled="cancelled";e.AlreadyExists="already_exists";e.FailedPrecondition="failed_precondition";e.Aborted="aborted";e.OutOfRange="out_of_range";e.DataLoss="data_loss"}(r||(r={}));function i(e,t){e.setTag("http.status_code",String(t)),e.setData("http.response.status_code",t);const n=o(t);"unknown_error"!==n&&e.setStatus(n)}},92634:(e,t,n)=>{"use strict";n.d(t,{Bk:()=>m,Lb:()=>v,Uk:()=>p,Lk:()=>d});var r=n(70460),o=n(83750),i=n(96114),a=n(82277),s=n(80982),l=n(32823);function c(e,t,n=(()=>{})){let r;try{r=e()}catch(o){throw t(o),n(),o}return function(e,t,n){if((0,l.Qg)(e))return e.then((e=>(n(),e)),(e=>{throw t(e),n(),e}));return n(),e}(r,t,n)}var u=n(62592);function d(e,t){const n=g(e);return(0,o.fx)((()=>(0,s.v4)(e.scope,(r=>{const a=(0,o.BF)(),s=r.getSpan(),l=e.onlyIfParent&&!s?void 0:h(a,{parentSpan:s,spanContext:n,forceTransaction:e.forceTransaction,scope:r});return c((()=>t(l)),(()=>{if(l){const{status:e}=(0,i.et)(l);e&&"ok"!==e||l.setStatus("internal_error")}}),(()=>l&&l.end()))}))))}function p(e){if(!(0,u.w)())return;const t=g(e),n=(0,o.BF)(),r=e.scope?e.scope.getSpan():m();if(e.onlyIfParent&&!r)return;const i=(e.scope||(0,s.o5)()).clone();return h(n,{parentSpan:r,spanContext:t,forceTransaction:e.forceTransaction,scope:i})}function m(){return(0,s.o5)().getSpan()}function h(e,{parentSpan:t,spanContext:n,forceTransaction:s,scope:l}){if(!(0,u.w)())return;const c=(0,o.rm)();let d;if(t&&!s)d=t.startChild(n);else if(t){const r=(0,a.k)(t),{traceId:o,spanId:s}=t.spanContext(),l=(0,i.pK)(t);d=e.startTransaction({traceId:o,parentSpanId:s,parentSampled:l,...n,metadata:{dynamicSamplingContext:r,...n.metadata}})}else{const{traceId:t,dsc:r,parentSpanId:o,sampled:i}={...c.getPropagationContext(),...l.getPropagationContext()};d=e.startTransaction({traceId:t,parentSpanId:o,parentSampled:i,...n,metadata:{dynamicSamplingContext:r,...n.metadata}})}return l.setSpan(d),function(e,t,n){e&&((0,r.my)(e,_,n),(0,r.my)(e,f,t))}(d,l,c),d}function g(e){if(e.startTime){const t={...e};return t.startTimestamp=(0,i.cI)(e.startTime),delete t.startTime,t}return e}const f="_sentryScope",_="_sentryIsolationScope";function v(e){return{scope:e[f],isolationScope:e[_]}}},28788:(e,t,n)=>{"use strict";n.d(t,{Rg:()=>c,e2:()=>l});var r=n(70460),o=n(46591),i=n(82277),a=n(61455),s=n(96114);function l(e,t){const{fingerprint:n,span:l,breadcrumbs:c,sdkProcessingMetadata:u}=t;!function(e,t){const{extra:n,tags:o,user:i,contexts:a,level:s,transactionName:l}=t,c=(0,r.Ce)(n);c&&Object.keys(c).length&&(e.extra={...c,...e.extra});const u=(0,r.Ce)(o);u&&Object.keys(u).length&&(e.tags={...u,...e.tags});const d=(0,r.Ce)(i);d&&Object.keys(d).length&&(e.user={...d,...e.user});const p=(0,r.Ce)(a);p&&Object.keys(p).length&&(e.contexts={...p,...e.contexts});s&&(e.level=s);l&&(e.transaction=l)}(e,t),l&&function(e,t){e.contexts={trace:(0,s.kX)(t),...e.contexts};const n=(0,a.z)(t);if(n){e.sdkProcessingMetadata={dynamicSamplingContext:(0,i.k)(t),...e.sdkProcessingMetadata};const r=(0,s.et)(n).description;r&&(e.tags={transaction:r,...e.tags})}}(e,l),function(e,t){e.fingerprint=e.fingerprint?(0,o.k9)(e.fingerprint):[],t&&(e.fingerprint=e.fingerprint.concat(t));e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint}(e,n),function(e,t){const n=[...e.breadcrumbs||[],...t];e.breadcrumbs=n.length?n:void 0}(e,c),function(e,t){e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...t}}(e,u)}function c(e,t){const{extra:n,tags:r,user:o,contexts:i,level:a,sdkProcessingMetadata:s,breadcrumbs:l,fingerprint:c,eventProcessors:d,attachments:p,propagationContext:m,transactionName:h,span:g}=t;u(e,"extra",n),u(e,"tags",r),u(e,"user",o),u(e,"contexts",i),u(e,"sdkProcessingMetadata",s),a&&(e.level=a),h&&(e.transactionName=h),g&&(e.span=g),l.length&&(e.breadcrumbs=[...e.breadcrumbs,...l]),c.length&&(e.fingerprint=[...e.fingerprint,...c]),d.length&&(e.eventProcessors=[...e.eventProcessors,...d]),p.length&&(e.attachments=[...e.attachments,...p]),e.propagationContext={...e.propagationContext,...m}}function u(e,t,n){if(n&&Object.keys(n).length){e[t]={...e[t]};for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[t][r]=n[r])}}},61455:(e,t,n)=>{"use strict";function r(e){return e.transaction}n.d(t,{z:()=>r})},62592:(e,t,n)=>{"use strict";n.d(t,{w:()=>o});var r=n(80982);function o(e){if("boolean"===typeof __SENTRY_TRACING__&&!__SENTRY_TRACING__)return!1;const t=(0,r.KU)(),n=e||t&&t.getOptions();return!!n&&(n.enableTracing||"tracesSampleRate"in n||"tracesSampler"in n)}},23294:(e,t,n)=>{"use strict";n.d(t,{li:()=>g,mG:()=>m});var r=n(46591),o=n(22234),i=n(81114),a=n(66272),s=n(20010),l=n(39164),c=n(62252),u=n(53765),d=n(28788),p=n(96114);function m(e,t,n,m,g,f){const{normalizeDepth:_=3,normalizeMaxBreadth:v=1e3}=e,y={...t,event_id:t.event_id||n.event_id||(0,r.eJ)(),timestamp:t.timestamp||(0,o.lu)()},b=n.integrations||e.integrations.map((e=>e.name));!function(e,t){const{environment:n,release:r,dist:o,maxValueLength:a=250}=t;"environment"in e||(e.environment="environment"in t?n:l.U);void 0===e.release&&void 0!==r&&(e.release=r);void 0===e.dist&&void 0!==o&&(e.dist=o);e.message&&(e.message=(0,i.xv)(e.message,a));const s=e.exception&&e.exception.values&&e.exception.values[0];s&&s.value&&(s.value=(0,i.xv)(s.value,a));const c=e.request;c&&c.url&&(c.url=(0,i.xv)(c.url,a))}(y,e),function(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}(y,b),void 0===t.type&&function(e,t){const n=a.OW._sentryDebugIds;if(!n)return;let r;const o=h.get(t);o?r=o:(r=new Map,h.set(t,r));const i=Object.keys(n).reduce(((e,o)=>{let i;const a=r.get(o);a?i=a:(i=t(o),r.set(o,i));for(let t=i.length-1;t>=0;t--){const r=i[t];if(r.filename){e[r.filename]=n[o];break}}return e}),{});try{e.exception.values.forEach((e=>{e.stacktrace.frames.forEach((e=>{e.filename&&(e.debug_id=i[e.filename])}))}))}catch(s){}}(y,e.stackParser);const S=function(e,t){if(!t)return e;const n=e?e.clone():new u.HG;return n.update(t),n}(m,n.captureContext);n.mechanism&&(0,r.M6)(y,n.mechanism);const E=g&&g.getEventProcessors?g.getEventProcessors():[],C=(0,u.m6)().getScopeData();if(f){const e=f.getScopeData();(0,d.Rg)(C,e)}if(S){const e=S.getScopeData();(0,d.Rg)(C,e)}const T=[...n.attachments||[],...C.attachments];T.length&&(n.attachments=T),(0,d.e2)(y,C);const w=[...E,...(0,c.lG)(),...C.eventProcessors];return(0,c.jB)(w,y,n).then((e=>(e&&function(e){const t={};try{e.exception.values.forEach((e=>{e.stacktrace.frames.forEach((e=>{e.debug_id&&(e.abs_path?t[e.abs_path]=e.debug_id:e.filename&&(t[e.filename]=e.debug_id),delete e.debug_id)}))}))}catch(r){}if(0===Object.keys(t).length)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];const n=e.debug_meta.images;Object.keys(t).forEach((e=>{n.push({type:"sourcemap",code_file:e,debug_id:t[e]})}))}(e),"number"===typeof _&&_>0?function(e,t,n){if(!e)return null;const r={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map((e=>({...e,...e.data&&{data:(0,s.S8)(e.data,t,n)}})))},...e.user&&{user:(0,s.S8)(e.user,t,n)},...e.contexts&&{contexts:(0,s.S8)(e.contexts,t,n)},...e.extra&&{extra:(0,s.S8)(e.extra,t,n)}};e.contexts&&e.contexts.trace&&r.contexts&&(r.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(r.contexts.trace.data=(0,s.S8)(e.contexts.trace.data,t,n)));e.spans&&(r.spans=e.spans.map((e=>{const r=(0,p.et)(e).data;return r&&(e.data=(0,s.S8)(r,t,n)),e})));return r}(e,_,v):e)))}const h=new WeakMap;function g(e){if(e)return function(e){return e instanceof u.HG||"function"===typeof e}(e)||function(e){return Object.keys(e).some((e=>f.includes(e)))}(e)?{captureContext:e}:e}const f=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"]},96114:(e,t,n)=>{"use strict";n.d(t,{CC:()=>a,Qh:()=>c,aO:()=>s,cI:()=>u,et:()=>p,kX:()=>l,pK:()=>m});var r=n(70460),o=n(88701),i=n(22234);const a=0,s=1;function l(e){const{spanId:t,traceId:n}=e.spanContext(),{data:o,op:i,parent_span_id:a,status:s,tags:l,origin:c}=p(e);return(0,r.Ce)({data:o,op:i,parent_span_id:a,span_id:t,status:s,tags:l,trace_id:n,origin:c})}function c(e){const{traceId:t,spanId:n}=e.spanContext(),r=m(e);return(0,o.TC)(t,n,r)}function u(e){return"number"===typeof e?d(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?d(e.getTime()):(0,i.zf)()}function d(e){return e>9999999999?e/1e3:e}function p(e){return function(e){return"function"===typeof e.getSpanJSON}(e)?e.getSpanJSON():"function"===typeof e.toJSON?e.toJSON():{}}function m(e){const{traceFlags:t}=e.spanContext();return Boolean(t&s)}},26045:(e,t,n)=>{"use strict";n.d(t,{M:()=>r});const r="7.119.1"},18059:(e,t,n)=>{"use strict";n.d(t,{T:()=>r});const r="undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__},5910:(e,t,n)=>{"use strict";n.d(t,{sn:()=>s});var r=n(30399),o=n(4259),i=n(18059);const a="Dedupe",s=(0,r._C)((()=>{let e;return{name:a,setupOnce(){},processEvent(t){if(t.type)return t;try{if(function(e,t){if(!t)return!1;if(function(e,t){const n=e.message,r=t.message;if(!n&&!r)return!1;if(n&&!r||!n&&r)return!1;if(n!==r)return!1;if(!c(e,t))return!1;if(!l(e,t))return!1;return!0}(e,t))return!0;if(function(e,t){const n=u(t),r=u(e);if(!n||!r)return!1;if(n.type!==r.type||n.value!==r.value)return!1;if(!c(e,t))return!1;if(!l(e,t))return!1;return!0}(e,t))return!0;return!1}(t,e))return i.T&&o.vF.warn("Event dropped due to being a duplicate of previously captured event."),null}catch(n){}return e=t}}}));(0,r.F)(a,s);function l(e,t){let n=d(e),r=d(t);if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;if(r.length!==n.length)return!1;for(let o=0;o<r.length;o++){const e=r[o],t=n[o];if(e.filename!==t.filename||e.lineno!==t.lineno||e.colno!==t.colno||e.function!==t.function)return!1}return!0}function c(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;try{return!(n.join("")!==r.join(""))}catch(o){return!1}}function u(e){return e.exception&&e.exception.values&&e.exception.values[0]}function d(e){const t=e.exception;if(t)try{return t.values[0].stacktrace.frames}catch(n){return}}},15101:(e,t,n)=>{"use strict";n.d(t,{De:()=>d,hF:()=>a,yD:()=>u});var r=n(82505),o=n(32823),i=n(4259);const a="baggage",s="sentry-",l=/^sentry-/,c=8192;function u(e){if(!(0,o.Kg)(e)&&!Array.isArray(e))return;let t={};if(Array.isArray(e))t=e.reduce(((e,t)=>{const n=p(t);for(const r of Object.keys(n))e[r]=n[r];return e}),{});else{if(!e)return;t=p(e)}const n=Object.entries(t).reduce(((e,[t,n])=>{if(t.match(l)){e[t.slice(s.length)]=n}return e}),{});return Object.keys(n).length>0?n:void 0}function d(e){if(!e)return;return function(e){if(0===Object.keys(e).length)return;return Object.entries(e).reduce(((e,[t,n],o)=>{const a=`${encodeURIComponent(t)}=${encodeURIComponent(n)}`,s=0===o?a:`${e},${a}`;return s.length>c?(r.T&&i.vF.warn(`Not adding key: ${t} with val: ${n} to baggage header due to exceeding baggage size limits.`),e):s}),"")}(Object.entries(e).reduce(((e,[t,n])=>(n&&(e[`${s}${t}`]=n),e)),{}))}function p(e){return e.split(",").map((e=>e.split("=").map((e=>decodeURIComponent(e.trim()))))).reduce(((e,[t,n])=>(e[t]=n,e)),{})}},85287:(e,t,n)=>{"use strict";n.d(t,{$N:()=>l,Hd:()=>a,NX:()=>c,xE:()=>u});var r=n(32823);const o=(0,n(66272).VZ)(),i=80;function a(e,t={}){if(!e)return"<unknown>";try{let n=e;const r=5,o=[];let a=0,l=0;const c=" > ",u=c.length;let d;const p=Array.isArray(t)?t:t.keyAttrs,m=!Array.isArray(t)&&t.maxStringLength||i;for(;n&&a++<r&&(d=s(n,p),!("html"===d||a>1&&l+o.length*u+d.length>=m));)o.push(d),l+=d.length,n=n.parentNode;return o.reverse().join(c)}catch(n){return"<unknown>"}}function s(e,t){const n=e,i=[];let a,s,l,c,u;if(!n||!n.tagName)return"";if(o.HTMLElement&&n instanceof HTMLElement&&n.dataset&&n.dataset.sentryComponent)return n.dataset.sentryComponent;i.push(n.tagName.toLowerCase());const d=t&&t.length?t.filter((e=>n.getAttribute(e))).map((e=>[e,n.getAttribute(e)])):null;if(d&&d.length)d.forEach((e=>{i.push(`[${e[0]}="${e[1]}"]`)}));else if(n.id&&i.push(`#${n.id}`),a=n.className,a&&(0,r.Kg)(a))for(s=a.split(/\s+/),u=0;u<s.length;u++)i.push(`.${s[u]}`);const p=["aria-label","type","name","title","alt"];for(u=0;u<p.length;u++)l=p[u],c=n.getAttribute(l),c&&i.push(`[${l}="${c}"]`);return i.join("")}function l(){try{return o.document.location.href}catch(e){return""}}function c(e){return o.document&&o.document.querySelector?o.document.querySelector(e):null}function u(e){if(!o.HTMLElement)return null;let t=e;for(let n=0;n<5;n++){if(!t)return null;if(t instanceof HTMLElement&&t.dataset.sentryComponent)return t.dataset.sentryComponent;t=t.parentNode}return null}},82505:(e,t,n)=>{"use strict";n.d(t,{T:()=>r});const r="undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__},22298:(e,t,n)=>{"use strict";n.d(t,{AD:()=>l,SB:()=>a});var r=n(82505),o=n(4259);const i=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function a(e,t=!1){const{host:n,path:r,pass:o,port:i,projectId:a,protocol:s,publicKey:l}=e;return`${s}://${l}${t&&o?`:${o}`:""}@${n}${i?`:${i}`:""}/${r?`${r}/`:r}${a}`}function s(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function l(e){const t="string"===typeof e?function(e){const t=i.exec(e);if(!t)return void(0,o.pq)((()=>{console.error(`Invalid Sentry Dsn: ${e}`)}));const[n,r,a="",l,c="",u]=t.slice(1);let d="",p=u;const m=p.split("/");if(m.length>1&&(d=m.slice(0,-1).join("/"),p=m.pop()),p){const e=p.match(/^\d+/);e&&(p=e[0])}return s({host:l,pass:a,path:d,projectId:p,port:c,protocol:n,publicKey:r})}(e):s(e);if(t&&function(e){if(!r.T)return!0;const{port:t,projectId:n,protocol:i}=e;return!["protocol","publicKey","host","projectId"].find((t=>!e[t]&&(o.vF.error(`Invalid Sentry Dsn: ${t} missing`),!0)))&&(n.match(/^\d+$/)?function(e){return"http"===e||"https"===e}(i)?!t||!isNaN(parseInt(t,10))||(o.vF.error(`Invalid Sentry Dsn: Invalid port ${t}`),!1):(o.vF.error(`Invalid Sentry Dsn: Invalid protocol ${i}`),!1):(o.vF.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),!1))}(t))return t}},83179:(e,t,n)=>{"use strict";n.d(t,{Cj:()=>h,W3:()=>s,bN:()=>u,bm:()=>d,h4:()=>a,n2:()=>g,yH:()=>l,zk:()=>m});var r=n(22298),o=n(20010),i=n(70460);function a(e,t=[]){return[e,t]}function s(e,t){const[n,r]=e;return[n,[...r,t]]}function l(e,t){const n=e[1];for(const r of n){if(t(r,r[0].type))return!0}return!1}function c(e,t){return(t||new TextEncoder).encode(e)}function u(e,t){const[n,r]=e;let i=JSON.stringify(n);function a(e){"string"===typeof i?i="string"===typeof e?i+e:[c(i,t),e]:i.push("string"===typeof e?c(e,t):e)}for(const l of r){const[e,t]=l;if(a(`\n${JSON.stringify(e)}\n`),"string"===typeof t||t instanceof Uint8Array)a(t);else{let e;try{e=JSON.stringify(t)}catch(s){e=JSON.stringify((0,o.S8)(t))}a(e)}}return"string"===typeof i?i:function(e){const t=e.reduce(((e,t)=>e+t.length),0),n=new Uint8Array(t);let r=0;for(const o of e)n.set(o,r),r+=o.length;return n}(i)}function d(e,t){const n="string"===typeof e.data?c(e.data,t):e.data;return[(0,i.Ce)({type:"attachment",length:n.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),n]}const p={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket"};function m(e){return p[e]}function h(e){if(!e||!e.sdk)return;const{name:t,version:n}=e.sdk;return{name:t,version:n}}function g(e,t,n,o){const a=e.sdkProcessingMetadata&&e.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:e.event_id,sent_at:(new Date).toISOString(),...t&&{sdk:t},...!!n&&o&&{dsn:(0,r.SB)(o)},...a&&{trace:(0,i.Ce)({...a})}}}},38833:(e,t,n)=>{"use strict";n.d(t,{AS:()=>c,aj:()=>u,s5:()=>l});var r=n(82505),o=n(4259),i=n(45682);const a={},s={};function l(e,t){a[e]=a[e]||[],a[e].push(t)}function c(e,t){s[e]||(t(),s[e]=!0)}function u(e,t){const n=e&&a[e];if(n)for(const a of n)try{a(t)}catch(s){r.T&&o.vF.error(`Error while triggering instrumentation handler.\nType: ${e}\nName: ${(0,i.qQ)(a)}\nError:`,s)}}},83393:(e,t,n)=>{"use strict";n.d(t,{u:()=>s});var r=n(70460),o=n(70395),i=n(66272),a=n(38833);function s(e){const t="fetch";(0,a.s5)(t,e),(0,a.AS)(t,l)}function l(){(0,o.m7)()&&(0,r.GS)(i.OW,"fetch",(function(e){return function(...t){const{method:n,url:r}=function(e){if(0===e.length)return{method:"GET",url:""};if(2===e.length){const[t,n]=e;return{url:u(t),method:c(n,"method")?String(n.method).toUpperCase():"GET"}}const t=e[0];return{url:u(t),method:c(t,"method")?String(t.method).toUpperCase():"GET"}}(t),o={args:t,fetchData:{method:n,url:r},startTimestamp:Date.now()};return(0,a.aj)("fetch",{...o}),e.apply(i.OW,t).then((e=>{const t={...o,endTimestamp:Date.now(),response:e};return(0,a.aj)("fetch",t),e}),(e=>{const t={...o,endTimestamp:Date.now(),error:e};throw(0,a.aj)("fetch",t),e}))}}))}function c(e,t){return!!e&&"object"===typeof e&&!!e[t]}function u(e){return"string"===typeof e?e:e?c(e,"url")?e.url:e.toString?e.toString():"":""}},91962:(e,t,n)=>{"use strict";n.d(t,{L:()=>a});var r=n(66272),o=n(38833);let i=null;function a(e){const t="error";(0,o.s5)(t,e),(0,o.AS)(t,s)}function s(){i=r.OW.onerror,r.OW.onerror=function(e,t,n,r,a){const s={column:r,error:a,line:n,msg:e,url:t};return(0,o.aj)("error",s),!(!i||i.__SENTRY_LOADER__)&&i.apply(this,arguments)},r.OW.onerror.__SENTRY_INSTRUMENTED__=!0}},55180:(e,t,n)=>{"use strict";n.d(t,{r:()=>a});var r=n(66272),o=n(38833);let i=null;function a(e){const t="unhandledrejection";(0,o.s5)(t,e),(0,o.AS)(t,s)}function s(){i=r.OW.onunhandledrejection,r.OW.onunhandledrejection=function(e){const t=e;return(0,o.aj)("unhandledrejection",t),!(i&&!i.__SENTRY_LOADER__)||i.apply(this,arguments)},r.OW.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}},13181:(e,t,n)=>{"use strict";n.d(t,{_:()=>c});var r=n(70460),o=n(66272);const i=(0,o.VZ)();var a=n(38833);const s=o.OW;let l;function c(e){const t="history";(0,a.s5)(t,e),(0,a.AS)(t,u)}function u(){if(!function(){const e=i.chrome,t=e&&e.app&&e.app.runtime,n="history"in i&&!!i.history.pushState&&!!i.history.replaceState;return!t&&n}())return;const e=s.onpopstate;function t(e){return function(...t){const n=t.length>2?t[2]:void 0;if(n){const e=l,t=String(n);l=t;const r={from:e,to:t};(0,a.aj)("history",r)}return e.apply(this,t)}}s.onpopstate=function(...t){const n=s.location.href,r=l;l=n;const o={from:r,to:n};if((0,a.aj)("history",o),e)try{return e.apply(this,t)}catch(i){}},(0,r.GS)(s.history,"pushState",t),(0,r.GS)(s.history,"replaceState",t)}},37383:(e,t,n)=>{"use strict";n.d(t,{Er:()=>l,Mn:()=>c});var r=n(32823),o=n(70460),i=n(66272),a=n(38833);const s=i.OW,l="__sentry_xhr_v3__";function c(e){(0,a.s5)("xhr",e),(0,a.AS)("xhr",u)}function u(){if(!s.XMLHttpRequest)return;const e=XMLHttpRequest.prototype;(0,o.GS)(e,"open",(function(e){return function(...t){const n=Date.now(),i=(0,r.Kg)(t[0])?t[0].toUpperCase():void 0,s=function(e){if((0,r.Kg)(e))return e;try{return e.toString()}catch(t){}return}(t[1]);if(!i||!s)return e.apply(this,t);this[l]={method:i,url:s,request_headers:{}},"POST"===i&&s.match(/sentry_key/)&&(this.__sentry_own_request__=!0);const c=()=>{const e=this[l];if(e&&4===this.readyState){try{e.status_code=this.status}catch(t){}const r={args:[i,s],endTimestamp:Date.now(),startTimestamp:n,xhr:this};(0,a.aj)("xhr",r)}};return"onreadystatechange"in this&&"function"===typeof this.onreadystatechange?(0,o.GS)(this,"onreadystatechange",(function(e){return function(...t){return c(),e.apply(this,t)}})):this.addEventListener("readystatechange",c),(0,o.GS)(this,"setRequestHeader",(function(e){return function(...t){const[n,o]=t,i=this[l];return i&&(0,r.Kg)(n)&&(0,r.Kg)(o)&&(i.request_headers[n.toLowerCase()]=o),e.apply(this,t)}})),e.apply(this,t)}})),(0,o.GS)(e,"send",(function(e){return function(...t){const n=this[l];if(!n)return e.apply(this,t);void 0!==t[0]&&(n.body=t[0]);const r={args:[n.method,n.url],startTimestamp:Date.now(),xhr:this};return(0,a.aj)("xhr",r),e.apply(this,t)}}))}},32823:(e,t,n)=>{"use strict";n.d(t,{BD:()=>s,Kg:()=>c,L2:()=>b,NF:()=>u,Qd:()=>p,Qg:()=>f,T2:()=>a,W6:()=>l,bJ:()=>o,gd:()=>g,mE:()=>_,sO:()=>d,tH:()=>y,vq:()=>h,xH:()=>m,yr:()=>v});const r=Object.prototype.toString;function o(e){switch(r.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return y(e,Error)}}function i(e,t){return r.call(e)===`[object ${t}]`}function a(e){return i(e,"ErrorEvent")}function s(e){return i(e,"DOMError")}function l(e){return i(e,"DOMException")}function c(e){return i(e,"String")}function u(e){return"object"===typeof e&&null!==e&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function d(e){return null===e||u(e)||"object"!==typeof e&&"function"!==typeof e}function p(e){return i(e,"Object")}function m(e){return"undefined"!==typeof Event&&y(e,Event)}function h(e){return"undefined"!==typeof Element&&y(e,Element)}function g(e){return i(e,"RegExp")}function f(e){return Boolean(e&&e.then&&"function"===typeof e.then)}function _(e){return p(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function v(e){return"number"===typeof e&&e!==e}function y(e,t){try{return e instanceof t}catch(n){return!1}}function b(e){return!("object"!==typeof e||null===e||!e.__isVue&&!e._isVue)}},4259:(e,t,n)=>{"use strict";n.d(t,{Ow:()=>i,Z9:()=>a,pq:()=>s,vF:()=>l});var r=n(82505),o=n(66272);const i=["debug","info","warn","error","log","assert","trace"],a={};function s(e){if(!("console"in o.OW))return e();const t=o.OW.console,n={},r=Object.keys(a);r.forEach((e=>{const r=a[e];n[e]=t[e],t[e]=r}));try{return e()}finally{r.forEach((e=>{t[e]=n[e]}))}}const l=function(){let e=!1;const t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return r.T?i.forEach((n=>{t[n]=(...t)=>{e&&s((()=>{o.OW.console[n](`Sentry Logger [${n}]:`,...t)}))}})):i.forEach((e=>{t[e]=()=>{}})),t}()},46591:(e,t,n)=>{"use strict";n.d(t,{$X:()=>s,GR:()=>u,M6:()=>c,eJ:()=>i,gO:()=>l,k9:()=>d});var r=n(70460),o=n(66272);function i(){const e=o.OW,t=e.crypto||e.msCrypto;let n=()=>16*Math.random();try{if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");t&&t.getRandomValues&&(n=()=>{const e=new Uint8Array(1);return t.getRandomValues(e),e[0]})}catch(r){}return([1e7]+1e3+4e3+8e3+1e11).replace(/[018]/g,(e=>(e^(15&n())>>e/4).toString(16)))}function a(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function s(e){const{message:t,event_id:n}=e;if(t)return t;const r=a(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function l(e,t,n){const r=e.exception=e.exception||{},o=r.values=r.values||[],i=o[0]=o[0]||{};i.value||(i.value=t||""),i.type||(i.type=n||"Error")}function c(e,t){const n=a(e);if(!n)return;const r=n.mechanism;if(n.mechanism={type:"generic",handled:!0,...r,...t},t&&"data"in t){const e={...r&&r.data,...t.data};n.mechanism.data=e}}function u(e){if(e&&e.__sentry_captured__)return!0;try{(0,r.my)(e,"__sentry_captured__",!0)}catch(t){}return!1}function d(e){return Array.isArray(e)?e:[e]}},20010:(e,t,n)=>{"use strict";n.d(t,{S8:()=>a,cd:()=>s});var r=n(32823);var o=n(70460),i=n(45682);function a(e,t=100,n=1/0){try{return l("",e,t,n)}catch(r){return{ERROR:`**non-serializable** (${r})`}}}function s(e,t=3,n=102400){const r=a(e,t);return o=r,function(e){return~-encodeURI(e).split(/%..|./).length}(JSON.stringify(o))>n?s(e,t-1,n):r;var o}function l(e,t,a=1/0,s=1/0,c=function(){const e="function"===typeof WeakSet,t=e?new WeakSet:[];return[function(n){if(e)return!!t.has(n)||(t.add(n),!1);for(let e=0;e<t.length;e++)if(t[e]===n)return!0;return t.push(n),!1},function(n){if(e)t.delete(n);else for(let e=0;e<t.length;e++)if(t[e]===n){t.splice(e,1);break}}]}()){const[u,d]=c;if(null==t||["number","boolean","string"].includes(typeof t)&&!(0,r.yr)(t))return t;const p=function(e,t){try{if("domain"===e&&t&&"object"===typeof t&&t._events)return"[Domain]";if("domainEmitter"===e)return"[DomainEmitter]";if("undefined"!==typeof n.g&&t===n.g)return"[Global]";if(t===window)return"[Window]";if("undefined"!==typeof document&&t===document)return"[Document]";if((0,r.L2)(t))return"[VueViewModel]";if((0,r.mE)(t))return"[SyntheticEvent]";if("number"===typeof t&&t!==t)return"[NaN]";if("function"===typeof t)return`[Function: ${(0,i.qQ)(t)}]`;if("symbol"===typeof t)return`[${String(t)}]`;if("bigint"===typeof t)return`[BigInt: ${String(t)}]`;const o=function(e){const t=Object.getPrototypeOf(e);return t?t.constructor.name:"null prototype"}(t);return/^HTML(\w*)Element$/.test(o)?`[HTMLElement: ${o}]`:`[object ${o}]`}catch(o){return`**non-serializable** (${o})`}}(e,t);if(!p.startsWith("[object "))return p;if(t.__sentry_skip_normalization__)return t;const m="number"===typeof t.__sentry_override_normalization_depth__?t.__sentry_override_normalization_depth__:a;if(0===m)return p.replace("object ","");if(u(t))return"[Circular ~]";const h=t;if(h&&"function"===typeof h.toJSON)try{return l("",h.toJSON(),m-1,s,c)}catch(v){}const g=Array.isArray(t)?[]:{};let f=0;const _=(0,o.W4)(t);for(const n in _){if(!Object.prototype.hasOwnProperty.call(_,n))continue;if(f>=s){g[n]="[MaxProperties ~]";break}const e=_[n];g[n]=l(n,e,m-1,s,c),f++}return d(t),g}},70460:(e,t,n)=>{"use strict";n.d(t,{Ce:()=>_,GS:()=>l,HF:()=>f,W4:()=>m,my:()=>c,pO:()=>u,sp:()=>d,u4:()=>p});var r=n(85287),o=n(82505),i=n(32823),a=n(4259),s=n(81114);function l(e,t,n){if(!(t in e))return;const r=e[t],o=n(r);"function"===typeof o&&u(o,r),e[t]=o}function c(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch(r){o.T&&a.vF.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function u(e,t){try{const n=t.prototype||{};e.prototype=t.prototype=n,c(e,"__sentry_original__",t)}catch(n){}}function d(e){return e.__sentry_original__}function p(e){return Object.keys(e).map((t=>`${encodeURIComponent(t)}=${encodeURIComponent(e[t])}`)).join("&")}function m(e){if((0,i.bJ)(e))return{message:e.message,name:e.name,stack:e.stack,...g(e)};if((0,i.xH)(e)){const t={type:e.type,target:h(e.target),currentTarget:h(e.currentTarget),...g(e)};return"undefined"!==typeof CustomEvent&&(0,i.tH)(e,CustomEvent)&&(t.detail=e.detail),t}return e}function h(e){try{return(0,i.vq)(e)?(0,r.Hd)(e):Object.prototype.toString.call(e)}catch(t){return"<unknown>"}}function g(e){if("object"===typeof e&&null!==e){const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}return{}}function f(e,t=40){const n=Object.keys(m(e));if(n.sort(),!n.length)return"[object has no keys]";if(n[0].length>=t)return(0,s.xv)(n[0],t);for(let r=n.length;r>0;r--){const e=n.slice(0,r).join(", ");if(!(e.length>t))return r===n.length?e:(0,s.xv)(e,t)}return""}function _(e){return v(e,new Map)}function v(e,t){if(function(e){if(!(0,i.Qd)(e))return!1;try{const t=Object.getPrototypeOf(e).constructor.name;return!t||"Object"===t}catch(t){return!0}}(e)){const n=t.get(e);if(void 0!==n)return n;const r={};t.set(e,r);for(const o of Object.keys(e))"undefined"!==typeof e[o]&&(r[o]=v(e[o],t));return r}if(Array.isArray(e)){const n=t.get(e);if(void 0!==n)return n;const r=[];return t.set(e,r),e.forEach((e=>{r.push(v(e,t))})),r}return e}},45682:(e,t,n)=>{"use strict";n.d(t,{gd:()=>a,qQ:()=>c,vk:()=>s});const r=50,o=/\(error: (.*)\)/,i=/captureMessage|captureException/;function a(...e){const t=e.sort(((e,t)=>e[0]-t[0])).map((e=>e[1]));return(e,n=0)=>{const a=[],s=e.split("\n");for(let i=n;i<s.length;i++){const e=s[i];if(e.length>1024)continue;const n=o.test(e)?e.replace(o,"$1"):e;if(!n.match(/\S*Error: /)){for(const e of t){const t=e(n);if(t){a.push(t);break}}if(a.length>=r)break}}return function(e){if(!e.length)return[];const t=Array.from(e);/sentryWrapped/.test(t[t.length-1].function||"")&&t.pop();t.reverse(),i.test(t[t.length-1].function||"")&&(t.pop(),i.test(t[t.length-1].function||"")&&t.pop());return t.slice(0,r).map((e=>({...e,filename:e.filename||t[t.length-1].filename,function:e.function||"?"})))}(a)}}function s(e){return Array.isArray(e)?a(...e):e}const l="<anonymous>";function c(e){try{return e&&"function"===typeof e&&e.name||l}catch(t){return l}}},81114:(e,t,n)=>{"use strict";n.d(t,{Xr:()=>a,gt:()=>i,xv:()=>o});var r=n(32823);function o(e,t=0){return"string"!==typeof e||0===t||e.length<=t?e:`${e.slice(0,t)}...`}function i(e,t){if(!Array.isArray(e))return"";const n=[];for(let i=0;i<e.length;i++){const t=e[i];try{(0,r.L2)(t)?n.push("[VueViewModel]"):n.push(String(t))}catch(o){n.push("[value cannot be serialized]")}}return n.join(t)}function a(e,t=[],n=!1){return t.some((t=>function(e,t,n=!1){return!!(0,r.Kg)(e)&&((0,r.gd)(t)?t.test(e):!!(0,r.Kg)(t)&&(n?e===t:e.includes(t)))}(e,t,n)))}},70395:(e,t,n)=>{"use strict";n.d(t,{ap:()=>s,m7:()=>l,vm:()=>a});var r=n(82505),o=n(4259);const i=(0,n(66272).VZ)();function a(){if(!("fetch"in i))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch(e){return!1}}function s(e){return e&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function l(){if("string"===typeof EdgeRuntime)return!0;if(!a())return!1;if(s(i.fetch))return!0;let e=!1;const t=i.document;if(t&&"function"===typeof t.createElement)try{const n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(e=s(n.contentWindow.fetch)),t.head.removeChild(n)}catch(n){r.T&&o.vF.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return e}},19455:(e,t,n)=>{"use strict";n.d(t,{T2:()=>s,XW:()=>i,xg:()=>a});var r,o=n(32823);function i(e){return new s((t=>{t(e)}))}function a(e){return new s(((t,n)=>{n(e)}))}!function(e){e[e.PENDING=0]="PENDING";e[e.RESOLVED=1]="RESOLVED";e[e.REJECTED=2]="REJECTED"}(r||(r={}));class s{constructor(e){s.prototype.__init.call(this),s.prototype.__init2.call(this),s.prototype.__init3.call(this),s.prototype.__init4.call(this),this._state=r.PENDING,this._handlers=[];try{e(this._resolve,this._reject)}catch(t){this._reject(t)}}then(e,t){return new s(((n,r)=>{this._handlers.push([!1,t=>{if(e)try{n(e(t))}catch(o){r(o)}else n(t)},e=>{if(t)try{n(t(e))}catch(o){r(o)}else r(e)}]),this._executeHandlers()}))}catch(e){return this.then((e=>e),e)}finally(e){return new s(((t,n)=>{let r,o;return this.then((t=>{o=!1,r=t,e&&e()}),(t=>{o=!0,r=t,e&&e()})).then((()=>{o?n(r):t(r)}))}))}__init(){this._resolve=e=>{this._setResult(r.RESOLVED,e)}}__init2(){this._reject=e=>{this._setResult(r.REJECTED,e)}}__init3(){this._setResult=(e,t)=>{this._state===r.PENDING&&((0,o.Qg)(t)?t.then(this._resolve,this._reject):(this._state=e,this._value=t,this._executeHandlers()))}}__init4(){this._executeHandlers=()=>{if(this._state===r.PENDING)return;const e=this._handlers.slice();this._handlers=[],e.forEach((e=>{e[0]||(this._state===r.RESOLVED&&e[1](this._value),this._state===r.REJECTED&&e[2](this._value),e[0]=!0)}))}}}},22234:(e,t,n)=>{"use strict";n.d(t,{k3:()=>l,lu:()=>i,zf:()=>a});var r=n(66272);const o=1e3;function i(){return Date.now()/o}const a=function(){const{performance:e}=r.OW;if(!e||!e.now)return i;const t=Date.now()-e.now(),n=void 0==e.timeOrigin?t:e.timeOrigin;return()=>(n+e.now())/o}();let s;const l=(()=>{const{performance:e}=r.OW;if(!e||!e.now)return void(s="none");const t=36e5,n=e.now(),o=Date.now(),i=e.timeOrigin?Math.abs(e.timeOrigin+n-o):t,a=i<t,l=e.timing&&e.timing.navigationStart,c="number"===typeof l?Math.abs(l+n-o):t;return a||c<t?i<=c?(s="timeOrigin",e.timeOrigin):(s="navigationStart",l):(s="dateNow",o)})()},88701:(e,t,n)=>{"use strict";n.d(t,{TC:()=>l,kM:()=>s});var r=n(15101),o=n(46591);const i=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function a(e){if(!e)return;const t=e.match(i);if(!t)return;let n;return"1"===t[3]?n=!0:"0"===t[3]&&(n=!1),{traceId:t[1],parentSampled:n,parentSpanId:t[2]}}function s(e,t){const n=a(e),i=(0,r.yD)(t),{traceId:s,parentSpanId:l,parentSampled:c}=n||{};return n?{traceId:s||(0,o.eJ)(),parentSpanId:l||(0,o.eJ)().substring(16),spanId:(0,o.eJ)().substring(16),sampled:c,dsc:i||{}}:{traceId:s||(0,o.eJ)(),spanId:(0,o.eJ)().substring(16)}}function l(e=(0,o.eJ)(),t=(0,o.eJ)().substring(16),n){let r="";return void 0!==n&&(r=n?"-1":"-0"),`${e}-${t}${r}`}},73778:(e,t,n)=>{"use strict";function r(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}n.d(t,{Dl:()=>r})},66272:(e,t,n)=>{"use strict";function r(e){return e&&e.Math==Math?e:void 0}n.d(t,{BY:()=>a,OW:()=>o,VZ:()=>i});const o="object"==typeof globalThis&&r(globalThis)||r(window)||"object"==typeof self&&r(self)||"object"==typeof n.g&&r(n.g)||function(){return this}()||{};function i(){return o}function a(e,t,n){const r=n||o,i=r.__SENTRY__=r.__SENTRY__||{};return i[e]||(i[e]=t())}},34175:()=>{window.SENTRY_RELEASE={id:"1.0.2504.1808"}},47283:(e,t,n)=>{"use strict";n.d(t,{Il:()=>k,YC:()=>V,Mc:()=>m,wd:()=>h,gZ:()=>F,Nq:()=>d,hA:()=>uc,P3:()=>_c,R3:()=>X,Yo:()=>gc,zW:()=>I,D3:()=>N,xH:()=>_l,v5:()=>C,sX:()=>T,zd:()=>Z,vU:()=>O,rV:()=>M,ZX:()=>L,h9:()=>S,dK:()=>b,KL:()=>y,xT:()=>a,zG:()=>Me,Sq:()=>fe,w3:()=>Wl,Y6:()=>q,Pe:()=>Oe,vQ:()=>Ne,qH:()=>ye,ct:()=>ge,vg:()=>Ce,UG:()=>zl,Rs:()=>Re,EX:()=>we,u0:()=>Ie,dF:()=>ve,iJ:()=>pe,qo:()=>he,dq:()=>me,yI:()=>de,TS:()=>Se,ug:()=>le,$z:()=>ce,h2:()=>se,Kj:()=>ue,bX:()=>be,Nu:()=>s,yn:()=>_e,QB:()=>Kl,Mo:()=>Vl,jb:()=>U,Rl:()=>Le,S1:()=>De,go:()=>Fe,Xp:()=>ee,oA:()=>ie});n(10865);var r=n(48227);n(31759);function o(){return new Date(Date.now()+7776e6)}const i=e=>!isNaN(e.valueOf()),a=e=>`XBL3.0 x=${e.userHash||0};${e.token}`,s=async(e,t)=>{const n=await e.acquireTokenSilently(t);if(n)return a(n)},l=(e,t)=>{if(!e.expires)return!1;const n=(e=>{if(!e.expires)return;const t="string"===typeof e.expires?new Date(e.expires):e.expires;return i(t)?t:void 0})(e);return!n||!!i(n)&&n<t},c=e=>l(e,new Date),u=e=>void 0!==e.message&&"string"===typeof e.message;class d{constructor(e,t){this._logger=new p(e);const n=new r.P6(null===t||void 0===t?void 0:t.userAgent);n.isSafari||n.isSupportedTVBrowser?this.isSingleSignOnSupported=!1:this.isSingleSignOnSupported=!0}setupLogger(e){this._logger=new p(e)}async acquireTokenSilently(e){const t=this.getCachedTokensInternal()[e];if(t){if(!c(t))return t;this._logger.info(`Token expired for relying party '${e}'. Attempting to get fresh token.`)}else null===t?this._logger.warn(`Unable to get token for relying party: '${e}'`):this._logger.info(`Cached token doesn't exist for relying party: '${e}'. Attempting to get token.`);const n=await this.acquireTokenAsyncInternal(e);return n&&!c(n)?n:void this._logger.info(`Unable to get token for relying party: '${e}' after calling acquireTokenAsyncInternal. Token is expired or undefined.`)}}class p{constructor(e){this._logger=e}verbose(e){this._logger&&this._logger.verbose(e)}info(e){this._logger&&this._logger.info(e)}warn(e){this._logger&&this._logger.warn(e)}error(e,t){this._logger&&this._logger.error(e,t)}}var m,h;!function(e){e.InGamePurchase="184",e.CrossNetworkPlay="185",e.PlayTournament="186",e.CreateTourname="187",e.Clubs="188",e.Sessions="189",e.Broadcast="190",e.PremiumMusicContent="191",e.SkypeAdvertisement="192",e.DownloadFreeContent="193",e.FitnessSubscriptionContent="194",e.FitnessUpload="195",e.ManageProfilePrivacySetting="196",e.GameDVR="198",e.ShareKinectContent="199",e.MarkPeopleAsKnown="200",e.LinkXboxGraphToFacebook="201",e.XboxMusic="202",e.MultiplayerParties="203",e.LiveTV="204",e.CommunicationVoiceIngame="205",e.CommunicationSkype="206",e.CloudGamingManageSession="207",e.CloudGamingJoinSession="208",e.CloudSavedGames="209",e.ShareContent="211",e.PremiumContent="214",e.InternetExplorer="217",e.SocialNetworkSharing="220",e.PIIAccess="221",e.PremiumVideo="224",e.BillingSwitching="227",e.PassportSwitching="228",e.VideoCommunications="235",e.PurchaseContent="245",e.UserCreatedContent="247",e.Communication="252",e.Multiplayer="254",e.AddFriend="255"}(m||(m={})),function(e){e.Unknown="Unknown",e.InteractiveSignIn="InteractiveSignIn",e.DeviceCodeSignIn="DeviceCodeSignIn",e.SilentSignIn="SilentSignIn",e.SignInUnavailable="SignInUnavailable"}(h||(h={}));const g="xbl_pa",f="xbl_sb",_="msa_ra";var v;!function(e){e.AadUserAuthorization="x-ms-authorization-aaduser",e.MuidAuthorization="x-authorization-muid",e.S2sAuthHeader="X-S2S-Authorization",e.XMSAuthorizationXBL="x-ms-authorization-xbl"}(v||(v={}));const y="1f907974-e22b-4810-a9de-d9647380c97e",b="https://login.microsoftonline.com/consumers",S="xboxlive.signin",E="sandboxId",C="https://consentservice.microsoft.com/checkin/UnifiedUserConsent.Read",T="https://consentservice.microsoft.com/web/UnifiedUserConsent.ReadWrite",w="cobrandid";var I;!function(e){e.XboxLive="http://xboxlive.com",e.MDollar="http://mp.microsoft.com/",e.XCloud="http://gssv.xboxlive.com/",e.XCloudWebPortal="rp://gswp.xboxlive.com/",e.SISU="http://sisu.xboxlive.com/",e.Greenbelt="rp://greenbelt.xboxlive.com/",e.Playfab="http://playfab.xboxlive.com/"}(I||(I={}));const P="User",A=432e5;class k{constructor(e,t){this.config=e,this._traceLogger=t}async authenticate(e,t){const n=e.clone();return n.headers.set(v.AadUserAuthorization,`Bearer ${this.config.aadToken}`),n}}n(97107);class x extends Error{constructor(e){super(`Failed to authenticate for mandatory authenticated request. TargetUri: ${e}`),this.httpStatusCode=403,Object.setPrototypeOf(this,x.prototype)}}var R=n(90692);class O{constructor(e,t,n){this._authenticationProvider=t,this._traceLogger=n,this._relyingParty=e.relyingParty,this._isMandatory=e.isMandatory,this._anonymousTokenAuthenticator=e.anonymousTokenAuthenticator,this._aadAuthenticator=e.aadAuthenticator,this._xTokenOverride=e.xTokenOverride}async authenticate(e,t){let n=this._xTokenOverride;if(!n)try{n=await this._authenticationProvider.acquireTokenSilently(this._relyingParty)}catch(o){u(o)&&this._traceLogger.warn(`Error while acquiring xToken for request: ${e.url}. Error: ${o.message}`)}let r=e;if(n)r=this._authenticateRequest(e,n);else if(this._isMandatory)throw new x(e.url);return this._anonymousTokenAuthenticator&&(r=await this._anonymousTokenAuthenticator.authenticate(r,t)),this._aadAuthenticator&&(r=await this._aadAuthenticator.authenticate(r,t)),r}_authenticateRequest(e,t){const n=e.clone();return n.headers.set(R.HttpHeader.Authorization,a(t)),n}}class N{constructor(e,t,n){this.cartMuid=n,this._xTokenAuthenticator=new O({isMandatory:!1,relyingParty:I.MDollar},e,t)}async authenticate(e,t){if(!this.cartMuid)throw new x(e.url);const n=e.clone();return n.headers.set(v.MuidAuthorization,this.cartMuid),this._xTokenAuthenticator.authenticate(n)}}class M{constructor(e){this._config=e}async authenticate(e,t){var n;return e.headers&&(null===(n=this._config)||void 0===n?void 0:n.anonToken)&&e.headers.set(v.S2sAuthHeader,`Bearer ${this._config.anonToken}`),e}}class L{constructor(e,t,n){this._authenticationProvider=t,this._traceLogger=n,this._isMandatory=e.isMandatory,this._anonymousTokenAuthenticator=e.anonymousTokenAuthenticator,this._aadAuthenticator=e.aadAuthenticator,this._xTokenOverride=e.xTokenOverride,this._addXblAuthHeader=e.addXblAuthHeader}async authenticate(e,t){let n,r=this._xTokenOverride;if(!r)try{r=await this._authenticationProvider.acquireTokenSilently(I.MDollar)}catch(i){u(i)&&this._traceLogger.warn(`Error while acquiring xToken for request: ${e.url}. Error: ${i.message}`)}if(this._addXblAuthHeader)try{n=await this._authenticationProvider.acquireTokenSilently(I.XboxLive)}catch(i){u(i)&&this._traceLogger.warn(`Error while acquiring Xbox Live token for request: ${e.url}. Error: ${i.message}`)}let o=e;if(r)o=this._authenticateRequest(e,r,n);else if(this._isMandatory)throw new x(e.url);return this._anonymousTokenAuthenticator&&(o=await this._anonymousTokenAuthenticator.authenticate(o,t)),this._aadAuthenticator&&(o=await this._aadAuthenticator.authenticate(o,t)),o}_authenticateRequest(e,t,n){const r=e.clone();return r.headers.set(R.HttpHeader.Authorization,a(t)),this._addXblAuthHeader&&n&&r.headers.set(v.XMSAuthorizationXBL,a(n)),r}}var D=n(14041);const F=(0,D.createContext)({}),U=()=>(0,D.useContext)(F);var B=n(37509),H=n(49652);function*G(){return yield(0,H.getContext)(B.hTd.authentication)}function q(){return(0,H.call)(G)}class j extends Event{constructor(e){super(j.type),this.xboxTokenCacheKey=e}}j.type="xboxTokenLCEChanged";class V extends Event{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h.Unknown;super(V.type),this.authStateChange=e}}V.type="activeAuthUserChanged";class z extends Event{constructor(e){super(z.type),this.authUser=e}}z.type="authUserAdded";class X extends Event{constructor(){super(X.type)}}X.type="initialized";var K=n(41506),W=n.n(K),$=(n(47010),n(88262)),Y=n(56630),Q=n(79824);const J="";var Z;!function(e){e.SET_USER_INFO="@user/SET_USER_INFO",e.RESET_USER_INFO="@user/RESET_USER_INFO",e.UPDATE_AAD_USER="@user/UPDATE_AAD_USER ",e.FETCH_AGE_GATING_INFO="@user/UPDATE_AGE_GATING_INFO",e.UPDATE_USER_AGE_GATING_INFO="@user/UPDATE_USER_AGE_GATING_INFO",e.FETCH_AGE_GATING_INFO_ERROR="@user/UPDATE_AGE_GATING_INFO_ERROR",e.FETCH_PRIVACY_CONSENT_UI_DETAILS="@user/FETCH_PRIVACY_CONSENT_UI_DETAILS",e.FETCH_PRIVACY_CONSENT_UI_DETAILS_SUCCESS="@user/FETCH_PRIVACY_CONSENT_UI_DETAILS_SUCCESS",e.FETCH_PRIVACY_CONSENT_UI_DETAILS_ERROR="@user/FETCH_PRIVACY_CONSENT_UI_DETAILS_ERROR",e.FETCH_PRIVACY_CONSENT="@user/FETCH_PRIVACY_CONSENT",e.FETCH_PRIVACY_CONSENT_SUCCESS="@user/FETCH_PRIVACY_CONSENT_SUCCESS",e.FETCH_PRIVACY_CONSENT_ERROR="@user/FETCH_PRIVACY_CONSENT_ERROR",e.FETCH_FAMILY_INFO="@user/FETCH_FAMILY_INFO",e.FETCH_FAMILY_INFO_SUCCESS="@user/FETCH_FAMILY_INFO_SUCCESS",e.FETCH_FAMILY_INFO_ERROR="@user/FETCH_FAMILY_INFO_ERROR",e.SUBMIT_CONSENT="@user/SUBMIT_CONSENT",e.SUBMIT_CONSENT_SUCCESS="@user/SUBMIT_CONSENT_SUCCESS",e.SUBMIT_CONSENT_ERROR="@user/SUBMIT_CONSENT_ERROR",e.FETCH_CONTACT_PREFERENCES="@user/FETCH_CONTACT_PREFERENCES",e.FETCH_CONTACT_PREFERENCES_SUCCESS="@user/FETCH_CONTACT_PREFERENCES_SUCCESS",e.FETCH_CONTACT_PREFERENCES_ERROR="@user/FETCH_CONTACT_PREFERENCES_ERROR",e.SUBMIT_CONTACT_PREFERENCES="@user/SUBMIT_CONTACT_PREFERENCES",e.SUBMIT_CONTACT_PREFERENCES_SUCCESS="@user/SUBMIT_CONTACT_PREFERENCES_SUCCESS",e.SUBMIT_CONTACT_PREFERENCES_ERROR="@user/SUBMIT_CONTACT_PREFERENCES_ERROR",e.SET_GAMER_PIC_URL="@user/SET_GAMER_PIC_URL"}(Z||(Z={}));const ee={setUserInfo:(0,B.VPN)(Z.SET_USER_INFO,P,J,((e,t)=>({isSignedIn:e,args:t}))),resetUserInfo:(0,B.VPN)(Z.RESET_USER_INFO,P,J,(()=>({}))),updateAadUser:(0,B.VPN)(Z.UPDATE_AAD_USER,P,J,((e,t)=>({aadUser:e,aadAccessToken:t}))),fetchAgeGatingInfo:(0,B.vR$)(P,J,Z.FETCH_AGE_GATING_INFO,(e=>({type:Z.FETCH_AGE_GATING_INFO,xuid:e})),Z.UPDATE_USER_AGE_GATING_INFO,((e,t)=>({type:Z.UPDATE_USER_AGE_GATING_INFO,userAgeGatingInfo:e,isDefaultUserAgeGatingInfo:t})),Z.FETCH_AGE_GATING_INFO_ERROR,(e=>({type:Z.FETCH_AGE_GATING_INFO_ERROR,error:e}))),updateUserAgeGatingInfo:(0,B.VPN)(Z.UPDATE_USER_AGE_GATING_INFO,P,J,((e,t)=>({type:Z.UPDATE_USER_AGE_GATING_INFO,userAgeGatingInfo:e,isDefaultUserAgeGatingInfo:t}))),fetchFamilyInfo:(0,B.vR$)(P,J,Z.FETCH_FAMILY_INFO,(()=>({type:Z.FETCH_FAMILY_INFO})),Z.FETCH_FAMILY_INFO_SUCCESS,(e=>({type:Z.FETCH_FAMILY_INFO_SUCCESS,familyData:e})),Z.FETCH_FAMILY_INFO_ERROR,(e=>({type:Z.FETCH_FAMILY_INFO_ERROR,error:e}))),fetchPrivacyConsentUiDetails:(0,B.vR$)(P,J,Z.FETCH_PRIVACY_CONSENT_UI_DETAILS,(e=>({type:Z.FETCH_PRIVACY_CONSENT_UI_DETAILS,consentSurface:e})),Z.FETCH_PRIVACY_CONSENT_UI_DETAILS_SUCCESS,((e,t)=>({type:Z.FETCH_PRIVACY_CONSENT_UI_DETAILS_SUCCESS,privacyConsentUiDetails:e,consentSurface:t})),Z.FETCH_PRIVACY_CONSENT_UI_DETAILS_ERROR,((e,t)=>({type:Z.FETCH_PRIVACY_CONSENT_UI_DETAILS_ERROR,error:e,consentSurface:t}))),fetchPrivacyConsent:(0,B.vR$)(P,J,Z.FETCH_PRIVACY_CONSENT,(e=>({type:Z.FETCH_PRIVACY_CONSENT,shouldSendSnapshot:e})),Z.FETCH_PRIVACY_CONSENT_SUCCESS,(e=>({type:Z.FETCH_PRIVACY_CONSENT_SUCCESS,privacyConsent:e})),Z.FETCH_PRIVACY_CONSENT_ERROR,(e=>({type:Z.FETCH_PRIVACY_CONSENT_ERROR,error:e}))),submitConsent:(0,B.vR$)(P,J,Z.SUBMIT_CONSENT,(e=>{let{id:t,values:n,modelType:r,consentSurface:o}=e;return{type:Z.SUBMIT_CONSENT,id:t,values:n,modelType:r,consentSurface:o}}),Z.SUBMIT_CONSENT_SUCCESS,(e=>{let{id:t,values:n,modelType:r,consentSurface:o}=e;return{type:Z.SUBMIT_CONSENT_SUCCESS,id:t,values:n,modelType:r,consentSurface:o}}),Z.SUBMIT_CONSENT_ERROR,((e,t)=>({type:Z.SUBMIT_CONSENT_ERROR,error:e,modelType:t}))),fetchContactPreferences:(0,B.vR$)(P,J,Z.FETCH_CONTACT_PREFERENCES,(()=>({type:Z.FETCH_CONTACT_PREFERENCES})),Z.FETCH_CONTACT_PREFERENCES_SUCCESS,(e=>({type:Z.FETCH_CONTACT_PREFERENCES_SUCCESS,contactPreferences:e})),Z.FETCH_CONTACT_PREFERENCES_ERROR,(e=>({type:Z.FETCH_CONTACT_PREFERENCES_ERROR,error:e}))),submitContactPreferences:(0,B.vR$)(P,J,Z.SUBMIT_CONTACT_PREFERENCES,((e,t,n)=>({type:Z.SUBMIT_CONTACT_PREFERENCES,contactPreferences:e,onSuccess:t,onFailure:n})),Z.SUBMIT_CONTACT_PREFERENCES_SUCCESS,(()=>({type:Z.SUBMIT_CONTACT_PREFERENCES_SUCCESS})),Z.SUBMIT_CONTACT_PREFERENCES_ERROR,(e=>({type:Z.SUBMIT_CONTACT_PREFERENCES_ERROR,error:e}))),setGamerPicUrl:(0,B.VPN)(Z.SET_GAMER_PIC_URL,P,J,(e=>({type:Z.SET_GAMER_PIC_URL,gamerPicUrl:e})))};n(81045),n(45950),n(84915);var te=n(46075),ne=n(98838);const re={isSignedIn:!1,userAgeGatingInfo:(0,$.lceNotRequested)(),userPrivacyConsentInfo:{userPrivacyConsentUiDetails:{webStart:(0,$.lceNotRequested)(),backStage2:(0,$.lceNotRequested)(),sisu:(0,$.lceNotRequested)()},userPrivacyConsent:(0,$.lceNotRequested)(),didOptionalPrivacyConsentSubmissionSucceed:(0,$.lceNotRequested)(),didPersonalizedPrivacyConsentSubmissionSucceed:(0,$.lceNotRequested)(),didFinPartnerSharingConsentSubmissionSucceed:(0,$.lceNotRequested)()},contactPreferences:(0,$.lceNotRequested)(),familyInfo:(0,$.lceNotRequested)()};const oe=new B.sVo(re).on(Z.SET_USER_INFO,((e,t)=>{var n,r;const{userInfo:o,aadUser:i,aadAccessToken:a,aadRefreshToken:s,xTokenOverride:l,userAgeGatingInfo:c,userInfoOverride:u,isDefaultUserAgeGatingInfo:d}=t.args;return W()(W()({},e),{},{userInfo:o&&W()({ageGroup:null===(n=e.userInfo)||void 0===n?void 0:n.ageGroup,privileges:null===(r=e.userInfo)||void 0===r?void 0:r.privileges},o),aadUser:i||e.aadUser,isSignedIn:t.isSignedIn,userAgeGatingInfo:c?(0,$.lceContent)(c):e.userAgeGatingInfo,aadAccessToken:a||e.aadAccessToken,aadRefreshToken:s||e.aadRefreshToken,xTokenOverride:l||e.xTokenOverride,userInfoOverride:u||e.userInfoOverride,isDefaultUserAgeGatingInfo:d})})).on(Z.RESET_USER_INFO,((e,t)=>re)).on(Z.UPDATE_AAD_USER,((e,t)=>W()(W()({},e),{},{aadUser:t.aadUser,aadAccessToken:t.aadUser&&t.aadAccessToken||void 0,aadRefreshToken:t.aadUser?e.aadRefreshToken:void 0}))).on(Z.FETCH_AGE_GATING_INFO,(function(e,t){return(0,$.isFetching)(e.userAgeGatingInfo)?e:W()(W()({},e),{},{userAgeGatingInfo:(0,$.lceFetching)(e.userAgeGatingInfo)})})).on(Z.UPDATE_USER_AGE_GATING_INFO,(function(e,t){const n=t.userAgeGatingInfo,r=t.isDefaultUserAgeGatingInfo;return n?W()(W()({},e),{},{userAgeGatingInfo:(0,$.lceContent)(n),isDefaultUserAgeGatingInfo:r}):W()(W()({},e),{},{userAgeGatingInfo:(0,$.lceError)(new Error("Requested age gating information not returned in response"),e.userAgeGatingInfo)})})).on(Z.FETCH_FAMILY_INFO,(function(e,t){return W()(W()({},e),{},{familyInfo:(0,$.lceFetching)()})})).on(Z.FETCH_FAMILY_INFO_ERROR,(function(e,t){return W()(W()({},e),{},{familyInfo:(0,$.lceError)(t.error)})})).on(Z.FETCH_FAMILY_INFO_SUCCESS,(function(e,t){return t.familyData?W()(W()({},e),{},{familyInfo:(0,$.lceContent)(t.familyData)}):e})).on(Z.FETCH_AGE_GATING_INFO_ERROR,(function(e,t){return W()(W()({},e),{},{userAgeGatingInfo:(0,$.lceError)(t.error,e.userAgeGatingInfo)})})).on(Z.FETCH_PRIVACY_CONSENT_UI_DETAILS,(function(e,t){var n,r,o,i,a,s,l,c,u;const d=t.consentSurface;let p;switch(d){case ne.ConsentSurface.SISU:p=null===(n=e.userPrivacyConsentInfo)||void 0===n?void 0:n.userPrivacyConsentUiDetails.sisu;break;case ne.ConsentSurface.Backstage2:p=null===(r=e.userPrivacyConsentInfo)||void 0===r?void 0:r.userPrivacyConsentUiDetails.backStage2;break;case ne.ConsentSurface.WebStart:p=null===(o=e.userPrivacyConsentInfo)||void 0===o?void 0:o.userPrivacyConsentUiDetails.webStart;break;default:throw new Error(`Unknown consent surface: ${d}`)}if((0,$.isFetching)(p))return e;{const t=W()({},null===(i=e.userPrivacyConsentInfo)||void 0===i?void 0:i.userPrivacyConsentUiDetails);switch(d){case ne.ConsentSurface.WebStart:t.webStart=(0,$.lceFetching)(null===(a=e.userPrivacyConsentInfo)||void 0===a?void 0:a.userPrivacyConsentUiDetails.webStart);break;case ne.ConsentSurface.Backstage2:t.backStage2=(0,$.lceFetching)(null===(l=null===(s=e.userPrivacyConsentInfo)||void 0===s?void 0:s.userPrivacyConsentUiDetails)||void 0===l?void 0:l.backStage2);break;case ne.ConsentSurface.SISU:t.sisu=(0,$.lceFetching)(null===(u=null===(c=e.userPrivacyConsentInfo)||void 0===c?void 0:c.userPrivacyConsentUiDetails)||void 0===u?void 0:u.sisu);break;default:throw new Error(`Unknown consent surface: ${d}`)}return W()(W()({},e),{},{userPrivacyConsentInfo:W()(W()({},e.userPrivacyConsentInfo),{},{userPrivacyConsentUiDetails:t})})}})).on(Z.FETCH_PRIVACY_CONSENT_UI_DETAILS_SUCCESS,(function(e,t){var n,r,o,i,a,s,l,c;const{privacyConsentUiDetails:u,consentSurface:d}=t;if(u){const t=W()({},null===(n=e.userPrivacyConsentInfo)||void 0===n?void 0:n.userPrivacyConsentUiDetails);switch(d){case ne.ConsentSurface.WebStart:t.webStart=(0,$.lceContent)(u,A);break;case ne.ConsentSurface.Backstage2:t.backStage2=(0,$.lceContent)(u,A);break;case ne.ConsentSurface.SISU:t.sisu=(0,$.lceContent)(u,A)}return W()(W()({},e),{},{userPrivacyConsentInfo:W()(W()({},e.userPrivacyConsentInfo),{},{userPrivacyConsentUiDetails:t})})}{const t=W()({},null===(r=e.userPrivacyConsentInfo)||void 0===r?void 0:r.userPrivacyConsentUiDetails);switch(d){case ne.ConsentSurface.WebStart:t.webStart=(0,$.lceError)(new Error(`Failed to fetch privacy consent UI details for ${d}: No data was provided by the success action`),null===(i=null===(o=e.userPrivacyConsentInfo)||void 0===o?void 0:o.userPrivacyConsentUiDetails)||void 0===i?void 0:i.webStart);break;case ne.ConsentSurface.Backstage2:t.backStage2=(0,$.lceError)(new Error(`Failed to fetch privacy consent UI details for ${d}: No data was provided by the success action`),null===(s=null===(a=e.userPrivacyConsentInfo)||void 0===a?void 0:a.userPrivacyConsentUiDetails)||void 0===s?void 0:s.backStage2);break;case ne.ConsentSurface.SISU:t.sisu=(0,$.lceError)(new Error(`Failed to fetch privacy consent UI details for ${d}: No data was provided by the success action`),null===(c=null===(l=e.userPrivacyConsentInfo)||void 0===l?void 0:l.userPrivacyConsentUiDetails)||void 0===c?void 0:c.sisu);break;default:throw new Error(`Unknown consent surface: ${d}`)}return W()(W()({},e),{},{userPrivacyConsentInfo:W()(W()({},e.userPrivacyConsentInfo),{},{userPrivacyConsentUiDetails:t})})}})).on(Z.FETCH_PRIVACY_CONSENT_UI_DETAILS_ERROR,(function(e,t){var n,r,o,i,a,s,l;const c=t.error,u=W()({},null===(n=e.userPrivacyConsentInfo)||void 0===n?void 0:n.userPrivacyConsentUiDetails);switch(t.consentSurface){case ne.ConsentSurface.WebStart:u.webStart=(0,$.lceError)(new Error(`Failed to fetch privacy consent UI details for ${t.consentSurface}: ${c.message}`),null===(o=null===(r=e.userPrivacyConsentInfo)||void 0===r?void 0:r.userPrivacyConsentUiDetails)||void 0===o?void 0:o.webStart);break;case ne.ConsentSurface.Backstage2:u.backStage2=(0,$.lceError)(new Error(`Failed to fetch privacy consent UI details for ${t.consentSurface}: ${c.message}`),null===(a=null===(i=e.userPrivacyConsentInfo)||void 0===i?void 0:i.userPrivacyConsentUiDetails)||void 0===a?void 0:a.backStage2);break;case ne.ConsentSurface.SISU:u.sisu=(0,$.lceError)(new Error(`Failed to fetch privacy consent UI details for ${t.consentSurface}: ${c.message}`),null===(l=null===(s=e.userPrivacyConsentInfo)||void 0===s?void 0:s.userPrivacyConsentUiDetails)||void 0===l?void 0:l.sisu);break;default:throw new Error(`Unknown consent surface: ${t.consentSurface}`)}return W()(W()({},e),{},{userPrivacyConsentInfo:W()(W()({},e.userPrivacyConsentInfo),{},{userPrivacyConsentUiDetails:u})})})).on(Z.FETCH_PRIVACY_CONSENT,(function(e,t){var n,r;return(0,$.isFetching)(null===(n=e.userPrivacyConsentInfo)||void 0===n?void 0:n.userPrivacyConsent)?e:W()(W()({},e),{},{userPrivacyConsentInfo:W()(W()({},e.userPrivacyConsentInfo),{},{userPrivacyConsent:(0,$.lceFetching)(null===(r=e.userPrivacyConsentInfo)||void 0===r?void 0:r.userPrivacyConsent)})})})).on(Z.FETCH_PRIVACY_CONSENT_SUCCESS,(function(e,t){var n;const r=t.privacyConsent;return r?W()(W()({},e),{},{userPrivacyConsentInfo:W()(W()({},e.userPrivacyConsentInfo),{},{userPrivacyConsent:(0,$.lceContent)(r,A)})}):W()(W()({},e),{},{userPrivacyConsentInfo:W()(W()({},e.userPrivacyConsentInfo),{},{userPrivacyConsent:(0,$.lceError)(new Error("Requested privacy consent not returned in response"),null===(n=e.userPrivacyConsentInfo)||void 0===n?void 0:n.userPrivacyConsent)})})})).on(Z.FETCH_PRIVACY_CONSENT_ERROR,(function(e,t){var n;return W()(W()({},e),{},{userPrivacyConsentInfo:W()(W()({},e.userPrivacyConsentInfo),{},{userPrivacyConsent:(0,$.lceError)(t.error,null===(n=e.userPrivacyConsentInfo)||void 0===n?void 0:n.userPrivacyConsent)})})})).on(Z.SUBMIT_CONSENT,(function(e,t){var n,r,o,i,a,s;const{modelType:l}=t;return W()(W()({},e),{},{userPrivacyConsentInfo:W()(W()({},e.userPrivacyConsentInfo),{},{didOptionalPrivacyConsentSubmissionSucceed:l===ne.ModelType.XboxOptionalDataCollection?(0,$.lceFetching)(null===(n=e.userPrivacyConsentInfo)||void 0===n?void 0:n.didOptionalPrivacyConsentSubmissionSucceed):null===(r=e.userPrivacyConsentInfo)||void 0===r?void 0:r.didOptionalPrivacyConsentSubmissionSucceed,didPersonalizedPrivacyConsentSubmissionSucceed:l===ne.ModelType.XboxPersonalizedPurchaseUpsell?(0,$.lceFetching)(null===(o=e.userPrivacyConsentInfo)||void 0===o?void 0:o.didPersonalizedPrivacyConsentSubmissionSucceed):null===(i=e.userPrivacyConsentInfo)||void 0===i?void 0:i.didPersonalizedPrivacyConsentSubmissionSucceed,didFinPartnerSharingConsentSubmissionSucceed:l===ne.ModelType.XboxFinPartnerSharing?(0,$.lceFetching)(null===(a=e.userPrivacyConsentInfo)||void 0===a?void 0:a.didFinPartnerSharingConsentSubmissionSucceed):null===(s=e.userPrivacyConsentInfo)||void 0===s?void 0:s.didFinPartnerSharingConsentSubmissionSucceed})})})).on(Z.SUBMIT_CONSENT_SUCCESS,(function(e,t){var n,r,o,i,a,s,l,c,u,d,p;const{values:m,modelType:h}=t;if((0,te.isErrorAction)(t))return W()(W()({},e),{},{userPrivacyConsentInfo:W()(W()({},e.userPrivacyConsentInfo),{},{didOptionalPrivacyConsentSubmissionSucceed:t.modelType===ne.ModelType.XboxOptionalDataCollection?(0,$.lceError)(t.error,null===(s=e.userPrivacyConsentInfo)||void 0===s?void 0:s.didOptionalPrivacyConsentSubmissionSucceed):null===(l=e.userPrivacyConsentInfo)||void 0===l?void 0:l.didOptionalPrivacyConsentSubmissionSucceed,didPersonalizedPrivacyConsentSubmissionSucceed:t.modelType===ne.ModelType.XboxPersonalizedPurchaseUpsell?(0,$.lceError)(t.error,null===(c=e.userPrivacyConsentInfo)||void 0===c?void 0:c.didPersonalizedPrivacyConsentSubmissionSucceed):null===(u=e.userPrivacyConsentInfo)||void 0===u?void 0:u.didPersonalizedPrivacyConsentSubmissionSucceed,didFinPartnerSharingConsentSubmissionSucceed:t.modelType===ne.ModelType.XboxFinPartnerSharing?(0,$.lceError)(t.error,null===(d=e.userPrivacyConsentInfo)||void 0===d?void 0:d.didFinPartnerSharingConsentSubmissionSucceed):null===(p=e.userPrivacyConsentInfo)||void 0===p?void 0:p.didFinPartnerSharingConsentSubmissionSucceed})});{let s=[];if((0,$.isContent)(null===(n=e.userPrivacyConsentInfo)||void 0===n?void 0:n.userPrivacyConsent)){s=e.userPrivacyConsentInfo.userPrivacyConsent.data.map((e=>e.modelType===h?W()(W()({},e),{},{values:e.values&&e.values.length>0?e.values.map((e=>W()(W()({},e),m.find((t=>t.categoryName===e.categoryName))||{}))):m.map((e=>W()(W()({},e),{},{traceId:null,valueDataType:"boolean"}))),needConsent:!e.needConsent&&e.needConsent}):e))}return W()(W()({},e),{},{userPrivacyConsentInfo:W()(W()({},e.userPrivacyConsentInfo),{},{didOptionalPrivacyConsentSubmissionSucceed:t.modelType===ne.ModelType.XboxOptionalDataCollection?(0,$.lceContent)(!0):null===(r=e.userPrivacyConsentInfo)||void 0===r?void 0:r.didOptionalPrivacyConsentSubmissionSucceed,didPersonalizedPrivacyConsentSubmissionSucceed:t.modelType===ne.ModelType.XboxPersonalizedPurchaseUpsell?(0,$.lceContent)(!0):null===(o=e.userPrivacyConsentInfo)||void 0===o?void 0:o.didPersonalizedPrivacyConsentSubmissionSucceed,didFinPartnerSharingConsentSubmissionSucceed:t.modelType===ne.ModelType.XboxFinPartnerSharing?(0,$.lceContent)(!0):null===(i=e.userPrivacyConsentInfo)||void 0===i?void 0:i.didFinPartnerSharingConsentSubmissionSucceed,userPrivacyConsent:s.length>0?(0,$.lceContent)(s,A):null===(a=e.userPrivacyConsentInfo)||void 0===a?void 0:a.userPrivacyConsent})})}})).on(Z.SUBMIT_CONSENT_ERROR,(function(e,t){var n,r,o,i,a,s;return W()(W()({},e),{},{userPrivacyConsentInfo:W()(W()({},e.userPrivacyConsentInfo),{},{didOptionalPrivacyConsentSubmissionSucceed:t.modelType===ne.ModelType.XboxOptionalDataCollection?(0,$.lceError)(t.error,null===(n=e.userPrivacyConsentInfo)||void 0===n?void 0:n.didOptionalPrivacyConsentSubmissionSucceed):null===(r=e.userPrivacyConsentInfo)||void 0===r?void 0:r.didOptionalPrivacyConsentSubmissionSucceed,didPersonalizedPrivacyConsentSubmissionSucceed:t.modelType===ne.ModelType.XboxPersonalizedPurchaseUpsell?(0,$.lceError)(t.error,null===(o=e.userPrivacyConsentInfo)||void 0===o?void 0:o.didPersonalizedPrivacyConsentSubmissionSucceed):null===(i=e.userPrivacyConsentInfo)||void 0===i?void 0:i.didPersonalizedPrivacyConsentSubmissionSucceed,didFinPartnerSharingConsentSubmissionSucceed:t.modelType===ne.ModelType.XboxFinPartnerSharing?(0,$.lceError)(t.error,null===(a=e.userPrivacyConsentInfo)||void 0===a?void 0:a.didFinPartnerSharingConsentSubmissionSucceed):null===(s=e.userPrivacyConsentInfo)||void 0===s?void 0:s.didFinPartnerSharingConsentSubmissionSucceed})})})).on(Z.FETCH_CONTACT_PREFERENCES,(function(e){return W()(W()({},e),{},{contactPreferences:(0,$.lceFetching)(e.contactPreferences)})})).on(Z.FETCH_CONTACT_PREFERENCES_SUCCESS,(function(e,t){return W()(W()({},e),{},{contactPreferences:(0,$.lceContent)(t.contactPreferences)})})).on(Z.FETCH_CONTACT_PREFERENCES_ERROR,(function(e,t){return W()(W()({},e),{},{contactPreferences:(0,$.lceError)(t.error)})})).on(Z.SET_GAMER_PIC_URL,(function(e,t){return e.userInfo?W()(W()({},e),{},{userInfo:W()(W()({},e.userInfo),{},{gamerPicUrl:t.gamerPicUrl})}):e})).build(),ie=(0,B.v4G)(P,oe);n(47748),n(55367);var ae=n(83878);const se=e=>e.user,le=e=>se(e).userInfo,ce=e=>se(e).userInfoOverride,ue=e=>{var t;return null===(t=le(e))||void 0===t?void 0:t.xuid},de=e=>{var t;return null===(t=le(e))||void 0===t?void 0:t.gamerTag},pe=e=>{var t;return null===(t=le(e))||void 0===t?void 0:t.ageGroup},me=e=>{var t;return null===(t=le(e))||void 0===t?void 0:t.firstName},he=e=>{var t;return null===(t=le(e))||void 0===t?void 0:t.email},ge=e=>se(e).isSignedIn,fe=(0,ae.createSelector)(se,(e=>({aadUser:e.aadUser,accessToken:e.aadAccessToken||"",refreshToken:e.aadRefreshToken||""}))),_e=e=>se(e).xTokenOverride,ve=e=>se(e).userAgeGatingInfo,ye=e=>se(e).isDefaultUserAgeGatingInfo,be=(e,t)=>{const{aadUser:n}=fe(e),r=null===n||void 0===n?void 0:n.name,o=t||(null===n||void 0===n?void 0:n.exp)&&n.exp>Math.round(Date.now()/1e3)+60;return!!r&&!!o},Se=(e,t)=>{var n,r;return null===(r=null===(n=se(e).userInfo)||void 0===n?void 0:n.privileges)||void 0===r?void 0:r.includes(t)},Ee=(0,ae.createSelector)([e=>{var t;return null===(t=se(e).userPrivacyConsentInfo)||void 0===t?void 0:t.userPrivacyConsentUiDetails},(e,t)=>t],((e,t)=>{switch(t){case ne.ConsentSurface.WebStart:return e.webStart;case ne.ConsentSurface.Backstage2:return e.backStage2;case ne.ConsentSurface.SISU:return e.sisu;default:throw new Error("Invalid consent surface")}})),Ce=e=>{var t;return null===(t=se(e).userPrivacyConsentInfo)||void 0===t?void 0:t.userPrivacyConsent},Te=(e,t)=>{var n,r,o;const i=Ee(e,ne.ConsentSurface.Backstage2);if((0,$.isContent)(i)){const a=i.data.find((e=>e.modelType===t));if(a){const t=Ce(e);if((0,$.isContent)(t)){const e=t.data.find((e=>e.id===a.id)),i=null!==(o=null===(r=null===(n=null===e||void 0===e?void 0:e.values)||void 0===n?void 0:n[0])||void 0===r?void 0:r.value)&&void 0!==o?o:"optOut"===a.consentType||"unknown"===a.consentType;return{ucsUiDetails:a,initialValue:i}}}}return{ucsUiDetails:null,initialValue:!1}},we=e=>Te(e,ne.ModelType.XboxOptionalDataCollection),Ie=e=>Te(e,ne.ModelType.XboxPersonalizedPurchaseUpsell),Pe=e=>{var t;return null===(t=se(e).userPrivacyConsentInfo)||void 0===t?void 0:t.didOptionalPrivacyConsentSubmissionSucceed},Ae=e=>{var t;return null===(t=se(e).userPrivacyConsentInfo)||void 0===t?void 0:t.didPersonalizedPrivacyConsentSubmissionSucceed},ke=e=>{var t;return null===(t=se(e).userPrivacyConsentInfo)||void 0===t?void 0:t.didFinPartnerSharingConsentSubmissionSucceed},xe=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(((e,t)=>{var n,r,o,i;const a=null!==(r=null===(n=(0,$.getContentOrPrevious)(e))||void 0===n?void 0:n.lastFetchedMS)&&void 0!==r?r:0;return(null!==(i=null===(o=(0,$.getContentOrPrevious)(t))||void 0===o?void 0:o.lastFetchedMS)&&void 0!==i?i:0)>a?t:e}))},Re=(0,ae.createSelector)([e=>Ee(e,ne.ConsentSurface.WebStart),e=>Ee(e,ne.ConsentSurface.Backstage2),e=>Ee(e,ne.ConsentSurface.SISU),Ce,Pe,Ae],((e,t,n,r,o,i)=>{let a=null,s=null;if((0,$.isError)(o)&&(a=o),(0,$.isError)(i)&&(s=i),a||s){const e=(null===a||void 0===a?void 0:a.error)||(null===s||void 0===s?void 0:s.error);if(e)return(0,$.lceError)(e)}const l=xe(e,t,n),c=xe(l,r);return(0,$.isContent)(l)&&(0,$.isFetching)(r)?(0,$.lceTransform)(l,ne.transformConsentValuesToSimplifiedConsentValues):(0,$.isContent)(r)&&(0,$.isFetching)(l)||(0,$.isFetching)(r)?(0,$.lceTransform)(r,ne.transformConsentValuesToSimplifiedConsentValues):(0,$.isFetching)(l)?(0,$.lceTransform)(l,ne.transformConsentValuesToSimplifiedConsentValues):c!==$.LCE_NOT_REQUESTED?(0,$.lceTransform)(c,ne.transformConsentValuesToSimplifiedConsentValues):$.LCE_NOT_REQUESTED})),Oe=e=>se(e).contactPreferences,Ne=e=>se(e).familyInfo;function*Me(){const e=yield(0,H.select)(se);return{isMandatory:!1,aadToken:(null===e||void 0===e?void 0:e.aadAccessToken)||""}}const Le=function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=(0,Q.useSelector)(ge),[r,o]=(0,D.useState)(t),i=(0,Q.useSelector)(pe)===B.P2Z.Adult,a=(0,Q.useSelector)(Ce),s=(0,Q.useDispatch)(),l=(0,Y.jr)();(0,D.useEffect)((()=>{e&&n&&i&&((0,$.isValidNotRequestedLCE)(a)||(0,$.isExpiredContent)(a)||r&&(0,$.isContent)(a))&&(l.info("[usePrivacyConsent] Dispatching fetchPrivacyConsent action"),s(ee.fetchPrivacyConsent.start()),r&&o(!1))}),[a,s,n,l,i,r,e]);const c=(0,D.useMemo)((()=>{var e;return null!==(e=(0,$.getUnexpiredDataOrPrevious)(a))&&void 0!==e?e:[]}),[a]);return(0,D.useMemo)((()=>[c,W()({loading:(0,$.isFetching)(a)},a)]),[a,c])},De=function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=(0,Q.useSelector)(ge),r=(0,Q.useSelector)(pe)===B.P2Z.Adult,o=(0,Y.jr)(),i=(0,Q.useSelector)((t=>Ee(t,e))),a=(0,Q.useDispatch)();(0,D.useEffect)((()=>{t&&n&&r&&(0,$.isNotRequested)(i)&&(o.info(`[usePrivacyConsentUiDetails] Dispatching fetchPrivacyConsentUiDetails action with: ${e}`),a(ee.fetchPrivacyConsentUiDetails.start(e)))}),[a,n,e,o,i,r,t]);const s=(0,D.useMemo)((()=>{var e;return null!==(e=(0,$.getDataOrPrevious)(i))&&void 0!==e?e:[]}),[i]);return(0,D.useMemo)((()=>[s,W()({loading:(0,$.isFetching)(i)},i)]),[s,i])},Fe=e=>{const t=(0,Q.useSelector)(ge),n=(0,Q.useSelector)(Pe),r=(0,Y.jr)(),o=(0,Q.useSelector)(Ae),i=(0,Q.useSelector)(ke),a=(0,Q.useDispatch)(),s=(0,D.useCallback)((n=>{let{id:o,values:i,consentSurface:s}=n;t&&(r.info("[useSubmitConsent] Dispatching submitConsent action"),a(ee.submitConsent.start({id:o,values:i,modelType:e,consentSurface:s})))}),[a,t,r,e]),l=(0,D.useMemo)((()=>e===ne.ModelType.XboxOptionalDataCollection?n:e===ne.ModelType.XboxFinPartnerSharing?i:o),[i,n,o,e]);return(0,D.useMemo)((()=>[s,l,n,o]),[n,o,l,s])};n(69375),n(1402),n(64727),n(98376),n(10568),n(14293),n(91321),n(75604),n(41532),n(32950),n(73599),n(64770),n(62080),n(97012),n(31274),n(29548),n(47342),n(14825),n(92467),n(67497),n(88236),n(83165),n(24541),n(34397);var Ue,Be=n(12885),He=n(58111);!function(e){e[e.Error=0]="Error",e[e.Warning=1]="Warning",e[e.Info=2]="Info",e[e.Verbose=3]="Verbose",e[e.Trace=4]="Trace"}(Ue||(Ue={}));class Ge{constructor(e,t,n){this.level=Ue.Info;const r=e||Ge.createDefaultLoggerOptions();this.localCallback=r.loggerCallback||(()=>{}),this.piiLoggingEnabled=r.piiLoggingEnabled||!1,this.level="number"===typeof r.logLevel?r.logLevel:Ue.Info,this.correlationId=r.correlationId||He.YM.EMPTY_STRING,this.packageName=t||He.YM.EMPTY_STRING,this.packageVersion=n||He.YM.EMPTY_STRING}static createDefaultLoggerOptions(){return{loggerCallback:()=>{},piiLoggingEnabled:!1,logLevel:Ue.Info}}clone(e,t,n){return new Ge({loggerCallback:this.localCallback,piiLoggingEnabled:this.piiLoggingEnabled,logLevel:this.level,correlationId:n||this.correlationId},e,t)}logMessage(e,t){if(t.logLevel>this.level||!this.piiLoggingEnabled&&t.containsPii)return;const n=`${`[${(new Date).toUTCString()}] : [${t.correlationId||this.correlationId||""}]`} : ${this.packageName}@${this.packageVersion} : ${Ue[t.logLevel]} - ${e}`;this.executeCallback(t.logLevel,n,t.containsPii||!1)}executeCallback(e,t,n){this.localCallback&&this.localCallback(e,t,n)}error(e,t){this.logMessage(e,{logLevel:Ue.Error,containsPii:!1,correlationId:t||He.YM.EMPTY_STRING})}errorPii(e,t){this.logMessage(e,{logLevel:Ue.Error,containsPii:!0,correlationId:t||He.YM.EMPTY_STRING})}warning(e,t){this.logMessage(e,{logLevel:Ue.Warning,containsPii:!1,correlationId:t||He.YM.EMPTY_STRING})}warningPii(e,t){this.logMessage(e,{logLevel:Ue.Warning,containsPii:!0,correlationId:t||He.YM.EMPTY_STRING})}info(e,t){this.logMessage(e,{logLevel:Ue.Info,containsPii:!1,correlationId:t||He.YM.EMPTY_STRING})}infoPii(e,t){this.logMessage(e,{logLevel:Ue.Info,containsPii:!0,correlationId:t||He.YM.EMPTY_STRING})}verbose(e,t){this.logMessage(e,{logLevel:Ue.Verbose,containsPii:!1,correlationId:t||He.YM.EMPTY_STRING})}verbosePii(e,t){this.logMessage(e,{logLevel:Ue.Verbose,containsPii:!0,correlationId:t||He.YM.EMPTY_STRING})}trace(e,t){this.logMessage(e,{logLevel:Ue.Trace,containsPii:!1,correlationId:t||He.YM.EMPTY_STRING})}tracePii(e,t){this.logMessage(e,{logLevel:Ue.Trace,containsPii:!0,correlationId:t||He.YM.EMPTY_STRING})}isPiiLoggingEnabled(){return this.piiLoggingEnabled||!1}}const qe="AAD",je="OIDC",Ve="none",ze="unexpected_error",Xe="post_request_failed",Ke={[ze]:"Unexpected error in authentication.",[Xe]:"Post request failed from the network, could be a 4xx/5xx or a network unavailability. Please check the exact error code for details."};class We extends Error{constructor(e,t,n){super(t?`${e}: ${t}`:e),Object.setPrototypeOf(this,We.prototype),this.errorCode=e||He.YM.EMPTY_STRING,this.errorMessage=t||He.YM.EMPTY_STRING,this.subError=n||He.YM.EMPTY_STRING,this.name="AuthError"}setCorrelationId(e){this.correlationId=e}}function $e(e,t){return new We(e,t?`${Ke[e]} ${t}`:Ke[e])}const Ye="client_info_decoding_error",Qe="client_info_empty_error",Je="token_parsing_error",Ze="null_or_empty_token",et="endpoints_resolution_error",tt="network_error",nt="openid_config_error",rt="hash_not_deserialized",ot="invalid_state",it="state_mismatch",at="state_not_found",st="nonce_mismatch",lt="auth_time_not_found",ct="max_age_transpired",ut="multiple_matching_tokens",dt="multiple_matching_accounts",pt="multiple_matching_appMetadata",mt="request_cannot_be_made",ht="cannot_remove_empty_scope",gt="cannot_append_scopeset",ft="empty_input_scopeset",_t="device_code_polling_cancelled",vt="device_code_expired",yt="device_code_unknown_error",bt="no_account_in_silent_request",St="invalid_cache_record",Et="invalid_cache_environment",Ct="no_account_found",Tt="no_crypto_object",wt="unexpected_credential_type",It="invalid_assertion",Pt="invalid_client_credential",At="token_refresh_required",kt="user_timeout_reached",xt="token_claims_cnf_required_for_signedjwt",Rt="authorization_code_missing_from_server_response",Ot="binding_key_not_removed",Nt="end_session_endpoint_not_supported",Mt="key_id_missing",Lt="no_network_connectivity",Dt="user_canceled",Ft="missing_tenant_id_error",Ut="method_not_implemented",Bt="nested_app_auth_bridge_disabled",Ht={[Ye]:"The client info could not be parsed/decoded correctly",[Qe]:"The client info was empty",[Je]:"Token cannot be parsed",[Ze]:"The token is null or empty",[et]:"Endpoints cannot be resolved",[tt]:"Network request failed",[nt]:"Could not retrieve endpoints. Check your authority and verify the .well-known/openid-configuration endpoint returns the required endpoints.",[rt]:"The hash parameters could not be deserialized",[ot]:"State was not the expected format",[it]:"State mismatch error",[at]:"State not found",[st]:"Nonce mismatch error",[lt]:"Max Age was requested and the ID token is missing the auth_time variable. auth_time is an optional claim and is not enabled by default - it must be enabled. See https://aka.ms/msaljs/optional-claims for more information.",[ct]:"Max Age is set to 0, or too much time has elapsed since the last end-user authentication.",[ut]:"The cache contains multiple tokens satisfying the requirements. Call AcquireToken again providing more requirements such as authority or account.",[dt]:"The cache contains multiple accounts satisfying the given parameters. Please pass more info to obtain the correct account",[pt]:"The cache contains multiple appMetadata satisfying the given parameters. Please pass more info to obtain the correct appMetadata",[mt]:"Token request cannot be made without authorization code or refresh token.",[ht]:"Cannot remove null or empty scope from ScopeSet",[gt]:"Cannot append ScopeSet",[ft]:"Empty input ScopeSet cannot be processed",[_t]:"Caller has cancelled token endpoint polling during device code flow by setting DeviceCodeRequest.cancel = true.",[vt]:"Device code is expired.",[yt]:"Device code stopped polling for unknown reasons.",[bt]:"Please pass an account object, silent flow is not supported without account information",[St]:"Cache record object was null or undefined.",[Et]:"Invalid environment when attempting to create cache entry",[Ct]:"No account found in cache for given key.",[Tt]:"No crypto object detected.",[wt]:"Unexpected credential type.",[It]:"Client assertion must meet requirements described in https://tools.ietf.org/html/rfc7515",[Pt]:"Client credential (secret, certificate, or assertion) must not be empty when creating a confidential client. An application should at most have one credential",[At]:"Cannot return token from cache because it must be refreshed. This may be due to one of the following reasons: forceRefresh parameter is set to true, claims have been requested, there is no cached access token or it is expired.",[kt]:"User defined timeout for device code polling reached",[xt]:"Cannot generate a POP jwt if the token_claims are not populated",[Rt]:"Server response does not contain an authorization code to proceed",[Ot]:"Could not remove the credential's binding key from storage.",[Nt]:"The provided authority does not support logout",[Mt]:"A keyId value is missing from the requested bound token's cache record and is required to match the token to it's stored binding key.",[Lt]:"No network connectivity. Check your internet connection.",[Dt]:"User cancelled the flow.",[Ft]:"A tenant id - not common, organizations, or consumers - must be specified when using the client_credentials flow.",[Ut]:"This method has not been implemented",[Bt]:"The nested app auth bridge is disabled"};class Gt extends We{constructor(e,t){super(e,t?`${Ht[e]}: ${t}`:Ht[e]),this.name="ClientAuthError",Object.setPrototypeOf(this,Gt.prototype)}}function qt(e,t){return new Gt(e,t)}const jt={createNewGuid:()=>{throw qt(Ut)},base64Decode:()=>{throw qt(Ut)},base64Encode:()=>{throw qt(Ut)},base64UrlEncode:()=>{throw qt(Ut)},encodeKid:()=>{throw qt(Ut)},async getPublicKeyThumbprint(){throw qt(Ut)},async removeTokenBindingKey(){throw qt(Ut)},async clearKeystore(){throw qt(Ut)},async signJwt(){throw qt(Ut)},async hashString(){throw qt(Ut)}},Vt="@azure/msal-common",zt="14.16.0";function Xt(e,t){const n=function(e){if(!e)throw qt(Ze);const t=/^([^\.\s]*)\.([^\.\s]+)\.([^\.\s]*)$/.exec(e);if(!t||t.length<4)throw qt(Je);return t[2]}(e);try{const e=t(n);return JSON.parse(e)}catch(r){throw qt(Je)}}function Kt(e,t){if(0===t||Date.now()-3e5>e+t)throw qt(ct)}var Wt=n(53354);function $t(e){return[rn(e),on(e),an(e),sn(e),ln(e)].join(He.LR.CACHE_KEY_SEPARATOR).toLowerCase()}function Yt(e,t,n,r,o){return{credentialType:He.aG.ID_TOKEN,homeAccountId:e,environment:t,clientId:r,secret:n,realm:o}}function Qt(e,t,n,r,o,i,a,s,l,c,u,d,p,m,h){const g={homeAccountId:e,credentialType:He.aG.ACCESS_TOKEN,secret:n,cachedAt:(0,Wt._C)().toString(),expiresOn:a.toString(),extendedExpiresOn:s.toString(),environment:t,clientId:r,realm:o,target:i,tokenType:u||He.IO.BEARER};if(d&&(g.userAssertionHash=d),c&&(g.refreshOn=c.toString()),m&&(g.requestedClaims=m,g.requestedClaimsHash=h),g.tokenType?.toLowerCase()!==He.IO.BEARER.toLowerCase())switch(g.credentialType=He.aG.ACCESS_TOKEN_WITH_AUTH_SCHEME,g.tokenType){case He.IO.POP:const e=Xt(n,l);if(!e?.cnf?.kid)throw qt(xt);g.keyId=e.cnf.kid;break;case He.IO.SSH:g.keyId=p}return g}function Jt(e,t,n,r,o,i,a){const s={credentialType:He.aG.REFRESH_TOKEN,homeAccountId:e,environment:t,clientId:r,secret:n};return i&&(s.userAssertionHash=i),o&&(s.familyId=o),a&&(s.expiresOn=a.toString()),s}function Zt(e){return e.hasOwnProperty("homeAccountId")&&e.hasOwnProperty("environment")&&e.hasOwnProperty("credentialType")&&e.hasOwnProperty("clientId")&&e.hasOwnProperty("secret")}function en(e){return!!e&&(Zt(e)&&e.hasOwnProperty("realm")&&e.hasOwnProperty("target")&&(e.credentialType===He.aG.ACCESS_TOKEN||e.credentialType===He.aG.ACCESS_TOKEN_WITH_AUTH_SCHEME))}function tn(e){return!!e&&(Zt(e)&&e.hasOwnProperty("realm")&&e.credentialType===He.aG.ID_TOKEN)}function nn(e){return!!e&&(Zt(e)&&e.credentialType===He.aG.REFRESH_TOKEN)}function rn(e){return[e.homeAccountId,e.environment].join(He.LR.CACHE_KEY_SEPARATOR).toLowerCase()}function on(e){const t=e.credentialType===He.aG.REFRESH_TOKEN&&e.familyId||e.clientId;return[e.credentialType,t,e.realm||""].join(He.LR.CACHE_KEY_SEPARATOR).toLowerCase()}function an(e){return(e.target||"").toLowerCase()}function sn(e){return(e.requestedClaimsHash||"").toLowerCase()}function ln(e){return e.tokenType&&e.tokenType.toLowerCase()!==He.IO.BEARER.toLowerCase()?e.tokenType.toLowerCase():""}function cn(){return(0,Wt._C)()+He.u0.REFRESH_TIME_SECONDS}function un(e,t,n){e.authorization_endpoint=t.authorization_endpoint,e.token_endpoint=t.token_endpoint,e.end_session_endpoint=t.end_session_endpoint,e.issuer=t.issuer,e.endpointsFromNetwork=n,e.jwks_uri=t.jwks_uri}function dn(e,t,n){e.aliases=t.aliases,e.preferred_cache=t.preferred_cache,e.preferred_network=t.preferred_network,e.aliasesFromNetwork=n}function pn(e){return e.expiresAt<=(0,Wt._C)()}const mn="redirect_uri_empty",hn="claims_request_parsing_error",gn="authority_uri_insecure",fn="url_parse_error",_n="empty_url_error",vn="empty_input_scopes_error",yn="invalid_prompt_value",bn="invalid_claims",Sn="token_request_empty",En="logout_request_empty",Cn="invalid_code_challenge_method",Tn="pkce_params_missing",wn="invalid_cloud_discovery_metadata",In="invalid_authority_metadata",Pn="untrusted_authority",An="missing_ssh_jwk",kn="missing_ssh_kid",xn="missing_nonce_authentication_header",Rn="invalid_authentication_header",On="cannot_set_OIDCOptions",Nn="cannot_allow_native_broker",Mn="authority_mismatch",Ln={[mn]:"A redirect URI is required for all calls, and none has been set.",[hn]:"Could not parse the given claims request object.",[gn]:"Authority URIs must use https.  Please see here for valid authority configuration options: https://docs.microsoft.com/en-us/azure/active-directory/develop/msal-js-initializing-client-applications#configuration-options",[fn]:"URL could not be parsed into appropriate segments.",[_n]:"URL was empty or null.",[vn]:"Scopes cannot be passed as null, undefined or empty array because they are required to obtain an access token.",[yn]:"Please see here for valid configuration options: https://azuread.github.io/microsoft-authentication-library-for-js/ref/modules/_azure_msal_common.html#commonauthorizationurlrequest",[bn]:"Given claims parameter must be a stringified JSON object.",[Sn]:"Token request was empty and not found in cache.",[En]:"The logout request was null or undefined.",[Cn]:'code_challenge_method passed is invalid. Valid values are "plain" and "S256".',[Tn]:"Both params: code_challenge and code_challenge_method are to be passed if to be sent in the request",[wn]:"Invalid cloudDiscoveryMetadata provided. Must be a stringified JSON object containing tenant_discovery_endpoint and metadata fields",[In]:"Invalid authorityMetadata provided. Must by a stringified JSON object containing authorization_endpoint, token_endpoint, issuer fields.",[Pn]:"The provided authority is not a trusted authority. Please include this authority in the knownAuthorities config parameter.",[An]:"Missing sshJwk in SSH certificate request. A stringified JSON Web Key is required when using the SSH authentication scheme.",[kn]:"Missing sshKid in SSH certificate request. A string that uniquely identifies the public SSH key is required when using the SSH authentication scheme.",[xn]:"Unable to find an authentication header containing server nonce. Either the Authentication-Info or WWW-Authenticate headers must be present in order to obtain a server nonce.",[Rn]:"Invalid authentication header provided",[On]:"Cannot set OIDCOptions parameter. Please change the protocol mode to OIDC or use a non-Microsoft authority.",[Nn]:"Cannot set allowNativeBroker parameter to true when not in AAD protocol mode.",[Mn]:"Authority mismatch error. Authority provided in login request or PublicClientApplication config does not match the environment of the provided account. Please use a matching account or make an interactive request to login to this authority."};class Dn extends We{constructor(e){super(e,Ln[e]),this.name="ClientConfigurationError",Object.setPrototypeOf(this,Dn.prototype)}}function Fn(e){return new Dn(e)}class Un{static isEmptyObj(e){if(e)try{const t=JSON.parse(e);return 0===Object.keys(t).length}catch(t){}return!0}static startsWith(e,t){return 0===e.indexOf(t)}static endsWith(e,t){return e.length>=t.length&&e.lastIndexOf(t)===e.length-t.length}static queryStringToObject(e){const t={},n=e.split("&"),r=e=>decodeURIComponent(e.replace(/\+/g," "));return n.forEach((e=>{if(e.trim()){const[n,o]=e.split(/=(.+)/g,2);n&&o&&(t[r(n)]=r(o))}})),t}static trimArrayEntries(e){return e.map((e=>e.trim()))}static removeEmptyStringsFromArray(e){return e.filter((e=>!!e))}static jsonParseHelper(e){try{return JSON.parse(e)}catch(t){return null}}static matchPattern(e,t){return new RegExp(e.replace(/\\/g,"\\\\").replace(/\*/g,"[^ ]*").replace(/\?/g,"\\?")).test(t)}}class Bn{constructor(e){const t=e?Un.trimArrayEntries([...e]):[],n=t?Un.removeEmptyStringsFromArray(t):[];this.validateInputScopes(n),this.scopes=new Set,n.forEach((e=>this.scopes.add(e)))}static fromString(e){const t=(e||He.YM.EMPTY_STRING).split(" ");return new Bn(t)}static createSearchScopes(e){const t=new Bn(e);return t.containsOnlyOIDCScopes()?t.removeScope(He.YM.OFFLINE_ACCESS_SCOPE):t.removeOIDCScopes(),t}validateInputScopes(e){if(!e||e.length<1)throw Fn(vn)}containsScope(e){const t=this.printScopesLowerCase().split(" "),n=new Bn(t);return!!e&&n.scopes.has(e.toLowerCase())}containsScopeSet(e){return!(!e||e.scopes.size<=0)&&(this.scopes.size>=e.scopes.size&&e.asArray().every((e=>this.containsScope(e))))}containsOnlyOIDCScopes(){let e=0;return He._A.forEach((t=>{this.containsScope(t)&&(e+=1)})),this.scopes.size===e}appendScope(e){e&&this.scopes.add(e.trim())}appendScopes(e){try{e.forEach((e=>this.appendScope(e)))}catch(t){throw qt(gt)}}removeScope(e){if(!e)throw qt(ht);this.scopes.delete(e.trim())}removeOIDCScopes(){He._A.forEach((e=>{this.scopes.delete(e)}))}unionScopeSets(e){if(!e)throw qt(ft);const t=new Set;return e.scopes.forEach((e=>t.add(e.toLowerCase()))),this.scopes.forEach((e=>t.add(e.toLowerCase()))),t}intersectingScopeSets(e){if(!e)throw qt(ft);e.containsOnlyOIDCScopes()||e.removeOIDCScopes();const t=this.unionScopeSets(e),n=e.getScopeCount(),r=this.getScopeCount();return t.size<r+n}getScopeCount(){return this.scopes.size}asArray(){const e=[];return this.scopes.forEach((t=>e.push(t))),e}printScopes(){if(this.scopes){return this.asArray().join(" ")}return He.YM.EMPTY_STRING}printScopesLowerCase(){return this.printScopes().toLowerCase()}}function Hn(e,t){if(!e)throw qt(Qe);try{const n=t(e);return JSON.parse(n)}catch(n){throw qt(Ye)}}function Gn(e){if(!e)throw qt(Ye);const t=e.split(He.LR.CLIENT_INFO_SEPARATOR,2);return{uid:t[0],utid:t.length<2?He.YM.EMPTY_STRING:t[1]}}function qn(e,t){return!!e&&!!t&&e===t.split(".")[1]}function jn(e,t,n,r){if(r){const{oid:t,sub:n,tid:o,name:i,tfp:a,acr:s}=r,l=o||a||s||"";return{tenantId:l,localAccountId:t||n||"",name:i,isHomeTenant:qn(l,e)}}return{tenantId:n,localAccountId:t,isHomeTenant:qn(n,e)}}function Vn(e,t,n,r){let o=e;if(t){const{isHomeTenant:n,...r}=t;o={...e,...r}}if(n){const{isHomeTenant:t,...i}=jn(e.homeAccountId,e.localAccountId,e.tenantId,n);return o={...o,...i,idTokenClaims:n,idToken:r},o}return o}const zn=0,Xn=1,Kn=2,Wn=3;function $n(e){if(e){return e.tid||e.tfp||e.acr||null}return null}class Yn{generateAccountId(){return[this.homeAccountId,this.environment].join(He.LR.CACHE_KEY_SEPARATOR).toLowerCase()}generateAccountKey(){return Yn.generateAccountCacheKey({homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId})}getAccountInfo(){return{homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId,name:this.name,nativeAccountId:this.nativeAccountId,authorityType:this.authorityType,tenantProfiles:new Map((this.tenantProfiles||[]).map((e=>[e.tenantId,e])))}}isSingleTenant(){return!this.tenantProfiles}static generateAccountCacheKey(e){const t=e.homeAccountId.split(".")[1];return[e.homeAccountId,e.environment||"",t||e.tenantId||""].join(He.LR.CACHE_KEY_SEPARATOR).toLowerCase()}static createAccount(e,t,n){const r=new Yn;let o;t.authorityType===Xn?r.authorityType=He.Qd.ADFS_ACCOUNT_TYPE:t.protocolMode===qe?r.authorityType=He.Qd.MSSTS_ACCOUNT_TYPE:r.authorityType=He.Qd.GENERIC_ACCOUNT_TYPE,e.clientInfo&&n&&(o=Hn(e.clientInfo,n)),r.clientInfo=e.clientInfo,r.homeAccountId=e.homeAccountId,r.nativeAccountId=e.nativeAccountId;const i=e.environment||t&&t.getPreferredCache();if(!i)throw qt(Et);r.environment=i,r.realm=o?.utid||$n(e.idTokenClaims)||"",r.localAccountId=o?.uid||e.idTokenClaims?.oid||e.idTokenClaims?.sub||"";const a=e.idTokenClaims?.preferred_username||e.idTokenClaims?.upn,s=e.idTokenClaims?.emails?e.idTokenClaims.emails[0]:null;if(r.username=a||s||"",r.name=e.idTokenClaims?.name||"",r.cloudGraphHostName=e.cloudGraphHostName,r.msGraphHost=e.msGraphHost,e.tenantProfiles)r.tenantProfiles=e.tenantProfiles;else{const t=jn(e.homeAccountId,r.localAccountId,r.realm,e.idTokenClaims);r.tenantProfiles=[t]}return r}static createFromAccountInfo(e,t,n){const r=new Yn;return r.authorityType=e.authorityType||He.Qd.GENERIC_ACCOUNT_TYPE,r.homeAccountId=e.homeAccountId,r.localAccountId=e.localAccountId,r.nativeAccountId=e.nativeAccountId,r.realm=e.tenantId,r.environment=e.environment,r.username=e.username,r.name=e.name,r.cloudGraphHostName=t,r.msGraphHost=n,r.tenantProfiles=Array.from(e.tenantProfiles?.values()||[]),r}static generateHomeAccountId(e,t,n,r,o){if(t!==Xn&&t!==Kn){if(e)try{const t=Hn(e,r.base64Decode);if(t.uid&&t.utid)return`${t.uid}.${t.utid}`}catch(i){}n.warning("No client info in response")}return o?.sub||""}static isAccountEntity(e){return!!e&&(e.hasOwnProperty("homeAccountId")&&e.hasOwnProperty("environment")&&e.hasOwnProperty("realm")&&e.hasOwnProperty("localAccountId")&&e.hasOwnProperty("username")&&e.hasOwnProperty("authorityType"))}static accountInfoIsEqual(e,t,n){if(!e||!t)return!1;let r=!0;if(n){const n=e.idTokenClaims||{},o=t.idTokenClaims||{};r=n.iat===o.iat&&n.nonce===o.nonce}return e.homeAccountId===t.homeAccountId&&e.localAccountId===t.localAccountId&&e.username===t.username&&e.tenantId===t.tenantId&&e.environment===t.environment&&e.nativeAccountId===t.nativeAccountId&&r}}function Qn(e){return e.startsWith("#/")?e.substring(2):e.startsWith("#")||e.startsWith("?")?e.substring(1):e}function Jn(e){if(!e||e.indexOf("=")<0)return null;try{const t=Qn(e),n=Object.fromEntries(new URLSearchParams(t));if(n.code||n.error||n.error_description||n.state)return n}catch(t){throw qt(rt)}return null}class Zn{get urlString(){return this._urlString}constructor(e){if(this._urlString=e,!this._urlString)throw Fn(_n);e.includes("#")||(this._urlString=Zn.canonicalizeUri(e))}static canonicalizeUri(e){if(e){let t=e.toLowerCase();return Un.endsWith(t,"?")?t=t.slice(0,-1):Un.endsWith(t,"?/")&&(t=t.slice(0,-2)),Un.endsWith(t,"/")||(t+="/"),t}return e}validateAsUri(){let e;try{e=this.getUrlComponents()}catch(t){throw Fn(fn)}if(!e.HostNameAndPort||!e.PathSegments)throw Fn(fn);if(!e.Protocol||"https:"!==e.Protocol.toLowerCase())throw Fn(gn)}static appendQueryString(e,t){return t?e.indexOf("?")<0?`${e}?${t}`:`${e}&${t}`:e}static removeHashFromUrl(e){return Zn.canonicalizeUri(e.split("#")[0])}replaceTenantPath(e){const t=this.getUrlComponents(),n=t.PathSegments;return!e||0===n.length||n[0]!==He.v2.COMMON&&n[0]!==He.v2.ORGANIZATIONS||(n[0]=e),Zn.constructAuthorityUriFromObject(t)}getUrlComponents(){const e=RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?"),t=this.urlString.match(e);if(!t)throw Fn(fn);const n={Protocol:t[1],HostNameAndPort:t[4],AbsolutePath:t[5],QueryString:t[7]};let r=n.AbsolutePath.split("/");return r=r.filter((e=>e&&e.length>0)),n.PathSegments=r,n.QueryString&&n.QueryString.endsWith("/")&&(n.QueryString=n.QueryString.substring(0,n.QueryString.length-1)),n}static getDomainFromUrl(e){const t=RegExp("^([^:/?#]+://)?([^/?#]*)"),n=e.match(t);if(!n)throw Fn(fn);return n[2]}static getAbsoluteUrl(e,t){if(e[0]===He.YM.FORWARD_SLASH){const n=new Zn(t).getUrlComponents();return n.Protocol+"//"+n.HostNameAndPort+e}return e}static constructAuthorityUriFromObject(e){return new Zn(e.Protocol+"//"+e.HostNameAndPort+"/"+e.PathSegments.join("/"))}static hashContainsKnownProperties(e){return!!Jn(e)}}const er={"login.microsoftonline.com":{token_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.microsoftonline.com/{tenantid}/discovery/v2.0/keys",issuer:"https://login.microsoftonline.com/{tenantid}/v2.0",authorization_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/logout"},"login.chinacloudapi.cn":{token_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.chinacloudapi.cn/{tenantid}/discovery/v2.0/keys",issuer:"https://login.partner.microsoftonline.cn/{tenantid}/v2.0",authorization_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/logout"},"login.microsoftonline.us":{token_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.microsoftonline.us/{tenantid}/discovery/v2.0/keys",issuer:"https://login.microsoftonline.us/{tenantid}/v2.0",authorization_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/logout"}},tr={tenant_discovery_endpoint:"https://{canonicalAuthority}/v2.0/.well-known/openid-configuration",metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]},nr=new Set;function rr(e,t,n,r){if(r?.trace(`getAliasesFromMetadata called with source: ${n}`),e&&t){const o=or(t,e);if(o)return r?.trace(`getAliasesFromMetadata: found cloud discovery metadata in ${n}, returning aliases`),o.aliases;r?.trace(`getAliasesFromMetadata: did not find cloud discovery metadata in ${n}`)}return null}function or(e,t){for(let n=0;n<e.length;n++){const r=e[n];if(r.aliases.includes(t))return r}return null}tr.metadata.forEach((e=>{e.aliases.forEach((e=>{nr.add(e)}))}));const ir="cache_quota_exceeded",ar="cache_error_unknown",sr={[ir]:"Exceeded cache storage capacity.",[ar]:"Unexpected error occurred when using cache storage."};class lr extends Error{constructor(e,t){const n=t||(sr[e]?sr[e]:sr[ar]);super(`${e}: ${n}`),Object.setPrototypeOf(this,lr.prototype),this.name="CacheError",this.errorCode=e,this.errorMessage=n}}class cr{constructor(e,t,n,r){this.clientId=e,this.cryptoImpl=t,this.commonLogger=n.clone(Vt,zt),this.staticAuthorityOptions=r}getAllAccounts(e){return this.buildTenantProfiles(this.getAccountsFilteredBy(e||{}),e)}getAccountInfoFilteredBy(e){const t=this.getAllAccounts(e);if(t.length>1){return t.sort((e=>e.idTokenClaims?-1:1))[0]}return 1===t.length?t[0]:null}getBaseAccountInfo(e){const t=this.getAccountsFilteredBy(e);return t.length>0?t[0].getAccountInfo():null}buildTenantProfiles(e,t){return e.flatMap((e=>this.getTenantProfilesFromAccountEntity(e,t?.tenantId,t)))}getTenantedAccountInfoByFilter(e,t,n,r){let o,i=null;if(r&&!this.tenantProfileMatchesFilter(n,r))return null;const a=this.getIdToken(e,t,n.tenantId);return a&&(o=Xt(a.secret,this.cryptoImpl.base64Decode),!this.idTokenClaimsMatchTenantProfileFilter(o,r))?null:(i=Vn(e,n,o,a?.secret),i)}getTenantProfilesFromAccountEntity(e,t,n){const r=e.getAccountInfo();let o=r.tenantProfiles||new Map;const i=this.getTokenKeys();if(t){const e=o.get(t);if(!e)return[];o=new Map([[t,e]])}const a=[];return o.forEach((e=>{const t=this.getTenantedAccountInfoByFilter(r,i,e,n);t&&a.push(t)})),a}tenantProfileMatchesFilter(e,t){return!(t.localAccountId&&!this.matchLocalAccountIdFromTenantProfile(e,t.localAccountId))&&((!t.name||e.name===t.name)&&(void 0===t.isHomeTenant||e.isHomeTenant===t.isHomeTenant))}idTokenClaimsMatchTenantProfileFilter(e,t){if(t){if(t.localAccountId&&!this.matchLocalAccountIdFromTokenClaims(e,t.localAccountId))return!1;if(t.loginHint&&!this.matchLoginHintFromTokenClaims(e,t.loginHint))return!1;if(t.username&&!this.matchUsername(e.preferred_username,t.username))return!1;if(t.name&&!this.matchName(e,t.name))return!1;if(t.sid&&!this.matchSid(e,t.sid))return!1}return!0}async saveCacheRecord(e,t,n){if(!e)throw qt(St);try{e.account&&this.setAccount(e.account),e.idToken&&!1!==t?.idToken&&this.setIdTokenCredential(e.idToken),e.accessToken&&!1!==t?.accessToken&&await this.saveAccessToken(e.accessToken),e.refreshToken&&!1!==t?.refreshToken&&this.setRefreshTokenCredential(e.refreshToken),e.appMetadata&&this.setAppMetadata(e.appMetadata)}catch(r){throw this.commonLogger?.error("CacheManager.saveCacheRecord: failed"),r instanceof Error?(this.commonLogger?.errorPii(`CacheManager.saveCacheRecord: ${r.message}`,n),"QuotaExceededError"===r.name||"NS_ERROR_DOM_QUOTA_REACHED"===r.name||r.message.includes("exceeded the quota")?(this.commonLogger?.error("CacheManager.saveCacheRecord: exceeded storage quota",n),new lr(ir)):new lr(r.name,r.message)):(this.commonLogger?.errorPii(`CacheManager.saveCacheRecord: ${r}`,n),new lr(ar))}}async saveAccessToken(e){const t={clientId:e.clientId,credentialType:e.credentialType,environment:e.environment,homeAccountId:e.homeAccountId,realm:e.realm,tokenType:e.tokenType,requestedClaimsHash:e.requestedClaimsHash},n=this.getTokenKeys(),r=Bn.fromString(e.target),o=[];n.accessToken.forEach((e=>{if(!this.accessTokenKeyMatchesFilter(e,t,!1))return;const n=this.getAccessTokenCredential(e);if(n&&this.credentialMatchesFilter(n,t)){Bn.fromString(n.target).intersectingScopeSets(r)&&o.push(this.removeAccessToken(e))}})),await Promise.all(o),this.setAccessTokenCredential(e)}getAccountsFilteredBy(e){const t=this.getAccountKeys(),n=[];return t.forEach((t=>{if(!this.isAccountKey(t,e.homeAccountId))return;const r=this.getAccount(t,this.commonLogger);if(!r)return;if(e.homeAccountId&&!this.matchHomeAccountId(r,e.homeAccountId))return;if(e.username&&!this.matchUsername(r.username,e.username))return;if(e.environment&&!this.matchEnvironment(r,e.environment))return;if(e.realm&&!this.matchRealm(r,e.realm))return;if(e.nativeAccountId&&!this.matchNativeAccountId(r,e.nativeAccountId))return;if(e.authorityType&&!this.matchAuthorityType(r,e.authorityType))return;const o={localAccountId:e?.localAccountId,name:e?.name},i=r.tenantProfiles?.filter((e=>this.tenantProfileMatchesFilter(e,o)));i&&0===i.length||n.push(r)})),n}isAccountKey(e,t,n){return!(e.split(He.LR.CACHE_KEY_SEPARATOR).length<3)&&(!(t&&!e.toLowerCase().includes(t.toLowerCase()))&&!(n&&!e.toLowerCase().includes(n.toLowerCase())))}isCredentialKey(e){if(e.split(He.LR.CACHE_KEY_SEPARATOR).length<6)return!1;const t=e.toLowerCase();if(-1===t.indexOf(He.aG.ID_TOKEN.toLowerCase())&&-1===t.indexOf(He.aG.ACCESS_TOKEN.toLowerCase())&&-1===t.indexOf(He.aG.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase())&&-1===t.indexOf(He.aG.REFRESH_TOKEN.toLowerCase()))return!1;if(t.indexOf(He.aG.REFRESH_TOKEN.toLowerCase())>-1){const e=`${He.aG.REFRESH_TOKEN}${He.LR.CACHE_KEY_SEPARATOR}${this.clientId}${He.LR.CACHE_KEY_SEPARATOR}`,n=`${He.aG.REFRESH_TOKEN}${He.LR.CACHE_KEY_SEPARATOR}${He.hB}${He.LR.CACHE_KEY_SEPARATOR}`;if(-1===t.indexOf(e.toLowerCase())&&-1===t.indexOf(n.toLowerCase()))return!1}else if(-1===t.indexOf(this.clientId.toLowerCase()))return!1;return!0}credentialMatchesFilter(e,t){if(t.clientId&&!this.matchClientId(e,t.clientId))return!1;if(t.userAssertionHash&&!this.matchUserAssertionHash(e,t.userAssertionHash))return!1;if("string"===typeof t.homeAccountId&&!this.matchHomeAccountId(e,t.homeAccountId))return!1;if(t.environment&&!this.matchEnvironment(e,t.environment))return!1;if(t.realm&&!this.matchRealm(e,t.realm))return!1;if(t.credentialType&&!this.matchCredentialType(e,t.credentialType))return!1;if(t.familyId&&!this.matchFamilyId(e,t.familyId))return!1;if(t.target&&!this.matchTarget(e,t.target))return!1;if((t.requestedClaimsHash||e.requestedClaimsHash)&&e.requestedClaimsHash!==t.requestedClaimsHash)return!1;if(e.credentialType===He.aG.ACCESS_TOKEN_WITH_AUTH_SCHEME){if(t.tokenType&&!this.matchTokenType(e,t.tokenType))return!1;if(t.tokenType===He.IO.SSH&&t.keyId&&!this.matchKeyId(e,t.keyId))return!1}return!0}getAppMetadataFilteredBy(e){const t=this.getKeys(),n={};return t.forEach((t=>{if(!this.isAppMetadata(t))return;const r=this.getAppMetadata(t);r&&(e.environment&&!this.matchEnvironment(r,e.environment)||e.clientId&&!this.matchClientId(r,e.clientId)||(n[t]=r))})),n}getAuthorityMetadataByAlias(e){const t=this.getAuthorityMetadataKeys();let n=null;return t.forEach((t=>{if(!this.isAuthorityMetadata(t)||-1===t.indexOf(this.clientId))return;const r=this.getAuthorityMetadata(t);r&&-1!==r.aliases.indexOf(e)&&(n=r)})),n}async removeAllAccounts(){const e=this.getAccountKeys(),t=[];e.forEach((e=>{t.push(this.removeAccount(e))})),await Promise.all(t)}async removeAccount(e){const t=this.getAccount(e,this.commonLogger);t&&(await this.removeAccountContext(t),this.removeItem(e))}async removeAccountContext(e){const t=this.getTokenKeys(),n=e.generateAccountId(),r=[];t.idToken.forEach((e=>{0===e.indexOf(n)&&this.removeIdToken(e)})),t.accessToken.forEach((e=>{0===e.indexOf(n)&&r.push(this.removeAccessToken(e))})),t.refreshToken.forEach((e=>{0===e.indexOf(n)&&this.removeRefreshToken(e)})),await Promise.all(r)}updateOutdatedCachedAccount(e,t,n){if(t&&t.isSingleTenant()){this.commonLogger?.verbose("updateOutdatedCachedAccount: Found a single-tenant (outdated) account entity in the cache, migrating to multi-tenant account entity");const r=this.getAccountKeys().filter((e=>e.startsWith(t.homeAccountId))),o=[];r.forEach((e=>{const t=this.getCachedAccountEntity(e);t&&o.push(t)}));const i=o.find((e=>qn(e.realm,e.homeAccountId)))||o[0];i.tenantProfiles=o.map((e=>({tenantId:e.realm,localAccountId:e.localAccountId,name:e.name,isHomeTenant:qn(e.realm,e.homeAccountId)})));const a=cr.toObject(new Yn,{...i}),s=a.generateAccountKey();return r.forEach((t=>{t!==s&&this.removeOutdatedAccount(e)})),this.setAccount(a),n?.verbose("Updated an outdated account entity in the cache"),a}return t}async removeAccessToken(e){const t=this.getAccessTokenCredential(e);if(t){if(t.credentialType.toLowerCase()===He.aG.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase()&&t.tokenType===He.IO.POP){const e=t.keyId;if(e)try{await this.cryptoImpl.removeTokenBindingKey(e)}catch(n){throw qt(Ot)}}return this.removeItem(e)}}removeAppMetadata(){return this.getKeys().forEach((e=>{this.isAppMetadata(e)&&this.removeItem(e)})),!0}readAccountFromCache(e){const t=Yn.generateAccountCacheKey(e);return this.getAccount(t,this.commonLogger)}getIdToken(e,t,n,r,o){this.commonLogger.trace("CacheManager - getIdToken called");const i={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:He.aG.ID_TOKEN,clientId:this.clientId,realm:n},a=this.getIdTokensByFilter(i,t),s=a.size;if(s<1)return this.commonLogger.info("CacheManager:getIdToken - No token found"),null;if(s>1){let t=a;if(!n){const n=new Map;a.forEach(((t,r)=>{t.realm===e.tenantId&&n.set(r,t)}));const r=n.size;if(r<1)return this.commonLogger.info("CacheManager:getIdToken - Multiple ID tokens found for account but none match account entity tenant id, returning first result"),a.values().next().value;if(1===r)return this.commonLogger.info("CacheManager:getIdToken - Multiple ID tokens found for account, defaulting to home tenant profile"),n.values().next().value;t=n}return this.commonLogger.info("CacheManager:getIdToken - Multiple matching ID tokens found, clearing them"),t.forEach(((e,t)=>{this.removeIdToken(t)})),r&&o&&r.addFields({multiMatchedID:a.size},o),null}return this.commonLogger.info("CacheManager:getIdToken - Returning ID token"),a.values().next().value}getIdTokensByFilter(e,t){const n=t&&t.idToken||this.getTokenKeys().idToken,r=new Map;return n.forEach((t=>{if(!this.idTokenKeyMatchesFilter(t,{clientId:this.clientId,...e}))return;const n=this.getIdTokenCredential(t);n&&this.credentialMatchesFilter(n,e)&&r.set(t,n)})),r}idTokenKeyMatchesFilter(e,t){const n=e.toLowerCase();return(!t.clientId||-1!==n.indexOf(t.clientId.toLowerCase()))&&(!t.homeAccountId||-1!==n.indexOf(t.homeAccountId.toLowerCase()))}removeIdToken(e){this.removeItem(e)}removeRefreshToken(e){this.removeItem(e)}getAccessToken(e,t,n,r,o,i){this.commonLogger.trace("CacheManager - getAccessToken called");const a=Bn.createSearchScopes(t.scopes),s=t.authenticationScheme||He.IO.BEARER,l=s&&s.toLowerCase()!==He.IO.BEARER.toLowerCase()?He.aG.ACCESS_TOKEN_WITH_AUTH_SCHEME:He.aG.ACCESS_TOKEN,c={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:l,clientId:this.clientId,realm:r||e.tenantId,target:a,tokenType:s,keyId:t.sshKid,requestedClaimsHash:t.requestedClaimsHash},u=n&&n.accessToken||this.getTokenKeys().accessToken,d=[];u.forEach((e=>{if(this.accessTokenKeyMatchesFilter(e,c,!0)){const t=this.getAccessTokenCredential(e);t&&this.credentialMatchesFilter(t,c)&&d.push(t)}}));const p=d.length;return p<1?(this.commonLogger.info("CacheManager:getAccessToken - No token found"),null):p>1?(this.commonLogger.info("CacheManager:getAccessToken - Multiple access tokens found, clearing them"),d.forEach((e=>{this.removeAccessToken($t(e))})),o&&i&&o.addFields({multiMatchedAT:d.length},i),null):(this.commonLogger.info("CacheManager:getAccessToken - Returning access token"),d[0])}accessTokenKeyMatchesFilter(e,t,n){const r=e.toLowerCase();if(t.clientId&&-1===r.indexOf(t.clientId.toLowerCase()))return!1;if(t.homeAccountId&&-1===r.indexOf(t.homeAccountId.toLowerCase()))return!1;if(t.realm&&-1===r.indexOf(t.realm.toLowerCase()))return!1;if(t.requestedClaimsHash&&-1===r.indexOf(t.requestedClaimsHash.toLowerCase()))return!1;if(t.target){const e=t.target.asArray();for(let t=0;t<e.length;t++){if(n&&!r.includes(e[t].toLowerCase()))return!1;if(!n&&r.includes(e[t].toLowerCase()))return!0}}return!0}getAccessTokensByFilter(e){const t=this.getTokenKeys(),n=[];return t.accessToken.forEach((t=>{if(!this.accessTokenKeyMatchesFilter(t,e,!0))return;const r=this.getAccessTokenCredential(t);r&&this.credentialMatchesFilter(r,e)&&n.push(r)})),n}getRefreshToken(e,t,n,r,o){this.commonLogger.trace("CacheManager - getRefreshToken called");const i=t?He.hB:void 0,a={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:He.aG.REFRESH_TOKEN,clientId:this.clientId,familyId:i},s=n&&n.refreshToken||this.getTokenKeys().refreshToken,l=[];s.forEach((e=>{if(this.refreshTokenKeyMatchesFilter(e,a)){const t=this.getRefreshTokenCredential(e);t&&this.credentialMatchesFilter(t,a)&&l.push(t)}}));const c=l.length;return c<1?(this.commonLogger.info("CacheManager:getRefreshToken - No refresh token found."),null):(c>1&&r&&o&&r.addFields({multiMatchedRT:c},o),this.commonLogger.info("CacheManager:getRefreshToken - returning refresh token"),l[0])}refreshTokenKeyMatchesFilter(e,t){const n=e.toLowerCase();return(!t.familyId||-1!==n.indexOf(t.familyId.toLowerCase()))&&(!(!t.familyId&&t.clientId&&-1===n.indexOf(t.clientId.toLowerCase()))&&(!t.homeAccountId||-1!==n.indexOf(t.homeAccountId.toLowerCase())))}readAppMetadataFromCache(e){const t={environment:e,clientId:this.clientId},n=this.getAppMetadataFilteredBy(t),r=Object.keys(n).map((e=>n[e])),o=r.length;if(o<1)return null;if(o>1)throw qt(pt);return r[0]}isAppMetadataFOCI(e){const t=this.readAppMetadataFromCache(e);return!(!t||t.familyId!==He.hB)}matchHomeAccountId(e,t){return!("string"!==typeof e.homeAccountId||t!==e.homeAccountId)}matchLocalAccountIdFromTokenClaims(e,t){return t===(e.oid||e.sub)}matchLocalAccountIdFromTenantProfile(e,t){return e.localAccountId===t}matchName(e,t){return!(t.toLowerCase()!==e.name?.toLowerCase())}matchUsername(e,t){return!(!e||"string"!==typeof e||t?.toLowerCase()!==e.toLowerCase())}matchUserAssertionHash(e,t){return!(!e.userAssertionHash||t!==e.userAssertionHash)}matchEnvironment(e,t){if(this.staticAuthorityOptions){const n=function(e,t){let n;const r=e.canonicalAuthority;if(r){const o=new Zn(r).getUrlComponents().HostNameAndPort;n=rr(o,e.cloudDiscoveryMetadata?.metadata,He.E_.CONFIG,t)||rr(o,tr.metadata,He.E_.HARDCODED_VALUES,t)||e.knownAuthorities}return n||[]}(this.staticAuthorityOptions,this.commonLogger);if(n.includes(t)&&n.includes(e.environment))return!0}const n=this.getAuthorityMetadataByAlias(t);return!!(n&&n.aliases.indexOf(e.environment)>-1)}matchCredentialType(e,t){return e.credentialType&&t.toLowerCase()===e.credentialType.toLowerCase()}matchClientId(e,t){return!(!e.clientId||t!==e.clientId)}matchFamilyId(e,t){return!(!e.familyId||t!==e.familyId)}matchRealm(e,t){return!(e.realm?.toLowerCase()!==t.toLowerCase())}matchNativeAccountId(e,t){return!(!e.nativeAccountId||t!==e.nativeAccountId)}matchLoginHintFromTokenClaims(e,t){return e.login_hint===t||(e.preferred_username===t||e.upn===t)}matchSid(e,t){return e.sid===t}matchAuthorityType(e,t){return!(!e.authorityType||t.toLowerCase()!==e.authorityType.toLowerCase())}matchTarget(e,t){if(e.credentialType!==He.aG.ACCESS_TOKEN&&e.credentialType!==He.aG.ACCESS_TOKEN_WITH_AUTH_SCHEME||!e.target)return!1;return Bn.fromString(e.target).containsScopeSet(t)}matchTokenType(e,t){return!(!e.tokenType||e.tokenType!==t)}matchKeyId(e,t){return!(!e.keyId||e.keyId!==t)}isAppMetadata(e){return-1!==e.indexOf(He.GU)}isAuthorityMetadata(e){return-1!==e.indexOf(He.u0.CACHE_KEY)}generateAuthorityMetadataCacheKey(e){return`${He.u0.CACHE_KEY}-${this.clientId}-${e}`}static toObject(e,t){for(const n in t)e[n]=t[n];return e}}class ur extends cr{setAccount(){throw qt(Ut)}getAccount(){throw qt(Ut)}getCachedAccountEntity(){throw qt(Ut)}setIdTokenCredential(){throw qt(Ut)}getIdTokenCredential(){throw qt(Ut)}setAccessTokenCredential(){throw qt(Ut)}getAccessTokenCredential(){throw qt(Ut)}setRefreshTokenCredential(){throw qt(Ut)}getRefreshTokenCredential(){throw qt(Ut)}setAppMetadata(){throw qt(Ut)}getAppMetadata(){throw qt(Ut)}setServerTelemetry(){throw qt(Ut)}getServerTelemetry(){throw qt(Ut)}setAuthorityMetadata(){throw qt(Ut)}getAuthorityMetadata(){throw qt(Ut)}getAuthorityMetadataKeys(){throw qt(Ut)}setThrottlingCache(){throw qt(Ut)}getThrottlingCache(){throw qt(Ut)}removeItem(){throw qt(Ut)}getKeys(){throw qt(Ut)}getAccountKeys(){throw qt(Ut)}getTokenKeys(){throw qt(Ut)}updateCredentialCacheKey(){throw qt(Ut)}removeOutdatedAccount(){throw qt(Ut)}}const dr={tokenRenewalOffsetSeconds:He.F0,preventCorsPreflight:!1},pr={loggerCallback:()=>{},piiLoggingEnabled:!1,logLevel:Ue.Info,correlationId:He.YM.EMPTY_STRING},mr={claimsBasedCachingEnabled:!1},hr={async sendGetRequestAsync(){throw qt(Ut)},async sendPostRequestAsync(){throw qt(Ut)}},gr={sku:He.YM.SKU,version:zt,cpu:He.YM.EMPTY_STRING,os:He.YM.EMPTY_STRING},fr={clientSecret:He.YM.EMPTY_STRING,clientAssertion:void 0},_r={azureCloudInstance:Ve,tenant:`${He.YM.DEFAULT_COMMON_TENANT}`},vr={application:{appName:"",appVersion:""}};function yr(e){return e.authOptions.authority.options.protocolMode===je}const br={sendGetRequestAsync:()=>Promise.reject(qt(Ut)),sendPostRequestAsync:()=>Promise.reject(qt(Ut))},Sr={AcquireTokenByCode:"acquireTokenByCode",AcquireTokenByRefreshToken:"acquireTokenByRefreshToken",AcquireTokenSilent:"acquireTokenSilent",AcquireTokenSilentAsync:"acquireTokenSilentAsync",AcquireTokenPopup:"acquireTokenPopup",AcquireTokenPreRedirect:"acquireTokenPreRedirect",AcquireTokenRedirect:"acquireTokenRedirect",CryptoOptsGetPublicKeyThumbprint:"cryptoOptsGetPublicKeyThumbprint",CryptoOptsSignJwt:"cryptoOptsSignJwt",SilentCacheClientAcquireToken:"silentCacheClientAcquireToken",SilentIframeClientAcquireToken:"silentIframeClientAcquireToken",AwaitConcurrentIframe:"awaitConcurrentIframe",SilentRefreshClientAcquireToken:"silentRefreshClientAcquireToken",SsoSilent:"ssoSilent",StandardInteractionClientGetDiscoveredAuthority:"standardInteractionClientGetDiscoveredAuthority",FetchAccountIdWithNativeBroker:"fetchAccountIdWithNativeBroker",NativeInteractionClientAcquireToken:"nativeInteractionClientAcquireToken",BaseClientCreateTokenRequestHeaders:"baseClientCreateTokenRequestHeaders",NetworkClientSendPostRequestAsync:"networkClientSendPostRequestAsync",RefreshTokenClientExecutePostToTokenEndpoint:"refreshTokenClientExecutePostToTokenEndpoint",AuthorizationCodeClientExecutePostToTokenEndpoint:"authorizationCodeClientExecutePostToTokenEndpoint",BrokerHandhshake:"brokerHandshake",AcquireTokenByRefreshTokenInBroker:"acquireTokenByRefreshTokenInBroker",AcquireTokenByBroker:"acquireTokenByBroker",RefreshTokenClientExecuteTokenRequest:"refreshTokenClientExecuteTokenRequest",RefreshTokenClientAcquireToken:"refreshTokenClientAcquireToken",RefreshTokenClientAcquireTokenWithCachedRefreshToken:"refreshTokenClientAcquireTokenWithCachedRefreshToken",RefreshTokenClientAcquireTokenByRefreshToken:"refreshTokenClientAcquireTokenByRefreshToken",RefreshTokenClientCreateTokenRequestBody:"refreshTokenClientCreateTokenRequestBody",AcquireTokenFromCache:"acquireTokenFromCache",SilentFlowClientAcquireCachedToken:"silentFlowClientAcquireCachedToken",SilentFlowClientGenerateResultFromCacheRecord:"silentFlowClientGenerateResultFromCacheRecord",AcquireTokenBySilentIframe:"acquireTokenBySilentIframe",InitializeBaseRequest:"initializeBaseRequest",InitializeSilentRequest:"initializeSilentRequest",InitializeClientApplication:"initializeClientApplication",SilentIframeClientTokenHelper:"silentIframeClientTokenHelper",SilentHandlerInitiateAuthRequest:"silentHandlerInitiateAuthRequest",SilentHandlerMonitorIframeForHash:"silentHandlerMonitorIframeForHash",SilentHandlerLoadFrame:"silentHandlerLoadFrame",SilentHandlerLoadFrameSync:"silentHandlerLoadFrameSync",StandardInteractionClientCreateAuthCodeClient:"standardInteractionClientCreateAuthCodeClient",StandardInteractionClientGetClientConfiguration:"standardInteractionClientGetClientConfiguration",StandardInteractionClientInitializeAuthorizationRequest:"standardInteractionClientInitializeAuthorizationRequest",StandardInteractionClientInitializeAuthorizationCodeRequest:"standardInteractionClientInitializeAuthorizationCodeRequest",GetAuthCodeUrl:"getAuthCodeUrl",HandleCodeResponseFromServer:"handleCodeResponseFromServer",HandleCodeResponse:"handleCodeResponse",UpdateTokenEndpointAuthority:"updateTokenEndpointAuthority",AuthClientAcquireToken:"authClientAcquireToken",AuthClientExecuteTokenRequest:"authClientExecuteTokenRequest",AuthClientCreateTokenRequestBody:"authClientCreateTokenRequestBody",AuthClientCreateQueryString:"authClientCreateQueryString",PopTokenGenerateCnf:"popTokenGenerateCnf",PopTokenGenerateKid:"popTokenGenerateKid",HandleServerTokenResponse:"handleServerTokenResponse",DeserializeResponse:"deserializeResponse",AuthorityFactoryCreateDiscoveredInstance:"authorityFactoryCreateDiscoveredInstance",AuthorityResolveEndpointsAsync:"authorityResolveEndpointsAsync",AuthorityResolveEndpointsFromLocalSources:"authorityResolveEndpointsFromLocalSources",AuthorityGetCloudDiscoveryMetadataFromNetwork:"authorityGetCloudDiscoveryMetadataFromNetwork",AuthorityUpdateCloudDiscoveryMetadata:"authorityUpdateCloudDiscoveryMetadata",AuthorityGetEndpointMetadataFromNetwork:"authorityGetEndpointMetadataFromNetwork",AuthorityUpdateEndpointMetadata:"authorityUpdateEndpointMetadata",AuthorityUpdateMetadataWithRegionalInformation:"authorityUpdateMetadataWithRegionalInformation",RegionDiscoveryDetectRegion:"regionDiscoveryDetectRegion",RegionDiscoveryGetRegionFromIMDS:"regionDiscoveryGetRegionFromIMDS",RegionDiscoveryGetCurrentVersion:"regionDiscoveryGetCurrentVersion",AcquireTokenByCodeAsync:"acquireTokenByCodeAsync",GetEndpointMetadataFromNetwork:"getEndpointMetadataFromNetwork",GetCloudDiscoveryMetadataFromNetworkMeasurement:"getCloudDiscoveryMetadataFromNetworkMeasurement",HandleRedirectPromiseMeasurement:"handleRedirectPromise",HandleNativeRedirectPromiseMeasurement:"handleNativeRedirectPromise",UpdateCloudDiscoveryMetadataMeasurement:"updateCloudDiscoveryMetadataMeasurement",UsernamePasswordClientAcquireToken:"usernamePasswordClientAcquireToken",NativeMessageHandlerHandshake:"nativeMessageHandlerHandshake",NativeGenerateAuthResult:"nativeGenerateAuthResult",RemoveHiddenIframe:"removeHiddenIframe",ClearTokensAndKeysWithClaims:"clearTokensAndKeysWithClaims",CacheManagerGetRefreshToken:"cacheManagerGetRefreshToken",GeneratePkceCodes:"generatePkceCodes",GenerateCodeVerifier:"generateCodeVerifier",GenerateCodeChallengeFromVerifier:"generateCodeChallengeFromVerifier",Sha256Digest:"sha256Digest",GetRandomValues:"getRandomValues"},Er=(new Map([[Sr.AcquireTokenByCode,"ATByCode"],[Sr.AcquireTokenByRefreshToken,"ATByRT"],[Sr.AcquireTokenSilent,"ATS"],[Sr.AcquireTokenSilentAsync,"ATSAsync"],[Sr.AcquireTokenPopup,"ATPopup"],[Sr.AcquireTokenRedirect,"ATRedirect"],[Sr.CryptoOptsGetPublicKeyThumbprint,"CryptoGetPKThumb"],[Sr.CryptoOptsSignJwt,"CryptoSignJwt"],[Sr.SilentCacheClientAcquireToken,"SltCacheClientAT"],[Sr.SilentIframeClientAcquireToken,"SltIframeClientAT"],[Sr.SilentRefreshClientAcquireToken,"SltRClientAT"],[Sr.SsoSilent,"SsoSlt"],[Sr.StandardInteractionClientGetDiscoveredAuthority,"StdIntClientGetDiscAuth"],[Sr.FetchAccountIdWithNativeBroker,"FetchAccIdWithNtvBroker"],[Sr.NativeInteractionClientAcquireToken,"NtvIntClientAT"],[Sr.BaseClientCreateTokenRequestHeaders,"BaseClientCreateTReqHead"],[Sr.NetworkClientSendPostRequestAsync,"NetClientSendPost"],[Sr.RefreshTokenClientExecutePostToTokenEndpoint,"RTClientExecPost"],[Sr.AuthorizationCodeClientExecutePostToTokenEndpoint,"AuthCodeClientExecPost"],[Sr.BrokerHandhshake,"BrokerHandshake"],[Sr.AcquireTokenByRefreshTokenInBroker,"ATByRTInBroker"],[Sr.AcquireTokenByBroker,"ATByBroker"],[Sr.RefreshTokenClientExecuteTokenRequest,"RTClientExecTReq"],[Sr.RefreshTokenClientAcquireToken,"RTClientAT"],[Sr.RefreshTokenClientAcquireTokenWithCachedRefreshToken,"RTClientATWithCachedRT"],[Sr.RefreshTokenClientAcquireTokenByRefreshToken,"RTClientATByRT"],[Sr.RefreshTokenClientCreateTokenRequestBody,"RTClientCreateTReqBody"],[Sr.AcquireTokenFromCache,"ATFromCache"],[Sr.SilentFlowClientAcquireCachedToken,"SltFlowClientATCached"],[Sr.SilentFlowClientGenerateResultFromCacheRecord,"SltFlowClientGenResFromCache"],[Sr.AcquireTokenBySilentIframe,"ATBySltIframe"],[Sr.InitializeBaseRequest,"InitBaseReq"],[Sr.InitializeSilentRequest,"InitSltReq"],[Sr.InitializeClientApplication,"InitClientApplication"],[Sr.SilentIframeClientTokenHelper,"SIClientTHelper"],[Sr.SilentHandlerInitiateAuthRequest,"SHandlerInitAuthReq"],[Sr.SilentHandlerMonitorIframeForHash,"SltHandlerMonitorIframeForHash"],[Sr.SilentHandlerLoadFrame,"SHandlerLoadFrame"],[Sr.SilentHandlerLoadFrameSync,"SHandlerLoadFrameSync"],[Sr.StandardInteractionClientCreateAuthCodeClient,"StdIntClientCreateAuthCodeClient"],[Sr.StandardInteractionClientGetClientConfiguration,"StdIntClientGetClientConf"],[Sr.StandardInteractionClientInitializeAuthorizationRequest,"StdIntClientInitAuthReq"],[Sr.StandardInteractionClientInitializeAuthorizationCodeRequest,"StdIntClientInitAuthCodeReq"],[Sr.GetAuthCodeUrl,"GetAuthCodeUrl"],[Sr.HandleCodeResponseFromServer,"HandleCodeResFromServer"],[Sr.HandleCodeResponse,"HandleCodeResp"],[Sr.UpdateTokenEndpointAuthority,"UpdTEndpointAuth"],[Sr.AuthClientAcquireToken,"AuthClientAT"],[Sr.AuthClientExecuteTokenRequest,"AuthClientExecTReq"],[Sr.AuthClientCreateTokenRequestBody,"AuthClientCreateTReqBody"],[Sr.AuthClientCreateQueryString,"AuthClientCreateQueryStr"],[Sr.PopTokenGenerateCnf,"PopTGenCnf"],[Sr.PopTokenGenerateKid,"PopTGenKid"],[Sr.HandleServerTokenResponse,"HandleServerTRes"],[Sr.DeserializeResponse,"DeserializeRes"],[Sr.AuthorityFactoryCreateDiscoveredInstance,"AuthFactCreateDiscInst"],[Sr.AuthorityResolveEndpointsAsync,"AuthResolveEndpointsAsync"],[Sr.AuthorityResolveEndpointsFromLocalSources,"AuthResolveEndpointsFromLocal"],[Sr.AuthorityGetCloudDiscoveryMetadataFromNetwork,"AuthGetCDMetaFromNet"],[Sr.AuthorityUpdateCloudDiscoveryMetadata,"AuthUpdCDMeta"],[Sr.AuthorityGetEndpointMetadataFromNetwork,"AuthUpdCDMetaFromNet"],[Sr.AuthorityUpdateEndpointMetadata,"AuthUpdEndpointMeta"],[Sr.AuthorityUpdateMetadataWithRegionalInformation,"AuthUpdMetaWithRegInfo"],[Sr.RegionDiscoveryDetectRegion,"RegDiscDetectReg"],[Sr.RegionDiscoveryGetRegionFromIMDS,"RegDiscGetRegFromIMDS"],[Sr.RegionDiscoveryGetCurrentVersion,"RegDiscGetCurrentVer"],[Sr.AcquireTokenByCodeAsync,"ATByCodeAsync"],[Sr.GetEndpointMetadataFromNetwork,"GetEndpointMetaFromNet"],[Sr.GetCloudDiscoveryMetadataFromNetworkMeasurement,"GetCDMetaFromNet"],[Sr.HandleRedirectPromiseMeasurement,"HandleRedirectPromise"],[Sr.HandleNativeRedirectPromiseMeasurement,"HandleNtvRedirectPromise"],[Sr.UpdateCloudDiscoveryMetadataMeasurement,"UpdateCDMeta"],[Sr.UsernamePasswordClientAcquireToken,"UserPassClientAT"],[Sr.NativeMessageHandlerHandshake,"NtvMsgHandlerHandshake"],[Sr.NativeGenerateAuthResult,"NtvGenAuthRes"],[Sr.RemoveHiddenIframe,"RemoveHiddenIframe"],[Sr.ClearTokensAndKeysWithClaims,"ClearTAndKeysWithClaims"],[Sr.CacheManagerGetRefreshToken,"CacheManagerGetRT"],[Sr.GeneratePkceCodes,"GenPkceCodes"],[Sr.GenerateCodeVerifier,"GenCodeVerifier"],[Sr.GenerateCodeChallengeFromVerifier,"GenCodeChallengeFromVerifier"],[Sr.Sha256Digest,"Sha256Digest"],[Sr.GetRandomValues,"GetRandomValues"]]),1);new Set(["accessTokenSize","durationMs","idTokenSize","matsSilentStatus","matsHttpStatus","refreshTokenSize","queuedTimeMs","startTimeMs","status","multiMatchedAT","multiMatchedID","multiMatchedRT"]);class Cr{startMeasurement(){}endMeasurement(){}flushMeasurement(){return null}}class Tr{generateId(){return"callback-id"}startMeasurement(e,t){return{end:()=>null,discard:()=>{},add:()=>{},increment:()=>{},event:{eventId:this.generateId(),status:Er,authority:"",libraryName:"",libraryVersion:"",clientId:"",name:e,startTimeMs:Date.now(),correlationId:t||""},measurement:new Cr}}startPerformanceMeasurement(){return new Cr}calculateQueuedTime(){return 0}addQueueMeasurement(){}setPreQueueTime(){}endMeasurement(){return null}discardMeasurements(){}removePerformanceCallback(){return!0}addPerformanceCallback(){return""}emitEvents(){}addFields(){}incrementFields(){}cacheEventByCorrelationId(){}}const wr={INTERACTION_IN_PROGRESS_VALUE:"interaction_in_progress",INVALID_GRANT_ERROR:"invalid_grant",POPUP_WIDTH:483,POPUP_HEIGHT:600,POPUP_NAME_PREFIX:"msal",DEFAULT_POLL_INTERVAL_MS:30,MSAL_SKU:"msal.js.browser"},Ir="53ee284d-920a-4b59-9d30-a60315b26836",Pr="ppnbnpeolgkicgegkbkbjmhlideopiji",Ar="MATS",kr="Handshake",xr="HandshakeResponse",Rr="GetToken",Or="Response",Nr="localStorage",Mr="sessionStorage",Lr="memoryStorage",Dr="GET",Fr="POST",Ur="authority",Br="request.state",Hr="nonce.id_token",Gr="request.origin",qr="urlHash",jr="request.params",Vr="interaction.status",zr="ccs.credential",Xr="request.correlationId",Kr="request.native",Wr="msal.account.keys",$r="msal.token.keys",Yr="wrapper.sku",Qr="wrapper.version",Jr=861,Zr=862,eo=863,to=865,no=866,ro=61,oo=961,io=962;var ao;!function(e){e.Redirect="redirect",e.Popup="popup",e.Silent="silent",e.None="none"}(ao||(ao={}));const so={scopes:He.aZ},lo="msal.db",co=`${lo}.keys`,uo=0,po=1,mo=2,ho=3,go=4,fo=5,_o=[uo,fo,go];class vo{navigateInternal(e,t){return vo.defaultNavigateWindow(e,t)}navigateExternal(e,t){return vo.defaultNavigateWindow(e,t)}static defaultNavigateWindow(e,t){return t.noHistory?window.location.replace(e):window.location.assign(e),new Promise((e=>{setTimeout((()=>{e(!0)}),t.timeout)}))}}class yo extends We{constructor(e,t,n){super(e.errorCode,e.errorMessage,e.subError),Object.setPrototypeOf(this,yo.prototype),this.name="NetworkError",this.error=e,this.httpStatus=t,this.responseHeaders=n}}function bo(e,t,n){return new yo(e,t,n)}const So="pkce_not_created",Eo="crypto_nonexistent",Co="empty_navigate_uri",To="hash_empty_error",wo="no_state_in_hash",Io="hash_does_not_contain_known_properties",Po="unable_to_parse_state",Ao="state_interaction_type_mismatch",ko="interaction_in_progress",xo="popup_window_error",Ro="empty_window_error",Oo="user_cancelled",No="monitor_popup_timeout",Mo="monitor_window_timeout",Lo="redirect_in_iframe",Do="block_iframe_reload",Fo="block_nested_popups",Uo="iframe_closed_prematurely",Bo="silent_logout_unsupported",Ho="no_account_error",Go="silent_prompt_value_error",qo="no_token_request_cache_error",jo="unable_to_parse_token_request_cache_error",Vo="no_cached_authority_error",zo="auth_request_not_set_error",Xo="invalid_cache_type",Ko="non_browser_environment",Wo="database_not_open",$o="no_network_connectivity",Yo="post_request_failed",Qo="get_request_failed",Jo="failed_to_parse_response",Zo="unable_to_load_token",ei="crypto_key_not_found",ti="auth_code_required",ni="auth_code_or_nativeAccountId_required",ri="spa_code_and_nativeAccountId_present",oi="database_unavailable",ii="unable_to_acquire_token_from_native_platform",ai="native_handshake_timeout",si="native_extension_not_installed",li="native_connection_not_established",ci="uninitialized_public_client_application",ui="native_prompt_not_supported",di="invalid_base64_string",pi="invalid_pop_token_request",mi="failed_to_build_headers",hi="failed_to_parse_headers",gi="For more visit: aka.ms/msaljs/browser-errors",fi={[So]:"The PKCE code challenge and verifier could not be generated.",[Eo]:"The crypto object or function is not available.",[Co]:"Navigation URI is empty. Please check stack trace for more info.",[To]:`Hash value cannot be processed because it is empty. Please verify that your redirectUri is not clearing the hash. ${gi}`,[wo]:"Hash does not contain state. Please verify that the request originated from msal.",[Io]:`Hash does not contain known properites. Please verify that your redirectUri is not changing the hash.  ${gi}`,[Po]:"Unable to parse state. Please verify that the request originated from msal.",[Ao]:"Hash contains state but the interaction type does not match the caller.",[ko]:`Interaction is currently in progress. Please ensure that this interaction has been completed before calling an interactive API.   ${gi}`,[xo]:"Error opening popup window. This can happen if you are using IE or if popups are blocked in the browser.",[Ro]:"window.open returned null or undefined window object.",[Oo]:"User cancelled the flow.",[No]:`Token acquisition in popup failed due to timeout.  ${gi}`,[Mo]:`Token acquisition in iframe failed due to timeout.  ${gi}`,[Lo]:"Redirects are not supported for iframed or brokered applications. Please ensure you are using MSAL.js in a top frame of the window if using the redirect APIs, or use the popup APIs.",[Do]:`Request was blocked inside an iframe because MSAL detected an authentication response.  ${gi}`,[Fo]:"Request was blocked inside a popup because MSAL detected it was running in a popup.",[Uo]:"The iframe being monitored was closed prematurely.",[Bo]:"Silent logout not supported. Please call logoutRedirect or logoutPopup instead.",[Ho]:"No account object provided to acquireTokenSilent and no active account has been set. Please call setActiveAccount or provide an account on the request.",[Go]:"The value given for the prompt value is not valid for silent requests - must be set to 'none' or 'no_session'.",[qo]:"No token request found in cache.",[jo]:"The cached token request could not be parsed.",[Vo]:"No cached authority found.",[zo]:"Auth Request not set. Please ensure initiateAuthRequest was called from the InteractionHandler",[Xo]:"Invalid cache type",[Ko]:"Login and token requests are not supported in non-browser environments.",[Wo]:"Database is not open!",[$o]:"No network connectivity. Check your internet connection.",[Yo]:"Network request failed: If the browser threw a CORS error, check that the redirectUri is registered in the Azure App Portal as type 'SPA'",[Qo]:"Network request failed. Please check the network trace to determine root cause.",[Jo]:"Failed to parse network response. Check network trace.",[Zo]:"Error loading token to cache.",[ei]:"Cryptographic Key or Keypair not found in browser storage.",[ti]:"An authorization code must be provided (as the `code` property on the request) to this flow.",[ni]:"An authorization code or nativeAccountId must be provided to this flow.",[ri]:"Request cannot contain both spa code and native account id.",[oi]:"IndexedDB, which is required for persistent cryptographic key storage, is unavailable. This may be caused by browser privacy features which block persistent storage in third-party contexts.",[ii]:`Unable to acquire token from native platform.  ${gi}`,[ai]:"Timed out while attempting to establish connection to browser extension",[si]:"Native extension is not installed. If you think this is a mistake call the initialize function.",[li]:`Connection to native platform has not been established. Please install a compatible browser extension and run initialize().  ${gi}`,[ci]:`You must call and await the initialize function before attempting to call any other MSAL API.  ${gi}`,[ui]:"The provided prompt is not supported by the native platform. This request should be routed to the web based flow.",[di]:"Invalid base64 encoded string.",[pi]:"Invalid PoP token request. The request should not have both a popKid value and signPopToken set to true.",[mi]:"Failed to build request headers object.",[hi]:"Failed to parse response headers"};class _i extends We{constructor(e,t){super(e,fi[e],t),Object.setPrototypeOf(this,_i.prototype),this.name="BrowserAuthError"}}function vi(e,t){return new _i(e,t)}class yi{async sendGetRequestAsync(e,t){let n,r={},o=0;const i=bi(t);try{n=await fetch(e,{method:Dr,headers:i})}catch(a){throw vi(window.navigator.onLine?Qo:$o)}r=Si(n.headers);try{return o=n.status,{headers:r,body:await n.json(),status:o}}catch(a){throw bo(vi(Jo),o,r)}}async sendPostRequestAsync(e,t){const n=t&&t.body||"",r=bi(t);let o,i=0,a={};try{o=await fetch(e,{method:Fr,headers:r,body:n})}catch(s){throw vi(window.navigator.onLine?Yo:$o)}a=Si(o.headers);try{return i=o.status,{headers:a,body:await o.json(),status:i}}catch(s){throw bo(vi(Jo),i,a)}}}function bi(e){try{const t=new Headers;if(!e||!e.headers)return t;const n=e.headers;return Object.entries(n).forEach((([e,n])=>{t.append(e,n)})),t}catch(t){throw vi(mi)}}function Si(e){try{const t={};return e.forEach(((e,n)=>{t[n]=e})),t}catch(t){throw vi(hi)}}function Ei(e){return encodeURIComponent(Ti(e).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"))}function Ci(e){return wi(e).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Ti(e){return wi((new TextEncoder).encode(e))}function wi(e){const t=Array.from(e,(e=>String.fromCodePoint(e))).join("");return btoa(t)}const Ii="SHA-256",Pi=new Uint8Array([1,0,1]),Ai="0123456789abcdef",ki=new Uint32Array(1),xi={name:"RSASSA-PKCS1-v1_5",hash:Ii,modulusLength:2048,publicExponent:Pi};async function Ri(e,t,n){t?.addQueueMeasurement(Sr.Sha256Digest,n);const r=(new TextEncoder).encode(e);return window.crypto.subtle.digest(Ii,r)}function Oi(e){return window.crypto.getRandomValues(e)}function Ni(){return window.crypto.getRandomValues(ki),ki[0]}function Mi(){const e=Date.now(),t=1024*Ni()+(1023&Ni()),n=new Uint8Array(16),r=Math.trunc(t/2**30),o=t&2**30-1,i=Ni();n[0]=e/2**40,n[1]=e/2**32,n[2]=e/2**24,n[3]=e/65536,n[4]=e/256,n[5]=e,n[6]=112|r>>>8,n[7]=r,n[8]=128|o>>>24,n[9]=o>>>16,n[10]=o>>>8,n[11]=o,n[12]=i>>>24,n[13]=i>>>16,n[14]=i>>>8,n[15]=i;let a="";for(let s=0;s<n.length;s++)a+=Ai.charAt(n[s]>>>4),a+=Ai.charAt(15&n[s]),3!==s&&5!==s&&7!==s&&9!==s||(a+="-");return a}async function Li(e){return window.crypto.subtle.exportKey("jwk",e)}async function Di(e){const t=await Ri(e);return Ci(new Uint8Array(t))}const Fi="storage_not_supported",Ui="stubbed_public_client_application_called",Bi="in_mem_redirect_unavailable",Hi={[Fi]:"Given storage configuration option was not supported.",[Ui]:"Stub instance of Public Client Application was called. If using msal-react, please ensure context is not used without a provider. For more visit: aka.ms/msaljs/browser-errors",[Bi]:"Redirect cannot be supported. In-memory storage was selected and storeAuthStateInCookie=false, which would cause the library to be unable to handle the incoming hash. If you would like to use the redirect API, please use session/localStorage or set storeAuthStateInCookie=true."};Hi[Fi],Hi[Ui],Hi[Bi];class Gi extends We{constructor(e,t){super(e,t),this.name="BrowserConfigurationAuthError",Object.setPrototypeOf(this,Gi.prototype)}}function qi(e){return new Gi(e,Hi[e])}function ji(){return window.parent!==window}function Vi(){return window.location?window.location.href.split("?")[0].split("#")[0]:""}function zi(){if(window.opener&&window.opener!==window&&"string"===typeof window.name&&0===window.name.indexOf(`${wr.POPUP_NAME_PREFIX}.`))throw vi(Fo)}function Xi(){0}function Ki(e){if(!e)throw vi(ci)}function Wi(e){Xi(),function(){if(Zn.hashContainsKnownProperties(window.location.hash)&&ji())throw vi(Do)}(),zi(),Ki(e)}function $i(e,t){if(Wi(e),function(e){if(ji()&&!e)throw vi(Lo)}(t.system.allowRedirectInIframe),t.cache.cacheLocation===Lr&&!t.cache.storeAuthStateInCookie)throw qi(Bi)}function Yi(e){const t=document.createElement("link");t.rel="preconnect",t.href=new URL(e).origin,t.crossOrigin="anonymous",document.head.appendChild(t),window.setTimeout((()=>{try{document.head.removeChild(t)}catch{}}),1e4)}const Qi=1e4;const Ji="3.28.1";class Zi{static loggerCallback(e,t){switch(e){case Ue.Error:return void console.error(t);case Ue.Info:return void console.info(t);case Ue.Verbose:return void console.debug(t);case Ue.Warning:return void console.warn(t);default:return void console.log(t)}}constructor(e){let t;this.browserEnvironment=!0,this.config=function({auth:e,cache:t,system:n,telemetry:r},o){const i={clientId:He.YM.EMPTY_STRING,authority:`${He.YM.DEFAULT_AUTHORITY}`,knownAuthorities:[],cloudDiscoveryMetadata:He.YM.EMPTY_STRING,authorityMetadata:He.YM.EMPTY_STRING,redirectUri:Vi(),postLogoutRedirectUri:He.YM.EMPTY_STRING,navigateToLoginRequestUrl:!0,clientCapabilities:[],protocolMode:qe,OIDCOptions:{serverResponseType:He.zL.FRAGMENT,defaultScopes:[He.YM.OPENID_SCOPE,He.YM.PROFILE_SCOPE,He.YM.OFFLINE_ACCESS_SCOPE]},azureCloudOptions:{azureCloudInstance:Ve,tenant:He.YM.EMPTY_STRING},skipAuthorityMetadataCache:!1,supportsNestedAppAuth:!1,instanceAware:!1},a={cacheLocation:Mr,temporaryCacheLocation:Mr,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!(!t||t.cacheLocation!==Nr),claimsBasedCachingEnabled:!1},s={loggerCallback:()=>{},logLevel:Ue.Info,piiLoggingEnabled:!1},l={...{...dr,loggerOptions:s,networkClient:o?new yi:br,navigationClient:new vo,loadFrameTimeout:0,windowHashTimeout:n?.loadFrameTimeout||6e4,iframeHashTimeout:n?.loadFrameTimeout||Qi,navigateFrameWait:0,redirectNavigationTimeout:3e4,asyncPopups:!1,allowRedirectInIframe:!1,allowNativeBroker:!1,nativeBrokerHandshakeTimeout:n?.nativeBrokerHandshakeTimeout||2e3,pollIntervalMilliseconds:wr.DEFAULT_POLL_INTERVAL_MS},...n,loggerOptions:n?.loggerOptions||s},c={application:{appName:He.YM.EMPTY_STRING,appVersion:He.YM.EMPTY_STRING},client:new Tr};e?.protocolMode!==je&&e?.OIDCOptions&&new Ge(l.loggerOptions).warning(JSON.stringify(Fn(On)));if(e?.protocolMode&&e.protocolMode!==qe&&l?.allowNativeBroker)throw Fn(Nn);return{auth:{...i,...e,OIDCOptions:{...i.OIDCOptions,...e?.OIDCOptions}},cache:{...a,...t},system:l,telemetry:{...c,...r}}}(e,this.browserEnvironment);try{t=window[Mr]}catch(s){}const n=t?.getItem("msal.browser.log.level"),r=t?.getItem("msal.browser.log.pii")?.toLowerCase(),o="true"===r||"false"!==r&&void 0,i={...this.config.system.loggerOptions},a=n&&Object.keys(Ue).includes(n)?Ue[n]:void 0;a&&(i.loggerCallback=Zi.loggerCallback,i.logLevel=a),void 0!==o&&(i.piiLoggingEnabled=o),this.logger=new Ge(i,"@azure/msal-browser",Ji),this.available=!1}getConfig(){return this.config}getLogger(){return this.logger}isAvailable(){return this.available}isBrowserEnvironment(){return this.browserEnvironment}}class ea extends Zi{getModuleName(){return ea.MODULE_NAME}getId(){return ea.ID}async initialize(){return this.available=!0,this.available}}ea.MODULE_NAME="",ea.ID="StandardOperatingContext";const ta="missing_kid_error",na="missing_alg_error",ra={[ta]:"The JOSE Header for the requested JWT, JWS or JWK object requires a keyId to be configured as the 'kid' header claim. No 'kid' value was provided.",[na]:"The JOSE Header for the requested JWT, JWS or JWK object requires an algorithm to be specified as the 'alg' header claim. No 'alg' value was provided."};class oa extends We{constructor(e,t){super(e,t),this.name="JoseHeaderError",Object.setPrototypeOf(this,oa.prototype)}}function ia(e){return new oa(e,ra[e])}class aa{constructor(e){this.typ=e.typ,this.alg=e.alg,this.kid=e.kid}static getShrHeaderString(e){if(!e.kid)throw ia(ta);if(!e.alg)throw ia(na);const t=new aa({typ:e.typ||He.Lz.Pop,kid:e.kid,alg:e.alg});return JSON.stringify(t)}}function sa(e){return(new TextDecoder).decode(function(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw vi(di)}const n=atob(t);return Uint8Array.from(n,(e=>e.codePointAt(0)||0))}(e))}class la{constructor(){this.dbName=lo,this.version=1,this.tableName=co,this.dbOpen=!1}async open(){return new Promise(((e,t)=>{const n=window.indexedDB.open(this.dbName,this.version);n.addEventListener("upgradeneeded",(e=>{e.target.result.createObjectStore(this.tableName)})),n.addEventListener("success",(t=>{const n=t;this.db=n.target.result,this.dbOpen=!0,e()})),n.addEventListener("error",(()=>t(vi(oi))))}))}closeConnection(){const e=this.db;e&&this.dbOpen&&(e.close(),this.dbOpen=!1)}async validateDbIsOpen(){if(!this.dbOpen)return this.open()}async getItem(e){return await this.validateDbIsOpen(),new Promise(((t,n)=>{if(!this.db)return n(vi(Wo));const r=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).get(e);r.addEventListener("success",(e=>{const n=e;this.closeConnection(),t(n.target.result)})),r.addEventListener("error",(e=>{this.closeConnection(),n(e)}))}))}async setItem(e,t){return await this.validateDbIsOpen(),new Promise(((n,r)=>{if(!this.db)return r(vi(Wo));const o=this.db.transaction([this.tableName],"readwrite").objectStore(this.tableName).put(t,e);o.addEventListener("success",(()=>{this.closeConnection(),n()})),o.addEventListener("error",(e=>{this.closeConnection(),r(e)}))}))}async removeItem(e){return await this.validateDbIsOpen(),new Promise(((t,n)=>{if(!this.db)return n(vi(Wo));const r=this.db.transaction([this.tableName],"readwrite").objectStore(this.tableName).delete(e);r.addEventListener("success",(()=>{this.closeConnection(),t()})),r.addEventListener("error",(e=>{this.closeConnection(),n(e)}))}))}async getKeys(){return await this.validateDbIsOpen(),new Promise(((e,t)=>{if(!this.db)return t(vi(Wo));const n=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).getAllKeys();n.addEventListener("success",(t=>{const n=t;this.closeConnection(),e(n.target.result)})),n.addEventListener("error",(e=>{this.closeConnection(),t(e)}))}))}async containsKey(e){return await this.validateDbIsOpen(),new Promise(((t,n)=>{if(!this.db)return n(vi(Wo));const r=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).count(e);r.addEventListener("success",(e=>{const n=e;this.closeConnection(),t(1===n.target.result)})),r.addEventListener("error",(e=>{this.closeConnection(),n(e)}))}))}async deleteDatabase(){return this.db&&this.dbOpen&&this.closeConnection(),new Promise(((e,t)=>{const n=window.indexedDB.deleteDatabase(lo),r=setTimeout((()=>t(!1)),200);n.addEventListener("success",(()=>(clearTimeout(r),e(!0)))),n.addEventListener("blocked",(()=>(clearTimeout(r),e(!0)))),n.addEventListener("error",(()=>(clearTimeout(r),t(!1))))}))}}class ca{constructor(){this.cache=new Map}getItem(e){return this.cache.get(e)||null}setItem(e,t){this.cache.set(e,t)}removeItem(e){this.cache.delete(e)}getKeys(){const e=[];return this.cache.forEach(((t,n)=>{e.push(n)})),e}containsKey(e){return this.cache.has(e)}clear(){this.cache.clear()}}class ua{constructor(e){this.inMemoryCache=new ca,this.indexedDBCache=new la,this.logger=e}handleDatabaseAccessError(e){if(!(e instanceof _i&&e.errorCode===oi))throw e;this.logger.error("Could not access persistent storage. This may be caused by browser privacy features which block persistent storage in third-party contexts.")}async getItem(e){const t=this.inMemoryCache.getItem(e);if(!t)try{return this.logger.verbose("Queried item not found in in-memory cache, now querying persistent storage."),await this.indexedDBCache.getItem(e)}catch(n){this.handleDatabaseAccessError(n)}return t}async setItem(e,t){this.inMemoryCache.setItem(e,t);try{await this.indexedDBCache.setItem(e,t)}catch(n){this.handleDatabaseAccessError(n)}}async removeItem(e){this.inMemoryCache.removeItem(e);try{await this.indexedDBCache.removeItem(e)}catch(t){this.handleDatabaseAccessError(t)}}async getKeys(){const e=this.inMemoryCache.getKeys();if(0===e.length)try{return this.logger.verbose("In-memory cache is empty, now querying persistent storage."),await this.indexedDBCache.getKeys()}catch(t){this.handleDatabaseAccessError(t)}return e}async containsKey(e){const t=this.inMemoryCache.containsKey(e);if(!t)try{return this.logger.verbose("Key not found in in-memory cache, now querying persistent storage."),await this.indexedDBCache.containsKey(e)}catch(n){this.handleDatabaseAccessError(n)}return t}clearInMemory(){this.logger.verbose("Deleting in-memory keystore"),this.inMemoryCache.clear(),this.logger.verbose("In-memory keystore deleted")}async clearPersistent(){try{this.logger.verbose("Deleting persistent keystore");const e=await this.indexedDBCache.deleteDatabase();return e&&this.logger.verbose("Persistent keystore deleted"),e}catch(e){return this.handleDatabaseAccessError(e),!1}}}class da{constructor(e,t,n){this.logger=e,function(e){if(!window)throw vi(Ko);if(!window.crypto)throw vi(Eo);if(!e&&!window.crypto.subtle)throw vi(Eo,"crypto_subtle_undefined")}(n??!1),this.cache=new ua(this.logger),this.performanceClient=t}createNewGuid(){return Mi()}base64Encode(e){return Ti(e)}base64Decode(e){return sa(e)}base64UrlEncode(e){return Ei(e)}encodeKid(e){return this.base64UrlEncode(JSON.stringify({kid:e}))}async getPublicKeyThumbprint(e){const t=this.performanceClient?.startMeasurement(Sr.CryptoOptsGetPublicKeyThumbprint,e.correlationId),n=await async function(e,t){return window.crypto.subtle.generateKey(xi,e,t)}(da.EXTRACTABLE,da.POP_KEY_USAGES),r=await Li(n.publicKey),o=pa({e:r.e,kty:r.kty,n:r.n}),i=await this.hashString(o),a=await Li(n.privateKey),s=await async function(e,t,n){return window.crypto.subtle.importKey("jwk",e,xi,t,n)}(a,!1,["sign"]);return await this.cache.setItem(i,{privateKey:s,publicKey:n.publicKey,requestMethod:e.resourceRequestMethod,requestUri:e.resourceRequestUri}),t&&t.end({success:!0}),i}async removeTokenBindingKey(e){await this.cache.removeItem(e);return!await this.cache.containsKey(e)}async clearKeystore(){this.cache.clearInMemory();try{return await this.cache.clearPersistent(),!0}catch(e){return e instanceof Error?this.logger.error(`Clearing keystore failed with error: ${e.message}`):this.logger.error("Clearing keystore failed with unknown error"),!1}}async signJwt(e,t,n,r){const o=this.performanceClient?.startMeasurement(Sr.CryptoOptsSignJwt,r),i=await this.cache.getItem(t);if(!i)throw vi(ei);const a=await Li(i.publicKey),s=pa(a),l=Ei(JSON.stringify({kid:t})),c=Ei(aa.getShrHeaderString({...n?.header,alg:a.alg,kid:l}));e.cnf={jwk:JSON.parse(s)};const u=`${c}.${Ei(JSON.stringify(e))}`,d=(new TextEncoder).encode(u),p=await async function(e,t){return window.crypto.subtle.sign(xi,e,t)}(i.privateKey,d),m=`${u}.${Ci(new Uint8Array(p))}`;return o&&o.end({success:!0}),m}async hashString(e){return Di(e)}}function pa(e){return JSON.stringify(e,Object.keys(e).sort())}da.POP_KEY_USAGES=["sign","verify"],da.EXTRACTABLE=!0;const ma=(e,t,n,r,o)=>(...i)=>{n.trace(`Executing function ${t}`);const a=r?.startMeasurement(t,o);if(o){const e=t+"CallCount";r?.incrementFields({[e]:1},o)}try{const r=e(...i);return a?.end({success:!0}),n.trace(`Returning result from ${t}`),r}catch(s){n.trace(`Error occurred in ${t}`);try{n.trace(JSON.stringify(s))}catch(s){n.trace("Unable to print error message.")}throw a?.end({success:!1},s),s}},ha=(e,t,n,r,o)=>(...i)=>{n.trace(`Executing function ${t}`);const a=r?.startMeasurement(t,o);if(o){const e=t+"CallCount";r?.incrementFields({[e]:1},o)}return r?.setPreQueueTime(t,o),e(...i).then((e=>(n.trace(`Returning result from ${t}`),a?.end({success:!0}),e))).catch((e=>{n.trace(`Error occurred in ${t}`);try{n.trace(JSON.stringify(e))}catch(e){n.trace("Unable to print error message.")}throw a?.end({success:!1},e),e}))};class ga{constructor(e,t,n,r){this.networkInterface=e,this.logger=t,this.performanceClient=n,this.correlationId=r}async detectRegion(e,t){this.performanceClient?.addQueueMeasurement(Sr.RegionDiscoveryDetectRegion,this.correlationId);let n=e;if(n)t.region_source=He.jZ.ENVIRONMENT_VARIABLE;else{const e=ga.IMDS_OPTIONS;try{const r=await ha(this.getRegionFromIMDS.bind(this),Sr.RegionDiscoveryGetRegionFromIMDS,this.logger,this.performanceClient,this.correlationId)(He.YM.IMDS_VERSION,e);if(r.status===He.Kk.httpSuccess&&(n=r.body,t.region_source=He.jZ.IMDS),r.status===He.Kk.httpBadRequest){const r=await ha(this.getCurrentVersion.bind(this),Sr.RegionDiscoveryGetCurrentVersion,this.logger,this.performanceClient,this.correlationId)(e);if(!r)return t.region_source=He.jZ.FAILED_AUTO_DETECTION,null;const o=await ha(this.getRegionFromIMDS.bind(this),Sr.RegionDiscoveryGetRegionFromIMDS,this.logger,this.performanceClient,this.correlationId)(r,e);o.status===He.Kk.httpSuccess&&(n=o.body,t.region_source=He.jZ.IMDS)}}catch(r){return t.region_source=He.jZ.FAILED_AUTO_DETECTION,null}}return n||(t.region_source=He.jZ.FAILED_AUTO_DETECTION),n||null}async getRegionFromIMDS(e,t){return this.performanceClient?.addQueueMeasurement(Sr.RegionDiscoveryGetRegionFromIMDS,this.correlationId),this.networkInterface.sendGetRequestAsync(`${He.YM.IMDS_ENDPOINT}?api-version=${e}&format=text`,t,He.YM.IMDS_TIMEOUT)}async getCurrentVersion(e){this.performanceClient?.addQueueMeasurement(Sr.RegionDiscoveryGetCurrentVersion,this.correlationId);try{const t=await this.networkInterface.sendGetRequestAsync(`${He.YM.IMDS_ENDPOINT}?format=json`,e);return t.status===He.Kk.httpBadRequest&&t.body&&t.body["newest-versions"]&&t.body["newest-versions"].length>0?t.body["newest-versions"][0]:null}catch(t){return null}}}ga.IMDS_OPTIONS={headers:{Metadata:"true"}};class fa{constructor(e,t,n,r,o,i,a,s){this.canonicalAuthority=e,this._canonicalAuthority.validateAsUri(),this.networkInterface=t,this.cacheManager=n,this.authorityOptions=r,this.regionDiscoveryMetadata={region_used:void 0,region_source:void 0,region_outcome:void 0},this.logger=o,this.performanceClient=a,this.correlationId=i,this.managedIdentity=s||!1,this.regionDiscovery=new ga(t,this.logger,this.performanceClient,this.correlationId)}getAuthorityType(e){if(e.HostNameAndPort.endsWith(He.YM.CIAM_AUTH_URL))return Wn;const t=e.PathSegments;if(t.length)switch(t[0].toLowerCase()){case He.YM.ADFS:return Xn;case He.YM.DSTS:return Kn}return zn}get authorityType(){return this.getAuthorityType(this.canonicalAuthorityUrlComponents)}get protocolMode(){return this.authorityOptions.protocolMode}get options(){return this.authorityOptions}get canonicalAuthority(){return this._canonicalAuthority.urlString}set canonicalAuthority(e){this._canonicalAuthority=new Zn(e),this._canonicalAuthority.validateAsUri(),this._canonicalAuthorityUrlComponents=null}get canonicalAuthorityUrlComponents(){return this._canonicalAuthorityUrlComponents||(this._canonicalAuthorityUrlComponents=this._canonicalAuthority.getUrlComponents()),this._canonicalAuthorityUrlComponents}get hostnameAndPort(){return this.canonicalAuthorityUrlComponents.HostNameAndPort.toLowerCase()}get tenant(){return this.canonicalAuthorityUrlComponents.PathSegments[0]}get authorizationEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.authorization_endpoint);throw qt(et)}get tokenEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint);throw qt(et)}get deviceCodeEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint.replace("/token","/devicecode"));throw qt(et)}get endSessionEndpoint(){if(this.discoveryComplete()){if(!this.metadata.end_session_endpoint)throw qt(Nt);return this.replacePath(this.metadata.end_session_endpoint)}throw qt(et)}get selfSignedJwtAudience(){if(this.discoveryComplete())return this.replacePath(this.metadata.issuer);throw qt(et)}get jwksUri(){if(this.discoveryComplete())return this.replacePath(this.metadata.jwks_uri);throw qt(et)}canReplaceTenant(e){return 1===e.PathSegments.length&&!fa.reservedTenantDomains.has(e.PathSegments[0])&&this.getAuthorityType(e)===zn&&this.protocolMode===qe}replaceTenant(e){return e.replace(/{tenant}|{tenantid}/g,this.tenant)}replacePath(e){let t=e;const n=new Zn(this.metadata.canonical_authority).getUrlComponents(),r=n.PathSegments;return this.canonicalAuthorityUrlComponents.PathSegments.forEach(((e,o)=>{let i=r[o];if(0===o&&this.canReplaceTenant(n)){const e=new Zn(this.metadata.authorization_endpoint).getUrlComponents().PathSegments[0];i!==e&&(this.logger.verbose(`Replacing tenant domain name ${i} with id ${e}`),i=e)}e!==i&&(t=t.replace(`/${i}/`,`/${e}/`))})),this.replaceTenant(t)}get defaultOpenIdConfigurationEndpoint(){const e=this.hostnameAndPort;return this.canonicalAuthority.endsWith("v2.0/")||this.authorityType===Xn||this.protocolMode!==qe&&!this.isAliasOfKnownMicrosoftAuthority(e)?`${this.canonicalAuthority}.well-known/openid-configuration`:`${this.canonicalAuthority}v2.0/.well-known/openid-configuration`}discoveryComplete(){return!!this.metadata}async resolveEndpointsAsync(){this.performanceClient?.addQueueMeasurement(Sr.AuthorityResolveEndpointsAsync,this.correlationId);const e=this.getCurrentMetadataEntity(),t=await ha(this.updateCloudDiscoveryMetadata.bind(this),Sr.AuthorityUpdateCloudDiscoveryMetadata,this.logger,this.performanceClient,this.correlationId)(e);this.canonicalAuthority=this.canonicalAuthority.replace(this.hostnameAndPort,e.preferred_network);const n=await ha(this.updateEndpointMetadata.bind(this),Sr.AuthorityUpdateEndpointMetadata,this.logger,this.performanceClient,this.correlationId)(e);this.updateCachedMetadata(e,t,{source:n}),this.performanceClient?.addFields({cloudDiscoverySource:t,authorityEndpointSource:n},this.correlationId)}getCurrentMetadataEntity(){let e=this.cacheManager.getAuthorityMetadataByAlias(this.hostnameAndPort);return e||(e={aliases:[],preferred_cache:this.hostnameAndPort,preferred_network:this.hostnameAndPort,canonical_authority:this.canonicalAuthority,authorization_endpoint:"",token_endpoint:"",end_session_endpoint:"",issuer:"",aliasesFromNetwork:!1,endpointsFromNetwork:!1,expiresAt:cn(),jwks_uri:""}),e}updateCachedMetadata(e,t,n){t!==He.E_.CACHE&&n?.source!==He.E_.CACHE&&(e.expiresAt=cn(),e.canonical_authority=this.canonicalAuthority);const r=this.cacheManager.generateAuthorityMetadataCacheKey(e.preferred_cache);this.cacheManager.setAuthorityMetadata(r,e),this.metadata=e}async updateEndpointMetadata(e){this.performanceClient?.addQueueMeasurement(Sr.AuthorityUpdateEndpointMetadata,this.correlationId);const t=this.updateEndpointMetadataFromLocalSources(e);if(t){if(t.source===He.E_.HARDCODED_VALUES&&this.authorityOptions.azureRegionConfiguration?.azureRegion&&t.metadata){un(e,await ha(this.updateMetadataWithRegionalInformation.bind(this),Sr.AuthorityUpdateMetadataWithRegionalInformation,this.logger,this.performanceClient,this.correlationId)(t.metadata),!1),e.canonical_authority=this.canonicalAuthority}return t.source}let n=await ha(this.getEndpointMetadataFromNetwork.bind(this),Sr.AuthorityGetEndpointMetadataFromNetwork,this.logger,this.performanceClient,this.correlationId)();if(n)return this.authorityOptions.azureRegionConfiguration?.azureRegion&&(n=await ha(this.updateMetadataWithRegionalInformation.bind(this),Sr.AuthorityUpdateMetadataWithRegionalInformation,this.logger,this.performanceClient,this.correlationId)(n)),un(e,n,!0),He.E_.NETWORK;throw qt(nt,this.defaultOpenIdConfigurationEndpoint)}updateEndpointMetadataFromLocalSources(e){this.logger.verbose("Attempting to get endpoint metadata from authority configuration");const t=this.getEndpointMetadataFromConfig();if(t)return this.logger.verbose("Found endpoint metadata in authority configuration"),un(e,t,!1),{source:He.E_.CONFIG};if(this.logger.verbose("Did not find endpoint metadata in the config... Attempting to get endpoint metadata from the hardcoded values."),this.authorityOptions.skipAuthorityMetadataCache)this.logger.verbose("Skipping hardcoded metadata cache since skipAuthorityMetadataCache is set to true. Attempting to get endpoint metadata from the network metadata cache.");else{const t=this.getEndpointMetadataFromHardcodedValues();if(t)return un(e,t,!1),{source:He.E_.HARDCODED_VALUES,metadata:t};this.logger.verbose("Did not find endpoint metadata in hardcoded values... Attempting to get endpoint metadata from the network metadata cache.")}const n=pn(e);return this.isAuthoritySameType(e)&&e.endpointsFromNetwork&&!n?(this.logger.verbose("Found endpoint metadata in the cache."),{source:He.E_.CACHE}):(n&&this.logger.verbose("The metadata entity is expired."),null)}isAuthoritySameType(e){return new Zn(e.canonical_authority).getUrlComponents().PathSegments.length===this.canonicalAuthorityUrlComponents.PathSegments.length}getEndpointMetadataFromConfig(){if(this.authorityOptions.authorityMetadata)try{return JSON.parse(this.authorityOptions.authorityMetadata)}catch(e){throw Fn(In)}return null}async getEndpointMetadataFromNetwork(){this.performanceClient?.addQueueMeasurement(Sr.AuthorityGetEndpointMetadataFromNetwork,this.correlationId);const e={},t=this.defaultOpenIdConfigurationEndpoint;this.logger.verbose(`Authority.getEndpointMetadataFromNetwork: attempting to retrieve OAuth endpoints from ${t}`);try{const n=await this.networkInterface.sendGetRequestAsync(t,e),r=function(e){return e.hasOwnProperty("authorization_endpoint")&&e.hasOwnProperty("token_endpoint")&&e.hasOwnProperty("issuer")&&e.hasOwnProperty("jwks_uri")}(n.body);return r?n.body:(this.logger.verbose("Authority.getEndpointMetadataFromNetwork: could not parse response as OpenID configuration"),null)}catch(n){return this.logger.verbose(`Authority.getEndpointMetadataFromNetwork: ${n}`),null}}getEndpointMetadataFromHardcodedValues(){return this.hostnameAndPort in er?er[this.hostnameAndPort]:null}async updateMetadataWithRegionalInformation(e){this.performanceClient?.addQueueMeasurement(Sr.AuthorityUpdateMetadataWithRegionalInformation,this.correlationId);const t=this.authorityOptions.azureRegionConfiguration?.azureRegion;if(t){if(t!==He.YM.AZURE_REGION_AUTO_DISCOVER_FLAG)return this.regionDiscoveryMetadata.region_outcome=He._2.CONFIGURED_NO_AUTO_DETECTION,this.regionDiscoveryMetadata.region_used=t,fa.replaceWithRegionalInformation(e,t);const n=await ha(this.regionDiscovery.detectRegion.bind(this.regionDiscovery),Sr.RegionDiscoveryDetectRegion,this.logger,this.performanceClient,this.correlationId)(this.authorityOptions.azureRegionConfiguration?.environmentRegion,this.regionDiscoveryMetadata);if(n)return this.regionDiscoveryMetadata.region_outcome=He._2.AUTO_DETECTION_REQUESTED_SUCCESSFUL,this.regionDiscoveryMetadata.region_used=n,fa.replaceWithRegionalInformation(e,n);this.regionDiscoveryMetadata.region_outcome=He._2.AUTO_DETECTION_REQUESTED_FAILED}return e}async updateCloudDiscoveryMetadata(e){this.performanceClient?.addQueueMeasurement(Sr.AuthorityUpdateCloudDiscoveryMetadata,this.correlationId);const t=this.updateCloudDiscoveryMetadataFromLocalSources(e);if(t)return t;const n=await ha(this.getCloudDiscoveryMetadataFromNetwork.bind(this),Sr.AuthorityGetCloudDiscoveryMetadataFromNetwork,this.logger,this.performanceClient,this.correlationId)();if(n)return dn(e,n,!0),He.E_.NETWORK;throw Fn(Pn)}updateCloudDiscoveryMetadataFromLocalSources(e){this.logger.verbose("Attempting to get cloud discovery metadata  from authority configuration"),this.logger.verbosePii(`Known Authorities: ${this.authorityOptions.knownAuthorities||He.YM.NOT_APPLICABLE}`),this.logger.verbosePii(`Authority Metadata: ${this.authorityOptions.authorityMetadata||He.YM.NOT_APPLICABLE}`),this.logger.verbosePii(`Canonical Authority: ${e.canonical_authority||He.YM.NOT_APPLICABLE}`);const t=this.getCloudDiscoveryMetadataFromConfig();if(t)return this.logger.verbose("Found cloud discovery metadata in authority configuration"),dn(e,t,!1),He.E_.CONFIG;if(this.logger.verbose("Did not find cloud discovery metadata in the config... Attempting to get cloud discovery metadata from the hardcoded values."),this.options.skipAuthorityMetadataCache)this.logger.verbose("Skipping hardcoded cloud discovery metadata cache since skipAuthorityMetadataCache is set to true. Attempting to get cloud discovery metadata from the network metadata cache.");else{const t=(n=this.hostnameAndPort,or(tr.metadata,n));if(t)return this.logger.verbose("Found cloud discovery metadata from hardcoded values."),dn(e,t,!1),He.E_.HARDCODED_VALUES;this.logger.verbose("Did not find cloud discovery metadata in hardcoded values... Attempting to get cloud discovery metadata from the network metadata cache.")}var n;const r=pn(e);return this.isAuthoritySameType(e)&&e.aliasesFromNetwork&&!r?(this.logger.verbose("Found cloud discovery metadata in the cache."),He.E_.CACHE):(r&&this.logger.verbose("The metadata entity is expired."),null)}getCloudDiscoveryMetadataFromConfig(){if(this.authorityType===Wn)return this.logger.verbose("CIAM authorities do not support cloud discovery metadata, generate the aliases from authority host."),fa.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort);if(this.authorityOptions.cloudDiscoveryMetadata){this.logger.verbose("The cloud discovery metadata has been provided as a network response, in the config.");try{this.logger.verbose("Attempting to parse the cloud discovery metadata.");const e=or(JSON.parse(this.authorityOptions.cloudDiscoveryMetadata).metadata,this.hostnameAndPort);if(this.logger.verbose("Parsed the cloud discovery metadata."),e)return this.logger.verbose("There is returnable metadata attached to the parsed cloud discovery metadata."),e;this.logger.verbose("There is no metadata attached to the parsed cloud discovery metadata.")}catch(e){throw this.logger.verbose("Unable to parse the cloud discovery metadata. Throwing Invalid Cloud Discovery Metadata Error."),Fn(wn)}}return this.isInKnownAuthorities()?(this.logger.verbose("The host is included in knownAuthorities. Creating new cloud discovery metadata from the host."),fa.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)):null}async getCloudDiscoveryMetadataFromNetwork(){this.performanceClient?.addQueueMeasurement(Sr.AuthorityGetCloudDiscoveryMetadataFromNetwork,this.correlationId);const e=`${He.YM.AAD_INSTANCE_DISCOVERY_ENDPT}${this.canonicalAuthority}oauth2/v2.0/authorize`,t={};let n=null;try{const r=await this.networkInterface.sendGetRequestAsync(e,t);let o,i;if(function(e){return e.hasOwnProperty("tenant_discovery_endpoint")&&e.hasOwnProperty("metadata")}(r.body))o=r.body,i=o.metadata,this.logger.verbosePii(`tenant_discovery_endpoint is: ${o.tenant_discovery_endpoint}`);else{if(!function(e){return e.hasOwnProperty("error")&&e.hasOwnProperty("error_description")}(r.body))return this.logger.error("AAD did not return a CloudInstanceDiscoveryResponse or CloudInstanceDiscoveryErrorResponse"),null;if(this.logger.warning(`A CloudInstanceDiscoveryErrorResponse was returned. The cloud instance discovery network request's status code is: ${r.status}`),o=r.body,o.error===He.YM.INVALID_INSTANCE)return this.logger.error("The CloudInstanceDiscoveryErrorResponse error is invalid_instance."),null;this.logger.warning(`The CloudInstanceDiscoveryErrorResponse error is ${o.error}`),this.logger.warning(`The CloudInstanceDiscoveryErrorResponse error description is ${o.error_description}`),this.logger.warning("Setting the value of the CloudInstanceDiscoveryMetadata (returned from the network) to []"),i=[]}this.logger.verbose("Attempting to find a match between the developer's authority and the CloudInstanceDiscoveryMetadata returned from the network request."),n=or(i,this.hostnameAndPort)}catch(r){if(r instanceof We)this.logger.error(`There was a network error while attempting to get the cloud discovery instance metadata.\nError: ${r.errorCode}\nError Description: ${r.errorMessage}`);else{const e=r;this.logger.error(`A non-MSALJS error was thrown while attempting to get the cloud instance discovery metadata.\nError: ${e.name}\nError Description: ${e.message}`)}return null}return n||(this.logger.warning("The developer's authority was not found within the CloudInstanceDiscoveryMetadata returned from the network request."),this.logger.verbose("Creating custom Authority for custom domain scenario."),n=fa.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)),n}isInKnownAuthorities(){return this.authorityOptions.knownAuthorities.filter((e=>e&&Zn.getDomainFromUrl(e).toLowerCase()===this.hostnameAndPort)).length>0}static generateAuthority(e,t){let n;if(t&&t.azureCloudInstance!==Ve){const e=t.tenant?t.tenant:He.YM.DEFAULT_COMMON_TENANT;n=`${t.azureCloudInstance}/${e}/`}return n||e}static createCloudDiscoveryMetadataFromHost(e){return{preferred_network:e,preferred_cache:e,aliases:[e]}}getPreferredCache(){if(this.managedIdentity)return He.YM.DEFAULT_AUTHORITY_HOST;if(this.discoveryComplete())return this.metadata.preferred_cache;throw qt(et)}isAlias(e){return this.metadata.aliases.indexOf(e)>-1}isAliasOfKnownMicrosoftAuthority(e){return nr.has(e)}static isPublicCloudAuthority(e){return He.YM.KNOWN_PUBLIC_CLOUDS.indexOf(e)>=0}static buildRegionalAuthorityString(e,t,n){const r=new Zn(e);r.validateAsUri();const o=r.getUrlComponents();let i=`${t}.${o.HostNameAndPort}`;this.isPublicCloudAuthority(o.HostNameAndPort)&&(i=`${t}.${He.YM.REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX}`);const a=Zn.constructAuthorityUriFromObject({...r.getUrlComponents(),HostNameAndPort:i}).urlString;return n?`${a}?${n}`:a}static replaceWithRegionalInformation(e,t){const n={...e};return n.authorization_endpoint=fa.buildRegionalAuthorityString(n.authorization_endpoint,t),n.token_endpoint=fa.buildRegionalAuthorityString(n.token_endpoint,t),n.end_session_endpoint&&(n.end_session_endpoint=fa.buildRegionalAuthorityString(n.end_session_endpoint,t)),n}static transformCIAMAuthority(e){let t=e;const n=new Zn(e).getUrlComponents();if(0===n.PathSegments.length&&n.HostNameAndPort.endsWith(He.YM.CIAM_AUTH_URL)){t=`${t}${n.HostNameAndPort.split(".")[0]}${He.YM.AAD_TENANT_DOMAIN_SUFFIX}`}return t}}function _a(e){return e.endsWith(He.YM.FORWARD_SLASH)?e:`${e}${He.YM.FORWARD_SLASH}`}fa.reservedTenantDomains=new Set(["{tenant}","{tenantid}",He.v2.COMMON,He.v2.CONSUMERS,He.v2.ORGANIZATIONS]);const va="no_tokens_found",ya="native_account_unavailable",ba="refresh_token_expired",Sa="bad_token",Ea=["interaction_required","consent_required","login_required",Sa],Ca=["message_only","additional_action","basic_action","user_password_expired","consent_required","bad_token"],Ta={[va]:"No refresh token found in the cache. Please sign-in.",[ya]:"The requested account is not available in the native broker. It may have been deleted or logged out. Please sign-in again using an interactive API.",[ba]:"Refresh token has expired.",[Sa]:"Identity provider returned bad_token due to an expired or invalid refresh token. Please invoke an interactive API to resolve."};Ta[va],Ta[ya],Ta[Sa];class wa extends We{constructor(e,t,n,r,o,i,a,s){super(e,t,n),Object.setPrototypeOf(this,wa.prototype),this.timestamp=r||He.YM.EMPTY_STRING,this.traceId=o||He.YM.EMPTY_STRING,this.correlationId=i||He.YM.EMPTY_STRING,this.claims=a||He.YM.EMPTY_STRING,this.name="InteractionRequiredAuthError",this.errorNo=s}}function Ia(e,t,n){const r=!!e&&Ea.indexOf(e)>-1,o=!!n&&Ca.indexOf(n)>-1,i=!!t&&Ea.some((e=>t.indexOf(e)>-1));return r||i||o}function Pa(e){return new wa(e,Ta[e])}class Aa{static setRequestState(e,t,n){const r=Aa.generateLibraryState(e,n);return t?`${r}${He.YM.RESOURCE_DELIM}${t}`:r}static generateLibraryState(e,t){if(!e)throw qt(Tt);const n={id:e.createNewGuid()};t&&(n.meta=t);const r=JSON.stringify(n);return e.base64Encode(r)}static parseRequestState(e,t){if(!e)throw qt(Tt);if(!t)throw qt(ot);try{const n=t.split(He.YM.RESOURCE_DELIM),r=n[0],o=n.length>1?n.slice(1).join(He.YM.RESOURCE_DELIM):He.YM.EMPTY_STRING,i=e.base64Decode(r),a=JSON.parse(i);return{userRequestState:o||He.YM.EMPTY_STRING,libraryState:a}}catch(n){throw qt(ot)}}}const ka="home_account_id",xa="UPN";class Ra{constructor(){if(!window.localStorage)throw qi(Fi)}getItem(e){return window.localStorage.getItem(e)}setItem(e,t){window.localStorage.setItem(e,t)}removeItem(e){window.localStorage.removeItem(e)}getKeys(){return Object.keys(window.localStorage)}containsKey(e){return window.localStorage.hasOwnProperty(e)}}class Oa{constructor(){if(!window.sessionStorage)throw qi(Fi)}getItem(e){return window.sessionStorage.getItem(e)}setItem(e,t){window.sessionStorage.setItem(e,t)}removeItem(e){window.sessionStorage.removeItem(e)}getKeys(){return Object.keys(window.sessionStorage)}containsKey(e){return window.sessionStorage.hasOwnProperty(e)}}function Na(e,t){if(!t)return null;try{return Aa.parseRequestState(e,t).libraryState.meta}catch(n){throw qt(ot)}}const Ma=864e5;class La{getItem(e){const t=`${encodeURIComponent(e)}`,n=document.cookie.split(";");for(let r=0;r<n.length;r++){const e=n[r],[o,...i]=decodeURIComponent(e).trim().split("="),a=i.join("=");if(o===t)return a}return""}setItem(e,t,n,r=!0){let o=`${encodeURIComponent(e)}=${encodeURIComponent(t)};path=/;SameSite=Lax;`;if(n){const e=function(e){const t=new Date,n=new Date(t.getTime()+e*Ma);return n.toUTCString()}(n);o+=`expires=${e};`}r&&(o+="Secure;"),document.cookie=o}removeItem(e){this.setItem(e,"",-1)}getKeys(){const e=document.cookie.split(";"),t=[];return e.forEach((e=>{const n=decodeURIComponent(e).trim().split("=");t.push(n[0])})),t}containsKey(e){return this.getKeys().includes(e)}}class Da extends cr{constructor(e,t,n,r,o,i){super(e,n,r,o),this.cacheConfig=t,this.logger=r,this.internalStorage=new ca,this.browserStorage=this.setupBrowserStorage(this.cacheConfig.cacheLocation),this.temporaryCacheStorage=this.setupBrowserStorage(this.cacheConfig.temporaryCacheLocation),this.cookieStorage=new La,t.cacheMigrationEnabled&&(this.migrateCacheEntries(),this.createKeyMaps()),this.performanceClient=i}setupBrowserStorage(e){try{switch(e){case Nr:return new Ra;case Mr:return new Oa}}catch(t){this.logger.error(t)}return this.cacheConfig.cacheLocation=Lr,new ca}migrateCacheEntries(){const e=`${He.YM.CACHE_PREFIX}.${He.Gd.ID_TOKEN}`,t=`${He.YM.CACHE_PREFIX}.${He.Gd.CLIENT_INFO}`,n=`${He.YM.CACHE_PREFIX}.${He.Gd.ERROR}`,r=`${He.YM.CACHE_PREFIX}.${He.Gd.ERROR_DESC}`,o=[this.browserStorage.getItem(e),this.browserStorage.getItem(t),this.browserStorage.getItem(n),this.browserStorage.getItem(r)];[He.Gd.ID_TOKEN,He.Gd.CLIENT_INFO,He.Gd.ERROR,He.Gd.ERROR_DESC].forEach(((e,t)=>{const n=o[t];n&&this.setTemporaryCache(e,n,!0)}))}createKeyMaps(){this.logger.trace("BrowserCacheManager - createKeyMaps called.");const e=this.getItem(Wr),t=this.getItem(`${$r}.${this.clientId}`);if(e&&t)return void this.logger.verbose("BrowserCacheManager:createKeyMaps - account and token key maps already exist, skipping migration.");this.browserStorage.getKeys().forEach((e=>{if(this.isCredentialKey(e)){const t=this.getItem(e);if(t){const n=this.validateAndParseJson(t);if(n&&n.hasOwnProperty("credentialType"))switch(n.credentialType){case He.aG.ID_TOKEN:if(tn(n)){this.logger.trace("BrowserCacheManager:createKeyMaps - idToken found, saving key to token key map"),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - idToken with key: ${e} found, saving key to token key map`);const t=n,r=this.updateCredentialCacheKey(e,t);return void this.addTokenKey(r,He.aG.ID_TOKEN)}this.logger.trace("BrowserCacheManager:createKeyMaps - key found matching idToken schema with value containing idToken credentialType field but value failed IdTokenEntity validation, skipping."),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - failed idToken validation on key: ${e}`);break;case He.aG.ACCESS_TOKEN:case He.aG.ACCESS_TOKEN_WITH_AUTH_SCHEME:if(en(n)){this.logger.trace("BrowserCacheManager:createKeyMaps - accessToken found, saving key to token key map"),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - accessToken with key: ${e} found, saving key to token key map`);const t=n,r=this.updateCredentialCacheKey(e,t);return void this.addTokenKey(r,He.aG.ACCESS_TOKEN)}this.logger.trace("BrowserCacheManager:createKeyMaps - key found matching accessToken schema with value containing accessToken credentialType field but value failed AccessTokenEntity validation, skipping."),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - failed accessToken validation on key: ${e}`);break;case He.aG.REFRESH_TOKEN:if(nn(n)){this.logger.trace("BrowserCacheManager:createKeyMaps - refreshToken found, saving key to token key map"),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - refreshToken with key: ${e} found, saving key to token key map`);const t=n,r=this.updateCredentialCacheKey(e,t);return void this.addTokenKey(r,He.aG.REFRESH_TOKEN)}this.logger.trace("BrowserCacheManager:createKeyMaps - key found matching refreshToken schema with value containing refreshToken credentialType field but value failed RefreshTokenEntity validation, skipping."),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - failed refreshToken validation on key: ${e}`)}}}if(this.isAccountKey(e)){const t=this.getItem(e);if(t){const n=this.validateAndParseJson(t);n&&Yn.isAccountEntity(n)&&(this.logger.trace("BrowserCacheManager:createKeyMaps - account found, saving key to account key map"),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - account with key: ${e} found, saving key to account key map`),this.addAccountKeyToMap(e))}}}))}validateAndParseJson(e){try{const t=JSON.parse(e);return t&&"object"===typeof t?t:null}catch(t){return null}}getItem(e){return this.browserStorage.getItem(e)}setItem(e,t){this.browserStorage.setItem(e,t)}getAccount(e,t){this.logger.trace("BrowserCacheManager.getAccount called");const n=this.getCachedAccountEntity(e);return this.updateOutdatedCachedAccount(e,n,t)}getCachedAccountEntity(e){const t=this.getItem(e);if(!t)return this.removeAccountKeyFromMap(e),null;const n=this.validateAndParseJson(t);return n&&Yn.isAccountEntity(n)?cr.toObject(new Yn,n):(this.removeAccountKeyFromMap(e),null)}setAccount(e){this.logger.trace("BrowserCacheManager.setAccount called");const t=e.generateAccountKey();this.setItem(t,JSON.stringify(e)),this.addAccountKeyToMap(t)}getAccountKeys(){this.logger.trace("BrowserCacheManager.getAccountKeys called");const e=this.getItem(Wr);return e?JSON.parse(e):(this.logger.verbose("BrowserCacheManager.getAccountKeys - No account keys found"),[])}addAccountKeyToMap(e){this.logger.trace("BrowserCacheManager.addAccountKeyToMap called"),this.logger.tracePii(`BrowserCacheManager.addAccountKeyToMap called with key: ${e}`);const t=this.getAccountKeys();-1===t.indexOf(e)?(t.push(e),this.setItem(Wr,JSON.stringify(t)),this.logger.verbose("BrowserCacheManager.addAccountKeyToMap account key added")):this.logger.verbose("BrowserCacheManager.addAccountKeyToMap account key already exists in map")}removeAccountKeyFromMap(e){this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap called"),this.logger.tracePii(`BrowserCacheManager.removeAccountKeyFromMap called with key: ${e}`);const t=this.getAccountKeys(),n=t.indexOf(e);n>-1?(t.splice(n,1),this.setItem(Wr,JSON.stringify(t)),this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap account key removed")):this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap key not found in existing map")}async removeAccount(e){super.removeAccount(e),this.removeAccountKeyFromMap(e)}removeOutdatedAccount(e){this.removeItem(e),this.removeAccountKeyFromMap(e)}removeIdToken(e){super.removeIdToken(e),this.removeTokenKey(e,He.aG.ID_TOKEN)}async removeAccessToken(e){super.removeAccessToken(e),this.removeTokenKey(e,He.aG.ACCESS_TOKEN)}removeRefreshToken(e){super.removeRefreshToken(e),this.removeTokenKey(e,He.aG.REFRESH_TOKEN)}getTokenKeys(){this.logger.trace("BrowserCacheManager.getTokenKeys called");const e=this.getItem(`${$r}.${this.clientId}`);if(e){const t=this.validateAndParseJson(e);if(t&&t.hasOwnProperty("idToken")&&t.hasOwnProperty("accessToken")&&t.hasOwnProperty("refreshToken"))return t;this.logger.error("BrowserCacheManager.getTokenKeys - Token keys found but in an unknown format. Returning empty key map.")}else this.logger.verbose("BrowserCacheManager.getTokenKeys - No token keys found");return{idToken:[],accessToken:[],refreshToken:[]}}addTokenKey(e,t){this.logger.trace("BrowserCacheManager addTokenKey called");const n=this.getTokenKeys();switch(t){case He.aG.ID_TOKEN:-1===n.idToken.indexOf(e)&&(this.logger.info("BrowserCacheManager: addTokenKey - idToken added to map"),n.idToken.push(e));break;case He.aG.ACCESS_TOKEN:-1===n.accessToken.indexOf(e)&&(this.logger.info("BrowserCacheManager: addTokenKey - accessToken added to map"),n.accessToken.push(e));break;case He.aG.REFRESH_TOKEN:-1===n.refreshToken.indexOf(e)&&(this.logger.info("BrowserCacheManager: addTokenKey - refreshToken added to map"),n.refreshToken.push(e));break;default:throw this.logger.error(`BrowserCacheManager:addTokenKey - CredentialType provided invalid. CredentialType: ${t}`),qt(wt)}this.setItem(`${$r}.${this.clientId}`,JSON.stringify(n))}removeTokenKey(e,t){this.logger.trace("BrowserCacheManager removeTokenKey called");const n=this.getTokenKeys();switch(t){case He.aG.ID_TOKEN:this.logger.infoPii(`BrowserCacheManager: removeTokenKey - attempting to remove idToken with key: ${e} from map`);const r=n.idToken.indexOf(e);r>-1?(this.logger.info("BrowserCacheManager: removeTokenKey - idToken removed from map"),n.idToken.splice(r,1)):this.logger.info("BrowserCacheManager: removeTokenKey - idToken does not exist in map. Either it was previously removed or it was never added.");break;case He.aG.ACCESS_TOKEN:this.logger.infoPii(`BrowserCacheManager: removeTokenKey - attempting to remove accessToken with key: ${e} from map`);const o=n.accessToken.indexOf(e);o>-1?(this.logger.info("BrowserCacheManager: removeTokenKey - accessToken removed from map"),n.accessToken.splice(o,1)):this.logger.info("BrowserCacheManager: removeTokenKey - accessToken does not exist in map. Either it was previously removed or it was never added.");break;case He.aG.REFRESH_TOKEN:this.logger.infoPii(`BrowserCacheManager: removeTokenKey - attempting to remove refreshToken with key: ${e} from map`);const i=n.refreshToken.indexOf(e);i>-1?(this.logger.info("BrowserCacheManager: removeTokenKey - refreshToken removed from map"),n.refreshToken.splice(i,1)):this.logger.info("BrowserCacheManager: removeTokenKey - refreshToken does not exist in map. Either it was previously removed or it was never added.");break;default:throw this.logger.error(`BrowserCacheManager:removeTokenKey - CredentialType provided invalid. CredentialType: ${t}`),qt(wt)}this.setItem(`${$r}.${this.clientId}`,JSON.stringify(n))}getIdTokenCredential(e){const t=this.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getIdTokenCredential: called, no cache hit"),this.removeTokenKey(e,He.aG.ID_TOKEN),null;const n=this.validateAndParseJson(t);return n&&tn(n)?(this.logger.trace("BrowserCacheManager.getIdTokenCredential: cache hit"),n):(this.logger.trace("BrowserCacheManager.getIdTokenCredential: called, no cache hit"),this.removeTokenKey(e,He.aG.ID_TOKEN),null)}setIdTokenCredential(e){this.logger.trace("BrowserCacheManager.setIdTokenCredential called");const t=$t(e);this.setItem(t,JSON.stringify(e)),this.addTokenKey(t,He.aG.ID_TOKEN)}getAccessTokenCredential(e){const t=this.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getAccessTokenCredential: called, no cache hit"),this.removeTokenKey(e,He.aG.ACCESS_TOKEN),null;const n=this.validateAndParseJson(t);return n&&en(n)?(this.logger.trace("BrowserCacheManager.getAccessTokenCredential: cache hit"),n):(this.logger.trace("BrowserCacheManager.getAccessTokenCredential: called, no cache hit"),this.removeTokenKey(e,He.aG.ACCESS_TOKEN),null)}setAccessTokenCredential(e){this.logger.trace("BrowserCacheManager.setAccessTokenCredential called");const t=$t(e);this.setItem(t,JSON.stringify(e)),this.addTokenKey(t,He.aG.ACCESS_TOKEN)}getRefreshTokenCredential(e){const t=this.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: called, no cache hit"),this.removeTokenKey(e,He.aG.REFRESH_TOKEN),null;const n=this.validateAndParseJson(t);return n&&nn(n)?(this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: cache hit"),n):(this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: called, no cache hit"),this.removeTokenKey(e,He.aG.REFRESH_TOKEN),null)}setRefreshTokenCredential(e){this.logger.trace("BrowserCacheManager.setRefreshTokenCredential called");const t=$t(e);this.setItem(t,JSON.stringify(e)),this.addTokenKey(t,He.aG.REFRESH_TOKEN)}getAppMetadata(e){const t=this.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getAppMetadata: called, no cache hit"),null;const n=this.validateAndParseJson(t);return n&&function(e,t){return!!t&&0===e.indexOf(He.GU)&&t.hasOwnProperty("clientId")&&t.hasOwnProperty("environment")}(e,n)?(this.logger.trace("BrowserCacheManager.getAppMetadata: cache hit"),n):(this.logger.trace("BrowserCacheManager.getAppMetadata: called, no cache hit"),null)}setAppMetadata(e){this.logger.trace("BrowserCacheManager.setAppMetadata called");const t=function({environment:e,clientId:t}){return[He.GU,e,t].join(He.LR.CACHE_KEY_SEPARATOR).toLowerCase()}(e);this.setItem(t,JSON.stringify(e))}getServerTelemetry(e){const t=this.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getServerTelemetry: called, no cache hit"),null;const n=this.validateAndParseJson(t);return n&&function(e,t){const n=0===e.indexOf(He.gT.CACHE_KEY);let r=!0;return t&&(r=t.hasOwnProperty("failedRequests")&&t.hasOwnProperty("errors")&&t.hasOwnProperty("cacheHits")),n&&r}(e,n)?(this.logger.trace("BrowserCacheManager.getServerTelemetry: cache hit"),n):(this.logger.trace("BrowserCacheManager.getServerTelemetry: called, no cache hit"),null)}setServerTelemetry(e,t){this.logger.trace("BrowserCacheManager.setServerTelemetry called"),this.setItem(e,JSON.stringify(t))}getAuthorityMetadata(e){const t=this.internalStorage.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getAuthorityMetadata: called, no cache hit"),null;const n=this.validateAndParseJson(t);return n&&function(e,t){return!!t&&0===e.indexOf(He.u0.CACHE_KEY)&&t.hasOwnProperty("aliases")&&t.hasOwnProperty("preferred_cache")&&t.hasOwnProperty("preferred_network")&&t.hasOwnProperty("canonical_authority")&&t.hasOwnProperty("authorization_endpoint")&&t.hasOwnProperty("token_endpoint")&&t.hasOwnProperty("issuer")&&t.hasOwnProperty("aliasesFromNetwork")&&t.hasOwnProperty("endpointsFromNetwork")&&t.hasOwnProperty("expiresAt")&&t.hasOwnProperty("jwks_uri")}(e,n)?(this.logger.trace("BrowserCacheManager.getAuthorityMetadata: cache hit"),n):null}getAuthorityMetadataKeys(){return this.internalStorage.getKeys().filter((e=>this.isAuthorityMetadata(e)))}setWrapperMetadata(e,t){this.internalStorage.setItem(Yr,e),this.internalStorage.setItem(Qr,t)}getWrapperMetadata(){return[this.internalStorage.getItem(Yr)||He.YM.EMPTY_STRING,this.internalStorage.getItem(Qr)||He.YM.EMPTY_STRING]}setAuthorityMetadata(e,t){this.logger.trace("BrowserCacheManager.setAuthorityMetadata called"),this.internalStorage.setItem(e,JSON.stringify(t))}getActiveAccount(){const e=this.generateCacheKey(He.Gd.ACTIVE_ACCOUNT_FILTERS),t=this.getItem(e);if(!t){this.logger.trace("BrowserCacheManager.getActiveAccount: No active account filters cache schema found, looking for legacy schema");const e=this.generateCacheKey(He.Gd.ACTIVE_ACCOUNT),t=this.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getActiveAccount: No active account found"),null;const n=this.getAccountInfoFilteredBy({localAccountId:t});return n?(this.logger.trace("BrowserCacheManager.getActiveAccount: Legacy active account cache schema found"),this.logger.trace("BrowserCacheManager.getActiveAccount: Adding active account filters cache schema"),this.setActiveAccount(n),n):null}const n=this.validateAndParseJson(t);return n?(this.logger.trace("BrowserCacheManager.getActiveAccount: Active account filters schema found"),this.getAccountInfoFilteredBy({homeAccountId:n.homeAccountId,localAccountId:n.localAccountId,tenantId:n.tenantId})):(this.logger.trace("BrowserCacheManager.getActiveAccount: No active account found"),null)}setActiveAccount(e){const t=this.generateCacheKey(He.Gd.ACTIVE_ACCOUNT_FILTERS),n=this.generateCacheKey(He.Gd.ACTIVE_ACCOUNT);if(e){this.logger.verbose("setActiveAccount: Active account set");const r={homeAccountId:e.homeAccountId,localAccountId:e.localAccountId,tenantId:e.tenantId};this.browserStorage.setItem(t,JSON.stringify(r)),this.browserStorage.setItem(n,e.localAccountId)}else this.logger.verbose("setActiveAccount: No account passed, active account not set"),this.browserStorage.removeItem(t),this.browserStorage.removeItem(n)}getThrottlingCache(e){const t=this.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getThrottlingCache: called, no cache hit"),null;const n=this.validateAndParseJson(t);return n&&function(e,t){let n=!1;e&&(n=0===e.indexOf(He.Xw.THROTTLING_PREFIX));let r=!0;return t&&(r=t.hasOwnProperty("throttleTime")),n&&r}(e,n)?(this.logger.trace("BrowserCacheManager.getThrottlingCache: cache hit"),n):(this.logger.trace("BrowserCacheManager.getThrottlingCache: called, no cache hit"),null)}setThrottlingCache(e,t){this.logger.trace("BrowserCacheManager.setThrottlingCache called"),this.setItem(e,JSON.stringify(t))}getTemporaryCache(e,t){const n=t?this.generateCacheKey(e):e;if(this.cacheConfig.storeAuthStateInCookie){const e=this.cookieStorage.getItem(n);if(e)return this.logger.trace("BrowserCacheManager.getTemporaryCache: storeAuthStateInCookies set to true, retrieving from cookies"),e}const r=this.temporaryCacheStorage.getItem(n);if(!r){if(this.cacheConfig.cacheLocation===Nr){const e=this.browserStorage.getItem(n);if(e)return this.logger.trace("BrowserCacheManager.getTemporaryCache: Temporary cache item found in local storage"),e}return this.logger.trace("BrowserCacheManager.getTemporaryCache: No cache item found in local storage"),null}return this.logger.trace("BrowserCacheManager.getTemporaryCache: Temporary cache item returned"),r}setTemporaryCache(e,t,n){const r=n?this.generateCacheKey(e):e;this.temporaryCacheStorage.setItem(r,t),this.cacheConfig.storeAuthStateInCookie&&(this.logger.trace("BrowserCacheManager.setTemporaryCache: storeAuthStateInCookie set to true, setting item cookie"),this.cookieStorage.setItem(r,t,void 0,this.cacheConfig.secureCookies))}removeItem(e){this.browserStorage.removeItem(e)}removeTemporaryItem(e){this.temporaryCacheStorage.removeItem(e),this.cacheConfig.storeAuthStateInCookie&&(this.logger.trace("BrowserCacheManager.removeItem: storeAuthStateInCookie is true, clearing item cookie"),this.cookieStorage.removeItem(e))}getKeys(){return this.browserStorage.getKeys()}async clear(){await this.removeAllAccounts(),this.removeAppMetadata(),this.temporaryCacheStorage.getKeys().forEach((e=>{-1===e.indexOf(He.YM.CACHE_PREFIX)&&-1===e.indexOf(this.clientId)||this.removeTemporaryItem(e)})),this.browserStorage.getKeys().forEach((e=>{-1===e.indexOf(He.YM.CACHE_PREFIX)&&-1===e.indexOf(this.clientId)||this.browserStorage.removeItem(e)})),this.internalStorage.clear()}async clearTokensAndKeysWithClaims(e,t){e.addQueueMeasurement(Sr.ClearTokensAndKeysWithClaims,t);const n=this.getTokenKeys(),r=[];n.accessToken.forEach((e=>{const t=this.getAccessTokenCredential(e);t?.requestedClaimsHash&&e.includes(t.requestedClaimsHash.toLowerCase())&&r.push(this.removeAccessToken(e))})),await Promise.all(r),r.length>0&&this.logger.warning(`${r.length} access tokens with claims in the cache keys have been removed from the cache.`)}generateCacheKey(e){return this.validateAndParseJson(e)?JSON.stringify(e):Un.startsWith(e,He.YM.CACHE_PREFIX)||Un.startsWith(e,He.Gd.ADAL_ID_TOKEN)?e:`${He.YM.CACHE_PREFIX}.${this.clientId}.${e}`}generateAuthorityKey(e){const{libraryState:{id:t}}=Aa.parseRequestState(this.cryptoImpl,e);return this.generateCacheKey(`${Ur}.${t}`)}generateNonceKey(e){const{libraryState:{id:t}}=Aa.parseRequestState(this.cryptoImpl,e);return this.generateCacheKey(`${Hr}.${t}`)}generateStateKey(e){const{libraryState:{id:t}}=Aa.parseRequestState(this.cryptoImpl,e);return this.generateCacheKey(`${Br}.${t}`)}getCachedAuthority(e){const t=this.generateStateKey(e),n=this.getTemporaryCache(t);if(!n)return null;const r=this.generateAuthorityKey(n);return this.getTemporaryCache(r)}updateCacheEntries(e,t,n,r,o){this.logger.trace("BrowserCacheManager.updateCacheEntries called");const i=this.generateStateKey(e);this.setTemporaryCache(i,e,!1);const a=this.generateNonceKey(e);this.setTemporaryCache(a,t,!1);const s=this.generateAuthorityKey(e);if(this.setTemporaryCache(s,n,!1),o){const e={credential:o.homeAccountId,type:ka};this.setTemporaryCache(zr,JSON.stringify(e),!0)}else if(r){const e={credential:r,type:xa};this.setTemporaryCache(zr,JSON.stringify(e),!0)}}resetRequestCache(e){this.logger.trace("BrowserCacheManager.resetRequestCache called"),e&&(this.temporaryCacheStorage.getKeys().forEach((t=>{-1!==t.indexOf(e)&&this.removeTemporaryItem(t)})),this.removeTemporaryItem(this.generateStateKey(e)),this.removeTemporaryItem(this.generateNonceKey(e)),this.removeTemporaryItem(this.generateAuthorityKey(e))),this.removeTemporaryItem(this.generateCacheKey(jr)),this.removeTemporaryItem(this.generateCacheKey(Gr)),this.removeTemporaryItem(this.generateCacheKey(qr)),this.removeTemporaryItem(this.generateCacheKey(Xr)),this.removeTemporaryItem(this.generateCacheKey(zr)),this.removeTemporaryItem(this.generateCacheKey(Kr)),this.setInteractionInProgress(!1)}cleanRequestByState(e){if(this.logger.trace("BrowserCacheManager.cleanRequestByState called"),e){const t=this.generateStateKey(e),n=this.temporaryCacheStorage.getItem(t);this.logger.infoPii(`BrowserCacheManager.cleanRequestByState: Removing temporary cache items for state: ${n}`),this.resetRequestCache(n||He.YM.EMPTY_STRING)}}cleanRequestByInteractionType(e){this.logger.trace("BrowserCacheManager.cleanRequestByInteractionType called"),this.temporaryCacheStorage.getKeys().forEach((t=>{if(-1===t.indexOf(Br))return;const n=this.temporaryCacheStorage.getItem(t);if(!n)return;const r=Na(this.cryptoImpl,n);r&&r.interactionType===e&&(this.logger.infoPii(`BrowserCacheManager.cleanRequestByInteractionType: Removing temporary cache items for state: ${n}`),this.resetRequestCache(n))})),this.setInteractionInProgress(!1)}cacheCodeRequest(e){this.logger.trace("BrowserCacheManager.cacheCodeRequest called");const t=Ti(JSON.stringify(e));this.setTemporaryCache(jr,t,!0)}getCachedRequest(e){this.logger.trace("BrowserCacheManager.getCachedRequest called");const t=this.getTemporaryCache(jr,!0);if(!t)throw vi(qo);let n;try{n=JSON.parse(sa(t))}catch(r){throw this.logger.errorPii(`Attempted to parse: ${t}`),this.logger.error(`Parsing cached token request threw with error: ${r}`),vi(jo)}if(this.removeTemporaryItem(this.generateCacheKey(jr)),!n.authority){const t=this.generateAuthorityKey(e),r=this.getTemporaryCache(t);if(!r)throw vi(Vo);n.authority=r}return n}getCachedNativeRequest(){this.logger.trace("BrowserCacheManager.getCachedNativeRequest called");const e=this.getTemporaryCache(Kr,!0);if(!e)return this.logger.trace("BrowserCacheManager.getCachedNativeRequest: No cached native request found"),null;const t=this.validateAndParseJson(e);return t||(this.logger.error("BrowserCacheManager.getCachedNativeRequest: Unable to parse native request"),null)}isInteractionInProgress(e){const t=this.getInteractionInProgress();return e?t===this.clientId:!!t}getInteractionInProgress(){const e=`${He.YM.CACHE_PREFIX}.${Vr}`;return this.getTemporaryCache(e,!1)}setInteractionInProgress(e){const t=`${He.YM.CACHE_PREFIX}.${Vr}`;if(e){if(this.getInteractionInProgress())throw vi(ko);this.setTemporaryCache(t,this.clientId,!1)}else e||this.getInteractionInProgress()!==this.clientId||this.removeTemporaryItem(t)}getLegacyLoginHint(){const e=this.getTemporaryCache(He.Gd.ADAL_ID_TOKEN);e&&(this.browserStorage.removeItem(He.Gd.ADAL_ID_TOKEN),this.logger.verbose("Cached ADAL id token retrieved."));const t=this.getTemporaryCache(He.Gd.ID_TOKEN,!0);t&&(this.browserStorage.removeItem(this.generateCacheKey(He.Gd.ID_TOKEN)),this.logger.verbose("Cached MSAL.js v1 id token retrieved"));const n=t||e;if(n){const e=Xt(n,sa);if(e.preferred_username)return this.logger.verbose("No SSO params used and ADAL/MSAL v1 token retrieved, setting ADAL/MSAL v1 preferred_username as loginHint"),e.preferred_username;if(e.upn)return this.logger.verbose("No SSO params used and ADAL/MSAL v1 token retrieved, setting ADAL/MSAL v1 upn as loginHint"),e.upn;this.logger.verbose("No SSO params used and ADAL/MSAL v1 token retrieved, however, no account hint claim found. Enable preferred_username or upn id token claim to get SSO.")}return null}updateCredentialCacheKey(e,t){const n=$t(t);if(e!==n){const r=this.getItem(e);if(r)return this.browserStorage.removeItem(e),this.setItem(n,r),this.logger.verbose(`Updated an outdated ${t.credentialType} cache key`),n;this.logger.error(`Attempted to update an outdated ${t.credentialType} cache key but no item matching the outdated key was found in storage`)}return e}async hydrateCache(e,t){const n=Yt(e.account?.homeAccountId,e.account?.environment,e.idToken,this.clientId,e.tenantId);let r;t.claims&&(r=await this.cryptoImpl.hashString(t.claims));const o={idToken:n,accessToken:Qt(e.account?.homeAccountId,e.account.environment,e.accessToken,this.clientId,e.tenantId,e.scopes.join(" "),e.expiresOn?e.expiresOn.getTime()/1e3:0,e.extExpiresOn?e.extExpiresOn.getTime()/1e3:0,sa,void 0,e.tokenType,void 0,t.sshKid,t.claims,r)};return this.saveCacheRecord(o)}async saveCacheRecord(e,t,n){try{await super.saveCacheRecord(e,t,n)}catch(r){if(r instanceof lr&&this.performanceClient&&n)try{const e=this.getTokenKeys();this.performanceClient.addFields({cacheRtCount:e.refreshToken.length,cacheIdCount:e.idToken.length,cacheAtCount:e.accessToken.length},n)}catch(r){}throw r}}}const Fa="msal:initializeStart",Ua="msal:initializeEnd",Ba="msal:accountAdded",Ha="msal:accountRemoved",Ga="msal:activeAccountChanged",qa="msal:loginStart",ja="msal:loginSuccess",Va="msal:loginFailure",za="msal:acquireTokenStart",Xa="msal:acquireTokenSuccess",Ka="msal:acquireTokenFailure",Wa="msal:acquireTokenFromNetworkStart",$a="msal:ssoSilentStart",Ya="msal:ssoSilentSuccess",Qa="msal:ssoSilentFailure",Ja="msal:acquireTokenByCodeStart",Za="msal:acquireTokenByCodeSuccess",es="msal:acquireTokenByCodeFailure",ts="msal:handleRedirectStart",ns="msal:handleRedirectEnd",rs="msal:popupOpened",os="msal:logoutStart",is="msal:logoutSuccess",as="msal:logoutFailure",ss="msal:logoutEnd",ls="msal:restoreFromBFCache";class cs{constructor(e){this.eventCallbacks=new Map,this.logger=e||new Ge({})}addEventCallback(e,t,n){{const r=n||Mi();return this.eventCallbacks.has(r)?(this.logger.error(`Event callback with id: ${r} is already registered. Please provide a unique id or remove the existing callback and try again.`),null):(this.eventCallbacks.set(r,[e,t||[]]),this.logger.verbose(`Event callback registered with id: ${r}`),r)}}removeEventCallback(e){this.eventCallbacks.delete(e),this.logger.verbose(`Event callback ${e} removed.`)}emitEvent(e,t,n,r){{const o={eventType:e,interactionType:t||null,payload:n||null,error:r||null,timestamp:Date.now()};this.eventCallbacks.forEach((([t,n],r)=>{(0===n.length||n.includes(e))&&(this.logger.verbose(`Emitting event to callback ${r}: ${e}`),t.apply(null,[o]))}))}}}class us extends We{constructor(e,t,n,r,o){super(e,t,n),this.name="ServerError",this.errorNo=r,this.status=o,Object.setPrototypeOf(this,us.prototype)}}class ds{static generateThrottlingStorageKey(e){return`${He.Xw.THROTTLING_PREFIX}.${JSON.stringify(e)}`}static preProcess(e,t){const n=ds.generateThrottlingStorageKey(t),r=e.getThrottlingCache(n);if(r){if(r.throttleTime<Date.now())return void e.removeItem(n);throw new us(r.errorCodes?.join(" ")||He.YM.EMPTY_STRING,r.errorMessage,r.subError)}}static postProcess(e,t,n){if(ds.checkResponseStatus(n)||ds.checkResponseForRetryAfter(n)){const r={throttleTime:ds.calculateThrottleTime(parseInt(n.headers[He.OK.RETRY_AFTER])),error:n.body.error,errorCodes:n.body.error_codes,errorMessage:n.body.error_description,subError:n.body.suberror};e.setThrottlingCache(ds.generateThrottlingStorageKey(t),r)}}static checkResponseStatus(e){return 429===e.status||e.status>=500&&e.status<600}static checkResponseForRetryAfter(e){return!!e.headers&&(e.headers.hasOwnProperty(He.OK.RETRY_AFTER)&&(e.status<200||e.status>=300))}static calculateThrottleTime(e){const t=e<=0?0:e,n=Date.now()/1e3;return Math.floor(1e3*Math.min(n+(t||He.Xw.DEFAULT_THROTTLE_TIME_SECONDS),n+He.Xw.DEFAULT_MAX_THROTTLE_TIME_SECONDS))}static removeThrottle(e,t,n,r){const o={clientId:t,authority:n.authority,scopes:n.scopes,homeAccountIdentifier:r,claims:n.claims,authenticationScheme:n.authenticationScheme,resourceRequestMethod:n.resourceRequestMethod,resourceRequestUri:n.resourceRequestUri,shrClaims:n.shrClaims,sshKid:n.sshKid},i=this.generateThrottlingStorageKey(o);e.removeItem(i)}}var ps=n(48478);class ms{static validateRedirectUri(e){if(!e)throw Fn(mn)}static validatePrompt(e){const t=[];for(const n in He._M)t.push(He._M[n]);if(t.indexOf(e)<0)throw Fn(yn)}static validateClaims(e){try{JSON.parse(e)}catch(t){throw Fn(bn)}}static validateCodeChallengeParams(e,t){if(!e||!t)throw Fn(Tn);this.validateCodeChallengeMethod(t)}static validateCodeChallengeMethod(e){if([He.iF.PLAIN,He.iF.S256].indexOf(e)<0)throw Fn(Cn)}}class hs{constructor(e,t){this.parameters=new Map,this.performanceClient=t,this.correlationId=e}addResponseTypeCode(){this.parameters.set(ps.dn,encodeURIComponent(He.YM.CODE_RESPONSE_TYPE))}addResponseTypeForTokenAndIdToken(){this.parameters.set(ps.dn,encodeURIComponent(`${He.YM.TOKEN_RESPONSE_TYPE} ${He.YM.ID_TOKEN_RESPONSE_TYPE}`))}addResponseMode(e){this.parameters.set(ps.ag,encodeURIComponent(e||He.p.QUERY))}addNativeBroker(){this.parameters.set(ps.yj,encodeURIComponent("1"))}addScopes(e,t=!0,n=He.aZ){!t||n.includes("openid")||e.includes("openid")||n.push("openid");const r=t?[...e||[],...n]:e||[],o=new Bn(r);this.parameters.set(ps.hx,encodeURIComponent(o.printScopes()))}addClientId(e){this.parameters.set(ps.U6,encodeURIComponent(e))}addRedirectUri(e){ms.validateRedirectUri(e),this.parameters.set(ps._q,encodeURIComponent(e))}addPostLogoutRedirectUri(e){ms.validateRedirectUri(e),this.parameters.set(ps.Zn,encodeURIComponent(e))}addIdTokenHint(e){this.parameters.set(ps.AG,encodeURIComponent(e))}addDomainHint(e){this.parameters.set(ps.rg,encodeURIComponent(e))}addLoginHint(e){this.parameters.set(ps.SP,encodeURIComponent(e))}addCcsUpn(e){this.parameters.set(He.OK.CCS_HEADER,encodeURIComponent(`UPN:${e}`))}addCcsOid(e){this.parameters.set(He.OK.CCS_HEADER,encodeURIComponent(`Oid:${e.uid}@${e.utid}`))}addSid(e){this.parameters.set(ps.dF,encodeURIComponent(e))}addClaims(e,t){const n=this.addClientCapabilitiesToClaims(e,t);ms.validateClaims(n),this.parameters.set(ps.IF,encodeURIComponent(n))}addCorrelationId(e){this.parameters.set(ps.A3,encodeURIComponent(e))}addLibraryInfo(e){this.parameters.set(ps.pg,e.sku),this.parameters.set(ps.pe,e.version),e.os&&this.parameters.set(ps.sg,e.os),e.cpu&&this.parameters.set(ps.C$,e.cpu)}addApplicationTelemetry(e){e?.appName&&this.parameters.set(ps.PM,e.appName),e?.appVersion&&this.parameters.set(ps.Ns,e.appVersion)}addPrompt(e){ms.validatePrompt(e),this.parameters.set(`${ps.hF}`,encodeURIComponent(e))}addState(e){e&&this.parameters.set(ps.c4,encodeURIComponent(e))}addNonce(e){this.parameters.set(ps.au,encodeURIComponent(e))}addCodeChallengeParams(e,t){if(ms.validateCodeChallengeParams(e,t),!e||!t)throw Fn(Tn);this.parameters.set(ps.E0,encodeURIComponent(e)),this.parameters.set(ps.uP,encodeURIComponent(t))}addAuthorizationCode(e){this.parameters.set(ps.Sq,encodeURIComponent(e))}addDeviceCode(e){this.parameters.set(ps.$n,encodeURIComponent(e))}addRefreshToken(e){this.parameters.set(ps.aZ,encodeURIComponent(e))}addCodeVerifier(e){this.parameters.set(ps.Xs,encodeURIComponent(e))}addClientSecret(e){this.parameters.set(ps.p$,encodeURIComponent(e))}addClientAssertion(e){e&&this.parameters.set(ps.z1,encodeURIComponent(e))}addClientAssertionType(e){e&&this.parameters.set(ps.oE,encodeURIComponent(e))}addOboAssertion(e){this.parameters.set(ps.yF,encodeURIComponent(e))}addRequestTokenUse(e){this.parameters.set(ps.H5,encodeURIComponent(e))}addGrantType(e){this.parameters.set(ps.Am,encodeURIComponent(e))}addClientInfo(){this.parameters.set(He.JR,"1")}addExtraQueryParameters(e){Object.entries(e).forEach((([e,t])=>{!this.parameters.has(e)&&t&&this.parameters.set(e,t)}))}addClientCapabilitiesToClaims(e,t){let n;if(e)try{n=JSON.parse(e)}catch(r){throw Fn(bn)}else n={};return t&&t.length>0&&(n.hasOwnProperty(He.Fq.ACCESS_TOKEN)||(n[He.Fq.ACCESS_TOKEN]={}),n[He.Fq.ACCESS_TOKEN][He.Fq.XMS_CC]={values:t}),JSON.stringify(n)}addUsername(e){this.parameters.set(He.Tq.username,encodeURIComponent(e))}addPassword(e){this.parameters.set(He.Tq.password,encodeURIComponent(e))}addPopToken(e){e&&(this.parameters.set(ps.Tq,He.IO.POP),this.parameters.set(ps.R_,encodeURIComponent(e)))}addSshJwk(e){e&&(this.parameters.set(ps.Tq,He.IO.SSH),this.parameters.set(ps.R_,encodeURIComponent(e)))}addServerTelemetry(e){this.parameters.set(ps.ai,e.generateCurrentRequestHeaderValue()),this.parameters.set(ps.Az,e.generateLastRequestHeaderValue())}addThrottling(){this.parameters.set(ps.R3,He.Xw.X_MS_LIB_CAPABILITY_VALUE)}addLogoutHint(e){this.parameters.set(ps.pG,encodeURIComponent(e))}addBrokerParameters(e){const t={};t[ps.Uu]=e.brokerClientId,t[ps.Mt]=e.brokerRedirectUri,this.addExtraQueryParameters(t)}createQueryString(){const e=new Array;return this.parameters.forEach(((t,n)=>{e.push(`${n}=${t}`)})),function(e,t,n){if(!t)return;const r=e.get(ps.U6);r&&e.has(ps.Uu)&&n?.addFields({embeddedClientId:r,embeddedRedirectUri:e.get(ps._q)},t)}(this.parameters,this.correlationId,this.performanceClient),e.join("&")}}async function gs(e,t,n,r,o,i,a){a?.addQueueMeasurement(Sr.AuthorityFactoryCreateDiscoveredInstance,i);const s=fa.transformCIAMAuthority(_a(e)),l=new fa(s,t,n,r,o,i,a);try{return await ha(l.resolveEndpointsAsync.bind(l),Sr.AuthorityResolveEndpointsAsync,o,a,i)(),l}catch(c){throw qt(et)}}class fs{constructor(e,t){this.config=function({authOptions:e,systemOptions:t,loggerOptions:n,cacheOptions:r,storageInterface:o,networkInterface:i,cryptoInterface:a,clientCredentials:s,libraryInfo:l,telemetry:c,serverTelemetryManager:u,persistencePlugin:d,serializableCache:p}){const m={...pr,...n};return{authOptions:(h=e,{clientCapabilities:[],azureCloudOptions:_r,skipAuthorityMetadataCache:!1,instanceAware:!1,...h}),systemOptions:{...dr,...t},loggerOptions:m,cacheOptions:{...mr,...r},storageInterface:o||new ur(e.clientId,jt,new Ge(m)),networkInterface:i||hr,cryptoInterface:a||jt,clientCredentials:s||fr,libraryInfo:{...gr,...l},telemetry:{...vr,...c},serverTelemetryManager:u||null,persistencePlugin:d||null,serializableCache:p||null};var h}(e),this.logger=new Ge(this.config.loggerOptions,Vt,zt),this.cryptoUtils=this.config.cryptoInterface,this.cacheManager=this.config.storageInterface,this.networkClient=this.config.networkInterface,this.serverTelemetryManager=this.config.serverTelemetryManager,this.authority=this.config.authOptions.authority,this.performanceClient=t}createTokenRequestHeaders(e){const t={};if(t[He.OK.CONTENT_TYPE]=He.YM.URL_FORM_CONTENT_TYPE,!this.config.systemOptions.preventCorsPreflight&&e)switch(e.type){case ka:try{const n=Gn(e.credential);t[He.OK.CCS_HEADER]=`Oid:${n.uid}@${n.utid}`}catch(n){this.logger.verbose("Could not parse home account ID for CCS Header: "+n)}break;case xa:t[He.OK.CCS_HEADER]=`UPN: ${e.credential}`}return t}async executePostToTokenEndpoint(e,t,n,r,o,i){i&&this.performanceClient?.addQueueMeasurement(i,o);const a=await this.sendPostRequest(r,e,{body:t,headers:n},o);return this.config.serverTelemetryManager&&a.status<500&&429!==a.status&&this.config.serverTelemetryManager.clearTelemetryCache(),a}async sendPostRequest(e,t,n,r){let o;ds.preProcess(this.cacheManager,e);try{o=await ha(this.networkClient.sendPostRequestAsync.bind(this.networkClient),Sr.NetworkClientSendPostRequestAsync,this.logger,this.performanceClient,r)(t,n);const e=o.headers||{};this.performanceClient?.addFields({refreshTokenSize:o.body.refresh_token?.length||0,httpVerToken:e[He.OK.X_MS_HTTP_VERSION]||"",requestId:e[He.OK.X_MS_REQUEST_ID]||""},r)}catch(i){if(i instanceof yo){const e=i.responseHeaders;throw e&&this.performanceClient?.addFields({httpVerToken:e[He.OK.X_MS_HTTP_VERSION]||"",requestId:e[He.OK.X_MS_REQUEST_ID]||"",contentTypeHeader:e[He.OK.CONTENT_TYPE]||void 0,contentLengthHeader:e[He.OK.CONTENT_LENGTH]||void 0,httpStatus:i.httpStatus},r),i.error}throw i instanceof We?i:qt(tt)}return ds.postProcess(this.cacheManager,e,o),o}async updateAuthority(e,t){this.performanceClient?.addQueueMeasurement(Sr.UpdateTokenEndpointAuthority,t);const n=`https://${e}/${this.authority.tenant}/`,r=await gs(n,this.networkClient,this.cacheManager,this.authority.options,this.logger,t,this.performanceClient);this.authority=r}createTokenQueryParameters(e){const t=new hs(e.correlationId,this.performanceClient);return e.embeddedClientId&&t.addBrokerParameters({brokerClientId:this.config.authOptions.clientId,brokerRedirectUri:this.config.authOptions.redirectUri}),e.tokenQueryParameters&&t.addExtraQueryParameters(e.tokenQueryParameters),t.addCorrelationId(e.correlationId),t.createQueryString()}}const _s="sw";class vs{constructor(e,t){this.cryptoUtils=e,this.performanceClient=t}async generateCnf(e,t){this.performanceClient?.addQueueMeasurement(Sr.PopTokenGenerateCnf,e.correlationId);const n=await ha(this.generateKid.bind(this),Sr.PopTokenGenerateCnf,t,this.performanceClient,e.correlationId)(e),r=this.cryptoUtils.base64UrlEncode(JSON.stringify(n));return{kid:n.kid,reqCnfString:r}}async generateKid(e){this.performanceClient?.addQueueMeasurement(Sr.PopTokenGenerateKid,e.correlationId);return{kid:await this.cryptoUtils.getPublicKeyThumbprint(e),xms_ksl:_s}}async signPopToken(e,t,n){return this.signPayload(e,t,n)}async signPayload(e,t,n,r){const{resourceRequestMethod:o,resourceRequestUri:i,shrClaims:a,shrNonce:s,shrOptions:l}=n,c=i?new Zn(i):void 0,u=c?.getUrlComponents();return this.cryptoUtils.signJwt({at:e,ts:(0,Wt._C)(),m:o?.toUpperCase(),u:u?.HostNameAndPort,nonce:s||this.cryptoUtils.createNewGuid(),p:u?.AbsolutePath,q:u?.QueryString?[[],u.QueryString]:void 0,client_claims:a||void 0,...r},t,l,n.correlationId)}}class ys{constructor(e,t){this.cache=e,this.hasChanged=t}get cacheHasChanged(){return this.hasChanged}get tokenCache(){return this.cache}}class bs{constructor(e,t,n,r,o,i,a){this.clientId=e,this.cacheStorage=t,this.cryptoObj=n,this.logger=r,this.serializableCache=o,this.persistencePlugin=i,this.performanceClient=a}validateServerAuthorizationCodeResponse(e,t){if(!e.state||!t)throw e.state?qt(at,"Cached State"):qt(at,"Server State");let n,r;try{n=decodeURIComponent(e.state)}catch(o){throw qt(ot,e.state)}try{r=decodeURIComponent(t)}catch(o){throw qt(ot,e.state)}if(n!==r)throw qt(it);if(e.error||e.error_description||e.suberror){const t=function(e){const t="code=",n=e.error_uri?.lastIndexOf(t);return n&&n>=0?e.error_uri?.substring(n+5):void 0}(e);if(Ia(e.error,e.error_description,e.suberror))throw new wa(e.error||"",e.error_description,e.suberror,e.timestamp||"",e.trace_id||"",e.correlation_id||"",e.claims||"",t);throw new us(e.error||"",e.error_description,e.suberror,t)}}validateTokenResponse(e,t){if(e.error||e.error_description||e.suberror){const n=`Error(s): ${e.error_codes||He.YM.NOT_AVAILABLE} - Timestamp: ${e.timestamp||He.YM.NOT_AVAILABLE} - Description: ${e.error_description||He.YM.NOT_AVAILABLE} - Correlation ID: ${e.correlation_id||He.YM.NOT_AVAILABLE} - Trace ID: ${e.trace_id||He.YM.NOT_AVAILABLE}`,r=e.error_codes?.length?e.error_codes[0]:void 0,o=new us(e.error,n,e.suberror,r,e.status);if(t&&e.status&&e.status>=He.t3.SERVER_ERROR_RANGE_START&&e.status<=He.t3.SERVER_ERROR_RANGE_END)return void this.logger.warning(`executeTokenRequest:validateTokenResponse - AAD is currently unavailable and the access token is unable to be refreshed.\n${o}`);if(t&&e.status&&e.status>=He.t3.CLIENT_ERROR_RANGE_START&&e.status<=He.t3.CLIENT_ERROR_RANGE_END)return void this.logger.warning(`executeTokenRequest:validateTokenResponse - AAD is currently available but is unable to refresh the access token.\n${o}`);if(Ia(e.error,e.error_description,e.suberror))throw new wa(e.error,e.error_description,e.suberror,e.timestamp||He.YM.EMPTY_STRING,e.trace_id||He.YM.EMPTY_STRING,e.correlation_id||He.YM.EMPTY_STRING,e.claims||He.YM.EMPTY_STRING,r);throw o}}async handleServerTokenResponse(e,t,n,r,o,i,a,s,l){let c,u;if(this.performanceClient?.addQueueMeasurement(Sr.HandleServerTokenResponse,e.correlation_id),e.id_token){if(c=Xt(e.id_token||He.YM.EMPTY_STRING,this.cryptoObj.base64Decode),o&&o.nonce&&c.nonce!==o.nonce)throw qt(st);if(r.maxAge||0===r.maxAge){const e=c.auth_time;if(!e)throw qt(lt);Kt(e,r.maxAge)}}this.homeAccountIdentifier=Yn.generateHomeAccountId(e.client_info||He.YM.EMPTY_STRING,t.authorityType,this.logger,this.cryptoObj,c),o&&o.state&&(u=Aa.parseRequestState(this.cryptoObj,o.state)),e.key_id=e.key_id||r.sshKid||void 0;const d=this.generateCacheRecord(e,t,n,r,c,i,o);let p;try{if(this.persistencePlugin&&this.serializableCache&&(this.logger.verbose("Persistence enabled, calling beforeCacheAccess"),p=new ys(this.serializableCache,!0),await this.persistencePlugin.beforeCacheAccess(p)),a&&!s&&d.account){const e=d.account.generateAccountKey();if(!this.cacheStorage.getAccount(e,this.logger))return this.logger.warning("Account used to refresh tokens not in persistence, refreshed tokens will not be stored in the cache"),await bs.generateAuthenticationResult(this.cryptoObj,t,d,!1,r,c,u,void 0,l)}await this.cacheStorage.saveCacheRecord(d,r.storeInCache,r.correlationId)}finally{this.persistencePlugin&&this.serializableCache&&p&&(this.logger.verbose("Persistence enabled, calling afterCacheAccess"),await this.persistencePlugin.afterCacheAccess(p))}return bs.generateAuthenticationResult(this.cryptoObj,t,d,!1,r,c,u,e,l)}generateCacheRecord(e,t,n,r,o,i,a){const s=t.getPreferredCache();if(!s)throw qt(Et);const l=$n(o);let c,u;e.id_token&&o&&(c=Yt(this.homeAccountIdentifier,s,e.id_token,this.clientId,l||""),u=Ss(this.cacheStorage,t,this.homeAccountIdentifier,this.cryptoObj.base64Decode,o,e.client_info,s,l,a,void 0,this.logger));let d=null;if(e.access_token){const o=e.scope?Bn.fromString(e.scope):new Bn(r.scopes||[]),a=("string"===typeof e.expires_in?parseInt(e.expires_in,10):e.expires_in)||0,c=("string"===typeof e.ext_expires_in?parseInt(e.ext_expires_in,10):e.ext_expires_in)||0,u=("string"===typeof e.refresh_in?parseInt(e.refresh_in,10):e.refresh_in)||void 0,p=n+a,m=p+c,h=u&&u>0?n+u:void 0;d=Qt(this.homeAccountIdentifier,s,e.access_token,this.clientId,l||t.tenant||"",o.printScopes(),p,m,this.cryptoObj.base64Decode,h,e.token_type,i,e.key_id,r.claims,r.requestedClaimsHash)}let p=null;if(e.refresh_token){let t;if(e.refresh_token_expires_in){t=n+("string"===typeof e.refresh_token_expires_in?parseInt(e.refresh_token_expires_in,10):e.refresh_token_expires_in)}p=Jt(this.homeAccountIdentifier,s,e.refresh_token,this.clientId,e.foci,i,t)}let m=null;return e.foci&&(m={clientId:this.clientId,environment:s,familyId:e.foci}),{account:u,idToken:c,accessToken:d,refreshToken:p,appMetadata:m}}static async generateAuthenticationResult(e,t,n,r,o,i,a,s,l){let c,u,d=He.YM.EMPTY_STRING,p=[],m=null,h=He.YM.EMPTY_STRING;if(n.accessToken){if(n.accessToken.tokenType!==He.IO.POP||o.popKid)d=n.accessToken.secret;else{const t=new vs(e),{secret:r,keyId:i}=n.accessToken;if(!i)throw qt(Mt);d=await t.signPopToken(r,i,o)}p=Bn.fromString(n.accessToken.target).asArray(),m=new Date(1e3*Number(n.accessToken.expiresOn)),c=new Date(1e3*Number(n.accessToken.extendedExpiresOn)),n.accessToken.refreshOn&&(u=new Date(1e3*Number(n.accessToken.refreshOn)))}n.appMetadata&&(h=n.appMetadata.familyId===He.hB?He.hB:"");const g=i?.oid||i?.sub||"",f=i?.tid||"";s?.spa_accountid&&n.account&&(n.account.nativeAccountId=s?.spa_accountid);const _=n.account?Vn(n.account.getAccountInfo(),void 0,i,n.idToken?.secret):null;return{authority:t.canonicalAuthority,uniqueId:g,tenantId:f,scopes:p,account:_,idToken:n?.idToken?.secret||"",idTokenClaims:i||{},accessToken:d,fromCache:r,expiresOn:m,extExpiresOn:c,refreshOn:u,correlationId:o.correlationId,requestId:l||He.YM.EMPTY_STRING,familyId:h,tokenType:n.accessToken?.tokenType||He.YM.EMPTY_STRING,state:a?a.userRequestState:He.YM.EMPTY_STRING,cloudGraphHostName:n.account?.cloudGraphHostName||He.YM.EMPTY_STRING,msGraphHost:n.account?.msGraphHost||He.YM.EMPTY_STRING,code:s?.spa_code,fromNativeBroker:!1}}}function Ss(e,t,n,r,o,i,a,s,l,c,u){u?.verbose("setCachedAccount called");const d=e.getAccountKeys().find((e=>e.startsWith(n)));let p=null;d&&(p=e.getAccount(d,u));const m=p||Yn.createAccount({homeAccountId:n,idTokenClaims:o,clientInfo:i,environment:a,cloudGraphHostName:l?.cloud_graph_host_name,msGraphHost:l?.msgraph_host,nativeAccountId:c},t,r),h=m.tenantProfiles||[],g=s||m.realm;if(g&&!h.find((e=>e.tenantId===g))){const e=jn(n,m.localAccountId,g,o);h.push(e)}return m.tenantProfiles=h,m}async function Es(e,t,n){if("string"===typeof e)return e;return e({clientId:t,tokenEndpoint:n})}class Cs extends fs{constructor(e,t){super(e,t),this.includeRedirectUri=!0,this.oidcDefaultScopes=this.config.authOptions.authority.options.OIDCOptions?.defaultScopes}async getAuthCodeUrl(e){this.performanceClient?.addQueueMeasurement(Sr.GetAuthCodeUrl,e.correlationId);const t=await ha(this.createAuthCodeUrlQueryString.bind(this),Sr.AuthClientCreateQueryString,this.logger,this.performanceClient,e.correlationId)(e);return Zn.appendQueryString(this.authority.authorizationEndpoint,t)}async acquireToken(e,t){if(this.performanceClient?.addQueueMeasurement(Sr.AuthClientAcquireToken,e.correlationId),!e.code)throw qt(mt);const n=(0,Wt._C)(),r=await ha(this.executeTokenRequest.bind(this),Sr.AuthClientExecuteTokenRequest,this.logger,this.performanceClient,e.correlationId)(this.authority,e),o=r.headers?.[He.OK.X_MS_REQUEST_ID],i=new bs(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin,this.performanceClient);return i.validateTokenResponse(r.body),ha(i.handleServerTokenResponse.bind(i),Sr.HandleServerTokenResponse,this.logger,this.performanceClient,e.correlationId)(r.body,this.authority,n,e,t,void 0,void 0,void 0,o)}handleFragmentResponse(e,t){if(new bs(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,null,null).validateServerAuthorizationCodeResponse(e,t),!e.code)throw qt(Rt);return e}getLogoutUri(e){if(!e)throw Fn(En);const t=this.createLogoutUrlQueryString(e);return Zn.appendQueryString(this.authority.endSessionEndpoint,t)}async executeTokenRequest(e,t){this.performanceClient?.addQueueMeasurement(Sr.AuthClientExecuteTokenRequest,t.correlationId);const n=this.createTokenQueryParameters(t),r=Zn.appendQueryString(e.tokenEndpoint,n),o=await ha(this.createTokenRequestBody.bind(this),Sr.AuthClientCreateTokenRequestBody,this.logger,this.performanceClient,t.correlationId)(t);let i;if(t.clientInfo)try{const e=Hn(t.clientInfo,this.cryptoUtils.base64Decode);i={credential:`${e.uid}${He.LR.CLIENT_INFO_SEPARATOR}${e.utid}`,type:ka}}catch(l){this.logger.verbose("Could not parse client info for CCS Header: "+l)}const a=this.createTokenRequestHeaders(i||t.ccsCredential),s={clientId:t.tokenBodyParameters?.clientId||this.config.authOptions.clientId,authority:e.canonicalAuthority,scopes:t.scopes,claims:t.claims,authenticationScheme:t.authenticationScheme,resourceRequestMethod:t.resourceRequestMethod,resourceRequestUri:t.resourceRequestUri,shrClaims:t.shrClaims,sshKid:t.sshKid};return ha(this.executePostToTokenEndpoint.bind(this),Sr.AuthorizationCodeClientExecutePostToTokenEndpoint,this.logger,this.performanceClient,t.correlationId)(r,o,a,s,t.correlationId,Sr.AuthorizationCodeClientExecutePostToTokenEndpoint)}async createTokenRequestBody(e){this.performanceClient?.addQueueMeasurement(Sr.AuthClientCreateTokenRequestBody,e.correlationId);const t=new hs(e.correlationId,this.performanceClient);if(t.addClientId(e.embeddedClientId||e.tokenBodyParameters?.[ps.U6]||this.config.authOptions.clientId),this.includeRedirectUri?t.addRedirectUri(e.redirectUri):ms.validateRedirectUri(e.redirectUri),t.addScopes(e.scopes,!0,this.oidcDefaultScopes),t.addAuthorizationCode(e.code),t.addLibraryInfo(this.config.libraryInfo),t.addApplicationTelemetry(this.config.telemetry.application),t.addThrottling(),this.serverTelemetryManager&&!yr(this.config)&&t.addServerTelemetry(this.serverTelemetryManager),e.codeVerifier&&t.addCodeVerifier(e.codeVerifier),this.config.clientCredentials.clientSecret&&t.addClientSecret(this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion){const n=this.config.clientCredentials.clientAssertion;t.addClientAssertion(await Es(n.assertion,this.config.authOptions.clientId,e.resourceRequestUri)),t.addClientAssertionType(n.assertionType)}if(t.addGrantType(He.$x.AUTHORIZATION_CODE_GRANT),t.addClientInfo(),e.authenticationScheme===He.IO.POP){const n=new vs(this.cryptoUtils,this.performanceClient);let r;if(e.popKid)r=this.cryptoUtils.encodeKid(e.popKid);else{r=(await ha(n.generateCnf.bind(n),Sr.PopTokenGenerateCnf,this.logger,this.performanceClient,e.correlationId)(e,this.logger)).reqCnfString}t.addPopToken(r)}else if(e.authenticationScheme===He.IO.SSH){if(!e.sshJwk)throw Fn(An);t.addSshJwk(e.sshJwk)}let n;if((!Un.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&t.addClaims(e.claims,this.config.authOptions.clientCapabilities),e.clientInfo)try{const t=Hn(e.clientInfo,this.cryptoUtils.base64Decode);n={credential:`${t.uid}${He.LR.CLIENT_INFO_SEPARATOR}${t.utid}`,type:ka}}catch(r){this.logger.verbose("Could not parse client info for CCS Header: "+r)}else n=e.ccsCredential;if(this.config.systemOptions.preventCorsPreflight&&n)switch(n.type){case ka:try{const e=Gn(n.credential);t.addCcsOid(e)}catch(r){this.logger.verbose("Could not parse home account ID for CCS Header: "+r)}break;case xa:t.addCcsUpn(n.credential)}return e.embeddedClientId&&t.addBrokerParameters({brokerClientId:this.config.authOptions.clientId,brokerRedirectUri:this.config.authOptions.redirectUri}),e.tokenBodyParameters&&t.addExtraQueryParameters(e.tokenBodyParameters),!e.enableSpaAuthorizationCode||e.tokenBodyParameters&&e.tokenBodyParameters[ps.ir]||t.addExtraQueryParameters({[ps.ir]:"1"}),t.createQueryString()}async createAuthCodeUrlQueryString(e){const t=e.correlationId||this.config.cryptoInterface.createNewGuid();this.performanceClient?.addQueueMeasurement(Sr.AuthClientCreateQueryString,t);const n=new hs(t,this.performanceClient);n.addClientId(e.embeddedClientId||e.extraQueryParameters?.[ps.U6]||this.config.authOptions.clientId);const r=[...e.scopes||[],...e.extraScopesToConsent||[]];if(n.addScopes(r,!0,this.oidcDefaultScopes),n.addRedirectUri(e.redirectUri),n.addCorrelationId(t),n.addResponseMode(e.responseMode),n.addResponseTypeCode(),n.addLibraryInfo(this.config.libraryInfo),yr(this.config)||n.addApplicationTelemetry(this.config.telemetry.application),n.addClientInfo(),e.codeChallenge&&e.codeChallengeMethod&&n.addCodeChallengeParams(e.codeChallenge,e.codeChallengeMethod),e.prompt&&n.addPrompt(e.prompt),e.domainHint&&n.addDomainHint(e.domainHint),e.prompt!==He._M.SELECT_ACCOUNT)if(e.sid&&e.prompt===He._M.NONE)this.logger.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from request"),n.addSid(e.sid);else if(e.account){const t=this.extractAccountSid(e.account);let r=this.extractLoginHint(e.account);if(r&&e.domainHint&&(this.logger.warning('AuthorizationCodeClient.createAuthCodeUrlQueryString: "domainHint" param is set, skipping opaque "login_hint" claim. Please consider not passing domainHint'),r=null),r){this.logger.verbose("createAuthCodeUrlQueryString: login_hint claim present on account"),n.addLoginHint(r);try{const t=Gn(e.account.homeAccountId);n.addCcsOid(t)}catch(o){this.logger.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(t&&e.prompt===He._M.NONE){this.logger.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from account"),n.addSid(t);try{const t=Gn(e.account.homeAccountId);n.addCcsOid(t)}catch(o){this.logger.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(e.loginHint)this.logger.verbose("createAuthCodeUrlQueryString: Adding login_hint from request"),n.addLoginHint(e.loginHint),n.addCcsUpn(e.loginHint);else if(e.account.username){this.logger.verbose("createAuthCodeUrlQueryString: Adding login_hint from account"),n.addLoginHint(e.account.username);try{const t=Gn(e.account.homeAccountId);n.addCcsOid(t)}catch(o){this.logger.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}}else e.loginHint&&(this.logger.verbose("createAuthCodeUrlQueryString: No account, adding login_hint from request"),n.addLoginHint(e.loginHint),n.addCcsUpn(e.loginHint));else this.logger.verbose("createAuthCodeUrlQueryString: Prompt is select_account, ignoring account hints");if(e.nonce&&n.addNonce(e.nonce),e.state&&n.addState(e.state),(e.claims||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&n.addClaims(e.claims,this.config.authOptions.clientCapabilities),e.embeddedClientId&&n.addBrokerParameters({brokerClientId:this.config.authOptions.clientId,brokerRedirectUri:this.config.authOptions.redirectUri}),this.addExtraQueryParams(e,n),e.nativeBroker&&(n.addNativeBroker(),e.authenticationScheme===He.IO.POP)){const t=new vs(this.cryptoUtils);let r;if(e.popKid)r=this.cryptoUtils.encodeKid(e.popKid);else{r=(await ha(t.generateCnf.bind(t),Sr.PopTokenGenerateCnf,this.logger,this.performanceClient,e.correlationId)(e,this.logger)).reqCnfString}n.addPopToken(r)}return n.createQueryString()}createLogoutUrlQueryString(e){const t=new hs(e.correlationId,this.performanceClient);return e.postLogoutRedirectUri&&t.addPostLogoutRedirectUri(e.postLogoutRedirectUri),e.correlationId&&t.addCorrelationId(e.correlationId),e.idTokenHint&&t.addIdTokenHint(e.idTokenHint),e.state&&t.addState(e.state),e.logoutHint&&t.addLogoutHint(e.logoutHint),this.addExtraQueryParams(e,t),t.createQueryString()}addExtraQueryParams(e,t){!(e.extraQueryParameters&&e.extraQueryParameters.hasOwnProperty("instance_aware"))&&this.config.authOptions.instanceAware&&(e.extraQueryParameters=e.extraQueryParameters||{},e.extraQueryParameters.instance_aware="true"),e.extraQueryParameters&&t.addExtraQueryParameters(e.extraQueryParameters)}extractAccountSid(e){return e.idTokenClaims?.sid||null}extractLoginHint(e){return e.idTokenClaims?.login_hint||null}}const Ts="|";function ws(e){const{skus:t,libraryName:n,libraryVersion:r,extensionName:o,extensionVersion:i}=e,a=new Map([[0,[n,r]],[2,[o,i]]]);let s=[];if(t?.length){if(s=t.split(","),s.length<4)return t}else s=Array.from({length:4},(()=>Ts));return a.forEach(((e,t)=>{2===e.length&&e[0]?.length&&e[1]?.length&&function(e){const{skuArr:t,index:n,skuName:r,skuVersion:o}=e;if(n>=t.length)return;t[n]=[r,o].join(Ts)}({skuArr:s,index:t,skuName:e[0],skuVersion:e[1]})})),s.join(",")}class Is{constructor(e,t){this.cacheOutcome=He.Rv.NOT_APPLICABLE,this.cacheManager=t,this.apiId=e.apiId,this.correlationId=e.correlationId,this.wrapperSKU=e.wrapperSKU||He.YM.EMPTY_STRING,this.wrapperVer=e.wrapperVer||He.YM.EMPTY_STRING,this.telemetryCacheKey=He.gT.CACHE_KEY+He.LR.CACHE_KEY_SEPARATOR+e.clientId}generateCurrentRequestHeaderValue(){const e=`${this.apiId}${He.gT.VALUE_SEPARATOR}${this.cacheOutcome}`,t=[this.wrapperSKU,this.wrapperVer],n=this.getNativeBrokerErrorCode();n?.length&&t.push(`broker_error=${n}`);const r=t.join(He.gT.VALUE_SEPARATOR),o=[e,this.getRegionDiscoveryFields()].join(He.gT.VALUE_SEPARATOR);return[He.gT.SCHEMA_VERSION,o,r].join(He.gT.CATEGORY_SEPARATOR)}generateLastRequestHeaderValue(){const e=this.getLastRequests(),t=Is.maxErrorsToSend(e),n=e.failedRequests.slice(0,2*t).join(He.gT.VALUE_SEPARATOR),r=e.errors.slice(0,t).join(He.gT.VALUE_SEPARATOR),o=e.errors.length,i=[o,t<o?He.gT.OVERFLOW_TRUE:He.gT.OVERFLOW_FALSE].join(He.gT.VALUE_SEPARATOR);return[He.gT.SCHEMA_VERSION,e.cacheHits,n,r,i].join(He.gT.CATEGORY_SEPARATOR)}cacheFailedRequest(e){const t=this.getLastRequests();t.errors.length>=He.gT.MAX_CACHED_ERRORS&&(t.failedRequests.shift(),t.failedRequests.shift(),t.errors.shift()),t.failedRequests.push(this.apiId,this.correlationId),e instanceof Error&&e&&e.toString()?e instanceof We?e.subError?t.errors.push(e.subError):e.errorCode?t.errors.push(e.errorCode):t.errors.push(e.toString()):t.errors.push(e.toString()):t.errors.push(He.gT.UNKNOWN_ERROR),this.cacheManager.setServerTelemetry(this.telemetryCacheKey,t)}incrementCacheHits(){const e=this.getLastRequests();return e.cacheHits+=1,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,e),e.cacheHits}getLastRequests(){return this.cacheManager.getServerTelemetry(this.telemetryCacheKey)||{failedRequests:[],errors:[],cacheHits:0}}clearTelemetryCache(){const e=this.getLastRequests(),t=Is.maxErrorsToSend(e);if(t===e.errors.length)this.cacheManager.removeItem(this.telemetryCacheKey);else{const n={failedRequests:e.failedRequests.slice(2*t),errors:e.errors.slice(t),cacheHits:0};this.cacheManager.setServerTelemetry(this.telemetryCacheKey,n)}}static maxErrorsToSend(e){let t,n=0,r=0;const o=e.errors.length;for(t=0;t<o;t++){const o=e.failedRequests[2*t]||He.YM.EMPTY_STRING,i=e.failedRequests[2*t+1]||He.YM.EMPTY_STRING,a=e.errors[t]||He.YM.EMPTY_STRING;if(r+=o.toString().length+i.toString().length+a.length+3,!(r<He.gT.MAX_LAST_HEADER_BYTES))break;n+=1}return n}getRegionDiscoveryFields(){const e=[];return e.push(this.regionUsed||He.YM.EMPTY_STRING),e.push(this.regionSource||He.YM.EMPTY_STRING),e.push(this.regionOutcome||He.YM.EMPTY_STRING),e.join(",")}updateRegionDiscoveryMetadata(e){this.regionUsed=e.region_used,this.regionSource=e.region_source,this.regionOutcome=e.region_outcome}setCacheOutcome(e){this.cacheOutcome=e}setNativeBrokerErrorCode(e){const t=this.getLastRequests();t.nativeBrokerErrorCode=e,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,t)}getNativeBrokerErrorCode(){return this.getLastRequests().nativeBrokerErrorCode}clearNativeBrokerErrorCode(){const e=this.getLastRequests();delete e.nativeBrokerErrorCode,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,e)}static makeExtraSkuString(e){return ws(e)}}class Ps{constructor(e,t,n,r,o,i,a,s,l){this.config=e,this.browserStorage=t,this.browserCrypto=n,this.networkClient=this.config.system.networkClient,this.eventHandler=o,this.navigationClient=i,this.nativeMessageHandler=s,this.correlationId=l||Mi(),this.logger=r.clone(wr.MSAL_SKU,Ji,this.correlationId),this.performanceClient=a}async clearCacheOnLogout(e){if(e){Yn.accountInfoIsEqual(e,this.browserStorage.getActiveAccount(),!1)&&(this.logger.verbose("Setting active account to null"),this.browserStorage.setActiveAccount(null));try{await this.browserStorage.removeAccount(Yn.generateAccountCacheKey(e)),this.logger.verbose("Cleared cache items belonging to the account provided in the logout request.")}catch(t){this.logger.error("Account provided in logout request was not found. Local cache unchanged.")}}else try{this.logger.verbose("No account provided in logout request, clearing all cache items.",this.correlationId),await this.browserStorage.clear(),await this.browserCrypto.clearKeystore()}catch(n){this.logger.error("Attempted to clear all MSAL cache items and failed. Local cache unchanged.")}}getRedirectUri(e){this.logger.verbose("getRedirectUri called");const t=e||this.config.auth.redirectUri;return Zn.getAbsoluteUrl(t,Vi())}initializeServerTelemetryManager(e,t){this.logger.verbose("initializeServerTelemetryManager called");const n={clientId:this.config.auth.clientId,correlationId:this.correlationId,apiId:e,forceRefresh:t||!1,wrapperSKU:this.browserStorage.getWrapperMetadata()[0],wrapperVer:this.browserStorage.getWrapperMetadata()[1]};return new Is(n,this.browserStorage)}async getDiscoveredAuthority(e){const{account:t}=e,n=e.requestExtraQueryParameters&&e.requestExtraQueryParameters.hasOwnProperty("instance_aware")?e.requestExtraQueryParameters.instance_aware:void 0;this.performanceClient.addQueueMeasurement(Sr.StandardInteractionClientGetDiscoveredAuthority,this.correlationId);const r={protocolMode:this.config.auth.protocolMode,OIDCOptions:this.config.auth.OIDCOptions,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata,skipAuthorityMetadataCache:this.config.auth.skipAuthorityMetadataCache},o=e.requestAuthority||this.config.auth.authority,i=n?.length?"true"===n:this.config.auth.instanceAware,a=t&&i?this.config.auth.authority.replace(Zn.getDomainFromUrl(o),t.environment):o,s=fa.generateAuthority(a,e.requestAzureCloudOptions||this.config.auth.azureCloudOptions),l=await ha(gs,Sr.AuthorityFactoryCreateDiscoveredInstance,this.logger,this.performanceClient,this.correlationId)(s,this.config.system.networkClient,this.browserStorage,r,this.logger,this.correlationId,this.performanceClient);if(t&&!l.isAlias(t.environment))throw Fn(Mn);return l}}const As=32;async function ks(e,t,n){e.addQueueMeasurement(Sr.GeneratePkceCodes,n);const r=ma(xs,Sr.GenerateCodeVerifier,t,e,n)(e,t,n);return{verifier:r,challenge:await ha(Rs,Sr.GenerateCodeChallengeFromVerifier,t,e,n)(r,e,t,n)}}function xs(e,t,n){try{const r=new Uint8Array(As);ma(Oi,Sr.GetRandomValues,t,e,n)(r);return Ci(r)}catch(r){throw vi(So)}}async function Rs(e,t,n,r){t.addQueueMeasurement(Sr.GenerateCodeChallengeFromVerifier,r);try{const o=await ha(Ri,Sr.Sha256Digest,n,t,r)(e,t,r);return Ci(new Uint8Array(o))}catch(o){throw vi(So)}}async function Os(e,t,n,r){n.addQueueMeasurement(Sr.InitializeBaseRequest,e.correlationId);const o=e.authority||t.auth.authority,i=[...e&&e.scopes||[]],a={...e,correlationId:e.correlationId,authority:o,scopes:i};if(a.authenticationScheme){if(a.authenticationScheme===He.IO.SSH){if(!e.sshJwk)throw Fn(An);if(!e.sshKid)throw Fn(kn)}r.verbose(`Authentication Scheme set to "${a.authenticationScheme}" as configured in Auth request`)}else a.authenticationScheme=He.IO.BEARER,r.verbose('Authentication Scheme wasn\'t explicitly set in request, defaulting to "Bearer" request');return t.cache.claimsBasedCachingEnabled&&e.claims&&!Un.isEmptyObj(e.claims)&&(a.requestedClaimsHash=await Di(e.claims)),a}async function Ns(e,t,n,r,o){r.addQueueMeasurement(Sr.InitializeSilentRequest,e.correlationId);const i=await ha(Os,Sr.InitializeBaseRequest,o,r,e.correlationId)(e,n,r,o);return{...e,...i,account:t,forceRefresh:e.forceRefresh||!1}}class Ms extends Ps{async initializeAuthorizationCodeRequest(e){this.performanceClient.addQueueMeasurement(Sr.StandardInteractionClientInitializeAuthorizationCodeRequest,this.correlationId);const t=await ha(ks,Sr.GeneratePkceCodes,this.logger,this.performanceClient,this.correlationId)(this.performanceClient,this.logger,this.correlationId),n={...e,redirectUri:e.redirectUri,code:He.YM.EMPTY_STRING,codeVerifier:t.verifier};return e.codeChallenge=t.challenge,e.codeChallengeMethod=He.YM.S256_CODE_CHALLENGE_METHOD,n}initializeLogoutRequest(e){this.logger.verbose("initializeLogoutRequest called",e?.correlationId);const t={correlationId:this.correlationId||Mi(),...e};if(e)if(e.logoutHint)this.logger.verbose("logoutHint has already been set in logoutRequest");else if(e.account){const n=this.getLogoutHintFromIdTokenClaims(e.account);n&&(this.logger.verbose("Setting logoutHint to login_hint ID Token Claim value for the account provided"),t.logoutHint=n)}else this.logger.verbose("logoutHint was not set and account was not passed into logout request, logoutHint will not be set");else this.logger.verbose("logoutHint will not be set since no logout request was configured");return e&&null===e.postLogoutRedirectUri?this.logger.verbose("postLogoutRedirectUri passed as null, not setting post logout redirect uri",t.correlationId):e&&e.postLogoutRedirectUri?(this.logger.verbose("Setting postLogoutRedirectUri to uri set on logout request",t.correlationId),t.postLogoutRedirectUri=Zn.getAbsoluteUrl(e.postLogoutRedirectUri,Vi())):null===this.config.auth.postLogoutRedirectUri?this.logger.verbose("postLogoutRedirectUri configured as null and no uri set on request, not passing post logout redirect",t.correlationId):this.config.auth.postLogoutRedirectUri?(this.logger.verbose("Setting postLogoutRedirectUri to configured uri",t.correlationId),t.postLogoutRedirectUri=Zn.getAbsoluteUrl(this.config.auth.postLogoutRedirectUri,Vi())):(this.logger.verbose("Setting postLogoutRedirectUri to current page",t.correlationId),t.postLogoutRedirectUri=Zn.getAbsoluteUrl(Vi(),Vi())),t}getLogoutHintFromIdTokenClaims(e){const t=e.idTokenClaims;if(t){if(t.login_hint)return t.login_hint;this.logger.verbose("The ID Token Claims tied to the provided account do not contain a login_hint claim, logoutHint will not be added to logout request")}else this.logger.verbose("The provided account does not contain ID Token Claims, logoutHint will not be added to logout request");return null}async createAuthCodeClient(e){this.performanceClient.addQueueMeasurement(Sr.StandardInteractionClientCreateAuthCodeClient,this.correlationId);const t=await ha(this.getClientConfiguration.bind(this),Sr.StandardInteractionClientGetClientConfiguration,this.logger,this.performanceClient,this.correlationId)(e);return new Cs(t,this.performanceClient)}async getClientConfiguration(e){const{serverTelemetryManager:t,requestAuthority:n,requestAzureCloudOptions:r,requestExtraQueryParameters:o,account:i}=e;this.performanceClient.addQueueMeasurement(Sr.StandardInteractionClientGetClientConfiguration,this.correlationId);const a=await ha(this.getDiscoveredAuthority.bind(this),Sr.StandardInteractionClientGetDiscoveredAuthority,this.logger,this.performanceClient,this.correlationId)({requestAuthority:n,requestAzureCloudOptions:r,requestExtraQueryParameters:o,account:i}),s=this.config.system.loggerOptions;return{authOptions:{clientId:this.config.auth.clientId,authority:a,clientCapabilities:this.config.auth.clientCapabilities,redirectUri:this.config.auth.redirectUri},systemOptions:{tokenRenewalOffsetSeconds:this.config.system.tokenRenewalOffsetSeconds,preventCorsPreflight:!0},loggerOptions:{loggerCallback:s.loggerCallback,piiLoggingEnabled:s.piiLoggingEnabled,logLevel:s.logLevel,correlationId:this.correlationId},cacheOptions:{claimsBasedCachingEnabled:this.config.cache.claimsBasedCachingEnabled},cryptoInterface:this.browserCrypto,networkInterface:this.networkClient,storageInterface:this.browserStorage,serverTelemetryManager:t,libraryInfo:{sku:wr.MSAL_SKU,version:Ji,cpu:He.YM.EMPTY_STRING,os:He.YM.EMPTY_STRING},telemetry:this.config.telemetry}}async initializeAuthorizationRequest(e,t){this.performanceClient.addQueueMeasurement(Sr.StandardInteractionClientInitializeAuthorizationRequest,this.correlationId);const n=this.getRedirectUri(e.redirectUri),r={interactionType:t},o=Aa.setRequestState(this.browserCrypto,e&&e.state||He.YM.EMPTY_STRING,r),i={...await ha(Os,Sr.InitializeBaseRequest,this.logger,this.performanceClient,this.correlationId)({...e,correlationId:this.correlationId},this.config,this.performanceClient,this.logger),redirectUri:n,state:o,nonce:e.nonce||Mi(),responseMode:this.config.auth.OIDCOptions.serverResponseType};if(e.loginHint||e.sid)return i;const a=e.account||this.browserStorage.getActiveAccount();if(a&&(this.logger.verbose("Setting validated request account",this.correlationId),this.logger.verbosePii(`Setting validated request account: ${a.homeAccountId}`,this.correlationId),i.account=a),!i.loginHint&&!a){const e=this.browserStorage.getLegacyLoginHint();e&&(i.loginHint=e)}return i}}const Ls="user_switch",Ds={[Ls]:"User attempted to switch accounts in the native broker, which is not allowed. All new accounts must sign-in through the standard web flow first, please try again."};class Fs extends We{constructor(e,t,n){super(e,t),Object.setPrototypeOf(this,Fs.prototype),this.name="NativeAuthError",this.ext=n}}function Us(e){return!(!e.ext||!e.ext.status||"PERSISTENT_ERROR"!==e.ext.status&&"DISABLED"!==e.ext.status)||(!(!e.ext||!e.ext.error||-2147186943!==e.ext.error)||"ContentError"===e.errorCode)}function Bs(e,t,n){if(n&&n.status)switch(n.status){case"ACCOUNT_UNAVAILABLE":return Pa(ya);case"USER_INTERACTION_REQUIRED":return new wa(e,t);case"USER_CANCEL":return vi(Oo);case"NO_NETWORK":return vi($o)}return new Fs(e,Ds[e]||t,n)}class Hs extends fs{constructor(e,t){super(e,t)}async acquireToken(e){this.performanceClient?.addQueueMeasurement(Sr.RefreshTokenClientAcquireToken,e.correlationId);const t=(0,Wt._C)(),n=await ha(this.executeTokenRequest.bind(this),Sr.RefreshTokenClientExecuteTokenRequest,this.logger,this.performanceClient,e.correlationId)(e,this.authority),r=n.headers?.[He.OK.X_MS_REQUEST_ID],o=new bs(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin);return o.validateTokenResponse(n.body),ha(o.handleServerTokenResponse.bind(o),Sr.HandleServerTokenResponse,this.logger,this.performanceClient,e.correlationId)(n.body,this.authority,t,e,void 0,void 0,!0,e.forceCache,r)}async acquireTokenByRefreshToken(e){if(!e)throw Fn(Sn);if(this.performanceClient?.addQueueMeasurement(Sr.RefreshTokenClientAcquireTokenByRefreshToken,e.correlationId),!e.account)throw qt(bt);if(this.cacheManager.isAppMetadataFOCI(e.account.environment))try{return await ha(this.acquireTokenWithCachedRefreshToken.bind(this),Sr.RefreshTokenClientAcquireTokenWithCachedRefreshToken,this.logger,this.performanceClient,e.correlationId)(e,!0)}catch(t){const n=t instanceof wa&&t.errorCode===va,r=t instanceof us&&t.errorCode===He.I.INVALID_GRANT_ERROR&&t.subError===He.I.CLIENT_MISMATCH_ERROR;if(n||r)return ha(this.acquireTokenWithCachedRefreshToken.bind(this),Sr.RefreshTokenClientAcquireTokenWithCachedRefreshToken,this.logger,this.performanceClient,e.correlationId)(e,!1);throw t}return ha(this.acquireTokenWithCachedRefreshToken.bind(this),Sr.RefreshTokenClientAcquireTokenWithCachedRefreshToken,this.logger,this.performanceClient,e.correlationId)(e,!1)}async acquireTokenWithCachedRefreshToken(e,t){this.performanceClient?.addQueueMeasurement(Sr.RefreshTokenClientAcquireTokenWithCachedRefreshToken,e.correlationId);const n=ma(this.cacheManager.getRefreshToken.bind(this.cacheManager),Sr.CacheManagerGetRefreshToken,this.logger,this.performanceClient,e.correlationId)(e.account,t,void 0,this.performanceClient,e.correlationId);if(!n)throw Pa(va);if(n.expiresOn&&(0,Wt.Hm)(n.expiresOn,e.refreshTokenExpirationOffsetSeconds||300))throw Pa(ba);const r={...e,refreshToken:n.secret,authenticationScheme:e.authenticationScheme||He.IO.BEARER,ccsCredential:{credential:e.account.homeAccountId,type:ka}};try{return await ha(this.acquireToken.bind(this),Sr.RefreshTokenClientAcquireToken,this.logger,this.performanceClient,e.correlationId)(r)}catch(o){if(o instanceof wa&&o.subError===Sa){this.logger.verbose("acquireTokenWithRefreshToken: bad refresh token, removing from cache");const e=$t(n);this.cacheManager.removeRefreshToken(e)}throw o}}async executeTokenRequest(e,t){this.performanceClient?.addQueueMeasurement(Sr.RefreshTokenClientExecuteTokenRequest,e.correlationId);const n=this.createTokenQueryParameters(e),r=Zn.appendQueryString(t.tokenEndpoint,n),o=await ha(this.createTokenRequestBody.bind(this),Sr.RefreshTokenClientCreateTokenRequestBody,this.logger,this.performanceClient,e.correlationId)(e),i=this.createTokenRequestHeaders(e.ccsCredential),a={clientId:e.tokenBodyParameters?.clientId||this.config.authOptions.clientId,authority:t.canonicalAuthority,scopes:e.scopes,claims:e.claims,authenticationScheme:e.authenticationScheme,resourceRequestMethod:e.resourceRequestMethod,resourceRequestUri:e.resourceRequestUri,shrClaims:e.shrClaims,sshKid:e.sshKid};return ha(this.executePostToTokenEndpoint.bind(this),Sr.RefreshTokenClientExecutePostToTokenEndpoint,this.logger,this.performanceClient,e.correlationId)(r,o,i,a,e.correlationId,Sr.RefreshTokenClientExecutePostToTokenEndpoint)}async createTokenRequestBody(e){this.performanceClient?.addQueueMeasurement(Sr.RefreshTokenClientCreateTokenRequestBody,e.correlationId);const t=e.correlationId,n=new hs(t,this.performanceClient);if(n.addClientId(e.embeddedClientId||e.tokenBodyParameters?.[ps.U6]||this.config.authOptions.clientId),e.redirectUri&&n.addRedirectUri(e.redirectUri),n.addScopes(e.scopes,!0,this.config.authOptions.authority.options.OIDCOptions?.defaultScopes),n.addGrantType(He.$x.REFRESH_TOKEN_GRANT),n.addClientInfo(),n.addLibraryInfo(this.config.libraryInfo),n.addApplicationTelemetry(this.config.telemetry.application),n.addThrottling(),this.serverTelemetryManager&&!yr(this.config)&&n.addServerTelemetry(this.serverTelemetryManager),n.addRefreshToken(e.refreshToken),this.config.clientCredentials.clientSecret&&n.addClientSecret(this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion){const t=this.config.clientCredentials.clientAssertion;n.addClientAssertion(await Es(t.assertion,this.config.authOptions.clientId,e.resourceRequestUri)),n.addClientAssertionType(t.assertionType)}if(e.authenticationScheme===He.IO.POP){const t=new vs(this.cryptoUtils,this.performanceClient);let r;if(e.popKid)r=this.cryptoUtils.encodeKid(e.popKid);else{r=(await ha(t.generateCnf.bind(t),Sr.PopTokenGenerateCnf,this.logger,this.performanceClient,e.correlationId)(e,this.logger)).reqCnfString}n.addPopToken(r)}else if(e.authenticationScheme===He.IO.SSH){if(!e.sshJwk)throw Fn(An);n.addSshJwk(e.sshJwk)}if((!Un.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&n.addClaims(e.claims,this.config.authOptions.clientCapabilities),this.config.systemOptions.preventCorsPreflight&&e.ccsCredential)switch(e.ccsCredential.type){case ka:try{const t=Gn(e.ccsCredential.credential);n.addCcsOid(t)}catch(r){this.logger.verbose("Could not parse home account ID for CCS Header: "+r)}break;case xa:n.addCcsUpn(e.ccsCredential.credential)}return e.embeddedClientId&&n.addBrokerParameters({brokerClientId:this.config.authOptions.clientId,brokerRedirectUri:this.config.authOptions.redirectUri}),e.tokenBodyParameters&&n.addExtraQueryParameters(e.tokenBodyParameters),n.createQueryString()}}class Gs extends fs{constructor(e,t){super(e,t)}async acquireToken(e){try{const[t,n]=await this.acquireCachedToken({...e,scopes:e.scopes?.length?e.scopes:[...He.aZ]});if(n===He.Rv.PROACTIVELY_REFRESHED){this.logger.info("SilentFlowClient:acquireCachedToken - Cached access token's refreshOn property has been exceeded'. It's not expired, but must be refreshed.");new Hs(this.config,this.performanceClient).acquireTokenByRefreshToken(e).catch((()=>{}))}return t}catch(t){if(t instanceof Gt&&t.errorCode===At){return new Hs(this.config,this.performanceClient).acquireTokenByRefreshToken(e)}throw t}}async acquireCachedToken(e){this.performanceClient?.addQueueMeasurement(Sr.SilentFlowClientAcquireCachedToken,e.correlationId);let t=He.Rv.NOT_APPLICABLE;if(e.forceRefresh||!this.config.cacheOptions.claimsBasedCachingEnabled&&!Un.isEmptyObj(e.claims))throw this.setCacheOutcome(He.Rv.FORCE_REFRESH_OR_CLAIMS,e.correlationId),qt(At);if(!e.account)throw qt(bt);const n=e.account.tenantId||function(e){const t=new Zn(e).getUrlComponents(),n=t.PathSegments.slice(-1)[0]?.toLowerCase();switch(n){case He.v2.COMMON:case He.v2.ORGANIZATIONS:case He.v2.CONSUMERS:return;default:return n}}(e.authority),r=this.cacheManager.getTokenKeys(),o=this.cacheManager.getAccessToken(e.account,e,r,n,this.performanceClient,e.correlationId);if(!o)throw this.setCacheOutcome(He.Rv.NO_CACHED_ACCESS_TOKEN,e.correlationId),qt(At);if((0,Wt.XJ)(o.cachedAt)||(0,Wt.Hm)(o.expiresOn,this.config.systemOptions.tokenRenewalOffsetSeconds))throw this.setCacheOutcome(He.Rv.CACHED_ACCESS_TOKEN_EXPIRED,e.correlationId),qt(At);o.refreshOn&&(0,Wt.Hm)(o.refreshOn,0)&&(t=He.Rv.PROACTIVELY_REFRESHED);const i=e.authority||this.authority.getPreferredCache(),a={account:this.cacheManager.readAccountFromCache(e.account),accessToken:o,idToken:this.cacheManager.getIdToken(e.account,r,n,this.performanceClient,e.correlationId),refreshToken:null,appMetadata:this.cacheManager.readAppMetadataFromCache(i)};return this.setCacheOutcome(t,e.correlationId),this.config.serverTelemetryManager&&this.config.serverTelemetryManager.incrementCacheHits(),[await ha(this.generateResultFromCacheRecord.bind(this),Sr.SilentFlowClientGenerateResultFromCacheRecord,this.logger,this.performanceClient,e.correlationId)(a,e),t]}setCacheOutcome(e,t){this.serverTelemetryManager?.setCacheOutcome(e),this.performanceClient?.addFields({cacheOutcome:e},t),e!==He.Rv.NOT_APPLICABLE&&this.logger.info(`Token refresh is required due to cache outcome: ${e}`)}async generateResultFromCacheRecord(e,t){let n;if(this.performanceClient?.addQueueMeasurement(Sr.SilentFlowClientGenerateResultFromCacheRecord,t.correlationId),e.idToken&&(n=Xt(e.idToken.secret,this.config.cryptoInterface.base64Decode)),t.maxAge||0===t.maxAge){const e=n?.auth_time;if(!e)throw qt(lt);Kt(e,t.maxAge)}return bs.generateAuthenticationResult(this.cryptoUtils,this.authority,e,!0,t,n)}}class qs extends Ms{async acquireToken(e){this.performanceClient.addQueueMeasurement(Sr.SilentCacheClientAcquireToken,e.correlationId);const t=this.initializeServerTelemetryManager(ro),n=await ha(this.getClientConfiguration.bind(this),Sr.StandardInteractionClientGetClientConfiguration,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:t,requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,account:e.account}),r=new Gs(n,this.performanceClient);this.logger.verbose("Silent auth client created");try{const t=(await ha(r.acquireCachedToken.bind(r),Sr.SilentFlowClientAcquireCachedToken,this.logger,this.performanceClient,e.correlationId)(e))[0];return this.performanceClient.addFields({fromCache:!0},e.correlationId),t}catch(o){throw o instanceof _i&&o.errorCode===ei&&this.logger.verbose("Signing keypair for bound access token not found. Refreshing bound access token and generating a new crypto keypair."),o}}logout(e){this.logger.verbose("logoutRedirect called");const t=this.initializeLogoutRequest(e);return this.clearCacheOnLogout(t?.account)}}class js extends Ps{constructor(e,t,n,r,o,i,a,s,l,c,u,d){super(e,t,n,r,o,i,s,l,d),this.apiId=a,this.accountId=c,this.nativeMessageHandler=l,this.nativeStorageManager=u,this.silentCacheClient=new qs(e,this.nativeStorageManager,n,r,o,i,s,l,d),this.serverTelemetryManager=this.initializeServerTelemetryManager(this.apiId);const p=this.nativeMessageHandler.getExtensionId()===Pr?"chrome":this.nativeMessageHandler.getExtensionId()?.length?"unknown":void 0;this.skus=Is.makeExtraSkuString({libraryName:wr.MSAL_SKU,libraryVersion:Ji,extensionName:p,extensionVersion:this.nativeMessageHandler.getExtensionVersion()})}addRequestSKUs(e){e.extraParameters={...e.extraParameters,[ps.YB]:this.skus}}async acquireToken(e){this.performanceClient.addQueueMeasurement(Sr.NativeInteractionClientAcquireToken,e.correlationId),this.logger.trace("NativeInteractionClient - acquireToken called.");const t=this.performanceClient.startMeasurement(Sr.NativeInteractionClientAcquireToken,e.correlationId),n=Wt._C();try{const o=await this.initializeNativeRequest(e);try{const e=await this.acquireTokensFromCache(this.accountId,o);return t.end({success:!0,isNativeBroker:!1,fromCache:!0}),e}catch(r){this.logger.info("MSAL internal Cache does not contain tokens, proceed to make a native call")}const{...i}=o,a={method:Rr,request:i},s=await this.nativeMessageHandler.sendMessage(a),l=this.validateNativeResponse(s);return await this.handleNativeResponse(l,o,n).then((e=>(t.end({success:!0,isNativeBroker:!0,requestId:e.requestId}),this.serverTelemetryManager.clearNativeBrokerErrorCode(),e))).catch((e=>{throw t.end({success:!1,errorCode:e.errorCode,subErrorCode:e.subError,isNativeBroker:!0}),e}))}catch(r){throw r instanceof Fs&&this.serverTelemetryManager.setNativeBrokerErrorCode(r.errorCode),r}}createSilentCacheRequest(e,t){return{authority:e.authority,correlationId:this.correlationId,scopes:Bn.fromString(e.scope).asArray(),account:t,forceRefresh:!1}}async acquireTokensFromCache(e,t){if(!e)throw this.logger.warning("NativeInteractionClient:acquireTokensFromCache - No nativeAccountId provided"),qt(Ct);const n=this.browserStorage.getBaseAccountInfo({nativeAccountId:e});if(!n)throw qt(Ct);try{const e=this.createSilentCacheRequest(t,n),r=await this.silentCacheClient.acquireToken(e),o={...n,idTokenClaims:r?.idTokenClaims,idToken:r?.idToken};return{...r,account:o}}catch(r){throw r}}async acquireTokenRedirect(e,t){this.logger.trace("NativeInteractionClient - acquireTokenRedirect called.");const{...n}=e;delete n.onRedirectNavigate;const r=await this.initializeNativeRequest(n),o={method:Rr,request:r};try{const e=await this.nativeMessageHandler.sendMessage(o);this.validateNativeResponse(e)}catch(s){if(s instanceof Fs&&(this.serverTelemetryManager.setNativeBrokerErrorCode(s.errorCode),Us(s)))throw s}this.browserStorage.setTemporaryCache(Kr,JSON.stringify(r),!0);const i={apiId:Jr,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},a=this.config.auth.navigateToLoginRequestUrl?window.location.href:this.getRedirectUri(e.redirectUri);t.end({success:!0}),await this.navigationClient.navigateExternal(a,i)}async handleRedirectPromise(e,t){if(this.logger.trace("NativeInteractionClient - handleRedirectPromise called."),!this.browserStorage.isInteractionInProgress(!0))return this.logger.info("handleRedirectPromise called but there is no interaction in progress, returning null."),null;const n=this.browserStorage.getCachedNativeRequest();if(!n)return this.logger.verbose("NativeInteractionClient - handleRedirectPromise called but there is no cached request, returning null."),e&&t&&e?.addFields({errorCode:"no_cached_request"},t),null;const{prompt:r,...o}=n;r&&this.logger.verbose("NativeInteractionClient - handleRedirectPromise called and prompt was included in the original request, removing prompt from cached request to prevent second interaction with native broker window."),this.browserStorage.removeItem(this.browserStorage.generateCacheKey(Kr));const i={method:Rr,request:o},a=Wt._C();try{this.logger.verbose("NativeInteractionClient - handleRedirectPromise sending message to native broker.");const e=await this.nativeMessageHandler.sendMessage(i);this.validateNativeResponse(e);const t=this.handleNativeResponse(e,o,a);this.browserStorage.setInteractionInProgress(!1);const n=await t;return this.serverTelemetryManager.clearNativeBrokerErrorCode(),n}catch(s){throw this.browserStorage.setInteractionInProgress(!1),s}}logout(){return this.logger.trace("NativeInteractionClient - logout called."),Promise.reject("Logout not implemented yet")}async handleNativeResponse(e,t,n){this.logger.trace("NativeInteractionClient - handleNativeResponse called.");const r=Xt(e.id_token,sa),o=this.createHomeAccountIdentifier(e,r),i=this.browserStorage.getAccountInfoFilteredBy({nativeAccountId:t.accountId})?.homeAccountId;if(o!==i&&e.account.id!==t.accountId)throw Bs(Ls);const a=await this.getDiscoveredAuthority({requestAuthority:t.authority}),s=Ss(this.browserStorage,a,o,sa,r,e.client_info,void 0,r.tid,void 0,e.account.id,this.logger),l=await this.generateAuthenticationResult(e,t,r,s,a.canonicalAuthority,n);return this.cacheAccount(s),this.cacheNativeTokens(e,t,o,r,e.access_token,l.tenantId,n),l}createHomeAccountIdentifier(e,t){return Yn.generateHomeAccountId(e.client_info||He.YM.EMPTY_STRING,zn,this.logger,this.browserCrypto,t)}generateScopes(e,t){return e.scope?Bn.fromString(e.scope):Bn.fromString(t.scope)}async generatePopAccessToken(e,t){if(t.tokenType===He.IO.POP&&t.signPopToken){if(e.shr)return this.logger.trace("handleNativeServerResponse: SHR is enabled in native layer"),e.shr;const n=new vs(this.browserCrypto),r={resourceRequestMethod:t.resourceRequestMethod,resourceRequestUri:t.resourceRequestUri,shrClaims:t.shrClaims,shrNonce:t.shrNonce};if(!t.keyId)throw qt(Mt);return n.signPopToken(e.access_token,t.keyId,r)}return e.access_token}async generateAuthenticationResult(e,t,n,r,o,i){const a=this.addTelemetryFromNativeResponse(e),s=e.scope?Bn.fromString(e.scope):Bn.fromString(t.scope),l=e.account.properties||{},c=l.UID||n.oid||n.sub||He.YM.EMPTY_STRING,u=l.TenantId||n.tid||He.YM.EMPTY_STRING,d=Vn(r.getAccountInfo(),void 0,n,e.id_token);d.nativeAccountId!==e.account.id&&(d.nativeAccountId=e.account.id);const p=await this.generatePopAccessToken(e,t),m=t.tokenType===He.IO.POP?He.IO.POP:He.IO.BEARER;return{authority:o,uniqueId:c,tenantId:u,scopes:s.asArray(),account:d,idToken:e.id_token,idTokenClaims:n,accessToken:p,fromCache:!!a&&this.isResponseFromCache(a),expiresOn:new Date(1e3*Number(i+e.expires_in)),tokenType:m,correlationId:this.correlationId,state:e.state,fromNativeBroker:!0}}cacheAccount(e){this.browserStorage.setAccount(e),this.browserStorage.removeAccountContext(e).catch((e=>{this.logger.error(`Error occurred while removing account context from browser storage. ${e}`)}))}cacheNativeTokens(e,t,n,r,o,i,a){const s=Yt(n,t.authority,e.id_token||"",t.clientId,r.tid||""),l=a+(t.tokenType===He.IO.POP?He.YM.SHR_NONCE_VALIDITY:("string"===typeof e.expires_in?parseInt(e.expires_in,10):e.expires_in)||0),c=this.generateScopes(e,t),u={idToken:s,accessToken:Qt(n,t.authority,o,t.clientId,r.tid||i,c.printScopes(),l,0,sa,void 0,t.tokenType,void 0,t.keyId)};this.nativeStorageManager.saveCacheRecord(u,t.storeInCache)}addTelemetryFromNativeResponse(e){const t=this.getMATSFromResponse(e);return t?(this.performanceClient.addFields({extensionId:this.nativeMessageHandler.getExtensionId(),extensionVersion:this.nativeMessageHandler.getExtensionVersion(),matsBrokerVersion:t.broker_version,matsAccountJoinOnStart:t.account_join_on_start,matsAccountJoinOnEnd:t.account_join_on_end,matsDeviceJoin:t.device_join,matsPromptBehavior:t.prompt_behavior,matsApiErrorCode:t.api_error_code,matsUiVisible:t.ui_visible,matsSilentCode:t.silent_code,matsSilentBiSubCode:t.silent_bi_sub_code,matsSilentMessage:t.silent_message,matsSilentStatus:t.silent_status,matsHttpStatus:t.http_status,matsHttpEventCount:t.http_event_count},this.correlationId),t):null}validateNativeResponse(e){if(e.hasOwnProperty("access_token")&&e.hasOwnProperty("id_token")&&e.hasOwnProperty("client_info")&&e.hasOwnProperty("account")&&e.hasOwnProperty("scope")&&e.hasOwnProperty("expires_in"))return e;throw $e(ze,"Response missing expected properties.")}getMATSFromResponse(e){if(e.properties.MATS)try{return JSON.parse(e.properties.MATS)}catch(t){this.logger.error("NativeInteractionClient - Error parsing MATS telemetry, returning null instead")}return null}isResponseFromCache(e){return"undefined"===typeof e.is_cached?(this.logger.verbose("NativeInteractionClient - MATS telemetry does not contain field indicating if response was served from cache. Returning false."),!1):!!e.is_cached}async initializeNativeRequest(e){this.logger.trace("NativeInteractionClient - initializeNativeRequest called");const t=e.authority||this.config.auth.authority;e.account&&await this.getDiscoveredAuthority({requestAuthority:t,requestAzureCloudOptions:e.azureCloudOptions,account:e.account});const n=new Zn(t);n.validateAsUri();const{scopes:r,...o}=e,i=new Bn(r||[]);i.appendScopes(He.aZ);const a={...o,accountId:this.accountId,clientId:this.config.auth.clientId,authority:n.urlString,scope:i.printScopes(),redirectUri:this.getRedirectUri(e.redirectUri),prompt:(()=>{switch(this.apiId){case eo:case ro:return this.logger.trace("initializeNativeRequest: silent request sets prompt to none"),He._M.NONE}if(e.prompt)switch(e.prompt){case He._M.NONE:case He._M.CONSENT:case He._M.LOGIN:return this.logger.trace("initializeNativeRequest: prompt is compatible with native flow"),e.prompt;default:throw this.logger.trace(`initializeNativeRequest: prompt = ${e.prompt} is not compatible with native flow`),vi(ui)}else this.logger.trace("initializeNativeRequest: prompt was not provided")})(),correlationId:this.correlationId,tokenType:e.authenticationScheme,windowTitleSubstring:document.title,extraParameters:{...e.extraQueryParameters,...e.tokenQueryParameters},extendedExpiryToken:!1,keyId:e.popKid};if(a.signPopToken&&e.popKid)throw vi(pi);if(this.handleExtraBrokerParams(a),a.extraParameters=a.extraParameters||{},a.extraParameters.telemetry=Ar,e.authenticationScheme===He.IO.POP){const t={resourceRequestUri:e.resourceRequestUri,resourceRequestMethod:e.resourceRequestMethod,shrClaims:e.shrClaims,shrNonce:e.shrNonce},n=new vs(this.browserCrypto);let r;if(a.keyId)r=this.browserCrypto.base64UrlEncode(JSON.stringify({kid:a.keyId})),a.signPopToken=!1;else{const o=await ha(n.generateCnf.bind(n),Sr.PopTokenGenerateCnf,this.logger,this.performanceClient,e.correlationId)(t,this.logger);r=o.reqCnfString,a.keyId=o.kid,a.signPopToken=!0}a.reqCnf=r}return this.addRequestSKUs(a),a}handleExtraBrokerParams(e){const t=e.extraParameters&&e.extraParameters.hasOwnProperty(ps.Uu)&&e.extraParameters.hasOwnProperty(ps.Mt)&&e.extraParameters.hasOwnProperty(ps.U6);if(!e.embeddedClientId&&!t)return;let n="";const r=e.redirectUri;e.embeddedClientId?(e.redirectUri=this.config.auth.redirectUri,n=e.embeddedClientId):e.extraParameters&&(e.redirectUri=e.extraParameters[ps.Mt],n=e.extraParameters[ps.U6]),e.extraParameters={child_client_id:n,child_redirect_uri:r},this.performanceClient?.addFields({embeddedClientId:n,embeddedRedirectUri:r},e.correlationId)}}class Vs{constructor(e,t,n,r){this.logger=e,this.handshakeTimeoutMs=t,this.extensionId=r,this.resolvers=new Map,this.handshakeResolvers=new Map,this.messageChannel=new MessageChannel,this.windowListener=this.onWindowMessage.bind(this),this.performanceClient=n,this.handshakeEvent=n.startMeasurement(Sr.NativeMessageHandlerHandshake)}async sendMessage(e){this.logger.trace("NativeMessageHandler - sendMessage called.");const t={channel:Ir,extensionId:this.extensionId,responseId:Mi(),body:e};return this.logger.trace("NativeMessageHandler - Sending request to browser extension"),this.logger.tracePii(`NativeMessageHandler - Sending request to browser extension: ${JSON.stringify(t)}`),this.messageChannel.port1.postMessage(t),new Promise(((e,n)=>{this.resolvers.set(t.responseId,{resolve:e,reject:n})}))}static async createProvider(e,t,n){e.trace("NativeMessageHandler - createProvider called.");try{const r=new Vs(e,t,n,Pr);return await r.sendHandshakeRequest(),r}catch(r){const o=new Vs(e,t,n);return await o.sendHandshakeRequest(),o}}async sendHandshakeRequest(){this.logger.trace("NativeMessageHandler - sendHandshakeRequest called."),window.addEventListener("message",this.windowListener,!1);const e={channel:Ir,extensionId:this.extensionId,responseId:Mi(),body:{method:kr}};return this.handshakeEvent.add({extensionId:this.extensionId,extensionHandshakeTimeoutMs:this.handshakeTimeoutMs}),this.messageChannel.port1.onmessage=e=>{this.onChannelMessage(e)},window.postMessage(e,window.origin,[this.messageChannel.port2]),new Promise(((t,n)=>{this.handshakeResolvers.set(e.responseId,{resolve:t,reject:n}),this.timeoutId=window.setTimeout((()=>{window.removeEventListener("message",this.windowListener,!1),this.messageChannel.port1.close(),this.messageChannel.port2.close(),this.handshakeEvent.end({extensionHandshakeTimedOut:!0,success:!1}),n(vi(ai)),this.handshakeResolvers.delete(e.responseId)}),this.handshakeTimeoutMs)}))}onWindowMessage(e){if(this.logger.trace("NativeMessageHandler - onWindowMessage called"),e.source!==window)return;const t=e.data;if(t.channel&&t.channel===Ir&&(!t.extensionId||t.extensionId===this.extensionId)&&t.body.method===kr){const e=this.handshakeResolvers.get(t.responseId);if(!e)return void this.logger.trace(`NativeMessageHandler.onWindowMessage - resolver can't be found for request ${t.responseId}`);this.logger.verbose(t.extensionId?`Extension with id: ${t.extensionId} not installed`:"No extension installed"),clearTimeout(this.timeoutId),this.messageChannel.port1.close(),this.messageChannel.port2.close(),window.removeEventListener("message",this.windowListener,!1),this.handshakeEvent.end({success:!1,extensionInstalled:!1}),e.reject(vi(si))}}onChannelMessage(e){this.logger.trace("NativeMessageHandler - onChannelMessage called.");const t=e.data,n=this.resolvers.get(t.responseId),r=this.handshakeResolvers.get(t.responseId);try{const e=t.body.method;if(e===Or){if(!n)return;const e=t.body.response;if(this.logger.trace("NativeMessageHandler - Received response from browser extension"),this.logger.tracePii(`NativeMessageHandler - Received response from browser extension: ${JSON.stringify(e)}`),"Success"!==e.status)n.reject(Bs(e.code,e.description,e.ext));else{if(!e.result)throw $e(ze,"Event does not contain result.");e.result.code&&e.result.description?n.reject(Bs(e.result.code,e.result.description,e.result.ext)):n.resolve(e.result)}this.resolvers.delete(t.responseId)}else if(e===xr){if(!r)return void this.logger.trace(`NativeMessageHandler.onChannelMessage - resolver can't be found for request ${t.responseId}`);clearTimeout(this.timeoutId),window.removeEventListener("message",this.windowListener,!1),this.extensionId=t.extensionId,this.extensionVersion=t.body.version,this.logger.verbose(`NativeMessageHandler - Received HandshakeResponse from extension: ${this.extensionId}`),this.handshakeEvent.end({extensionInstalled:!0,success:!0}),r.resolve(),this.handshakeResolvers.delete(t.responseId)}}catch(o){this.logger.error("Error parsing response from WAM Extension"),this.logger.errorPii(`Error parsing response from WAM Extension: ${o}`),this.logger.errorPii(`Unable to parse ${e}`),n?n.reject(o):r&&r.reject(o)}}getExtensionId(){return this.extensionId}getExtensionVersion(){return this.extensionVersion}static isNativeAvailable(e,t,n,r){if(t.trace("isNativeAvailable called"),!e.system.allowNativeBroker)return t.trace("isNativeAvailable: allowNativeBroker is not enabled, returning false"),!1;if(!n)return t.trace("isNativeAvailable: WAM extension provider is not initialized, returning false"),!1;if(r)switch(r){case He.IO.BEARER:case He.IO.POP:return t.trace("isNativeAvailable: authenticationScheme is supported, returning true"),!0;default:return t.trace("isNativeAvailable: authenticationScheme is not supported, returning false"),!1}return!0}}class zs{constructor(e,t,n,r,o){this.authModule=e,this.browserStorage=t,this.authCodeRequest=n,this.logger=r,this.performanceClient=o}async handleCodeResponse(e,t){let n;this.performanceClient.addQueueMeasurement(Sr.HandleCodeResponse,t.correlationId);try{n=this.authModule.handleFragmentResponse(e,t.state)}catch(r){throw r instanceof us&&r.subError===Oo?vi(Oo):r}return ha(this.handleCodeResponseFromServer.bind(this),Sr.HandleCodeResponseFromServer,this.logger,this.performanceClient,t.correlationId)(n,t)}async handleCodeResponseFromServer(e,t,n=!0){if(this.performanceClient.addQueueMeasurement(Sr.HandleCodeResponseFromServer,t.correlationId),this.logger.trace("InteractionHandler.handleCodeResponseFromServer called"),this.authCodeRequest.code=e.code,e.cloud_instance_host_name&&await ha(this.authModule.updateAuthority.bind(this.authModule),Sr.UpdateTokenEndpointAuthority,this.logger,this.performanceClient,t.correlationId)(e.cloud_instance_host_name,t.correlationId),n&&(e.nonce=t.nonce||void 0),e.state=t.state,e.client_info)this.authCodeRequest.clientInfo=e.client_info;else{const e=this.createCcsCredentials(t);e&&(this.authCodeRequest.ccsCredential=e)}return await ha(this.authModule.acquireToken.bind(this.authModule),Sr.AuthClientAcquireToken,this.logger,this.performanceClient,t.correlationId)(this.authCodeRequest,e)}createCcsCredentials(e){return e.account?{credential:e.account.homeAccountId,type:ka}:e.loginHint?{credential:e.loginHint,type:xa}:null}}function Xs(e,t,n){const r=Jn(e);if(!r)throw Qn(e)?(n.error(`A ${t} is present in the iframe but it does not contain known properties. It's likely that the ${t} has been replaced by code running on the redirectUri page.`),n.errorPii(`The ${t} detected is: ${e}`),vi(Io)):(n.error(`The request has returned to the redirectUri but a ${t} is not present. It's likely that the ${t} has been removed or the page has been redirected by code running on the redirectUri page.`),vi(To));return r}class Ks extends Ms{constructor(e,t,n,r,o,i,a,s,l,c){super(e,t,n,r,o,i,a,l,c),this.unloadWindow=this.unloadWindow.bind(this),this.nativeStorage=s}acquireToken(e){try{const t={popupName:this.generatePopupName(e.scopes||He.aZ,e.authority||this.config.auth.authority),popupWindowAttributes:e.popupWindowAttributes||{},popupWindowParent:e.popupWindowParent??window};return this.config.system.asyncPopups?(this.logger.verbose("asyncPopups set to true, acquiring token"),this.acquireTokenPopupAsync(e,t)):(this.logger.verbose("asyncPopup set to false, opening popup before acquiring token"),t.popup=this.openSizedPopup("about:blank",t),this.acquireTokenPopupAsync(e,t))}catch(t){return Promise.reject(t)}}logout(e){try{this.logger.verbose("logoutPopup called");const t=this.initializeLogoutRequest(e),n={popupName:this.generateLogoutPopupName(t),popupWindowAttributes:e?.popupWindowAttributes||{},popupWindowParent:e?.popupWindowParent??window},r=e&&e.authority,o=e&&e.mainWindowRedirectUri;return this.config.system.asyncPopups?(this.logger.verbose("asyncPopups set to true"),this.logoutPopupAsync(t,n,r,o)):(this.logger.verbose("asyncPopup set to false, opening popup"),n.popup=this.openSizedPopup("about:blank",n),this.logoutPopupAsync(t,n,r,o))}catch(t){return Promise.reject(t)}}async acquireTokenPopupAsync(e,t){this.logger.verbose("acquireTokenPopupAsync called");const n=this.initializeServerTelemetryManager(Zr),r=await ha(this.initializeAuthorizationRequest.bind(this),Sr.StandardInteractionClientInitializeAuthorizationRequest,this.logger,this.performanceClient,this.correlationId)(e,ao.Popup);Yi(r.authority);try{const o=await ha(this.initializeAuthorizationCodeRequest.bind(this),Sr.StandardInteractionClientInitializeAuthorizationCodeRequest,this.logger,this.performanceClient,this.correlationId)(r),i=await ha(this.createAuthCodeClient.bind(this),Sr.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:n,requestAuthority:r.authority,requestAzureCloudOptions:r.azureCloudOptions,requestExtraQueryParameters:r.extraQueryParameters,account:r.account}),a=Vs.isNativeAvailable(this.config,this.logger,this.nativeMessageHandler,e.authenticationScheme);let s;a&&(s=this.performanceClient.startMeasurement(Sr.FetchAccountIdWithNativeBroker,e.correlationId));const l=await i.getAuthCodeUrl({...r,nativeBroker:a}),c=new zs(i,this.browserStorage,o,this.logger,this.performanceClient),u=this.initiateAuthRequest(l,t);this.eventHandler.emitEvent(rs,ao.Popup,{popupWindow:u},null);const d=await this.monitorPopupForHash(u,t.popupWindowParent),p=ma(Xs,Sr.DeserializeResponse,this.logger,this.performanceClient,this.correlationId)(d,this.config.auth.OIDCOptions.serverResponseType,this.logger);if(ds.removeThrottle(this.browserStorage,this.config.auth.clientId,o),p.accountId){if(this.logger.verbose("Account id found in hash, calling WAM for token"),s&&s.end({success:!0,isNativeBroker:!0}),!this.nativeMessageHandler)throw vi(li);const e=new js(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,Zr,this.performanceClient,this.nativeMessageHandler,p.accountId,this.nativeStorage,r.correlationId),{userRequestState:t}=Aa.parseRequestState(this.browserCrypto,r.state);return await e.acquireToken({...r,state:t,prompt:void 0})}return await c.handleCodeResponse(p,r)}catch(o){throw t.popup?.close(),o instanceof We&&(o.setCorrelationId(this.correlationId),n.cacheFailedRequest(o)),o}}async logoutPopupAsync(e,t,n,r){this.logger.verbose("logoutPopupAsync called"),this.eventHandler.emitEvent(os,ao.Popup,e);const o=this.initializeServerTelemetryManager(io);try{await this.clearCacheOnLogout(e.account);const i=await ha(this.createAuthCodeClient.bind(this),Sr.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:o,requestAuthority:n,account:e.account||void 0});try{i.authority.endSessionEndpoint}catch{if(e.account?.homeAccountId&&e.postLogoutRedirectUri&&i.authority.protocolMode===je){if(this.browserStorage.removeAccount(e.account?.homeAccountId),this.eventHandler.emitEvent(is,ao.Popup,e),r){const e={apiId:io,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},t=Zn.getAbsoluteUrl(r,Vi());await this.navigationClient.navigateInternal(t,e)}return void t.popup?.close()}}const a=i.getLogoutUri(e);this.eventHandler.emitEvent(is,ao.Popup,e);const s=this.openPopup(a,t);if(this.eventHandler.emitEvent(rs,ao.Popup,{popupWindow:s},null),await this.monitorPopupForHash(s,t.popupWindowParent).catch((()=>{})),r){const e={apiId:io,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},t=Zn.getAbsoluteUrl(r,Vi());this.logger.verbose("Redirecting main window to url specified in the request"),this.logger.verbosePii(`Redirecting main window to: ${t}`),await this.navigationClient.navigateInternal(t,e)}else this.logger.verbose("No main window navigation requested")}catch(i){throw t.popup?.close(),i instanceof We&&(i.setCorrelationId(this.correlationId),o.cacheFailedRequest(i)),this.browserStorage.setInteractionInProgress(!1),this.eventHandler.emitEvent(as,ao.Popup,null,i),this.eventHandler.emitEvent(ss,ao.Popup),i}this.eventHandler.emitEvent(ss,ao.Popup)}initiateAuthRequest(e,t){if(e)return this.logger.infoPii(`Navigate to: ${e}`),this.openPopup(e,t);throw this.logger.error("Navigate url is empty"),vi(Co)}monitorPopupForHash(e,t){return new Promise(((t,n)=>{this.logger.verbose("PopupHandler.monitorPopupForHash - polling started");const r=setInterval((()=>{if(e.closed)return this.logger.error("PopupHandler.monitorPopupForHash - window closed"),clearInterval(r),void n(vi(Oo));let o="";try{o=e.location.href}catch(s){}if(!o||"about:blank"===o)return;clearInterval(r);let i="";const a=this.config.auth.OIDCOptions.serverResponseType;e&&(i=a===He.zL.QUERY?e.location.search:e.location.hash),this.logger.verbose("PopupHandler.monitorPopupForHash - popup window is on same origin as caller"),t(i)}),this.config.system.pollIntervalMilliseconds)})).finally((()=>{this.cleanPopup(e,t)}))}openPopup(e,t){try{let n;if(t.popup?(n=t.popup,this.logger.verbosePii(`Navigating popup window to: ${e}`),n.location.assign(e)):"undefined"===typeof t.popup&&(this.logger.verbosePii(`Opening popup window to: ${e}`),n=this.openSizedPopup(e,t)),!n)throw vi(Ro);return n.focus&&n.focus(),this.currentWindow=n,t.popupWindowParent.addEventListener("beforeunload",this.unloadWindow),n}catch(n){throw this.logger.error("error opening popup "+n.message),this.browserStorage.setInteractionInProgress(!1),vi(xo)}}openSizedPopup(e,{popupName:t,popupWindowAttributes:n,popupWindowParent:r}){const o=r.screenLeft?r.screenLeft:r.screenX,i=r.screenTop?r.screenTop:r.screenY,a=r.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,s=r.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;let l=n.popupSize?.width,c=n.popupSize?.height,u=n.popupPosition?.top,d=n.popupPosition?.left;return(!l||l<0||l>a)&&(this.logger.verbose("Default popup window width used. Window width not configured or invalid."),l=wr.POPUP_WIDTH),(!c||c<0||c>s)&&(this.logger.verbose("Default popup window height used. Window height not configured or invalid."),c=wr.POPUP_HEIGHT),(!u||u<0||u>s)&&(this.logger.verbose("Default popup window top position used. Window top not configured or invalid."),u=Math.max(0,s/2-wr.POPUP_HEIGHT/2+i)),(!d||d<0||d>a)&&(this.logger.verbose("Default popup window left position used. Window left not configured or invalid."),d=Math.max(0,a/2-wr.POPUP_WIDTH/2+o)),r.open(e,t,`width=${l}, height=${c}, top=${u}, left=${d}, scrollbars=yes`)}unloadWindow(e){this.browserStorage.cleanRequestByInteractionType(ao.Popup),this.currentWindow&&this.currentWindow.close(),e.preventDefault()}cleanPopup(e,t){e.close(),t.removeEventListener("beforeunload",this.unloadWindow),this.browserStorage.setInteractionInProgress(!1)}generatePopupName(e,t){return`${wr.POPUP_NAME_PREFIX}.${this.config.auth.clientId}.${e.join("-")}.${t}.${this.correlationId}`}generateLogoutPopupName(e){const t=e.account&&e.account.homeAccountId;return`${wr.POPUP_NAME_PREFIX}.${this.config.auth.clientId}.${t}.${this.correlationId}`}}class Ws{constructor(e,t,n,r,o){this.authModule=e,this.browserStorage=t,this.authCodeRequest=n,this.logger=r,this.performanceClient=o}async initiateAuthRequest(e,t){if(this.logger.verbose("RedirectHandler.initiateAuthRequest called"),e){t.redirectStartPage&&(this.logger.verbose("RedirectHandler.initiateAuthRequest: redirectStartPage set, caching start page"),this.browserStorage.setTemporaryCache(Gr,t.redirectStartPage,!0)),this.browserStorage.setTemporaryCache(Xr,this.authCodeRequest.correlationId,!0),this.browserStorage.cacheCodeRequest(this.authCodeRequest),this.logger.infoPii(`RedirectHandler.initiateAuthRequest: Navigate to: ${e}`);const n={apiId:Jr,timeout:t.redirectTimeout,noHistory:!1};if("function"===typeof t.onRedirectNavigate){this.logger.verbose("RedirectHandler.initiateAuthRequest: Invoking onRedirectNavigate callback");return!1!==t.onRedirectNavigate(e)?(this.logger.verbose("RedirectHandler.initiateAuthRequest: onRedirectNavigate did not return false, navigating"),void await t.navigationClient.navigateExternal(e,n)):void this.logger.verbose("RedirectHandler.initiateAuthRequest: onRedirectNavigate returned false, stopping navigation")}return this.logger.verbose("RedirectHandler.initiateAuthRequest: Navigating window to navigate url"),void await t.navigationClient.navigateExternal(e,n)}throw this.logger.info("RedirectHandler.initiateAuthRequest: Navigate url is empty"),vi(Co)}async handleCodeResponse(e,t){this.logger.verbose("RedirectHandler.handleCodeResponse called"),this.browserStorage.setInteractionInProgress(!1);const n=this.browserStorage.generateStateKey(t),r=this.browserStorage.getTemporaryCache(n);if(!r)throw qt(at,"Cached State");let o;try{o=this.authModule.handleFragmentResponse(e,r)}catch(l){throw l instanceof us&&l.subError===Oo?vi(Oo):l}const i=this.browserStorage.generateNonceKey(r),a=this.browserStorage.getTemporaryCache(i);if(this.authCodeRequest.code=o.code,o.cloud_instance_host_name&&await ha(this.authModule.updateAuthority.bind(this.authModule),Sr.UpdateTokenEndpointAuthority,this.logger,this.performanceClient,this.authCodeRequest.correlationId)(o.cloud_instance_host_name,this.authCodeRequest.correlationId),o.nonce=a||void 0,o.state=r,o.client_info)this.authCodeRequest.clientInfo=o.client_info;else{const e=this.checkCcsCredentials();e&&(this.authCodeRequest.ccsCredential=e)}const s=await this.authModule.acquireToken(this.authCodeRequest,o);return this.browserStorage.cleanRequestByState(t),s}checkCcsCredentials(){const e=this.browserStorage.getTemporaryCache(zr,!0);if(e)try{return JSON.parse(e)}catch(t){this.authModule.logger.error("Cache credential could not be parsed"),this.authModule.logger.errorPii(`Cache credential could not be parsed: ${e}`)}return null}}class $s extends Ms{constructor(e,t,n,r,o,i,a,s,l,c){super(e,t,n,r,o,i,a,l,c),this.nativeStorage=s}async acquireToken(e){const t=await ha(this.initializeAuthorizationRequest.bind(this),Sr.StandardInteractionClientInitializeAuthorizationRequest,this.logger,this.performanceClient,this.correlationId)(e,ao.Redirect);this.browserStorage.updateCacheEntries(t.state,t.nonce,t.authority,t.loginHint||"",t.account||null);const n=this.initializeServerTelemetryManager(Jr),r=e=>{e.persisted&&(this.logger.verbose("Page was restored from back/forward cache. Clearing temporary cache."),this.browserStorage.cleanRequestByState(t.state),this.eventHandler.emitEvent(ls,ao.Redirect))};try{const o=await ha(this.initializeAuthorizationCodeRequest.bind(this),Sr.StandardInteractionClientInitializeAuthorizationCodeRequest,this.logger,this.performanceClient,this.correlationId)(t),i=await ha(this.createAuthCodeClient.bind(this),Sr.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:n,requestAuthority:t.authority,requestAzureCloudOptions:t.azureCloudOptions,requestExtraQueryParameters:t.extraQueryParameters,account:t.account}),a=new Ws(i,this.browserStorage,o,this.logger,this.performanceClient),s=await i.getAuthCodeUrl({...t,nativeBroker:Vs.isNativeAvailable(this.config,this.logger,this.nativeMessageHandler,e.authenticationScheme)}),l=this.getRedirectStartPage(e.redirectStartPage);return this.logger.verbosePii(`Redirect start page: ${l}`),window.addEventListener("pageshow",r),await a.initiateAuthRequest(s,{navigationClient:this.navigationClient,redirectTimeout:this.config.system.redirectNavigationTimeout,redirectStartPage:l,onRedirectNavigate:e.onRedirectNavigate||this.config.auth.onRedirectNavigate})}catch(o){throw o instanceof We&&(o.setCorrelationId(this.correlationId),n.cacheFailedRequest(o)),window.removeEventListener("pageshow",r),this.browserStorage.cleanRequestByState(t.state),o}}async handleRedirectPromise(e="",t){const n=this.initializeServerTelemetryManager(to);try{if(!this.browserStorage.isInteractionInProgress(!0))return this.logger.info("handleRedirectPromise called but there is no interaction in progress, returning null."),null;const[r,o]=this.getRedirectResponse(e||"");if(!r)return this.logger.info("handleRedirectPromise did not detect a response as a result of a redirect. Cleaning temporary cache."),this.browserStorage.cleanRequestByInteractionType(ao.Redirect),"back_forward"!==function(){if("undefined"===typeof window.performance||"function"!==typeof window.performance.getEntriesByType)return;const e=window.performance.getEntriesByType("navigation"),t=e.length?e[0]:void 0;return t?.type}()?t.event.errorCode="no_server_response":this.logger.verbose("Back navigation event detected. Muting no_server_response error"),null;const i=this.browserStorage.getTemporaryCache(Gr,!0)||He.YM.EMPTY_STRING,a=Zn.removeHashFromUrl(i);if(a===Zn.removeHashFromUrl(window.location.href)&&this.config.auth.navigateToLoginRequestUrl){this.logger.verbose("Current page is loginRequestUrl, handling response"),i.indexOf("#")>-1&&function(e){const t=e.split("#");t.shift(),window.location.hash=t.length>0?t.join("#"):""}(i);return await this.handleResponse(r,n)}if(!this.config.auth.navigateToLoginRequestUrl)return this.logger.verbose("NavigateToLoginRequestUrl set to false, handling response"),await this.handleResponse(r,n);if(!ji()||this.config.system.allowRedirectInIframe){this.browserStorage.setTemporaryCache(qr,o,!0);const e={apiId:to,timeout:this.config.system.redirectNavigationTimeout,noHistory:!0};let t=!0;if(i&&"null"!==i)this.logger.verbose(`Navigating to loginRequestUrl: ${i}`),t=await this.navigationClient.navigateInternal(i,e);else{const n=function(){const e=new Zn(window.location.href).getUrlComponents();return`${e.Protocol}//${e.HostNameAndPort}/`}();this.browserStorage.setTemporaryCache(Gr,n,!0),this.logger.warning("Unable to get valid login request url from cache, redirecting to home page"),t=await this.navigationClient.navigateInternal(n,e)}if(!t)return await this.handleResponse(r,n)}return null}catch(r){throw r instanceof We&&(r.setCorrelationId(this.correlationId),n.cacheFailedRequest(r)),this.browserStorage.cleanRequestByInteractionType(ao.Redirect),r}}getRedirectResponse(e){this.logger.verbose("getRedirectResponseHash called");let t=e;t||(t=this.config.auth.OIDCOptions.serverResponseType===He.zL.QUERY?window.location.search:window.location.hash);let n=Jn(t);if(n){try{!function(e,t,n){if(!e.state)throw vi(wo);const r=Na(t,e.state);if(!r)throw vi(Po);if(r.interactionType!==n)throw vi(Ao)}(n,this.browserCrypto,ao.Redirect)}catch(i){return i instanceof We&&this.logger.error(`Interaction type validation failed due to ${i.errorCode}: ${i.errorMessage}`),[null,""]}return(r=window).location.hash="","function"===typeof r.history.replaceState&&r.history.replaceState(null,"",`${r.location.origin}${r.location.pathname}${r.location.search}`),this.logger.verbose("Hash contains known properties, returning response hash"),[n,t]}var r;const o=this.browserStorage.getTemporaryCache(qr,!0);return this.browserStorage.removeItem(this.browserStorage.generateCacheKey(qr)),o&&(n=Jn(o),n)?(this.logger.verbose("Hash does not contain known properties, returning cached hash"),[n,o]):[null,""]}async handleResponse(e,t){const n=e.state;if(!n)throw vi(wo);const r=this.browserStorage.getCachedRequest(n);if(this.logger.verbose("handleResponse called, retrieved cached request"),e.accountId){if(this.logger.verbose("Account id found in hash, calling WAM for token"),!this.nativeMessageHandler)throw vi(li);const t=new js(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,Zr,this.performanceClient,this.nativeMessageHandler,e.accountId,this.nativeStorage,r.correlationId),{userRequestState:o}=Aa.parseRequestState(this.browserCrypto,n);return t.acquireToken({...r,state:o,prompt:void 0}).finally((()=>{this.browserStorage.cleanRequestByState(n)}))}const o=this.browserStorage.getCachedAuthority(n);if(!o)throw vi(Vo);const i=await ha(this.createAuthCodeClient.bind(this),Sr.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:t,requestAuthority:o});ds.removeThrottle(this.browserStorage,this.config.auth.clientId,r);return new Ws(i,this.browserStorage,r,this.logger,this.performanceClient).handleCodeResponse(e,n)}async logout(e){this.logger.verbose("logoutRedirect called");const t=this.initializeLogoutRequest(e),n=this.initializeServerTelemetryManager(oo);try{this.eventHandler.emitEvent(os,ao.Redirect,e),await this.clearCacheOnLogout(t.account);const r={apiId:oo,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},o=await ha(this.createAuthCodeClient.bind(this),Sr.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:n,requestAuthority:e&&e.authority,requestExtraQueryParameters:e?.extraQueryParameters,account:e&&e.account||void 0});if(o.authority.protocolMode===je)try{o.authority.endSessionEndpoint}catch{if(t.account?.homeAccountId)return this.browserStorage.removeAccount(t.account?.homeAccountId),void this.eventHandler.emitEvent(is,ao.Redirect,t)}const i=o.getLogoutUri(t);if(this.eventHandler.emitEvent(is,ao.Redirect,t),!e||"function"!==typeof e.onRedirectNavigate)return this.browserStorage.getInteractionInProgress()||this.browserStorage.setInteractionInProgress(!0),void await this.navigationClient.navigateExternal(i,r);if(!1!==e.onRedirectNavigate(i))return this.logger.verbose("Logout onRedirectNavigate did not return false, navigating"),this.browserStorage.getInteractionInProgress()||this.browserStorage.setInteractionInProgress(!0),void await this.navigationClient.navigateExternal(i,r);this.browserStorage.setInteractionInProgress(!1),this.logger.verbose("Logout onRedirectNavigate returned false, stopping navigation")}catch(r){throw r instanceof We&&(r.setCorrelationId(this.correlationId),n.cacheFailedRequest(r)),this.eventHandler.emitEvent(as,ao.Redirect,null,r),this.eventHandler.emitEvent(ss,ao.Redirect),r}this.eventHandler.emitEvent(ss,ao.Redirect)}getRedirectStartPage(e){const t=e||window.location.href;return Zn.getAbsoluteUrl(t,Vi())}}async function Ys(e,t,n,r,o){if(t.addQueueMeasurement(Sr.SilentHandlerInitiateAuthRequest,r),!e)throw n.info("Navigate url is empty"),vi(Co);return o?ha(Js,Sr.SilentHandlerLoadFrame,n,t,r)(e,o,t,r):ma(Zs,Sr.SilentHandlerLoadFrameSync,n,t,r)(e)}async function Qs(e,t,n,r,o,i,a){return r.addQueueMeasurement(Sr.SilentHandlerMonitorIframeForHash,i),new Promise(((r,i)=>{t<Qi&&o.warning(`system.loadFrameTimeout or system.iframeHashTimeout set to lower (${t}ms) than the default (10000ms). This may result in timeouts.`);const s=window.setTimeout((()=>{window.clearInterval(l),i(vi(Mo))}),t),l=window.setInterval((()=>{let t="";const n=e.contentWindow;try{t=n?n.location.href:""}catch(i){}if(!t||"about:blank"===t)return;let o="";n&&(o=a===He.zL.QUERY?n.location.search:n.location.hash),window.clearTimeout(s),window.clearInterval(l),r(o)}),n)})).finally((()=>{ma(tl,Sr.RemoveHiddenIframe,o,r,i)(e)}))}function Js(e,t,n,r){return n.addQueueMeasurement(Sr.SilentHandlerLoadFrame,r),new Promise(((n,r)=>{const o=el();window.setTimeout((()=>{o?(o.src=e,n(o)):r("Unable to load iframe")}),t)}))}function Zs(e){const t=el();return t.src=e,t}function el(){const e=document.createElement("iframe");return e.className="msalSilentIframe",e.style.visibility="hidden",e.style.position="absolute",e.style.width=e.style.height="0",e.style.border="0",e.setAttribute("sandbox","allow-scripts allow-same-origin allow-forms"),document.body.appendChild(e),e}function tl(e){document.body===e.parentNode&&document.body.removeChild(e)}class nl extends Ms{constructor(e,t,n,r,o,i,a,s,l,c,u){super(e,t,n,r,o,i,s,c,u),this.apiId=a,this.nativeStorage=l}async acquireToken(e){this.performanceClient.addQueueMeasurement(Sr.SilentIframeClientAcquireToken,e.correlationId),e.loginHint||e.sid||e.account&&e.account.username||this.logger.warning("No user hint provided. The authorization server may need more information to complete this request.");const t={...e};t.prompt?t.prompt!==He._M.NONE&&t.prompt!==He._M.NO_SESSION&&(this.logger.warning(`SilentIframeClient. Replacing invalid prompt ${t.prompt} with ${He._M.NONE}`),t.prompt=He._M.NONE):t.prompt=He._M.NONE;const n=await ha(this.initializeAuthorizationRequest.bind(this),Sr.StandardInteractionClientInitializeAuthorizationRequest,this.logger,this.performanceClient,e.correlationId)(t,ao.Silent);Yi(n.authority);const r=this.initializeServerTelemetryManager(this.apiId);let o;try{return o=await ha(this.createAuthCodeClient.bind(this),Sr.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,e.correlationId)({serverTelemetryManager:r,requestAuthority:n.authority,requestAzureCloudOptions:n.azureCloudOptions,requestExtraQueryParameters:n.extraQueryParameters,account:n.account}),await ha(this.silentTokenHelper.bind(this),Sr.SilentIframeClientTokenHelper,this.logger,this.performanceClient,e.correlationId)(o,n)}catch(i){if(i instanceof We&&(i.setCorrelationId(this.correlationId),r.cacheFailedRequest(i)),!o||!(i instanceof We)||i.errorCode!==wr.INVALID_GRANT_ERROR)throw i;this.performanceClient.addFields({retryError:i.errorCode},this.correlationId);const n=await ha(this.initializeAuthorizationRequest.bind(this),Sr.StandardInteractionClientInitializeAuthorizationRequest,this.logger,this.performanceClient,e.correlationId)(t,ao.Silent);return await ha(this.silentTokenHelper.bind(this),Sr.SilentIframeClientTokenHelper,this.logger,this.performanceClient,this.correlationId)(o,n)}}logout(){return Promise.reject(vi(Bo))}async silentTokenHelper(e,t){const n=t.correlationId;this.performanceClient.addQueueMeasurement(Sr.SilentIframeClientTokenHelper,n);const r=await ha(this.initializeAuthorizationCodeRequest.bind(this),Sr.StandardInteractionClientInitializeAuthorizationCodeRequest,this.logger,this.performanceClient,n)(t),o=await ha(e.getAuthCodeUrl.bind(e),Sr.GetAuthCodeUrl,this.logger,this.performanceClient,n)({...t,nativeBroker:Vs.isNativeAvailable(this.config,this.logger,this.nativeMessageHandler,t.authenticationScheme)}),i=new zs(e,this.browserStorage,r,this.logger,this.performanceClient),a=await ha(Ys,Sr.SilentHandlerInitiateAuthRequest,this.logger,this.performanceClient,n)(o,this.performanceClient,this.logger,n,this.config.system.navigateFrameWait),s=this.config.auth.OIDCOptions.serverResponseType,l=await ha(Qs,Sr.SilentHandlerMonitorIframeForHash,this.logger,this.performanceClient,n)(a,this.config.system.iframeHashTimeout,this.config.system.pollIntervalMilliseconds,this.performanceClient,this.logger,n,s),c=ma(Xs,Sr.DeserializeResponse,this.logger,this.performanceClient,this.correlationId)(l,s,this.logger);if(c.accountId){if(this.logger.verbose("Account id found in hash, calling WAM for token"),!this.nativeMessageHandler)throw vi(li);const e=new js(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.apiId,this.performanceClient,this.nativeMessageHandler,c.accountId,this.browserStorage,n),{userRequestState:r}=Aa.parseRequestState(this.browserCrypto,t.state);return ha(e.acquireToken.bind(e),Sr.NativeInteractionClientAcquireToken,this.logger,this.performanceClient,n)({...t,state:r,prompt:t.prompt||He._M.NONE})}return ha(i.handleCodeResponse.bind(i),Sr.HandleCodeResponse,this.logger,this.performanceClient,n)(c,t)}}class rl extends Ms{async acquireToken(e){this.performanceClient.addQueueMeasurement(Sr.SilentRefreshClientAcquireToken,e.correlationId);const t=await ha(Os,Sr.InitializeBaseRequest,this.logger,this.performanceClient,e.correlationId)(e,this.config,this.performanceClient,this.logger),n={...e,...t};e.redirectUri&&(n.redirectUri=this.getRedirectUri(e.redirectUri));const r=this.initializeServerTelemetryManager(ro),o=await this.createRefreshTokenClient({serverTelemetryManager:r,authorityUrl:n.authority,azureCloudOptions:n.azureCloudOptions,account:n.account});return ha(o.acquireTokenByRefreshToken.bind(o),Sr.RefreshTokenClientAcquireTokenByRefreshToken,this.logger,this.performanceClient,e.correlationId)(n).catch((e=>{throw e.setCorrelationId(this.correlationId),r.cacheFailedRequest(e),e}))}logout(){return Promise.reject(vi(Bo))}async createRefreshTokenClient(e){const t=await ha(this.getClientConfiguration.bind(this),Sr.StandardInteractionClientGetClientConfiguration,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:e.serverTelemetryManager,requestAuthority:e.authorityUrl,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account});return new Hs(t,this.performanceClient)}}class ol{constructor(e,t,n,r){this.isBrowserEnvironment=!0,this.config=e,this.storage=t,this.logger=n,this.cryptoObj=r}loadExternalTokens(e,t,n){if(!this.isBrowserEnvironment)throw vi(Ko);const r=t.id_token?Xt(t.id_token,sa):void 0,o={protocolMode:this.config.auth.protocolMode,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata,skipAuthorityMetadataCache:this.config.auth.skipAuthorityMetadataCache},i=e.authority?new fa(fa.generateAuthority(e.authority,e.azureCloudOptions),this.config.system.networkClient,this.storage,o,this.logger,e.correlationId||Mi()):void 0,a=this.loadAccount(e,n.clientInfo||t.client_info||"",r,i),s=this.loadIdToken(t,a.homeAccountId,a.environment,a.realm),l=this.loadAccessToken(e,t,a.homeAccountId,a.environment,a.realm,n),c=this.loadRefreshToken(t,a.homeAccountId,a.environment);return this.generateAuthenticationResult(e,{account:a,idToken:s,accessToken:l,refreshToken:c},r,i)}loadAccount(e,t,n,r){if(this.logger.verbose("TokenCache - loading account"),e.account){const t=Yn.createFromAccountInfo(e.account);return this.storage.setAccount(t),t}if(!r||!t&&!n)throw this.logger.error("TokenCache - if an account is not provided on the request, authority and either clientInfo or idToken must be provided instead."),vi(Zo);const o=Yn.generateHomeAccountId(t,r.authorityType,this.logger,this.cryptoObj,n),i=n?.tid,a=Ss(this.storage,r,o,sa,n,t,r.hostnameAndPort,i,void 0,void 0,this.logger);return this.storage.setAccount(a),a}loadIdToken(e,t,n,r){if(!e.id_token)return this.logger.verbose("TokenCache - no id token found in response"),null;this.logger.verbose("TokenCache - loading id token");const o=Yt(t,n,e.id_token,this.config.auth.clientId,r);return this.storage.setIdTokenCredential(o),o}loadAccessToken(e,t,n,r,o,i){if(!t.access_token)return this.logger.verbose("TokenCache - no access token found in response"),null;if(!t.expires_in)return this.logger.error("TokenCache - no expiration set on the access token. Cannot add it to the cache."),null;if(!t.scope&&(!e.scopes||!e.scopes.length))return this.logger.error("TokenCache - scopes not specified in the request or response. Cannot add token to the cache."),null;this.logger.verbose("TokenCache - loading access token");const a=t.scope?Bn.fromString(t.scope):new Bn(e.scopes),s=i.expiresOn||t.expires_in+(new Date).getTime()/1e3,l=i.extendedExpiresOn||(t.ext_expires_in||t.expires_in)+(new Date).getTime()/1e3,c=Qt(n,r,t.access_token,this.config.auth.clientId,o,a.printScopes(),s,l,sa);return this.storage.setAccessTokenCredential(c),c}loadRefreshToken(e,t,n){if(!e.refresh_token)return this.logger.verbose("TokenCache - no refresh token found in response"),null;this.logger.verbose("TokenCache - loading refresh token");const r=Jt(t,n,e.refresh_token,this.config.auth.clientId,e.foci,void 0,e.refresh_token_expires_in);return this.storage.setRefreshTokenCredential(r),r}generateAuthenticationResult(e,t,n,r){let o,i="",a=[],s=null;t?.accessToken&&(i=t.accessToken.secret,a=Bn.fromString(t.accessToken.target).asArray(),s=new Date(1e3*Number(t.accessToken.expiresOn)),o=new Date(1e3*Number(t.accessToken.extendedExpiresOn)));const l=t.account;return{authority:r?r.canonicalAuthority:"",uniqueId:t.account.localAccountId,tenantId:t.account.realm,scopes:a,account:l.getAccountInfo(),idToken:t.idToken?.secret||"",idTokenClaims:n||{},accessToken:i,fromCache:!0,expiresOn:s,correlationId:e.correlationId||"",requestId:"",extExpiresOn:o,familyId:t.refreshToken?.familyId||"",tokenType:t?.accessToken?.tokenType||"",state:e.state||"",cloudGraphHostName:l.cloudGraphHostName||"",msGraphHost:l.msGraphHost||"",fromNativeBroker:!1}}}class il extends Cs{constructor(e){super(e),this.includeRedirectUri=!1}}class al extends Ms{constructor(e,t,n,r,o,i,a,s,l,c){super(e,t,n,r,o,i,s,l,c),this.apiId=a}async acquireToken(e){if(!e.code)throw vi(ti);const t=await ha(this.initializeAuthorizationRequest.bind(this),Sr.StandardInteractionClientInitializeAuthorizationRequest,this.logger,this.performanceClient,e.correlationId)(e,ao.Silent),n=this.initializeServerTelemetryManager(this.apiId);try{const r={...t,code:e.code},o=await ha(this.getClientConfiguration.bind(this),Sr.StandardInteractionClientGetClientConfiguration,this.logger,this.performanceClient,e.correlationId)({serverTelemetryManager:n,requestAuthority:t.authority,requestAzureCloudOptions:t.azureCloudOptions,requestExtraQueryParameters:t.extraQueryParameters,account:t.account}),i=new il(o);this.logger.verbose("Auth code client created");const a=new zs(i,this.browserStorage,r,this.logger,this.performanceClient);return await ha(a.handleCodeResponseFromServer.bind(a),Sr.HandleCodeResponseFromServer,this.logger,this.performanceClient,e.correlationId)({code:e.code,msgraph_host:e.msGraphHost,cloud_graph_host_name:e.cloudGraphHostName,cloud_instance_host_name:e.cloudInstanceHostName},t,!1)}catch(r){throw r instanceof We&&(r.setCorrelationId(this.correlationId),n.cacheFailedRequest(r)),r}}logout(){return Promise.reject(vi(Bo))}}function sl(e){const t=e?.idTokenClaims;return t?.tfp||t?.acr?"B2C":t?.tid?"9188040d-6c67-4c5b-b112-36a304b66dad"===t?.tid?"MSA":"AAD":void 0}function ll(e,t){try{Wi(e)}catch(n){throw t.end({success:!1},n),n}}class cl{constructor(e){this.operatingContext=e,this.isBrowserEnvironment=this.operatingContext.isBrowserEnvironment(),this.config=e.getConfig(),this.initialized=!1,this.logger=this.operatingContext.getLogger(),this.networkClient=this.config.system.networkClient,this.navigationClient=this.config.system.navigationClient,this.redirectResponse=new Map,this.hybridAuthCodeResponses=new Map,this.performanceClient=this.config.telemetry.client,this.browserCrypto=this.isBrowserEnvironment?new da(this.logger,this.performanceClient):jt,this.eventHandler=new cs(this.logger),this.browserStorage=this.isBrowserEnvironment?new Da(this.config.auth.clientId,this.config.cache,this.browserCrypto,this.logger,function(e){const t=e.cloudDiscoveryMetadata;let n;if(t)try{n=JSON.parse(t)}catch(r){throw Fn(wn)}return{canonicalAuthority:e.authority?_a(e.authority):void 0,knownAuthorities:e.knownAuthorities,cloudDiscoveryMetadata:n}}(this.config.auth),this.performanceClient):((e,t)=>new Da(e,{cacheLocation:Lr,temporaryCacheLocation:Lr,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!1,claimsBasedCachingEnabled:!1},jt,t))(this.config.auth.clientId,this.logger);const t={cacheLocation:Lr,temporaryCacheLocation:Lr,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!1,claimsBasedCachingEnabled:!1};this.nativeInternalStorage=new Da(this.config.auth.clientId,t,this.browserCrypto,this.logger,void 0,this.performanceClient),this.tokenCache=new ol(this.config,this.browserStorage,this.logger,this.browserCrypto),this.activeSilentTokenRequests=new Map,this.trackPageVisibility=this.trackPageVisibility.bind(this),this.trackPageVisibilityWithMeasurement=this.trackPageVisibilityWithMeasurement.bind(this),this.listeningToStorageEvents=!1,this.handleAccountCacheChange=this.handleAccountCacheChange.bind(this)}static async createController(e,t){const n=new cl(e);return await n.initialize(t),n}trackPageVisibility(e){e&&(this.logger.info("Perf: Visibility change detected"),this.performanceClient.incrementFields({visibilityChangeCount:1},e))}async initialize(e){if(this.logger.trace("initialize called"),this.initialized)return void this.logger.info("initialize has already been called, exiting early.");if(!this.isBrowserEnvironment)return this.logger.info("in non-browser environment, exiting early."),this.initialized=!0,void this.eventHandler.emitEvent(Ua);const t=e?.correlationId||this.getRequestCorrelationId(),n=this.config.system.allowNativeBroker,r=this.performanceClient.startMeasurement(Sr.InitializeClientApplication,t);if(this.eventHandler.emitEvent(Fa),n)try{this.nativeExtensionProvider=await Vs.createProvider(this.logger,this.config.system.nativeBrokerHandshakeTimeout,this.performanceClient)}catch(o){this.logger.verbose(o)}this.config.cache.claimsBasedCachingEnabled||(this.logger.verbose("Claims-based caching is disabled. Clearing the previous cache with claims"),await ha(this.browserStorage.clearTokensAndKeysWithClaims.bind(this.browserStorage),Sr.ClearTokensAndKeysWithClaims,this.logger,this.performanceClient,t)(this.performanceClient,t)),this.initialized=!0,this.eventHandler.emitEvent(Ua),r.end({allowNativeBroker:n,success:!0})}async handleRedirectPromise(e){if(this.logger.verbose("handleRedirectPromise called"),Ki(this.initialized),this.isBrowserEnvironment){const t=e||"";let n=this.redirectResponse.get(t);return"undefined"===typeof n?(n=this.handleRedirectPromiseInternal(e),this.redirectResponse.set(t,n),this.logger.verbose("handleRedirectPromise has been called for the first time, storing the promise")):this.logger.verbose("handleRedirectPromise has been called previously, returning the result from the first call"),n}return this.logger.verbose("handleRedirectPromise returns null, not browser environment"),null}async handleRedirectPromiseInternal(e){const t=this.getAllAccounts(),n=this.browserStorage.getCachedNativeRequest(),r=n&&Vs.isNativeAvailable(this.config,this.logger,this.nativeExtensionProvider)&&this.nativeExtensionProvider&&!e,o=r?n?.correlationId:this.browserStorage.getTemporaryCache(Xr,!0)||"",i=this.performanceClient.startMeasurement(Sr.AcquireTokenRedirect,o);let a;if(this.eventHandler.emitEvent(ts,ao.Redirect),r&&this.nativeExtensionProvider){this.logger.trace("handleRedirectPromise - acquiring token from native platform");const e=new js(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,to,this.performanceClient,this.nativeExtensionProvider,n.accountId,this.nativeInternalStorage,n.correlationId);a=ha(e.handleRedirectPromise.bind(e),Sr.HandleNativeRedirectPromiseMeasurement,this.logger,this.performanceClient,i.event.correlationId)(this.performanceClient,i.event.correlationId)}else{this.logger.trace("handleRedirectPromise - acquiring token from web flow");const t=this.createRedirectClient(o);a=ha(t.handleRedirectPromise.bind(t),Sr.HandleRedirectPromiseMeasurement,this.logger,this.performanceClient,i.event.correlationId)(e,i)}return a.then((e=>{if(e){t.length<this.getAllAccounts().length?(this.eventHandler.emitEvent(ja,ao.Redirect,e),this.logger.verbose("handleRedirectResponse returned result, login success")):(this.eventHandler.emitEvent(Xa,ao.Redirect,e),this.logger.verbose("handleRedirectResponse returned result, acquire token success")),i.end({success:!0,accountType:sl(e.account)})}else i.event.errorCode?i.end({success:!1}):i.discard();return this.eventHandler.emitEvent(ns,ao.Redirect),e})).catch((e=>{const n=e;throw t.length>0?this.eventHandler.emitEvent(Ka,ao.Redirect,null,n):this.eventHandler.emitEvent(Va,ao.Redirect,null,n),this.eventHandler.emitEvent(ns,ao.Redirect),i.end({success:!1},n),e}))}async acquireTokenRedirect(e){const t=this.getRequestCorrelationId(e);this.logger.verbose("acquireTokenRedirect called",t);const n=this.performanceClient.startMeasurement(Sr.AcquireTokenPreRedirect,t);n.add({accountType:sl(e.account),scenarioId:e.scenarioId});const r=e.onRedirectNavigate;if(r)e.onRedirectNavigate=e=>{const t="function"===typeof r?r(e):void 0;return!1!==t?n.end({success:!0}):n.discard(),t};else{const e=this.config.auth.onRedirectNavigate;this.config.auth.onRedirectNavigate=t=>{const r="function"===typeof e?e(t):void 0;return!1!==r?n.end({success:!0}):n.discard(),r}}const o=this.getAllAccounts().length>0;try{let r;if($i(this.initialized,this.config),this.browserStorage.setInteractionInProgress(!0),o?this.eventHandler.emitEvent(za,ao.Redirect,e):this.eventHandler.emitEvent(qa,ao.Redirect,e),this.nativeExtensionProvider&&this.canUseNative(e)){r=new js(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,Jr,this.performanceClient,this.nativeExtensionProvider,this.getNativeAccountId(e),this.nativeInternalStorage,t).acquireTokenRedirect(e,n).catch((n=>{if(n instanceof Fs&&Us(n)){this.nativeExtensionProvider=void 0;return this.createRedirectClient(t).acquireToken(e)}if(n instanceof wa){this.logger.verbose("acquireTokenRedirect - Resolving interaction required error thrown by native broker by falling back to web flow");return this.createRedirectClient(t).acquireToken(e)}throw this.browserStorage.setInteractionInProgress(!1),n}))}else{r=this.createRedirectClient(t).acquireToken(e)}return await r}catch(i){throw n.end({success:!1},i),o?this.eventHandler.emitEvent(Ka,ao.Redirect,null,i):this.eventHandler.emitEvent(Va,ao.Redirect,null,i),i}}acquireTokenPopup(e){const t=this.getRequestCorrelationId(e),n=this.performanceClient.startMeasurement(Sr.AcquireTokenPopup,t);n.add({scenarioId:e.scenarioId,accountType:sl(e.account)});try{this.logger.verbose("acquireTokenPopup called",t),ll(this.initialized,n),this.browserStorage.setInteractionInProgress(!0)}catch(i){return Promise.reject(i)}const r=this.getAllAccounts();let o;if(r.length>0?this.eventHandler.emitEvent(za,ao.Popup,e):this.eventHandler.emitEvent(qa,ao.Popup,e),this.canUseNative(e))o=this.acquireTokenNative({...e,correlationId:t},Zr).then((e=>(this.browserStorage.setInteractionInProgress(!1),n.end({success:!0,isNativeBroker:!0,accountType:sl(e.account)}),e))).catch((n=>{if(n instanceof Fs&&Us(n)){this.nativeExtensionProvider=void 0;return this.createPopupClient(t).acquireToken(e)}if(n instanceof wa){this.logger.verbose("acquireTokenPopup - Resolving interaction required error thrown by native broker by falling back to web flow");return this.createPopupClient(t).acquireToken(e)}throw this.browserStorage.setInteractionInProgress(!1),n}));else{o=this.createPopupClient(t).acquireToken(e)}return o.then((e=>(r.length<this.getAllAccounts().length?this.eventHandler.emitEvent(ja,ao.Popup,e):this.eventHandler.emitEvent(Xa,ao.Popup,e),n.end({success:!0,accessTokenSize:e.accessToken.length,idTokenSize:e.idToken.length,accountType:sl(e.account)}),e))).catch((e=>(r.length>0?this.eventHandler.emitEvent(Ka,ao.Popup,null,e):this.eventHandler.emitEvent(Va,ao.Popup,null,e),n.end({success:!1},e),Promise.reject(e))))}trackPageVisibilityWithMeasurement(){const e=this.ssoSilentMeasurement||this.acquireTokenByCodeAsyncMeasurement;e&&(this.logger.info("Perf: Visibility change detected in ",e.event.name),e.increment({visibilityChangeCount:1}))}async ssoSilent(e){const t=this.getRequestCorrelationId(e),n={...e,prompt:e.prompt,correlationId:t};let r;if(this.ssoSilentMeasurement=this.performanceClient.startMeasurement(Sr.SsoSilent,t),this.ssoSilentMeasurement?.add({scenarioId:e.scenarioId,accountType:sl(e.account)}),ll(this.initialized,this.ssoSilentMeasurement),this.ssoSilentMeasurement?.increment({visibilityChangeCount:0}),document.addEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement),this.logger.verbose("ssoSilent called",t),this.eventHandler.emitEvent($a,ao.Silent,n),this.canUseNative(n))r=this.acquireTokenNative(n,eo).catch((e=>{if(e instanceof Fs&&Us(e)){this.nativeExtensionProvider=void 0;return this.createSilentIframeClient(n.correlationId).acquireToken(n)}throw e}));else{r=this.createSilentIframeClient(n.correlationId).acquireToken(n)}return r.then((e=>(this.eventHandler.emitEvent(Ya,ao.Silent,e),this.ssoSilentMeasurement?.end({success:!0,isNativeBroker:e.fromNativeBroker,accessTokenSize:e.accessToken.length,idTokenSize:e.idToken.length,accountType:sl(e.account)}),e))).catch((e=>{throw this.eventHandler.emitEvent(Qa,ao.Silent,null,e),this.ssoSilentMeasurement?.end({success:!1},e),e})).finally((()=>{document.removeEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement)}))}async acquireTokenByCode(e){const t=this.getRequestCorrelationId(e);this.logger.trace("acquireTokenByCode called",t);const n=this.performanceClient.startMeasurement(Sr.AcquireTokenByCode,t);ll(this.initialized,n),this.eventHandler.emitEvent(Ja,ao.Silent,e),n.add({scenarioId:e.scenarioId});try{if(e.code&&e.nativeAccountId)throw vi(ri);if(e.code){const r=e.code;let o=this.hybridAuthCodeResponses.get(r);return o?(this.logger.verbose("Existing acquireTokenByCode request found",t),n.discard()):(this.logger.verbose("Initiating new acquireTokenByCode request",t),o=this.acquireTokenByCodeAsync({...e,correlationId:t}).then((e=>(this.eventHandler.emitEvent(Za,ao.Silent,e),this.hybridAuthCodeResponses.delete(r),n.end({success:!0,isNativeBroker:e.fromNativeBroker,accessTokenSize:e.accessToken.length,idTokenSize:e.idToken.length,accountType:sl(e.account)}),e))).catch((e=>{throw this.hybridAuthCodeResponses.delete(r),this.eventHandler.emitEvent(es,ao.Silent,null,e),n.end({success:!1},e),e})),this.hybridAuthCodeResponses.set(r,o)),await o}if(e.nativeAccountId){if(this.canUseNative(e,e.nativeAccountId)){const r=await this.acquireTokenNative({...e,correlationId:t},no,e.nativeAccountId).catch((e=>{throw e instanceof Fs&&Us(e)&&(this.nativeExtensionProvider=void 0),e}));return n.end({accountType:sl(r.account),success:!0}),r}throw vi(ii)}throw vi(ni)}catch(r){throw this.eventHandler.emitEvent(es,ao.Silent,null,r),n.end({success:!1},r),r}}async acquireTokenByCodeAsync(e){this.logger.trace("acquireTokenByCodeAsync called",e.correlationId),this.acquireTokenByCodeAsyncMeasurement=this.performanceClient.startMeasurement(Sr.AcquireTokenByCodeAsync,e.correlationId),this.acquireTokenByCodeAsyncMeasurement?.increment({visibilityChangeCount:0}),document.addEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement);const t=this.createSilentAuthCodeClient(e.correlationId);return await t.acquireToken(e).then((e=>(this.acquireTokenByCodeAsyncMeasurement?.end({success:!0,fromCache:e.fromCache,isNativeBroker:e.fromNativeBroker}),e))).catch((e=>{throw this.acquireTokenByCodeAsyncMeasurement?.end({success:!1},e),e})).finally((()=>{document.removeEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement)}))}async acquireTokenFromCache(e,t){switch(this.performanceClient.addQueueMeasurement(Sr.AcquireTokenFromCache,e.correlationId),t){case uo:case po:case mo:const t=this.createSilentCacheClient(e.correlationId);return ha(t.acquireToken.bind(t),Sr.SilentCacheClientAcquireToken,this.logger,this.performanceClient,e.correlationId)(e);default:throw qt(At)}}async acquireTokenByRefreshToken(e,t){switch(this.performanceClient.addQueueMeasurement(Sr.AcquireTokenByRefreshToken,e.correlationId),t){case uo:case mo:case ho:case go:const t=this.createSilentRefreshClient(e.correlationId);return ha(t.acquireToken.bind(t),Sr.SilentRefreshClientAcquireToken,this.logger,this.performanceClient,e.correlationId)(e);default:throw qt(At)}}async acquireTokenBySilentIframe(e){this.performanceClient.addQueueMeasurement(Sr.AcquireTokenBySilentIframe,e.correlationId);const t=this.createSilentIframeClient(e.correlationId);return ha(t.acquireToken.bind(t),Sr.SilentIframeClientAcquireToken,this.logger,this.performanceClient,e.correlationId)(e)}async logout(e){const t=this.getRequestCorrelationId(e);return this.logger.warning("logout API is deprecated and will be removed in msal-browser v3.0.0. Use logoutRedirect instead.",t),this.logoutRedirect({correlationId:t,...e})}async logoutRedirect(e){const t=this.getRequestCorrelationId(e);$i(this.initialized,this.config),this.browserStorage.setInteractionInProgress(!0);return this.createRedirectClient(t).logout(e)}logoutPopup(e){try{const t=this.getRequestCorrelationId(e);Wi(this.initialized),this.browserStorage.setInteractionInProgress(!0);return this.createPopupClient(t).logout(e)}catch(t){return Promise.reject(t)}}async clearCache(e){if(!this.isBrowserEnvironment)return void this.logger.info("in non-browser environment, returning early.");const t=this.getRequestCorrelationId(e);return this.createSilentCacheClient(t).logout(e)}getAllAccounts(e){return function(e,t,n,r){return e.verbose("getAllAccounts called"),n?t.getAllAccounts(r):[]}(this.logger,this.browserStorage,this.isBrowserEnvironment,e)}getAccount(e){return function(e,t,n){if(t.trace("getAccount called"),0===Object.keys(e).length)return t.warning("getAccount: No accountFilter provided"),null;const r=n.getAccountInfoFilteredBy(e);return r?(t.verbose("getAccount: Account matching provided filter found, returning"),r):(t.verbose("getAccount: No matching account found, returning null"),null)}(e,this.logger,this.browserStorage)}getAccountByUsername(e){return function(e,t,n){if(t.trace("getAccountByUsername called"),!e)return t.warning("getAccountByUsername: No username provided"),null;const r=n.getAccountInfoFilteredBy({username:e});return r?(t.verbose("getAccountByUsername: Account matching username found, returning"),t.verbosePii(`getAccountByUsername: Returning signed-in accounts matching username: ${e}`),r):(t.verbose("getAccountByUsername: No matching account found, returning null"),null)}(e,this.logger,this.browserStorage)}getAccountByHomeId(e){return function(e,t,n){if(t.trace("getAccountByHomeId called"),!e)return t.warning("getAccountByHomeId: No homeAccountId provided"),null;const r=n.getAccountInfoFilteredBy({homeAccountId:e});return r?(t.verbose("getAccountByHomeId: Account matching homeAccountId found, returning"),t.verbosePii(`getAccountByHomeId: Returning signed-in accounts matching homeAccountId: ${e}`),r):(t.verbose("getAccountByHomeId: No matching account found, returning null"),null)}(e,this.logger,this.browserStorage)}getAccountByLocalId(e){return function(e,t,n){if(t.trace("getAccountByLocalId called"),!e)return t.warning("getAccountByLocalId: No localAccountId provided"),null;const r=n.getAccountInfoFilteredBy({localAccountId:e});return r?(t.verbose("getAccountByLocalId: Account matching localAccountId found, returning"),t.verbosePii(`getAccountByLocalId: Returning signed-in accounts matching localAccountId: ${e}`),r):(t.verbose("getAccountByLocalId: No matching account found, returning null"),null)}(e,this.logger,this.browserStorage)}setActiveAccount(e){!function(e,t){t.setActiveAccount(e)}(e,this.browserStorage)}getActiveAccount(){return this.browserStorage.getActiveAccount()}async hydrateCache(e,t){this.logger.verbose("hydrateCache called");const n=Yn.createFromAccountInfo(e.account,e.cloudGraphHostName,e.msGraphHost);return this.browserStorage.setAccount(n),e.fromNativeBroker?(this.logger.verbose("Response was from native broker, storing in-memory"),this.nativeInternalStorage.hydrateCache(e,t)):this.browserStorage.hydrateCache(e,t)}async acquireTokenNative(e,t,n){if(this.logger.trace("acquireTokenNative called"),!this.nativeExtensionProvider)throw vi(li);return new js(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,t,this.performanceClient,this.nativeExtensionProvider,n||this.getNativeAccountId(e),this.nativeInternalStorage,e.correlationId).acquireToken(e)}canUseNative(e,t){if(this.logger.trace("canUseNative called"),!Vs.isNativeAvailable(this.config,this.logger,this.nativeExtensionProvider,e.authenticationScheme))return this.logger.trace("canUseNative: isNativeAvailable returned false, returning false"),!1;if(e.prompt)switch(e.prompt){case He._M.NONE:case He._M.CONSENT:case He._M.LOGIN:this.logger.trace("canUseNative: prompt is compatible with native flow");break;default:return this.logger.trace(`canUseNative: prompt = ${e.prompt} is not compatible with native flow, returning false`),!1}return!(!t&&!this.getNativeAccountId(e))||(this.logger.trace("canUseNative: nativeAccountId is not available, returning false"),!1)}getNativeAccountId(e){const t=e.account||this.getAccount({loginHint:e.loginHint,sid:e.sid})||this.getActiveAccount();return t&&t.nativeAccountId||""}createPopupClient(e){return new Ks(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeInternalStorage,this.nativeExtensionProvider,e)}createRedirectClient(e){return new $s(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeInternalStorage,this.nativeExtensionProvider,e)}createSilentIframeClient(e){return new nl(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,eo,this.performanceClient,this.nativeInternalStorage,this.nativeExtensionProvider,e)}createSilentCacheClient(e){return new qs(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeExtensionProvider,e)}createSilentRefreshClient(e){return new rl(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeExtensionProvider,e)}createSilentAuthCodeClient(e){return new al(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,no,this.performanceClient,this.nativeExtensionProvider,e)}addEventCallback(e,t){return this.eventHandler.addEventCallback(e,t)}removeEventCallback(e){this.eventHandler.removeEventCallback(e)}addPerformanceCallback(e){return Xi(),this.performanceClient.addPerformanceCallback(e)}removePerformanceCallback(e){return this.performanceClient.removePerformanceCallback(e)}enableAccountStorageEvents(){this.listeningToStorageEvents?this.logger.verbose("Account storage listener already registered."):(this.logger.verbose("Adding account storage listener."),this.listeningToStorageEvents=!0,window.addEventListener("storage",this.handleAccountCacheChange))}disableAccountStorageEvents(){this.listeningToStorageEvents?(this.logger.verbose("Removing account storage listener."),window.removeEventListener("storage",this.handleAccountCacheChange),this.listeningToStorageEvents=!1):this.logger.verbose("No account storage listener registered.")}handleAccountCacheChange(e){try{e.key?.includes(He.Gd.ACTIVE_ACCOUNT_FILTERS)&&this.eventHandler.emitEvent(Ga);const t=e.newValue||e.oldValue;if(!t)return;const n=JSON.parse(t);if("object"!==typeof n||!Yn.isAccountEntity(n))return;const r=cr.toObject(new Yn,n).getAccountInfo();!e.oldValue&&e.newValue?(this.logger.info("Account was added to cache in a different window"),this.eventHandler.emitEvent(Ba,void 0,r)):!e.newValue&&e.oldValue&&(this.logger.info("Account was removed from cache in a different window"),this.eventHandler.emitEvent(Ha,void 0,r))}catch(e){return}}getTokenCache(){return this.tokenCache}getLogger(){return this.logger}setLogger(e){this.logger=e}initializeWrapperLibrary(e,t){this.browserStorage.setWrapperMetadata(e,t)}setNavigationClient(e){this.navigationClient=e}getConfiguration(){return this.config}getPerformanceClient(){return this.performanceClient}isBrowserEnv(){return this.isBrowserEnvironment}getRequestCorrelationId(e){return e?.correlationId?e.correlationId:this.isBrowserEnvironment?Mi():He.YM.EMPTY_STRING}async loginRedirect(e){const t=this.getRequestCorrelationId(e);return this.logger.verbose("loginRedirect called",t),this.acquireTokenRedirect({correlationId:t,...e||so})}loginPopup(e){const t=this.getRequestCorrelationId(e);return this.logger.verbose("loginPopup called",t),this.acquireTokenPopup({correlationId:t,...e||so})}async acquireTokenSilent(e){const t=this.getRequestCorrelationId(e),n=this.performanceClient.startMeasurement(Sr.AcquireTokenSilent,t);n.add({cacheLookupPolicy:e.cacheLookupPolicy,scenarioId:e.scenarioId}),ll(this.initialized,n),this.logger.verbose("acquireTokenSilent called",t);const r=e.account||this.getActiveAccount();if(!r)throw vi(Ho);n.add({accountType:sl(r)});const o={clientId:this.config.auth.clientId,authority:e.authority||He.YM.EMPTY_STRING,scopes:e.scopes,homeAccountIdentifier:r.homeAccountId,claims:e.claims,authenticationScheme:e.authenticationScheme,resourceRequestMethod:e.resourceRequestMethod,resourceRequestUri:e.resourceRequestUri,shrClaims:e.shrClaims,sshKid:e.sshKid,shrOptions:e.shrOptions},i=JSON.stringify(o),a=this.activeSilentTokenRequests.get(i);if("undefined"===typeof a){this.logger.verbose("acquireTokenSilent called for the first time, storing active request",t);const o=ha(this.acquireTokenSilentAsync.bind(this),Sr.AcquireTokenSilentAsync,this.logger,this.performanceClient,t)({...e,correlationId:t},r).then((t=>(this.activeSilentTokenRequests.delete(i),n.end({success:!0,fromCache:t.fromCache,isNativeBroker:t.fromNativeBroker,cacheLookupPolicy:e.cacheLookupPolicy,accessTokenSize:t.accessToken.length,idTokenSize:t.idToken.length}),t))).catch((e=>{throw this.activeSilentTokenRequests.delete(i),n.end({success:!1},e),e}));return this.activeSilentTokenRequests.set(i,o),{...await o,state:e.state}}return this.logger.verbose("acquireTokenSilent has been called previously, returning the result from the first call",t),n.discard(),{...await a,state:e.state}}async acquireTokenSilentAsync(e,t){const n=()=>this.trackPageVisibility(e.correlationId);this.performanceClient.addQueueMeasurement(Sr.AcquireTokenSilentAsync,e.correlationId),this.eventHandler.emitEvent(za,ao.Silent,e),e.correlationId&&this.performanceClient.incrementFields({visibilityChangeCount:0},e.correlationId),document.addEventListener("visibilitychange",n);const r=await ha(Ns,Sr.InitializeSilentRequest,this.logger,this.performanceClient,e.correlationId)(e,t,this.config,this.performanceClient,this.logger),o=e.cacheLookupPolicy||uo;return this.acquireTokenSilentNoIframe(r,o).catch((async e=>{const t=function(e,t){const n=!(e instanceof wa&&e.subError!==Sa),r=e.errorCode===wr.INVALID_GRANT_ERROR||e.errorCode===At,o=n&&r||e.errorCode===va||e.errorCode===ba,i=_o.includes(t);return o&&i}(e,o);if(t){if(this.activeIframeRequest){if(o!==fo){const[t,n]=this.activeIframeRequest;this.logger.verbose(`Iframe request is already in progress, awaiting resolution for request with correlationId: ${n}`,r.correlationId);const i=this.performanceClient.startMeasurement(Sr.AwaitConcurrentIframe,r.correlationId);i.add({awaitIframeCorrelationId:n});const a=await t;if(i.end({success:a}),a)return this.logger.verbose(`Parallel iframe request with correlationId: ${n} succeeded. Retrying cache and/or RT redemption`,r.correlationId),this.acquireTokenSilentNoIframe(r,o);throw this.logger.info(`Iframe request with correlationId: ${n} failed. Interaction is required.`),e}return this.logger.warning("Another iframe request is currently in progress and CacheLookupPolicy is set to Skip. This may result in degraded performance and/or reliability for both calls. Please consider changing the CacheLookupPolicy to take advantage of request queuing and token cache.",r.correlationId),ha(this.acquireTokenBySilentIframe.bind(this),Sr.AcquireTokenBySilentIframe,this.logger,this.performanceClient,r.correlationId)(r)}{let e;return this.activeIframeRequest=[new Promise((t=>{e=t})),r.correlationId],this.logger.verbose("Refresh token expired/invalid or CacheLookupPolicy is set to Skip, attempting acquire token by iframe.",r.correlationId),ha(this.acquireTokenBySilentIframe.bind(this),Sr.AcquireTokenBySilentIframe,this.logger,this.performanceClient,r.correlationId)(r).then((t=>(e(!0),t))).catch((t=>{throw e(!1),t})).finally((()=>{this.activeIframeRequest=void 0}))}}throw e})).then((t=>(this.eventHandler.emitEvent(Xa,ao.Silent,t),e.correlationId&&this.performanceClient.addFields({fromCache:t.fromCache,isNativeBroker:t.fromNativeBroker},e.correlationId),t))).catch((e=>{throw this.eventHandler.emitEvent(Ka,ao.Silent,null,e),e})).finally((()=>{document.removeEventListener("visibilitychange",n)}))}async acquireTokenSilentNoIframe(e,t){return Vs.isNativeAvailable(this.config,this.logger,this.nativeExtensionProvider,e.authenticationScheme)&&e.account.nativeAccountId?(this.logger.verbose("acquireTokenSilent - attempting to acquire token from native platform"),this.acquireTokenNative(e,ro).catch((async e=>{if(e instanceof Fs&&Us(e))throw this.logger.verbose("acquireTokenSilent - native platform unavailable, falling back to web flow"),this.nativeExtensionProvider=void 0,qt(At);throw e}))):(this.logger.verbose("acquireTokenSilent - attempting to acquire token from web flow"),ha(this.acquireTokenFromCache.bind(this),Sr.AcquireTokenFromCache,this.logger,this.performanceClient,e.correlationId)(e,t).catch((n=>{if(t===po)throw n;return this.eventHandler.emitEvent(Wa,ao.Silent,e),ha(this.acquireTokenByRefreshToken.bind(this),Sr.AcquireTokenByRefreshToken,this.logger,this.performanceClient,e.correlationId)(e,t)})))}}class ul{static async createPublicClientApplication(e){const t=await async function(e,t){const n=new ea(e);return await n.initialize(),cl.createController(n,t)}(e);return new ul(e,t)}constructor(e,t){this.controller=t||new cl(new ea(e))}async initialize(e){return this.controller.initialize(e)}async acquireTokenPopup(e){return this.controller.acquireTokenPopup(e)}acquireTokenRedirect(e){return this.controller.acquireTokenRedirect(e)}acquireTokenSilent(e){return this.controller.acquireTokenSilent(e)}acquireTokenByCode(e){return this.controller.acquireTokenByCode(e)}addEventCallback(e,t){return this.controller.addEventCallback(e,t)}removeEventCallback(e){return this.controller.removeEventCallback(e)}addPerformanceCallback(e){return this.controller.addPerformanceCallback(e)}removePerformanceCallback(e){return this.controller.removePerformanceCallback(e)}enableAccountStorageEvents(){this.controller.enableAccountStorageEvents()}disableAccountStorageEvents(){this.controller.disableAccountStorageEvents()}getAccount(e){return this.controller.getAccount(e)}getAccountByHomeId(e){return this.controller.getAccountByHomeId(e)}getAccountByLocalId(e){return this.controller.getAccountByLocalId(e)}getAccountByUsername(e){return this.controller.getAccountByUsername(e)}getAllAccounts(e){return this.controller.getAllAccounts(e)}handleRedirectPromise(e){return this.controller.handleRedirectPromise(e)}loginPopup(e){return this.controller.loginPopup(e)}loginRedirect(e){return this.controller.loginRedirect(e)}logout(e){return this.controller.logout(e)}logoutRedirect(e){return this.controller.logoutRedirect(e)}logoutPopup(e){return this.controller.logoutPopup(e)}ssoSilent(e){return this.controller.ssoSilent(e)}getTokenCache(){return this.controller.getTokenCache()}getLogger(){return this.controller.getLogger()}setLogger(e){this.controller.setLogger(e)}setActiveAccount(e){this.controller.setActiveAccount(e)}getActiveAccount(){return this.controller.getActiveAccount()}initializeWrapperLibrary(e,t){return this.controller.initializeWrapperLibrary(e,t)}setNavigationClient(e){this.controller.setNavigationClient(e)}getConfiguration(){return this.controller.getConfiguration()}async hydrateCache(e,t){return this.controller.hydrateCache(e,t)}clearCache(e){return this.controller.clearCache(e)}}var dl=n(77981);n(71450),n(57182),n(81802);class pl{constructor(e){this.keys=["isAuthenticatedWithExternalTokens","hasAttemptedSisuRemediation"],this.storage=e.storage}readIsAuthenticatedWithExternalTokens(e){const t=this.makeCacheKey(e,"isAuthenticatedWithExternalTokens");return"true"===this.storage.getItem(t)}writeIsAuthenticatedWithExternalTokens(e,t){const n=this.makeCacheKey(e,"isAuthenticatedWithExternalTokens");this.storage.setItem(n,t.toString())}readHasAttemptedSisuRemediation(e){const t=this.makeCacheKey(e,"hasAttemptedSisuRemediation");return"true"===this.storage.getItem(t)}writeHasAttemptedSisuRemediation(e,t){const n=this.makeCacheKey(e,"hasAttemptedSisuRemediation");this.storage.setItem(n,t.toString())}clearHasAttemptedSisuRemediation(e){const t=this.makeCacheKey(e,"hasAttemptedSisuRemediation");this.storage.removeItem(t)}clearAllForUser(e){for(const n of this.keys)this.storage.removeItem(this.makeCacheKey(e,n));const t=["xboxcom_msa_username","xboxcom_xbl_user_info","xboxcom_msa_isExternalSignIn","xboxcom_accountRemediationRequired"];for(const n of t)this.storage.removeItem(n)}makeCacheKey(e,t){return`${btoa(e)}-${t}`}}class ml extends Error{constructor(e,t,n){super(t),this.cause=n,this.name=e}}n(86741);class hl extends vo{navigateInternal(e,t){return super.navigateInternal(e,t)}navigateExternal(e,t){const n=e.startsWith("https://login.microsoftonline.com/consumers/oauth2/v2.0/authorize");return super.navigateExternal(e,W()(W()({},t),{},{noHistory:n||t.noHistory}))}}class gl extends ul{constructor(e){const t=e.logger;super({auth:{clientId:y,authority:b,navigateToLoginRequestUrl:!1},cache:{cacheLocation:Nr,claimsBasedCachingEnabled:!0},system:{navigationClient:e.enableCustomNavigationClient?new hl:new vo,loggerOptions:{logLevel:void 0,loggerCallback:(e,n,r)=>{if(!r)switch(e){case Ue.Error:return void t.error(n);case Ue.Warning:return void t.warn(n);case Ue.Info:return void t.info(n);case Ue.Verbose:t.verbose(n)}},piiLoggingEnabled:!1},allowRedirectInIframe:!!e.msaSessionId}}),this.userStorageProvider=new pl({storage:globalThis.localStorage}),this.traceLogger=t,this.msaSessionId=e.msaSessionId,this.silentRedirectUri=e.silentRedirectUri}static async create(e){const t=new gl(e);return await t.initialize(),t}async clearStorage(e){const t=this.getAccountByHomeId(e);t?(await this.clearCache({account:t}),this.userStorageProvider.clearAllForUser(e),this.setActiveAccount(null)):this.traceLogger.warn("[MsaPublicClientApplication] -  No account found for msaHomeAccountId. Skipping clearStorage.")}createCorrelationId(){return(0,dl.A)()}async startNewSignInWithRedirect(e){var t;try{this.traceLogger.verbose("[MsaPublicClientApplication] - Clearing out any existing MSA redirect sign-ins."),await this.handleRedirectPromise()}catch(n){const e=(0,Be.toError)(n);this.traceLogger.error("[MsaPublicClientApplication] - startNewSignInWithRedirect cleared out in-progress login via instance.handleRedirectPromise.",e)}return this.getLogger().info(`Kicking off MSA loginRedirect with redirectUri: ${null===(t=e.redirectUri)||void 0===t?void 0:t.toString()}`),this.loginRedirect(e)}signInWithExternalTokens(e,t){if(!(null===e||void 0===e?void 0:e.client_info))throw new Error("Missing expected 'client_info' parameter. Try adding a 'client_info: 1' to the body of the request.");const n=this.getTokenCache(),r={scopes:[S],authority:`https://login.windows.net/${He.YM.CONSUMER_UTID}`};let o=e.expires_in,i=e.ext_expires_in;o&&(o+=t,i&&(i+=o));const a={expiresOn:o,extendedExpiresOn:i,clientInfo:e.client_info},s=n.loadExternalTokens(r,e,a);if(!(null===s||void 0===s?void 0:s.account))throw new Error("Error getting account information after loading external tokens to tokenCache");return this.userStorageProvider.writeIsAuthenticatedWithExternalTokens(s.account.homeAccountId,!0),s.account}async startSignOutWithRedirect(e){try{await Promise.race([this.logoutRedirect(e),new Promise(((e,t)=>setTimeout((()=>t(new fl)),1e4)))])}catch(t){const e=(0,Be.toError)(t);throw this.traceLogger.error("[MsaPublicClientApplication] - startSignOutWithRedirect error",e),t}}async silentSingleSignOn(e){return this.ssoSilent(W()(W()({},e),{},{prompt:"none",redirectUri:new URL(this.silentRedirectUri,window.location.origin).toString()}))}getAccountFromMsaSessionId(){var e;if(this.msaSessionId)return null===(e=this.getAllAccounts())||void 0===e?void 0:e.find((e=>{var t;return(null===(t=e.idTokenClaims)||void 0===t?void 0:t.sid)===this.msaSessionId}))}acquireTokenSilent(e){return super.acquireTokenSilent(W()(W()({},e),{},{redirectUri:new URL(this.silentRedirectUri,window.location.origin).toString()}))}}class fl extends ml{constructor(){super("SignOutRedirectTimedOutError",arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Sign-out redirect timed out.",arguments.length>1?arguments[1]:void 0)}}class _l extends ml{constructor(){let e=arguments.length>1?arguments[1]:void 0;super("UnableToAcquireMsaAccessTokenError",arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unable to acquire access token.",e),this.requiresInteraction=e instanceof wa}}class vl extends ml{constructor(){super("UnableToFindAccountInfoError",arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unable to find account info.",arguments.length>1?arguments[1]:void 0)}}class yl{constructor(e){this.msaInstance=e.msaInstance,this.accountInfo=e.accountInfo,this.logger=e.logger}async getMsaAccessToken(e){try{try{return(await this.msaInstance.acquireTokenSilent(W()({account:this.accountInfo},e))).accessToken}catch(t){const n=(0,Be.toError)(t);if(n instanceof wa){this.logger.verbose("[ClientMsaTokenProvider] Unable to acquire MSA access token silently. Going to try acquiring token using ssoSilent");const t=await this.msaInstance.silentSingleSignOn(W()(W()({},e),{},{account:this.accountInfo}));return this.logger.verbose("[ClientMsaTokenProvider] Successfully acquired MSA access token using ssoSilent"),t.accessToken}throw this.logger.verbose("[ClientMsaTokenProvider] Unable to acquire MSA access token silently and error is not an InteractionRequiredAuthError."),n}}catch(t){const e=(0,Be.toError)(t);throw this.logger.error("[ClientMsaTokenProvider] Unable to acquire MSA access token",e),new _l(e.message,e)}}}n(7212),n(5350);const bl="RETAIL";var Sl,El=n(46195);!function(e){e.XToken="XToken",e.UserToken="UserToken"}(Sl||(Sl={}));const Cl=El.z.object({Token:El.z.string(),NotAfter:El.z.coerce.date(),IssueInstant:El.z.coerce.date(),DisplayClaims:El.z.object({xui:El.z.array(El.z.object({uhs:El.z.string().optional(),gtg:El.z.string().optional(),mgt:El.z.string().optional(),mgs:El.z.string().optional(),umg:El.z.string().optional(),xid:El.z.string().optional(),agg:El.z.string().optional(),prv:El.z.string().optional(),usr:El.z.string().optional(),uer:El.z.string().optional(),utr:El.z.string().optional()})).optional()}).optional()}).transform(((e,t)=>{const n=6e5,r=e.NotAfter.getTime()-e.IssueInstant.getTime();let o;return o=r<=n?new Date(Date.now()+r):new Date(Date.now()+r-n),Date.now()>=o.getTime()?(t.addIssue({code:El.z.ZodIssueCode.custom,message:"Token is already expired"}),El.z.NEVER):W()(W()({},e),{},{ExpiresAt:o})})),Tl=El.z.object({token:El.z.string(),expiration:El.z.coerce.date(),issueInstant:El.z.coerce.date().optional(),userHash:El.z.string().optional(),userGamertag:El.z.string().optional(),userModernGamertag:El.z.string().optional(),userModernGamertagSuffix:El.z.string().optional(),userUniqueModernGamertag:El.z.string().optional(),userXuid:El.z.string().optional(),userAgeGroup:El.z.string().optional(),userPrivileges:El.z.string().optional(),userSettingsRestrictions:El.z.string().optional(),userEnforcementRestrictions:El.z.string().optional(),userTitleRestrictions:El.z.string().optional()}),wl=El.z.object({userId:El.z.string().optional(),identityType:El.z.nativeEnum(Sl),relyingParty:El.z.string(),tokenData:Tl,sandboxId:El.z.string()}),Il=(wl.omit({relyingParty:!0}).merge(El.z.object({tokenData:Tl.refine((e=>e.expiration.getTime()>Date.now()),(e=>({message:`Token is expired - [expiration:${e.expiration} currentTime:${Date.now()} msSinceExpiration:${Date.now()-e.expiration.getTime()}]`})))})),El.z.object({tokens:El.z.array(wl)})),Pl=El.z.object({XErr:El.z.number()}),Al=El.z.object({token:El.z.string(),userHash:El.z.string()});class kl{constructor(e){this.token=e.token,this.expiration=e.expiration,this.issueInstant=e.issueInstant,this.userHash=e.userHash,this.userGamertag=e.userGamertag,this.userModernGamertag=e.userModernGamertag,this.userModernGamertagSuffix=e.userModernGamertagSuffix,this.userUniqueModernGamertag=e.userUniqueModernGamertag,this.userXuid=e.userXuid,this.userAgeGroup=e.userAgeGroup,this.userPrivileges=e.userPrivileges,this.userSettingsRestrictions=e.userSettingsRestrictions,this.userEnforcementRestrictions=e.userEnforcementRestrictions,this.userTitleRestrictions=e.userTitleRestrictions}static deserialize(e){return new kl(e)}static fromXboxTokenJwt(e){var t,n,r,o,i,a,s,l,c,u,d,p,m,h,g,f,_,v,y,b,S,E,C,T,w,I,P,A,k,x,R,O,N;return new kl({token:e.Token,expiration:e.ExpiresAt,issueInstant:e.IssueInstant,userHash:null===(r=null===(n=null===(t=e.DisplayClaims)||void 0===t?void 0:t.xui)||void 0===n?void 0:n[0])||void 0===r?void 0:r.uhs,userGamertag:null===(a=null===(i=null===(o=e.DisplayClaims)||void 0===o?void 0:o.xui)||void 0===i?void 0:i[0])||void 0===a?void 0:a.gtg,userModernGamertag:null===(c=null===(l=null===(s=e.DisplayClaims)||void 0===s?void 0:s.xui)||void 0===l?void 0:l[0])||void 0===c?void 0:c.mgt,userModernGamertagSuffix:null===(p=null===(d=null===(u=e.DisplayClaims)||void 0===u?void 0:u.xui)||void 0===d?void 0:d[0])||void 0===p?void 0:p.mgs,userUniqueModernGamertag:null===(g=null===(h=null===(m=e.DisplayClaims)||void 0===m?void 0:m.xui)||void 0===h?void 0:h[0])||void 0===g?void 0:g.umg,userXuid:null===(v=null===(_=null===(f=e.DisplayClaims)||void 0===f?void 0:f.xui)||void 0===_?void 0:_[0])||void 0===v?void 0:v.xid,userAgeGroup:null===(S=null===(b=null===(y=e.DisplayClaims)||void 0===y?void 0:y.xui)||void 0===b?void 0:b[0])||void 0===S?void 0:S.agg,userPrivileges:null===(T=null===(C=null===(E=e.DisplayClaims)||void 0===E?void 0:E.xui)||void 0===C?void 0:C[0])||void 0===T?void 0:T.prv,userSettingsRestrictions:null===(P=null===(I=null===(w=e.DisplayClaims)||void 0===w?void 0:w.xui)||void 0===I?void 0:I[0])||void 0===P?void 0:P.usr,userEnforcementRestrictions:null===(x=null===(k=null===(A=e.DisplayClaims)||void 0===A?void 0:A.xui)||void 0===k?void 0:k[0])||void 0===x?void 0:x.uer,userTitleRestrictions:null===(N=null===(O=null===(R=e.DisplayClaims)||void 0===R?void 0:R.xui)||void 0===O?void 0:O[0])||void 0===N?void 0:N.utr})}serialize(){return{token:this.token,expiration:this.expiration,issueInstant:this.issueInstant,userHash:this.userHash,userGamertag:this.userGamertag,userModernGamertag:this.userModernGamertag,userModernGamertagSuffix:this.userModernGamertagSuffix,userUniqueModernGamertag:this.userUniqueModernGamertag,userXuid:this.userXuid,userAgeGroup:this.userAgeGroup,userPrivileges:this.userPrivileges,userSettingsRestrictions:this.userSettingsRestrictions,userEnforcementRestrictions:this.userEnforcementRestrictions,userTitleRestrictions:this.userTitleRestrictions}}}class xl{constructor(e){var t;this.userId=e.userId,this.identityType=e.identityType,this.relyingParty=e.relyingParty,this.tokenData=kl.deserialize(e.tokenData),this.sandboxId=null!==(t=e.sandboxId)&&void 0!==t?t:bl}static fromServerXboxTokenSchema(e,t){return new xl(W()(W()({},t),{},{relyingParty:e}))}static fromXboxTokenResponseSchema(e,t){var n,r,o,i,a,s,l,c,u,d,p,m,h,g,f,_,v,y,b,S,E,C;const T=t.DisplayClaims;return new xl(W()(W()({},e),{},{tokenData:{token:t.Token,expiration:t.ExpiresAt,issueInstant:t.IssueInstant,userHash:null===(r=null===(n=null===T||void 0===T?void 0:T.xui)||void 0===n?void 0:n[0])||void 0===r?void 0:r.uhs,userGamertag:null===(i=null===(o=null===T||void 0===T?void 0:T.xui)||void 0===o?void 0:o[0])||void 0===i?void 0:i.gtg,userModernGamertag:null===(s=null===(a=null===T||void 0===T?void 0:T.xui)||void 0===a?void 0:a[0])||void 0===s?void 0:s.mgt,userModernGamertagSuffix:null===(c=null===(l=null===T||void 0===T?void 0:T.xui)||void 0===l?void 0:l[0])||void 0===c?void 0:c.mgs,userUniqueModernGamertag:null===(d=null===(u=null===T||void 0===T?void 0:T.xui)||void 0===u?void 0:u[0])||void 0===d?void 0:d.umg,userXuid:null===(m=null===(p=null===T||void 0===T?void 0:T.xui)||void 0===p?void 0:p[0])||void 0===m?void 0:m.xid,userAgeGroup:null===(g=null===(h=null===T||void 0===T?void 0:T.xui)||void 0===h?void 0:h[0])||void 0===g?void 0:g.agg,userPrivileges:null===(_=null===(f=null===T||void 0===T?void 0:T.xui)||void 0===f?void 0:f[0])||void 0===_?void 0:_.prv,userSettingsRestrictions:null===(y=null===(v=null===T||void 0===T?void 0:T.xui)||void 0===v?void 0:v[0])||void 0===y?void 0:y.usr,userEnforcementRestrictions:null===(S=null===(b=null===T||void 0===T?void 0:T.xui)||void 0===b?void 0:b[0])||void 0===S?void 0:S.uer,userTitleRestrictions:null===(C=null===(E=null===T||void 0===T?void 0:T.xui)||void 0===E?void 0:E[0])||void 0===C?void 0:C.utr}}))}static fromXboxTokenOverrideSchema(e){let{token:t,userHash:n}=e;return new xl({identityType:Sl.XToken,relyingParty:I.MDollar,tokenData:{expiration:new Date(Date.now()+864e5),issueInstant:new Date,token:t,userHash:n}})}serialize(){return{identityType:this.identityType,relyingParty:this.relyingParty,tokenData:this.tokenData.serialize(),sandboxId:this.sandboxId}}serializeForCookie(){const e={identityType:this.identityType,tokenData:this.tokenData.serialize(),sandboxId:this.sandboxId,userId:this.userId};return JSON.stringify(e)}}class Rl extends ml{constructor(){super("UnableToAcquireXboxUserTokenError",arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unable to acquire xbox user token.",arguments.length>1?arguments[1]:void 0)}}class Ol extends ml{constructor(){let e=arguments.length>1?arguments[1]:void 0;super("UnableToAcquireXboxTokenError",arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unable to acquire XboxToken.",arguments.length>2?arguments[2]:void 0),this.xboxTokenCacheKey=e}}class Nl extends ml{constructor(){let e=arguments.length>1?arguments[1]:void 0;super("RequiresSisuRedirectError",arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Requires sisu redirect.",arguments.length>2?arguments[2]:void 0),this.xErrorCode=e}}const Ml="http://auth.xboxlive.com";class Ll{constructor(e){this.inflightRequests=new Map,this.userId=e.userId,this.msaTokenProvider=e.msaTokenProvider,this.telemetryProvider=e.telemetryProvider,this.logger=e.telemetryProvider.logger(),this.xboxTokenCache=e.xboxTokenCache,this.httpClient=(0,Y.R1)(new R.HttpClientBuilder,this.telemetryProvider).build(),this.xboxUserTokenRequestFactory=R.RequestFactory.withBaseUrl("https://user.auth.xboxlive.com").setCommonHeaders({[R.HttpHeader.ContentType]:"application/json",[R.HttpHeader.XXBLContractVersion]:"1"}).setCommonMaxRetries(R.DEFAULT_MAX_RETRIES),this.xstsRequestFactory=R.RequestFactory.withBaseUrl("https://xsts.auth.xboxlive.com").setCommonHeaders({[R.HttpHeader.ContentType]:"application/json",[R.HttpHeader.XXBLContractVersion]:"1"}).setCommonMaxRetries(R.DEFAULT_MAX_RETRIES)}destroy(){this.inflightRequests.forEach(((e,t)=>{let{abortController:n}=e;n.abort("[ClientXboxTokenHandler] - Aborting request due to destroy"),this.inflightRequests.delete(t)}))}getOrFetchXboxToken(e){const t=this.xboxTokenCache.getTokenLCE(e),n=(0,$.getUnexpiredDataOrPrevious)(t);if(n)return Promise.resolve(n);const r=this.getInflightRequestCacheKey(e),o=this.inflightRequests.get(r);if(o)return this.logger.info(`[XboxTokenHandler] Returning inflight request for XboxUserToken [identityType:${e.identityType} relyingParty:${e.relyingParty}]`),o.promise;(0,$.isError)(t)&&this.logger.warn(`[XboxTokenHandler] XboxToken is in an error state, will fetch again. Error: ${t.error.message}`);const i=new AbortController,a=this.fetchXboxToken(e,i.signal).finally((()=>{this.inflightRequests.delete(r)}));return this.inflightRequests.set(r,{promise:a,abortController:i}),this.logger.info(`[XboxTokenHandler] Returning new request for XboxToken [identityType:${e.identityType} relyingParty:${e.relyingParty}]`),a}async fetchXboxToken(e,t){try{let n;switch(this.xboxTokenCache.writeTokenAsFetching(e),e.identityType){case Sl.UserToken:n=await this.fetchXboxUserToken(e,t);break;case Sl.XToken:n=await this.fetchXboxXToken(e,t)}const r=Cl.parse(n.data),o=xl.fromXboxTokenResponseSchema(e,r);return this.xboxTokenCache.writeToken(o),o}catch(n){let e=(0,Be.toError)(n);throw this.logger.error("[XboxTokenHandler] Error fetching XboxToken",e),e instanceof ml||(e=new Rl(e.message,e)),this.xboxTokenCache.writeTokenAsError(e,{identityType:Sl.UserToken,relyingParty:Ml}),e}}async fetchXboxUserToken(e,t){const n=await this.msaTokenProvider.getMsaAccessToken({scopes:[S]});return await this.httpClient.execute(this.xboxUserTokenRequestFactory.post("user/authenticate",JSON.stringify({Properties:{AuthMethod:"RPS",RpsTicket:`d=${n}`,SiteName:"user.auth.xboxlive.com"},RelyingParty:e.relyingParty,TokenType:"JWT"}),{headers:{[R.HttpHeader.CorrelationVector]:this.telemetryProvider.cv().increment()},abortSignal:t}))}async fetchXboxXToken(e,t){var n;try{const r=null!==(n=e.sandboxId)&&void 0!==n?n:bl,o={identityType:Sl.UserToken,relyingParty:Ml,sandboxId:r},i=await this.getOrFetchXboxToken(o);return await this.httpClient.execute(this.xstsRequestFactory.post("xsts/authorize",JSON.stringify({Properties:{SandboxId:r,UserTokens:[i.tokenData.token]},RelyingParty:e.relyingParty,TokenType:"JWT"}),{headers:{[R.HttpHeader.CorrelationVector]:this.telemetryProvider.cv().increment()},abortSignal:t}))}catch(r){const t=(0,Be.toError)(r);if(this.logger.error("[XboxTokenHandler] Failed to fetch XToken",t),t instanceof ml)throw t;if(t instanceof R.HttpError){let n;try{const e=await t.response.json();n=Pl.parse(e).XErr}catch(o){const n=(0,Be.toError)(o);throw this.logger.error("[XboxTokenHandler] Failed to parse XErr code from response",n),new Ol(t.message,e,t)}throw new Nl(t.message,n,t)}throw new Ol(t.message,e,t)}}getInflightRequestCacheKey(e){return`${this.userId}.${e.identityType}.${e.relyingParty}`}}const Dl=El.z.union([El.z.string(),El.z.number(),El.z.boolean(),El.z.null()]),Fl=El.z.lazy((()=>El.z.union([Dl,El.z.array(Fl),El.z.record(Fl)]))),Ul=El.z.string().transform(((e,t)=>{try{return JSON.parse(e)}catch(n){return t.addIssue({code:"custom",message:"Invalid JSON"}),El.z.NEVER}})),Bl=El.z.object({ru:El.z.string(),msaId:El.z.string(),sid:El.z.string().optional()}),Hl=El.z.array(El.z.object({Item1:El.z.string(),Item2:Cl}).transform((e=>({relyingParty:e.Item1,tokenResponse:e.Item2}))));class Gl{constructor(e){var t;if(this.id=e.id,this._sandboxId=null!==(t=e.sandboxId)&&void 0!==t?t:bl,this.xboxTokenCache=e.xboxTokenCache,e.initialXboxTokens)for(const n of e.initialXboxTokens)this.xboxTokenCache.writeToken(n)}get sandboxId(){return this._sandboxId}destroy(){this.xboxTokenCache.clearAllTokens()}getXboxTokenLCE(e){return this.xboxTokenCache.getTokenLCE({identityType:Sl.XToken,relyingParty:e,sandboxId:this.sandboxId})}updateSandboxId(e){this._sandboxId=e}}Gl.fallbackUserId="__no-msa-home-account-id__";class ql extends Gl{constructor(e){var t;const n=null!==(t=e.id)&&void 0!==t?t:Gl.fallbackUserId,r=e.xboxTokenCache;super({id:n,initialXboxTokens:e.initialXboxTokens,xboxTokenCache:r,sandboxId:e.sandboxId}),this.xboxTokenCache=r}destroy(){this.xboxTokenCache.clearAllTokens()}getXboxTokenLCE(e){return this.xboxTokenCache.getTokenLCE({identityType:Sl.XToken,relyingParty:e,sandboxId:this.sandboxId})}isClientAuthUser(){return!0}__unstable__dev_tools(){const e=e=>{this.xboxTokenCache.cache.forEach((t=>{const n=(0,$.getDataOrPrevious)(t);n&&(n.tokenData.expiration=new Date(Date.now()+e),this.xboxTokenCache.writeToken(n))}))};return{expireAllXboxTokens:()=>e(2e3),expireAllXboxTokensInOneMinute:()=>e(6e4)}}}n(30163);let jl=[];const Vl=e=>{jl=e};function zl(){return jl}let Xl=[];const Kl=e=>Xl=e.filter(((e,t,n)=>n.indexOf(e)===t)),Wl=()=>Xl;class $l{constructor(e){this.xboxTokenOverrideCookieKey="xbox_token_override",this.xboxTokenCookieExtractorRegex=/^XBXXtk(rp.+|http.+)$/,this.logger=e.logger,this.cookiesProvider=e.cookiesProvider}readXboxTokenOverrideFromSessionCookie(){const e=this.cookiesProvider.get(this.xboxTokenOverrideCookieKey);if(!e)return;const t=Ul.pipe(Al).safeParse(e);if(t.success)return xl.fromXboxTokenOverrideSchema(t.data);this.logger.warn(`[ClientAuthCookiesProvider] - Failed to parse XboxTokenOverride cookie [value:${e}]`)}readPreviouslyAuthenticatedCookie(){const e=this.cookiesProvider.get(g);if(!e)return;const t=El.z.coerce.number().transform(((e,t)=>{const n=new Date(e);return isNaN(n.getTime())?(t.addIssue({code:El.z.ZodIssueCode.invalid_date,message:`Invalid date [value:${e}]`}),El.z.NEVER):n})).safeParse(e);if(t.success)return t.data;this.logger.warn(`[AuthCookiesProvider] - Failed to parse previouslyAuthenticated cookie [value:${e}]`)}deletePreviouslyAuthenticatedCookie(){this.cookiesProvider.delete(g,{path:"/",domain:".xbox.com"})}readSandboxIdCookie(){return this.cookiesProvider.get(f)}deleteSandboxIdCookie(){this.cookiesProvider.delete(f,{path:"/",domain:".xbox.com"})}hasMsaRecentlyAuthenticatedCookie(){return"1"===this.cookiesProvider.get(_)}deleteMsaRecentlyAuthenticatedCookie(){this.cookiesProvider.delete(_,{path:"/",domain:".xbox.com"})}makeXboxTokenCookieKey(e){return`XBXXtk${e.relyingParty}`}makeXboxTokenCookieKeyForRelyingParty(e){return`XBXXtk${e}`}}class Yl extends ml{constructor(){super("XboxTokenNotAllowedAsCookieError",arguments.length>0&&void 0!==arguments[0]?arguments[0]:"XboxToken not allowed as cookie",arguments.length>1?arguments[1]:void 0)}}class Ql extends $l{writeXboxTokenAsCookie(e){if(!zl().includes(e.relyingParty))throw new Yl(`This XboxToken cannot be written as a cookie because it's relying party is not allowed [relyingParty:${e.relyingParty}]`);const t=this.makeXboxTokenCookieKey(e);(0,B.Yj7)(t,"/",".xbox.com"),this.cookiesProvider.set(t,e.serializeForCookie(),{expires:e.tokenData.expiration,sameSite:"none",path:"/",secure:!0,domain:".xbox.com",essential:!0}),this.writePreviouslyAuthenticatedCookie(),e.sandboxId.toUpperCase()!==bl&&this.writeSandboxIdCookie(e.sandboxId.toUpperCase()),this.logger.verbose(`[AuthCookiesProvider] - Set cookie for XboxToken [relyingParty:${e.relyingParty}]`)}writeMsaRecentlyAuthenticatedCookie(){this.cookiesProvider.set(_,"1",{expires:new Date(Date.now()+432e5),sameSite:"lax",path:"/",secure:!0,domain:".xbox.com",essential:!0})}deleteAllAuthRelatedCookies(){this.deleteAllXboxTokenCookies(),this.deletePreviouslyAuthenticatedCookie(),this.deleteSandboxIdCookie(),this.deleteMsaRecentlyAuthenticatedCookie()}deleteAllXboxTokenCookies(){for(const e of Object.values(I))this.cookiesProvider.delete(this.makeXboxTokenCookieKeyForRelyingParty(e),{path:"/",domain:".xbox.com"})}writePreviouslyAuthenticatedCookie(){this.cookiesProvider.set(g,Date.now().toString(),{expires:o(),sameSite:"lax",path:"/",secure:!0,domain:".xbox.com",essential:!0})}writeSandboxIdCookie(e){this.cookiesProvider.set(f,e,{expires:o(),sameSite:"lax",path:"/",secure:!0,domain:".xbox.com",essential:!0})}}class Jl{constructor(e){this.cache=new Map,this.logger=e.logger,this.userId=e.userId}set(e,t){this.cache.set(this.getCacheKey(e),t)}delete(e){this.cache.delete(this.getCacheKey(e))}clear(){this.cache.clear()}getCacheKey(e){return`${this.userId}.${e.identityType.toString()}.${e.relyingParty}`}}class Zl extends Jl{getTokenLCE(e){const t=this.getCacheKey(e),n=this.cache.get(t);return n?(this.logger.verbose(`[InMemoryXboxTokenCache] - Cache hit: [identityType:${e.identityType} relyingParty:${e.relyingParty}]`),n):(this.logger.verbose(`[InMemoryXboxTokenCache] - Cache miss: [identityType:${e.identityType} relyingParty:${e.relyingParty}]`),$.LCE_NOT_REQUESTED)}getAllValidTokens(){const e=[];return this.cache.forEach((t=>{const n=(0,$.getUnexpiredDataOrPrevious)(t);n&&e.push(n)})),e}getAllLceTokens(){return Array.from(this.cache.values())}clearAllTokens(){this.logger.verbose(`[InMemoryXboxTokenCache] - Clearing tokens for user: [userId:${this.userId}]`),this.clear(),this.logger.verbose(`[InMemoryXboxTokenCache] - Cleared tokens for user: [userId:${this.userId}]`)}writeToken(e){const t=e.tokenData.expiration.getTime()-Date.now();this.set(e,(0,$.lceContent)(e,t)),this.logger.verbose(`[InMemoryXboxTokenCache] - Token successfully written to cache: [identityType:${e.identityType} relyingParty:${e.relyingParty}]`)}writeTokenAsFetching(e){this.set(e,(0,$.lceFetching)(this.getTokenLCE(e))),this.logger.verbose(`[InMemoryXboxTokenCache] - Token state set to lceFetching in cache: [identityType:${e.identityType} relyingParty:${e.relyingParty}]`)}writeTokenAsError(e,t){this.set(t,(0,$.lceError)(e,this.getTokenLCE(t))),this.logger.verbose(`[InMemoryXboxTokenCache] - Token state set to lceError in cache: [identityType:${t.identityType} relyingParty:${t.relyingParty}]`)}}class ec extends Zl{constructor(e){super(e),this.storage=e.storage,this.eventManager=e.eventManager,this.persistKey=`Auth.User.${e.userId}`;const t=this.storage.getItem(this.persistKey);if(!t)return void this.logger.verbose(`[PersistedXboxTokenCache] - No existing serialized tokens found in storage [persistKey:${this.persistKey}]`);const n=this.deserializeMultiTokenBlob(t);this.logger.verbose(`[PersistedXboxTokenCache] - Successfully deserialized tokens from storage [tokenCount:${n.length} persistKey:${this.persistKey}]`);for(const r of n)super.writeToken(r)}writeToken(e){super.writeToken(e);const t=this.getAllValidTokens(),n=this.serializeMultiTokenBlob(t);this.storage.setItem(this.persistKey,JSON.stringify(n)),this.logger.verbose("[PersistedXboxTokenCache] - Xbox token successfully written to storage.")}clearAllTokens(){this.storage.removeItem(this.persistKey),super.clearAllTokens(),this.logger.verbose(`[PersistedXboxTokenCache] - Cleared tokens for user [persistKey:${this.persistKey}].`)}addEventListener(e,t,n){this.eventManager.addEventListener(e,t,n)}removeEventListener(e,t,n){this.eventManager.removeEventListener(e,t,n)}set(e,t){super.set(e,t),this.eventManager.dispatchEvent(new j(e))}delete(e){super.delete(e),this.eventManager.dispatchEvent(new j(e))}serializeMultiTokenBlob(e){return{tokens:e.map((e=>e.serialize()))}}deserializeMultiTokenBlob(e){return Ul.pipe(Il).parse(e).tokens.map((e=>new xl(W()(W()({},e),{},{userId:this.userId}))))}}class tc{constructor(e){this.options=e,this.eventTarget=new EventTarget}dispatchEvent(e){this.options.logger.verbose(`dispatchEvent: ${e.type}`),this.eventTarget.dispatchEvent(e)}addEventListener(e,t,n){this.eventTarget.addEventListener(e,t,n)}removeEventListener(e,t,n){this.eventTarget.removeEventListener(e,t,n)}}class nc extends tc{}class rc extends ql{constructor(e){const t=e.msaHomeAccountId,n=new ec({userId:t,storage:globalThis.localStorage,logger:e.telemetryProvider.logger(),eventManager:new nc({logger:e.telemetryProvider.logger()})});super(W()(W()({},e),{},{id:t,xboxTokenCache:n})),this.refreshXboxTokenTimeoutIds=new Map,this.msaTokenProvider=e.msaTokenProvider,this.msaHomeAccountId=e.msaHomeAccountId,this.msaName=e.msaName,this.msaUsername=e.msaUsername,this.xboxTokenCache=n,this.authCookiesProvider=e.authCookiesProvider,this.xboxTokenHandler=new Ll({userId:this.id,xboxTokenCache:n,msaTokenProvider:this.msaTokenProvider,telemetryProvider:e.telemetryProvider}),this.logger=e.telemetryProvider.logger()}static async createFromMsaAccount(e){const t=new rc(W()(W()({},e),{},{msaHomeAccountId:e.accountInfo.homeAccountId,msaName:e.accountInfo.name,msaUsername:e.accountInfo.username}));try{await Promise.all(zl().map((e=>t.getOrFetchXboxToken(e))))}catch(n){const e=(0,Be.toError)(n);throw t.destroy(),e}return t.initializeXboxTokenRefreshTimeouts(),t}static hydrateFromMsaAccount(e){const t=new rc(W()(W()({},e),{},{msaHomeAccountId:e.accountInfo.homeAccountId,msaName:e.accountInfo.name,msaUsername:e.accountInfo.username}));for(const n of zl()){const r=t.getXboxTokenLCE(n);if(!(0,$.isContent)(r))throw t.destroy(),new Error(`XboxTokenLCE needs to be content for hydration [relyingParty:${n}]`);t.updateSandboxId(r.data.sandboxId),e.authCookiesProvider.writeXboxTokenAsCookie(r.data)}return t.initializeXboxTokenRefreshTimeouts(),t}static createFromSisuRemediationAccessToken(e){let{telemetryProvider:t,msaTokenProvider:n,accessToken:r,accountInfo:o,sandboxId:i,authCookiesProvider:a}=e;const s=atob(r),l=(c=s,Ul.pipe(Hl).parse(c)).map((e=>xl.fromXboxTokenResponseSchema({identityType:Sl.XToken,relyingParty:e.relyingParty,sandboxId:i},W()({},e.tokenResponse))));var c;const u=new rc({msaHomeAccountId:o.homeAccountId,msaName:o.name,msaUsername:o.username,telemetryProvider:t,msaTokenProvider:n,initialXboxTokens:l,sandboxId:i,authCookiesProvider:a});return u.initializeXboxTokenRefreshTimeouts(),u}destroy(){super.destroy(),this.xboxTokenHandler.destroy(),this.refreshXboxTokenTimeoutIds.forEach((e=>{clearTimeout(e)}))}async getOrFetchXboxToken(e){return this.xboxTokenHandler.getOrFetchXboxToken({identityType:Sl.XToken,relyingParty:e,sandboxId:this.sandboxId})}isFullUser(){return!0}isSessionUser(){return!1}addEventListener(e,t,n){this.xboxTokenCache.addEventListener(e,t,n)}removeEventListener(e,t,n){this.xboxTokenCache.removeEventListener(e,t,n)}initializeXboxTokenRefreshTimeouts(){this.logger.verbose("[FullClientAuthUser] - Initializing XboxToken refresh timeouts");const e=this.xboxTokenCache.getAllLceTokens();for(const t of e){if(!(0,$.isContent)(t))continue;const e=t.data;if(e.identityType!==Sl.XToken)continue;const n=e.tokenData.expiration.getTime()-Date.now();if(n<=0){this.logger.verbose(`[FullClientAuthUser] - Token expired. Refreshing now [relyingParty:${e.relyingParty}]`),this.refreshXboxToken(e.relyingParty);continue}const r=e.relyingParty,o=setTimeout((()=>{this.refreshXboxToken(r)}),n);this.refreshXboxTokenTimeoutIds.set(r,o),this.logger.verbose(`[FullClientAuthUser] - Set timeout to refresh token [relyingParty:${r} msUntilExpiration:${n}]`)}}async refreshXboxToken(e){try{const t=await this.getOrFetchXboxToken(e),n=t.tokenData.expiration.getTime()-Date.now();if(n<=0)return void this.logger.warn(`[FullClientAuthUser] - Token expired after refresh. Going to ignore [relyingParty:${e}]`);const r=setTimeout((()=>{this.refreshXboxToken(e)}),n);this.refreshXboxTokenTimeoutIds.set(e,r),this.logger.verbose(`[FullClientAuthUser] - Successfully refreshed. Setting new timeout. [relyingParty:${e} msUntilExpiration:${n}]`),zl().includes(e)&&this.authCookiesProvider.writeXboxTokenAsCookie(t)}catch(t){const n=(0,Be.toError)(t);this.logger.error(`[FullClientAuthUser] - Failed to refresh token [relyingParty:${e}]`,n)}}}class oc extends ql{static hydrateFromXboxTokenOverride(e){return new oc({sandboxId:e.xboxToken.sandboxId,telemetryProvider:e.telemetryProvider,initialXboxTokens:[e.xboxToken],xboxTokenCache:new Zl({logger:e.telemetryProvider.logger(),userId:Gl.fallbackUserId})})}isSessionUser(){return!0}isFullUser(){return!1}}class ic extends tc{}class ac{constructor(e){this.authCookiesProvider=e.authCookiesProvider}lastAuthenticationDate(){return this.authCookiesProvider.readPreviouslyAuthenticatedCookie()}}class sc extends ml{constructor(){super("CompleteAuthenticationViaRedirectError",arguments.length>0&&void 0!==arguments[0]?arguments[0]:"No account found in redirect result",arguments.length>1?arguments[1]:void 0)}}class lc extends ml{constructor(){super("UnableToCompleteSignInAuthenticationRedirectError",arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unable to complete sign in authentication redirect",arguments.length>1?arguments[1]:void 0)}}class cc extends ml{constructor(){super("UnableToCompleteSignInAfterRedirectFromSisuError",arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unable to complete sign in after redirect from SISU",arguments.length>1?arguments[1]:void 0)}}class uc extends ml{constructor(){super("AuthenticationRedirectLoopDetectedError",arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Authentication redirect loop detected",arguments.length>1?arguments[1]:void 0)}}class dc extends ml{constructor(){super("UnableToStartSignInAuthenticationRedirectError",arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unable to start sign in authentication redirect",arguments.length>1?arguments[1]:void 0)}}class pc extends ml{constructor(){super("UnableToSignInWithExternalTokensError",arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unable to sign in with external tokens",arguments.length>1?arguments[1]:void 0)}}class mc extends ml{constructor(){super("UnableToStartFrontChannelSignOutError",arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unable to start front channel sign out",arguments.length>1?arguments[1]:void 0)}}class hc extends ml{constructor(){super("UnableToSignOutAuthenticationRedirectError",arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unable to sign out authentication redirect",arguments.length>1?arguments[1]:void 0)}}class gc extends ml{constructor(){super("NotInMiddleOfMsaRedirectFlowError",arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Not in the middle of an MSA redirect flow",arguments.length>1?arguments[1]:void 0)}}class fc{constructor(e){this.store=e.store||sessionStorage,this.key=e.key||"loginRedirectsCount",this.logger=e.logger}incrementAttemptOrThrow(){if(this.get()>0){this.reset();const e=new uc;throw this.logger.error(`[LoginRedirectsCounter] ${e.message}`,e),e}this.increment()}reset(){this.store.removeItem(this.key)}increment(){this.store.setItem(this.key,String(this.get()+1))}get(){return Number(this.store.getItem(this.key)||0)}}class _c extends ac{constructor(e){var t,n;const r=e.telemetryProvider.logger(),o=e.authCookiesProvider;super({authCookiesProvider:o}),this.users=new Map,this._initialized=!1,this.authCookiesProvider=o,this.msaInstance=e.msaInstance,this.telemetryProvider=e.telemetryProvider,this.logger=r,this.loginRedirectsCounter=new fc({logger:this.logger}),this.defaultRedirectUrl=e.defaultRedirectUrl,this.locale=e.locale,this.eventManager=new ic({logger:r}),this.isSisuUcsSupportEnabled=null!==(t=e.isSisuUcsSupportEnabled)&&void 0!==t&&t,this.skipLoginRedirectCounter=null!==(n=e.skipLoginRedirectCounter)&&void 0!==n&&n;for(const i of e.initialAuthUsers)this.users.set(i.id,i),this.logger.verbose(`[ClientAuthProvider] Loaded AuthUser from cache [userId:${i.id}]`);globalThis.location.pathname.includes(this.defaultRedirectUrl)||(0===e.initialAuthUsers.length?(this.logger.verbose("[ClientAuthProvider] No AuthUsers loaded from cache. Going to try to ssoSilent"),this.attemptSsoSilent()):this.initialized=!0)}get initialized(){return this._initialized}set initialized(e){this._initialized!==e&&(this._initialized=e,e&&this.eventManager.dispatchEvent(new X))}static async create(e){var t;const n=e.telemetryProvider.logger(),r=await gl.create({logger:n,msaSessionId:e.msaSessionId,silentRedirectUri:e.silentRedirectUri,enableCustomNavigationClient:!0===e.skipLoginRedirectCounter}),o=new Ql({cookiesProvider:e.cookiesProvider,logger:n}),i=[],a=r.getAllAccounts();for(const l of a){const t=new yl({accountInfo:l,msaInstance:r,logger:n});try{const n=rc.hydrateFromMsaAccount({accountInfo:l,msaTokenProvider:t,telemetryProvider:e.telemetryProvider,authCookiesProvider:o});i.push(n)}catch(s){const e=(0,Be.toError)(s);n.warn(`[ClientAuthProvider] - Failed to hydrate from MSA account. This is OK. Skipping account [errorMessage:${e.message}]`);continue}}if(0===i.length){n.verbose("[ClientAuthProvider] - No hydrated AuthUsers found. We will attempt to load a user from XboxToken override session cookie.");const t=o.readXboxTokenOverrideFromSessionCookie();if(t){n.verbose("[ClientAuthProvider] - Found XboxToken override cookie. Creating AuthUser.");const r=oc.hydrateFromXboxTokenOverride({telemetryProvider:e.telemetryProvider,xboxToken:t});i.push(r)}}return new _c({telemetryProvider:e.telemetryProvider,msaInstance:r,defaultRedirectUrl:e.defaultRedirectUrl,locale:e.locale,initialAuthUsers:i,authCookiesProvider:o,isSisuUcsSupportEnabled:null!==(t=e.isSisuUcsSupportEnabled)&&void 0!==t&&t,skipLoginRedirectCounter:e.skipLoginRedirectCounter})}isInitialized(){return this.initialized}getAuthUser(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ql.fallbackUserId;var t;return null!==(t=this.users.get(e))&&void 0!==t?t:null}getActiveAuthUser(){return this.getAuthUser(this.getMsaActiveHomeAccountId())}async attemptV2ToV3UserTransition(){if(this.getActiveAuthUser())return;const[e]=this.msaInstance.getAllAccounts();if(!e)return;globalThis.localStorage.getItem("xboxcom_xbl_user_info")&&await this.handleNewMsaUser(e,h.SilentSignIn)}async startSignInWithRedirect(e){var t;try{this.skipLoginRedirectCounter||this.loginRedirectsCounter.incrementAttemptOrThrow();const n=this.msaInstance.createCorrelationId(),r=null!==(t=e.prompt)&&void 0!==t?t:"select_account",o={scopes:[S],prompt:r,extraQueryParameters:{},state:encodeURIComponent(e.returnUrlAfterSignIn),correlationId:n,onRedirectNavigate:()=>("select_account"===r&&this.authCookiesProvider.deleteAllAuthRelatedCookies(),!0)},i=new URLSearchParams(location.search),a=i.get(w);a&&(o.extraQueryParameters={[w]:a});const s=new URL(this.defaultRedirectUrl,window.location.origin),l=new URLSearchParams;l.set("action","loggedIn");const c=i.get(E);return c&&l.set(E,c),l.set("locale_hint",this.locale),s.search=l.toString(),o.redirectUri=s.toString(),this.telemetryProvider.logAuthAction({name:"XboxAuthMSAInteractiveSignInStarted",version:"v3",msaCorrelationId:n,prompt:r}),await this.msaInstance.startNewSignInWithRedirect(o)}catch(n){const e=(0,Be.toError)(n);if(e instanceof ml)throw e;throw new dc("Unable to start sign in authentication redirect",e)}}async signInWithExternalMsaTokens(e){try{const t=this.msaInstance.signInWithExternalTokens(e.serverAuthorizationTokenResponse,e.requestTimestamp);await this.handleNewMsaUser(t,h.DeviceCodeSignIn),this.telemetryProvider.logAuthAction({name:"XboxAuthMSADeviceCodeSignInSuccess",version:"v3",msaCorrelationId:e.msaCorrelationId})}catch(t){let n=(0,Be.toError)(t);throw n instanceof ml||(n=new pc("Unable to sign in with external tokens",n)),this.telemetryProvider.logAuthAction({name:"XboxAuthMSADeviceCodeSignInError",version:"v3",error:n,message:n.message,msaCorrelationId:e.msaCorrelationId}),n}}async startSignOutWithRedirect(e){var t,n,r,o;const i=this.msaInstance.createCorrelationId();this.loginRedirectsCounter.reset();try{if(e.msaSessionId){const t=this.msaInstance.getAllAccounts().find((t=>{const n=t.idTokenClaims;return(null===n||void 0===n?void 0:n.sid)===e.msaSessionId}));return void await this.msaInstance.startSignOutWithRedirect({account:t,correlationId:i,onRedirectNavigate:()=>!1})}const a=null!==(t=e.msaHomeAccountId)&&void 0!==t?t:this.getMsaActiveHomeAccountId();if(!a)return this.logger.warn("[ClientAuthProvider] - No MSA account found to sign out, just clearing cookies and redirecting"),this.authCookiesProvider.deleteAllAuthRelatedCookies(),void(null===(n=globalThis.window)||void 0===n||n.location.assign(e.returnUrlAfterSignOut));const s=this.getAuthUser(a),l="true"===(null===(r=globalThis.localStorage.getItem("xboxcom_msa_isExternalSignIn"))||void 0===r?void 0:r.toLowerCase());if(this.msaInstance.userStorageProvider.readIsAuthenticatedWithExternalTokens(a)||l)return this.logger.info("[ClientAuthProvider] - Signing out external user"),await this.msaInstance.clearStorage(a),null===s||void 0===s||s.destroy(),this.msaInstance.userStorageProvider.clearAllForUser(a),this.authCookiesProvider.deleteAllAuthRelatedCookies(),void(null===(o=globalThis.window)||void 0===o||o.location.assign(e.returnUrlAfterSignOut));{this.logger.info("[ClientAuthProvider] - Signing out normal user");if(!this.msaInstance.getAccountByHomeId(a))throw new vl;const t=new URL(this.defaultRedirectUrl,window.location.origin),n=new URLSearchParams;n.set("action","loggedOut"),n.set("returnUrl",e.returnUrlAfterSignOut),n.set("locale_hint",this.locale),t.search=n.toString(),this.telemetryProvider.logAuthAction({name:"XboxAuthMSASignOut",version:"v3",msaCorrelationId:i}),await this.msaInstance.startSignOutWithRedirect({correlationId:i,postLogoutRedirectUri:t.toString(),onRedirectNavigate:()=>(null===s||void 0===s||s.destroy(),this.msaInstance.userStorageProvider.clearAllForUser(a),this.authCookiesProvider.deleteAllAuthRelatedCookies(),this.telemetryProvider.logAuthAction({name:"XboxAuthMSASignOutOnRedirect",version:"v3",msaCorrelationId:i}),!0)})}}catch(a){const e=(0,Be.toError)(a);if(e instanceof ml)throw e;throw new hc("Unable to sign out",e)}}async startFrontChannelSignOut(){try{const e=this.msaInstance.getAccountFromMsaSessionId();if(!e)throw new mc;await this.msaInstance.startSignOutWithRedirect({account:e,onRedirectNavigate:()=>!1})}catch(e){const t=(0,Be.toError)(e);if(t instanceof ml)throw t;throw new mc("Unable to start front channel sign out",t)}}async completeSignInAfterRedirectIfNeeded(){this.logger.info("[ClientAuthProvider] Completing sign in after redirect");try{const e=await this.msaInstance.handleRedirectPromise();if(!e)throw new gc;const t=null===e||void 0===e?void 0:e.account,n=null===e||void 0===e?void 0:e.state;if(!t||!n){const e=new sc,t="[ClientAuthProvider] No account found in redirect result";throw this.logger.error(t,e),this.telemetryProvider.logAuthAction({name:"XboxAuthMSAInteractiveSignInError",version:"v3",message:t,error:e}),e}this.loginRedirectsCounter.reset();const r=decodeURIComponent(n);return this.telemetryProvider.logAuthAction({name:"XboxAuthMSAInteractiveSignInSuccess",version:"v3"}),await this.handleNewMsaUser(t,h.InteractiveSignIn,r),this.initialized=!0,r}catch(e){const t=(0,Be.toError)(e);if(t instanceof ml)throw t;throw new lc("Unable to complete sign in authentication redirect",t)}}async completeSignInAfterRedirectFromSisu(){var e;try{const t=globalThis.location.hash.replace("#",""),n=new URLSearchParams(t),r=n.get("state");if(!r)throw new Error("No state found in searchParams from sisu redirect");const{sisuReturnUrl:o,msaHomeAccountId:i,sandboxId:a}=function(e){const t=Ul.pipe(Bl).parse(e);return{sisuReturnUrl:t.ru,msaHomeAccountId:t.msaId,sandboxId:t.sid}}(r),s=null!==(e=n.get("cv"))&&void 0!==e?e:"";this.logger.info(`[ClientAuthProvider] - attempting to complete a pending SISU remediation with cV: ${s}`);if(!this.msaInstance.userStorageProvider.readHasAttemptedSisuRemediation(i))throw new Error("User has not initiated SISU remediation");const l=n.get("accessToken");if(!l)throw new Error("No accessToken found in searchParams from sisu redirect");const c=this.msaInstance.getAccountByHomeId(i);if(!c)throw new vl;const u=new yl({msaInstance:this.msaInstance,accountInfo:c,logger:this.logger}),d=rc.createFromSisuRemediationAccessToken({telemetryProvider:this.telemetryProvider,msaTokenProvider:u,accessToken:l,accountInfo:c,sandboxId:a,authCookiesProvider:this.authCookiesProvider});return this.users.set(d.id,d),await this.setActiveMsaAccount(c,d,h.InteractiveSignIn),this.telemetryProvider.logAuthAction({name:"XboxAuthXblSisuRemediationRedirectSuccess",version:"v3"}),o}catch(t){let e=(0,Be.toError)(t);throw e instanceof ml||(e=new cc("Unable to complete sign in after redirect from SISU",e)),this.telemetryProvider.logAuthAction({name:"XboxAuthXblSisuRemediationRedirectError",version:"v3",error:e}),t}}createMsaCorrelationId(){return this.msaInstance.createCorrelationId()}isClientInstance(){return!0}addEventListener(e,t,n){this.eventManager.addEventListener(e,t,n)}removeEventListener(e,t,n){this.eventManager.removeEventListener(e,t,n)}__unstable__dev_tools(){return{expireAllMsaAccessTokens:()=>{for(let e=0,t=localStorage.length;e<t;++e){const t=localStorage.key(e);if(null===t||void 0===t?void 0:t.includes("login.windows.net-accesstoken")){const e=localStorage.getItem(t);if(!e)continue;const n=JSON.parse(e),r=W()(W()({},n),{},{expiresOn:"0"});localStorage.setItem(t,JSON.stringify(r))}}},deleteMsaRefreshToken:()=>{for(let e=0,t=localStorage.length;e<t;++e){const t=localStorage.key(e);(null===t||void 0===t?void 0:t.includes("login.windows.net-refreshtoken"))&&localStorage.removeItem(t)}},expireXboxTokensInLocalStorageForActiveUser:()=>{const e=this.getActiveAuthUser();e&&e.__unstable__dev_tools().expireAllXboxTokens()},expireXboxTokensInOneMinuteInLocalStorageForActiveUser:()=>{const e=this.getActiveAuthUser();e&&e.__unstable__dev_tools().expireAllXboxTokensInOneMinute()}}}async handleNewMsaUser(e,t,n){var r;this.logger.verbose(`[ClientAuthProvider] Handling new MSA user [msaHomeAccountId:${e.homeAccountId} returnUrlAfterSignIn:${n}]`);const o=new URLSearchParams(globalThis.location.search).get(E),i=null!==o&&void 0!==o?o:bl;try{const n=new yl({msaInstance:this.msaInstance,accountInfo:e,logger:this.logger}),o=await rc.createFromMsaAccount({accountInfo:e,telemetryProvider:this.telemetryProvider,msaTokenProvider:n,sandboxId:i,authCookiesProvider:this.authCookiesProvider});this.users.set(o.id,o),await this.setActiveMsaAccount(e,o,t),this.authCookiesProvider.writeMsaRecentlyAuthenticatedCookie();const a="true"===(null===(r=globalThis.localStorage.getItem("xboxcom_msa_isExternalSignIn"))||void 0===r?void 0:r.toLowerCase());this.msaInstance.userStorageProvider.readIsAuthenticatedWithExternalTokens(e.homeAccountId)||this.msaInstance.userStorageProvider.writeIsAuthenticatedWithExternalTokens(e.homeAccountId,a);const s=["xboxcom_msa_username","xboxcom_xbl_user_info","xboxcom_msa_isExternalSignIn","xboxcom_accountRemediationRequired"];for(const e of s)globalThis.localStorage.removeItem(e)}catch(a){const t=(0,Be.toError)(a);if(t instanceof ml)throw t instanceof Nl&&await this.handleSisuRedirectErrorForMsaUser(e,i,n),t;throw a}}async handleSisuRedirectErrorForMsaUser(e,t,n){var r;this.msaInstance.userStorageProvider.readHasAttemptedSisuRemediation(e.homeAccountId)&&(this.logger.warn("[ClientAuthProvider] Signing out user due to already attempting to remediate SISU error, but user was unable to remediate"),await this.startSignOutWithRedirect({msaHomeAccountId:e.homeAccountId,returnUrlAfterSignOut:null!==n&&void 0!==n?n:globalThis.location.href})),this.msaInstance.userStorageProvider.writeHasAttemptedSisuRemediation(e.homeAccountId,!0);const o=null===(r=e.idTokenClaims)||void 0===r?void 0:r.login_hint;if(!o)throw new Error("No msaAccountLoginHint found in accountInfo");const i=new URL(this.defaultRedirectUrl,window.location.origin),a=new URLSearchParams;a.set("action","loggedIn"),i.search=a.toString();const s=new URL("/connect/XboxLive","https://sisu.xboxlive.com/"),l=new URLSearchParams;l.set("ru",i.toString()),l.set("login_hint",o),this.isSisuUcsSupportEnabled&&(l.set("userPrompts","XboxOptionalDataCollection"),l.set("consent","required"));const c=this.telemetryProvider.cv().increment();l.set("cv",c);let u=n;u||(u=globalThis.location.href.includes(this.defaultRedirectUrl)?"/":globalThis.location.href),l.set("state",function(e){const t={ru:e.sisuReturnUrl,msaId:e.msaHomeAccountId,sid:e.sandboxId};return JSON.stringify(t)}({sisuReturnUrl:u,msaHomeAccountId:e.homeAccountId,sandboxId:t})),s.search=l.toString();const d=s.toString();this.logger.info(`[ClientAuthProvider] - Redirecting to SISU remediation flow for cv ${c}, to url: ${d}`),this.telemetryProvider.logAuthAction({name:"XboxAuthXblSisuRemediationRedirectStarted",version:"v3",sisuCv:c}),await this.navigateToExternalHrefAndBlock(d)}async navigateToExternalHrefAndBlock(e){globalThis.location.href=e,await new Promise((e=>{setTimeout(e,5e3)}))}getMsaActiveHomeAccountId(){var e;return null===(e=this.msaInstance.getActiveAccount())||void 0===e?void 0:e.homeAccountId}getAuthUserOrThrow(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ql.fallbackUserId;const t=this.getAuthUser(e);if(!t)throw this.logger.verbose(`[ClientAuthProvider] No AuthUser found [id:${e}]`),new Error("[ClientAuthProvider] No AuthUser found");return t}async setActiveMsaAccount(e,t,n){this.msaInstance.setActiveAccount(e),this.eventManager.dispatchEvent(new V(n));const r=await Promise.all(zl().map((e=>t.getOrFetchXboxToken(e))));for(const o of r)this.authCookiesProvider.writeXboxTokenAsCookie(o)}async attemptSsoSilent(){const e=this.msaInstance.createCorrelationId();try{this.telemetryProvider.logAuthAction({name:"XboxAuthMSASilentSignInStarted",version:"v3",msaCorrelationId:e,mode:"sso"});const{account:t}=await this.msaInstance.silentSingleSignOn({correlationId:e});t&&(await this.handleNewMsaUser(t,h.SilentSignIn),this.telemetryProvider.logAuthAction({name:"XboxAuthMSASilentSignInSuccess",version:"v3",msaCorrelationId:e,mode:"sso"}))}catch(t){const n=(0,Be.toError)(t);this.logger.info(`[ClientAuthProvider] - Attempted ssoSilent with no success [error:${n.message}]`),this.telemetryProvider.logAuthAction({name:"XboxAuthMSASilentSignInError",version:"v3",error:n,message:n.message,msaCorrelationId:e,mode:"sso"})}finally{this.initialized=!0}}}n(39428)},17188:(e,t,n)=>{"use strict";n.d(t,{lu:()=>o,JX:()=>l,xZ:()=>u,ot:()=>c,FE:()=>i,fN:()=>s,cG:()=>a});n(10865),n(47010);var r=n(37509);const o=async e=>{let t;try{t="en-US"===e.localeWithScript?(await n.e(3826).then(n.bind(n,53168))).default:(await n(6446)(`./strings.${e.localeWithScript}.resjson`)).default}catch(o){try{let o=e.language;e.script&&(o=(0,r.GVe)(e.language,e.script)),t=(await n(6446)(`./strings.${o}.resjson`)).default}catch(i){if(e.script)try{t=(await n(6446)(`./strings.${e.language}.resjson`)).default}catch(a){t=(await n.e(3826).then(n.bind(n,53168))).default}else t=(await n.e(3826).then(n.bind(n,53168))).default}}return t},i=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return(0,r.FPK)(e,"baseStrings",...n)},a=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,r.wDO)("baseStrings",...t)},s=function(e,t){for(var n=arguments.length,o=new Array(n>2?n-2:0),i=2;i<n;i++)o[i-2]=arguments[i];return(0,r.tPb)("baseStrings",e,t,...o)};function l(e,t){return(0,r.jLq)("baseStrings",e,t)}function c(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,r.eVg)("baseStrings",...t)}function u(e){return(0,r.tOg)("baseStrings",e)}},15956:(e,t,n)=>{"use strict";n.d(t,{bA:()=>r,$Z:()=>o,av:()=>x,oL:()=>i,LC:()=>a,PI:()=>N,HF:()=>U,$g:()=>ne,gW:()=>m,sF:()=>f,Jk:()=>_,k6:()=>v,cf:()=>T,dJ:()=>L,IO:()=>D,Pv:()=>M,Zv:()=>S,lF:()=>F,Uh:()=>B,O9:()=>O,ig:()=>s,Z:()=>R,SF:()=>ae,NL:()=>se,Qu:()=>j,fQ:()=>q,b:()=>w,sz:()=>H});const r=25,o="DO_NOT_FILTER",i="ORDERBY";n(47748);const a={Addons:"addons",Docs:"docs",Games:"games",Hardware:"hardware",Passes:"passes",General:"general"},s=e=>Object.values(a).includes(e);var l=n(41506),c=n.n(l),u=(n(69375),n(33975),n(98376),n(39428),n(86741),n(81045),n(84915),n(55367),n(47010),n(37509)),d=n(56630),p=n(8378);const m=(e,t)=>{const n=`_CHANNELID=${e}`,r=`_FILTERS=${y(t)}`;return(0,u.XBe)(`${d.ry.Browse.toUpperCase()}${n}${r}`)},h=/_CHANNELID=(.*?)_FILTERS=/i,g=e=>{var t,n;return(0,u.XBe)(e).startsWith("BROWSE_")&&null!==(n=null===(t=e.match(h))||void 0===t?void 0:t[1])&&void 0!==n?n:e},f=(e,t,n)=>`${d.ry.Search}_${e}_SEARCHQUERY=${t.split(" ").join("-")}_${y(n)}`.toUpperCase(),_=(e,t)=>Object.values(a).reduce(((n,r)=>c()(c()({},n),{},{[r]:f(r,e,t)})),{}),v=e=>f("PROMO",e),y=e=>{if(!e)return"";const t=[];for(const n of Object.values(e))0!==n.choices.length&&t.push(`${n.id.toUpperCase()}=${b(n.choices)}`);return t.sort().join("&")},b=e=>e.map((e=>e.id.toUpperCase())).sort().join(","),S=e=>{let t="";if(!e||0===e.length)return t;switch(e[0]){case p.ax.Consumable:case p.ax.Durable:t="ProductAddOns"}return t};n(10568),n(83165),n(24541),n(34397);var E=n(88901),C=n(79824);const T=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u.jbi;return new URL(`${arguments.length>1?arguments[1]:void 0}/games/browse/${arguments.length>2?arguments[2]:void 0}`,e).toString()},w=e=>{const t=(0,C.useSelector)(u.a5u);return(0,u.tcg)(u.m11,{locale:t,collection:e})},I=e=>{const t=new URLSearchParams;return t.append(E.hV.locale,e.localeWithScript),`browse?${t.toString()}`},P=(e,t)=>{const n=new URLSearchParams;return n.append(E.hV.locale,e.localeWithScript),`search/${t}?${n.toString()}`};n(64727),n(91321),n(30163),n(5350),n(71450),n(57182),n(81802);var A=n(14041),k=n(86090);const x={Accessibility:"Accessibility",Genre:"Genre",MaturityRating:"MaturityRating",Multiplayer:"Multiplayer",OrderBy:"orderby",PlayWith:"PlayWith",Price:"Price",SupportedLanguages:"SupportedLanguages",TechnicalFeatures:"TechnicalFeatures",IncludedInSubscription:"IncludedInSubscription"},R=(e,t,n)=>{e.push(c()(c()({},t),{},{state:{returnFilters:!n}}))},O=(e,t)=>{var n;const r=new URLSearchParams(t.search),o=decodeURIComponent(null!==(n=r.get(e))&&void 0!==n?n:"");return null===o||0===o.trim().length?void 0:o},N=e=>{const t=Object.values(x),n=new URLSearchParams(e.search);return new URLSearchParams(e.search).forEach(((e,r)=>{t.includes(r)&&n.delete(r)})),c()(c()({},e),{},{search:n.toString()})},M=(e,t,n)=>{const r=new URLSearchParams(n.search);return r.has(e)?r.set(e,t):r.append(e,t),c()(c()({},n),{},{search:r.toString()})},L=(e,t)=>{const n=new URLSearchParams(t.search);return n.has(e)?(n.delete(e),c()(c()({},t),{},{search:n.toString()})):t},D=(e,t,n)=>{var r;const o=new URLSearchParams(n.search);if(o.has(e)){const n=decodeURIComponent(null!==(r=o.get(e))&&void 0!==r?r:"");if(n&&n.trim().length>0){const r=n.split(",");r.includes(t)?r.splice(r.indexOf(t),1):r.push(t),r.length>0?o.set(e,r.join(",")):o.delete(e)}else o.delete(e)}else o.append(e,t);return c()(c()({},n),{},{search:o.toString()})},F=e=>{const t={};return Object.values(x).forEach((n=>{var r;const o=(null===(r=e.get(n))||void 0===r?void 0:r.split(",").filter((e=>""!==e.trim())))||[];o.length>0&&(t[n]={id:n,choices:o.map((e=>({id:e})))})})),t},U=e=>btoa(JSON.stringify(e)),B=e=>{let t=0;for(const n in e)n!==x.OrderBy&&(t+=e[n].choices.length);return t},H=()=>{const e=(0,k.zy)();return(0,A.useMemo)((()=>{const t=new URLSearchParams(e.search);return F(t)}),[e.search])},G={[x.PlayWith]:700,[x.Accessibility]:800,[x.Price]:900,[x.Genre]:1e3,[x.IncludedInSubscription]:1050,[x.MaturityRating]:1100,[x.Multiplayer]:1200,[x.TechnicalFeatures]:1300,[x.SupportedLanguages]:1400},q=e=>{const t=[];return Object.keys(e).filter((e=>e!==x.OrderBy)).forEach((n=>{t.push(e[n])})),t.sort(((e,t)=>G[e.id]-G[t.id]))},j=e=>e?e.substring(0,100).trim():"";var V=n(88262),z=n(17188);const X=e=>`channelTitle_${e}`;n(93510);var K,W=n(18540);!function(e){e.Channels="Channels",e.Filters="Filters"}(K||(K={}));const $={channelData:{},channelMetadata:{}};var Y,Q;!function(e){e.FETCHING_INITIAL_CHANNELS_DATA="@channels/FETCHING_INITIAL_CHANNELS_DATA",e.FETCH_CHANNEL="@channels/FETCH_CHANNEL"}(Y||(Y={})),function(e){e.FETCH_FILTERS="@filters/FETCH_FILTERS"}(Q||(Q={}));const J={};n(97107);var Z=n(12885),ee=n(47283),te=n(49652);function*ne(e){const t=yield(0,d.Jl)(),n=yield(0,ee.Y6)(),r=yield(0,te.call)(u.wRW),o=yield(0,te.call)(ee.zG),i=yield(0,te.select)(u.Fu$),a=yield(0,te.select)(u.pzA,u.WTf.StagingFD),s=c()({[E.Bw.MsApiVersion]:"1.1"},(0,E.Dd)(i)),l=yield(0,te.select)(u.P6r),p=yield(0,te.call)(I,l),m={dependencyName:d.Nz.EmeraldXbetService,dependencyOperationName:e.EncodedCT?"Channels/GetMoreData":"Channels/GetInitialData",operationName:e.ChannelId?"fetchBrowseChannel":"fetchBrowseAll"};return yield(0,te.call)(E.YN,p,e,{addAuthorization:!0,isRequired:!1},t,n,r,o,m,a,s)}function*re(e){var t;const n=null===(t=e.ChannelId)||void 0===t?void 0:t.toLowerCase();if(!e.Query||!n||!s(n))throw new Error("Invalid search channel request");const r=yield(0,d.Jl)(),o=yield(0,ee.Y6)(),i=yield(0,te.call)(u.wRW),a=yield(0,te.call)(ee.zG),l=yield(0,te.select)(u.Fu$),p=yield(0,te.select)(u.pzA,u.WTf.StagingFD),m=c()({[E.Bw.MsApiVersion]:"1.1"},(0,E.Dd)(l)),h=yield(0,te.select)(u.P6r),g=yield(0,te.call)(P,h,n),f={dependencyName:d.Nz.EmeraldXbetService,dependencyOperationName:"Search/GetMoreData",operationName:`search/${n}`};return yield(0,te.call)(E.YN,g,e,{addAuthorization:!0,isRequired:!1},r,o,i,a,f,p,m)}function*oe(e,t,n){const{channelKey:r,encodedFilters:o,encodedCT:i,channelId:a,query:s}=n;try{const n={Filters:o,ReturnFilters:!i,ChannelKeyToBeUsedInResponse:r,EncodedCT:i,ChannelId:a};let l;if(l=s?yield(0,te.call)(re,c()(c()({},n),{},{Query:s})):yield(0,te.call)(ne,n),!(0,u.RJH)(l.status)){throw new Error(l.statusText)}yield(0,te.call)(ie,e,t,l.data,!!i)}catch(l){const t=(0,Z.toError)(l);yield(0,te.put)(e.fetchChannel.error(t,r))}}function ie(e,t,n){let r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return function*(){yield(0,te.call)(p.Sk,t,n),n.channels&&Object.keys(n.channels).length>0&&(yield(0,te.put)(e.fetchChannel.success(n.channels,r)))}()}function ae(e,t){const n=function(e){return{startFetchingChannels:(0,u.VPN)(Y.FETCHING_INITIAL_CHANNELS_DATA,"Channels",e,((e,t)=>({channelKeys:e,channelIds:t}))),fetchChannel:(0,u.mYQ)("Channels",e,Y.FETCH_CHANNEL,((e,t,n,r,o)=>({channelKey:e,encodedFilters:t,encodedCT:n,query:r,channelId:o})),((e,t)=>({channels:e,isLoadMore:t})),((e,t)=>({error:e,channelKey:t})))}}(e),r=(o=n,(0,W.v4)([K.Channels],new W.sV($).on(o.startFetchingChannels,(function(e,t){const n=t.channelKeys;if(!n.length)return e;let r=e.channelMetadata;return t.channelIds&&(r=t.channelIds.reduce(((t,n)=>{const r=(0,u.XBe)(n),o=e.channelMetadata[r];return o&&!(0,V.isError)(o)||(t[r]=(0,V.lceFetching)()),t}),c()({},e.channelMetadata))),{channelData:n.reduce(((t,n)=>{const r=(0,u.XBe)(n);return t[r]=(0,V.lceFetching)(e.channelData[r]),t}),c()({},e.channelData)),channelMetadata:r}})).on(o.fetchChannel.start,(function(e,t){const n=t.channelKey;if(!n)return e;let r=c()({},e.channelMetadata);const o=(0,u.XBe)(g(n));return o&&!e.channelMetadata[o]&&(r=c()(c()({},e.channelMetadata),{},{[o]:(0,V.lceFetching)()})),{channelData:c()(c()({},e.channelData),{},{[(0,u.XBe)(n)]:(0,V.lceFetching)(e.channelData[(0,u.XBe)(n)])}),channelMetadata:r}})).on(o.fetchChannel.success,(function(e,t){const n=Object.keys(t.channels);if(!n.length)return e;let r=e.channelMetadata;return t.isLoadMore||(r=n.reduce(((e,n)=>{const r=(0,u.XBe)(g(n)),o=t.channels[n],i=(o.channelKey?g(o.channelKey):"").split("_",1)[0];return e[r]=(0,V.lceContent)({channelTitleModuleData:{title:o.title,backgroundColor:o.backgroundColor,description:o.description,footer:o.footer,foregroundColor:o.foregroundColor,imageUrl:o.imageUrl,link:o.link,subHeader:o.subHeader},isFilterable:o.isFilterable,vanityName:o.vanityName,channelName:o.channelName,channelLocalizationKey:i}),e}),c()({},e.channelMetadata))),{channelData:n.reduce(((n,r)=>{const o=(0,u.XBe)(r),i=t.channels[r];if(t.isLoadMore){const t=(0,V.getDataOrPrevious)(e.channelData[o]);t&&(n[o]=(0,V.lceContent)({encodedCT:i.encodedCT,totalItems:i.totalItems,products:[...t.products,...i.products]}))}else n[o]=(0,V.lceContent)({products:i.products,encodedCT:i.encodedCT,totalItems:i.totalItems});return n}),c()({},e.channelData)),channelMetadata:r}})).on(o.fetchChannel.error,(function(e,t){return t.channelKey?{channelData:c()(c()({},e.channelData),{},{[(0,u.XBe)(t.channelKey)]:(0,V.lceError)(t.error,e.channelData[(0,u.XBe)(t.channelKey)])}),channelMetadata:c()({},e.channelMetadata)}:e})).build()));var o;const i=function(e){const t=(t,n)=>{const r=(0,u.XBe)(n);return(0,V.getDataOrPrevious)(e(t).channelData[r])},n=(t,n)=>{const r=(0,u.XBe)(n);return(0,V.getDataOrPrevious)(e(t).channelMetadata[r])};return{getChannelByChannelKey:t,getChannelMetadata:n,getLCEChannelByChannelKey:(t,n)=>{const r=(0,u.XBe)(n);return e(t).channelData[r]||(0,V.lceNotRequested)()},getChannelProductIdentifiersByChannelProductKey:(e,n)=>{const r=t(e,n);return r?r.products.map((e=>({productId:e.productId,skuId:e.skuId||"",availabilityId:""}))):[]},getChannelName:(e,t)=>{const r=g(t),o=n(e,r);return(null===o||void 0===o?void 0:o.channelName)||""},getChannelLocalizationKey:(e,t)=>{const r=n(e,t);return(null===r||void 0===r?void 0:r.channelLocalizationKey)||""},getChannelMetadataLCEByChannelId:(t,n)=>e(t).channelMetadata[(0,u.XBe)(n)]||(0,V.lceNotRequested)(),getChannelVanityName:(e,t)=>{const r=n(e,t);return null===r||void 0===r?void 0:r.vanityName}}}(t),a=function(e,t){return function*(){yield(0,te.takeEvery)((0,u.wuJ)(e.fetchChannel.start),oe,e,t)}}(n,(0,p.p$)(e)),s=function(e,t){function n(t){const{getLCEChannelByChannelKey:n}=e;return(0,C.useSelector)((e=>n(e,t)))}function r(e){const r=H(),o=(0,A.useMemo)((()=>m(e,r)),[e,r]),i=n(o),a=(0,C.useDispatch)();return(0,A.useEffect)((()=>{i.type===V.LCEType.NotRequested&&a(t.fetchChannel.start(o,U(r),void 0,void 0,e))}),[o,r,i.type,e,a]),{channelLce:i,channelKey:o,selectedFilters:r}}return{useChannelName:function(t,n){const{getChannelName:r,getChannelLocalizationKey:o}=e,i=(0,C.useSelector)((e=>o(e,t))),a=X(i),s=(0,C.useSelector)((e=>r(e,t))),l=(0,z.fN)(a,s);return n||l},useChannelByChannelKey:n,useBrowseChannelByChannelId:function(e){const r=(0,A.useMemo)((()=>m(e)),[e]),o=n(r),i=(0,C.useDispatch)();return(0,A.useEffect)((()=>{o.type===V.LCEType.NotRequested&&i(t.fetchChannel.start(r,"",void 0,void 0,e))}),[r,o.type,e,i]),{channelLce:o,channelKey:r}},useBrowseLoadMore:function(e){var n;const{channelKey:o,channelLce:i,selectedFilters:a}=r(e),s=null===(n=(0,V.getDataOrPrevious)(i))||void 0===n?void 0:n.encodedCT,l=(0,C.useDispatch)();return{loadMore:(0,A.useCallback)((()=>{l(t.fetchChannel.start(o,U(a),s,void 0,e))}),[l,o,a,s,e]),canLoadMore:!!s,fetching:(0,V.isFetching)(i)}},useFilteredBrowseChannelByChannelId:r}}(i,n);return{channelsActions:n,channelsReducers:r,channelsSelectors:i,channelsHooks:s,channelsSagas:a}}function se(e,t){const n=function(e){return{fetchFiltersResults:(0,u.mYQ)("Filters",e,Q.FETCH_FILTERS,(e=>({filterKey:e})),(e=>({data:e})),((e,t)=>({error:e,filterKey:t})))}}(e),r=(o=n,(0,u.v4G)([K.Filters],new u.sVo(J).on(o.fetchFiltersResults.start,(function(e,t){const n=t.filterKey;return n?c()(c()({},e),{},{[n]:(0,V.lceFetching)(e[n])}):e})).on(o.fetchFiltersResults.success,(function(e,t){if(!t.data)return e;const n={};for(const[r,o]of Object.entries(t.data))n[r]=(0,V.lceContent)(o);return c()(c()({},e),n)})).on(o.fetchFiltersResults.error,(function(e,t){if(t.filterKey){const n=t.filterKey;return c()(c()({},e),{},{[n]:(0,V.lceError)(t.error,e[n])})}return e})).build()));var o;const i=function(e){const t=(t,n)=>e(t)[n]||(0,V.lceNotRequested)();return{getFilters:t,getSortInfo:(e,n)=>{const r=(0,V.getDataOrPrevious)(t(e,n));return null===r||void 0===r?void 0:r[x.OrderBy]}}}(t);return{filtersActions:n,filtersReducers:r,filtersSelectors:i}}},88901:(e,t,n)=>{"use strict";n.d(t,{Bw:()=>i,kG:()=>a,kw:()=>s,hV:()=>l,_7:()=>m,Qx:()=>r,ts:()=>o,FI:()=>R,Dd:()=>x,j9:()=>A,cO:()=>k,yC:()=>L,qU:()=>D,ck:()=>E,nT:()=>O,r2:()=>F,Ih:()=>C,Cv:()=>N,yE:()=>U,ak:()=>T,EC:()=>w,wc:()=>v,Jf:()=>B,A1:()=>P,YN:()=>M});const r="https://emerald.xboxservices.com/xboxcomfd",o="https://emerald-staging.xboxservices.com/xboxcomfd";var i;!function(e){e.AadUserAuthorization="x-ms-authorization-aaduser",e.CartSessionId="x-ms-ucs-sid",e.ContentLength="Content-Length",e.ContinuationToken="x-ms-ct",e.Forwarded="Forwarded",e.ForwardedFor="X-Forwarded-For",e.MsApiVersion="X-MS-API-Version",e.MuidAuthorization="x-authorization-muid",e.TrueClientIp="True-Client-IP",e.UserAgent="User-Agent",e.XblContractVersion="X-XBL-Contract-Version",e.XblExperiments="xbl-experiments",e.XUserAgent="X-User-Agent",e.ValidationField="x-validation-field-1",e.VectorId="X-MS-Vector-Id"}(i||(i={}));var a;!function(e){e[e.Continue=100]="Continue",e[e.SwitchingProtocols=101]="SwitchingProtocols",e[e.Processing=102]="Processing",e[e.EarlyHints=103]="EarlyHints",e[e.InformationalResponses=103]="InformationalResponses",e[e.OK=200]="OK",e[e.Created=201]="Created",e[e.Accepted=202]="Accepted",e[e.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",e[e.NoContent=204]="NoContent",e[e.ResetContent=205]="ResetContent",e[e.PartialContent=206]="PartialContent",e[e.MultiStatus=207]="MultiStatus",e[e.AlreadyReported=208]="AlreadyReported",e[e.IMUsed=226]="IMUsed",e[e.Success=255]="Success",e[e.MultipleChoices=300]="MultipleChoices",e[e.MovedPermanently=301]="MovedPermanently",e[e.Found=302]="Found",e[e.SeeOther=303]="SeeOther",e[e.NotModified=304]="NotModified",e[e.UseProxy=305]="UseProxy",e[e.SwitchProxy=306]="SwitchProxy",e[e.TemporaryRedirect=307]="TemporaryRedirect",e[e.PermanentRedirect=308]="PermanentRedirect",e[e.Redirection=319]="Redirection",e[e.BadRequest=400]="BadRequest",e[e.Unauthorized=401]="Unauthorized",e[e.PaymentRequired=402]="PaymentRequired",e[e.Forbidden=403]="Forbidden",e[e.NotFound=404]="NotFound",e[e.MethodNotAllowed=405]="MethodNotAllowed",e[e.NotAcceptable=406]="NotAcceptable",e[e.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",e[e.RequestTimeout=408]="RequestTimeout",e[e.Conflict=409]="Conflict",e[e.Gone=410]="Gone",e[e.LengthRequired=411]="LengthRequired",e[e.PreconditionFailed=412]="PreconditionFailed",e[e.PayloadTooLarge=413]="PayloadTooLarge",e[e.URITooLong=414]="URITooLong",e[e.UnsupportedMediaType=415]="UnsupportedMediaType",e[e.RangeNotSatisfiable=416]="RangeNotSatisfiable",e[e.ExpectationFailed=417]="ExpectationFailed",e[e.ImATeapot=418]="ImATeapot",e[e.MisdirectedRequest=421]="MisdirectedRequest",e[e.UnprocessableEntity=422]="UnprocessableEntity",e[e.Locked=423]="Locked",e[e.FailedDependency=424]="FailedDependency",e[e.UpgradeRequired=426]="UpgradeRequired",e[e.PreconditionRequired=428]="PreconditionRequired",e[e.TooManyRequests=429]="TooManyRequests",e[e.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",e[e.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",e[e.ClientErrors=511]="ClientErrors",e[e.InternalServerError=500]="InternalServerError",e[e.NotImplemented=501]="NotImplemented",e[e.BadGateway=502]="BadGateway",e[e.ServiceUnavailable=503]="ServiceUnavailable",e[e.GatewayTimeout=504]="GatewayTimeout",e[e.HTTPVersionNotSupported=505]="HTTPVersionNotSupported",e[e.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",e[e.InsufficientStorage=507]="InsufficientStorage",e[e.LoopDetected=508]="LoopDetected",e[e.NotExtended=510]="NotExtended",e[e.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",e[e.ServerErrors=511]="ServerErrors"}(a||(a={}));var s;n(73118),n(90374),n(72252),n(38124),n(70889),n(98788),n(46826),n(65949),n(9402),n(84035),n(14419),n(20629),n(90029),n(21019),n(65478),n(55976),n(47010);!function(e){e.SetSwitch="setSwitch",e.SetGateValue="setGateValue",e.ThemeOverride="th"}(s||(s={}));const l={allowDurablesAndConsumables:"allowDurablesAndConsumables",billingMarket:"billingMarket",buddyPassOfferId:"offerId",cId:"cId",campaignId:"campaignId",concernCategory:"concernCategory",deviceFamily:"deviceFamily",enableFullDetail:"enableFullDetail",filters:"filters",giftingString:"giftingString",isHelpful:"isHelpful",isPreview:"isPreview",itemCount:"itemCount",itemType:"itemType",locale:"locale",ocid:"ocid",orderBy:"orderBy",orderIds:"orderIds",pageNumber:"pageNumber",PartnerId:"partnerid",paymentInstrumentId:"paymentInstrumentId",productId:"productId",realReturnUrl:"rrurl",referringProductId:"rpid",resultsPerPage:"resultsPerPage",returnFilters:"returnFilters",reviewEntity:"reviewEntity",searchQuery:"q",serviceSearchQuery:"query",starFilter:"starFilter",status:"status",xboxcomApplyStatus:"xboxcomapplystatus",useNewXSearchAlgorithm:"useNewXSearchAlgorithm",xStoreScenario:"xs",consoleApplySessionId:"consoleApplySessionId",channelName:"channelName",referrerId:"referrerId",isConsoleWebView:"isConsoleWebView",gamerTag:"gt",clientType:"clientType"},c=(new Set([s.SetSwitch.toLowerCase(),s.ThemeOverride.toLowerCase()]),7500);n(10865);var u=n(90692),d=n(37509),p=n(12885);n(97107);class m extends Error{constructor(e,t,n){super(e),this.httpStatusCode=t,this.responseBody=n,Object.setPrototypeOf(this,m.prototype)}}var h=n(41506),g=n.n(h),f=n(56630);n(31759);const _=()=>((e,t)=>{if(e){const t=parseInt(e,10);if(!isNaN(t))return t}return t})(d.VTO.DEFAULT_TIMEOUT_MSEC,c),v=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0;const a=g()({[i.MsApiVersion]:"1.0"},n);return u.RequestFactory.withBaseUrl(t?o:r).setCommonTimeout(_()).setCommonMaxRetries(0).setCommonHeaders(a).setCommonMetadataValue(f.jm,e)};var y=n(47283);const b=e=>{const t=new u.HttpClientBuilder;return(0,f.R1)(t,e)},S=(e,t,n)=>b(e).authenticator(new y.vU(n,t,e.logger())),E=(e,t,n)=>S(e,t,n).authenticator(new y.vU(n,t,e.logger())).build(),C=(e,t,n,r)=>S(e,t,n).authenticator(new y.D3(t,e.logger(),r)).build(),T=e=>b(e).build(),w=(e,t,n)=>S(e,t,n).build(),I=(e,t,n,r,o,i)=>{if(!n.addAuthorization)return T(e);return((e,t,n,r,o)=>{let i=g()({},n);return r&&(i=g()(g()({},i),{},{anonymousTokenAuthenticator:new y.rV(r)})),(null===o||void 0===o?void 0:o.aadToken)&&(i=g()(g()({},i),{},{aadAuthenticator:new y.Il(o,e.logger())})),b(e).authenticator(new y.ZX(i,t,e.logger())).build()})(e,t,{isMandatory:n.isRequired,xTokenOverride:i,addXblAuthHeader:n.addXblAuthHeader},r,n.aadAuthRequired?o:void 0)},P=async function(e,t,n,r){let o=arguments.length>5?arguments[5]:void 0,i=arguments.length>7?arguments[7]:void 0;var s,l;const c=v(r,arguments.length>4&&void 0!==arguments[4]&&arguments[4],arguments.length>6?arguments[6]:void 0);let h;h=o?I(t,o.authenticationProvider,o.authConfig,n,o.aadAuthConfig,i):((e,t)=>b(e).authenticator(new y.rV(t)).build())(t,n);const g=e(c);try{const e=await h.execute(g);if(!(0,d.RJH)(e.status))throw new m(`Service request failed. TargetUri: ${e.request.url} | Status: ${e.status}`,e.status,e.data);return e}catch(f){if(f instanceof u.HttpError){const e=(0,d.b07)(null===(s=f.response)||void 0===s?void 0:s.status)?a.InternalServerError:f.response.status;let t;try{const e=null===(l=f.response)||void 0===l?void 0:l.clone();t=await e.json()}catch(_){t=(0,p.toError)(_)}const n=new m(`Service request failed. TargetUri: ${f.request.url} | Status: ${e} | Original Message: ${f.message} | Extra Data: ${t}`,e,t);throw n.name=f.name,n.stack=f.stack,n}throw f}},A=async function(e,t,n,r,o,i,a){let s=arguments.length>10?arguments[10]:void 0;return P((t=>t.get(e,s)),n,o,a,arguments.length>7&&void 0!==arguments[7]&&arguments[7],{authConfig:t,authenticationProvider:r,aadAuthConfig:i},arguments.length>8?arguments[8]:void 0,arguments.length>9?arguments[9]:void 0)},k=async function(e,t,n,r){let o=arguments.length>7?arguments[7]:void 0;return P((t=>t.get(e,o)),t,n,r,arguments.length>4&&void 0!==arguments[4]&&arguments[4],void 0,arguments.length>5?arguments[5]:void 0,arguments.length>6?arguments[6]:void 0)};n(81045),n(30163),n(84915);const x=e=>{const t={},n=(e=>Object.entries(e).filter((e=>{let[t,n]=e;return!!t&&!0===n})).map((e=>{let[t,n]=e;return t})).join(","))(e);return n&&(t[i.XblExperiments]=n),t},R=(e,t)=>e.execute(t),O=e=>{let t=a.InternalServerError;return e!==a.Unauthorized&&e!==a.Forbidden&&e!==a.NotFound||(t=e),t},N=e=>e instanceof m?e.httpStatusCode:e instanceof u.HttpError?e.response.status:void 0,M=async function(e,t,n,r,o,i,a,s){let l=arguments.length>11?arguments[11]:void 0;return P((n=>n.post(e,t,l)),r,i,s,arguments.length>8&&void 0!==arguments[8]&&arguments[8],{authConfig:n,authenticationProvider:o,aadAuthConfig:a},arguments.length>9?arguments[9]:void 0,arguments.length>10?arguments[10]:void 0)},L=e=>u.RequestFactory.withBaseUrl("https://displaycatalog.mp.microsoft.com/v7.0").setCommonTimeout(c).setCommonMaxRetries(0).setCommonMetadataValue(f.jm,e),D=e=>u.RequestFactory.withBaseUrl("https://cem.services.microsoft.com/v1").setCommonTimeout(5e3).setCommonMaxRetries(0).setCommonMetadataValue(f.jm,e),F=e=>u.RequestFactory.withBaseUrl("https://sisu.xboxlive.com").setCommonTimeout(c).setCommonMaxRetries(0).setCommonMetadataValue(f.jm,e),U=e=>u.RequestFactory.withBaseUrl("https://cart.production.store-web.dynamics.com/v1.0").setCommonTimeout(_()).setCommonMaxRetries(0).setCommonMetadataValue(f.jm,e),B=e=>u.RequestFactory.withBaseUrl("https://accounts.xboxlive.com").setCommonTimeout(5e3).setCommonMetadataValue(f.jm,e).setCommonMaxRetries(1)},90677:(e,t,n)=>{"use strict";n.d(t,{CP:()=>u,Oz:()=>c,ZG:()=>i,hl:()=>o,nG:()=>a,pF:()=>r});var r,o,i,a,s=n(8378),l=n(37509);function c(e){return e.isMobile?r.Mobile:e.isWindows?r.Windows:r.OtherPC}function u(e){return(0,l.XBe)(e)===(0,l.XBe)(s.hd)?i.PCGP:(0,l.XBe)(e)===(0,l.XBe)(s.CZ)?i.Ultimate:void 0}!function(e){e[e.Mobile=1]="Mobile",e[e.OtherPC=2]="OtherPC",e[e.Windows=3]="Windows"}(r||(r={})),function(e){e[e.Console=1]="Console",e[e.Mobile=2]="Mobile",e[e.OtherPC=3]="OtherPC",e[e.TV=4]="TV",e[e.Windows=5]="Windows"}(o||(o={})),function(e){e.PCGP="CFQ7TTC0KGQ8",e.Ultimate="CFQ7TTC0KHS0"}(i||(i={})),function(e){e.GCM="GCM",e.RPID="RPID"}(a||(a={}))},91731:(e,t,n)=>{"use strict";n.d(t,{CP:()=>r.CP,ZG:()=>r.ZG,hl:()=>r.hl,nG:()=>r.nG,pF:()=>r.pF});var r=n(90677)},47757:(e,t,n)=>{"use strict";n.d(t,{r:()=>c});var r=n(10865),o=n.n(r),i=n(47010),a=n.n(i),s=n(58912),l=n(37509);const c=(0,s.sT)({resolved:{},chunkName:()=>"Launchpad",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>(0,l.wjz)(s.M7,n.e(6741).then(n.bind(n,19123))),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 19123}})},84e3:(e,t,n)=>{"use strict";n.d(t,{GW:()=>s,OC:()=>r,bB:()=>c,hg:()=>l,i8:()=>a,vO:()=>o,w5:()=>i});const r="https://account.microsoft.com",o="https://www.aka.ms/streaming_learnmore",i="https://go.microsoft.com/fwlink/p/?linkid=2160906",a="https://www.xbox.com/legal/subscription-terms",s="https://support.microsoft.com/account-billing/spending-limits-in-family-safety-f30d6801-165d-9f86-3fe7-063245c0449b",l="https://support.microsoft.com/account-billing/in-app-purchases-with-non-microsoft-billing-platforms-bdcd9b50-e275-4220-8979-6fd25a101fc5",c="https://support.microsoft.com/account-billing/make-an-in-app-purchase-in-microsoft-store-1de1279a-be0e-6ad0-1d01-fbe59e90dc47"},65087:(e,t,n)=>{"use strict";n.d(t,{J:()=>c});var r=n(10865),o=n.n(r),i=n(47010),a=n.n(i),s=n(58912),l=n(37509);const c=(0,s.sT)({resolved:{},chunkName:()=>"PIDLContainer",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>(0,l.wjz)(s.M7,Promise.all([n.e(1524),n.e(1435)]).then(n.bind(n,80259))),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 80259}})},72565:(e,t,n)=>{"use strict";n.d(t,{QN:()=>r,s3:()=>o});const r="core2",o="default"},14102:(e,t,n)=>{"use strict";var r;n.d(t,{Nm:()=>i.Nm,Yl:()=>i.Yl,HA:()=>I.HA,yG:()=>a,JT:()=>i.JT,$y:()=>T,bo:()=>N,cB:()=>O,Xm:()=>w,QN:()=>o.QN,m4:()=>i.m4,PZ:()=>r,iZ:()=>i.iZ,og:()=>I.og,Ol:()=>I.Ol,kV:()=>i.kV,Nb:()=>g,QL:()=>i.QL,H4:()=>P,nt:()=>A,ei:()=>R,y6:()=>x,K7:()=>M,Tq:()=>k,eK:()=>L,BM:()=>i.BM,o3:()=>D,km:()=>i.km,s3:()=>o.s3,N7:()=>b,yN:()=>_,Rb:()=>S,NR:()=>I.NR,Ao:()=>f,zC:()=>v,ww:()=>y,zo:()=>C}),function(e){e.ProductId="ProductId",e.SkuId="SkuId",e.AvailabilityId="AvailabilityId",e.AffirmationProductId="AffirmationProductId",e.CloudServiceUpsells="CloudServiceUpsells",e.DisabledReason="DisabledReason",e.EditionIdsList="EditionIdsList",e.IsBundleProduct="IsBundleProduct",e.IsOnWishlist="IsOnWishlist",e.IsDisabled="IsDisabled",e.IsTrial="IsTrial",e.IsUpgrade="IsUpgrade",e.NetworkName="NetworkName",e.SkuIdsList="SkuIdsList",e.UpsellProductId="UpsellProductId",e.UpsellProductIdsList="UpsellProductIdsList",e.UpsellProductIdsComingSoonList="UpsellProductIdsComingSoonList",e.UpsellToDefaultSubscription="UpsellToDefaultSubscription",e.GlyphProductId="GlyphProductId"}(r||(r={}));var o=n(72565),i=n(95938);const a="gamingContext";n(10568),n(47010),n(83165),n(24541),n(34397);var s=n(88901),l=n(37509),c=n(8378),u=n(79824),d=n(86090),p=n(60478),m=n.n(p),h=n(86987);const g="/games/store/:productName/:productId/:skuId?/:availabilityId?",f=e=>{const t=(0,d.B6)(e,{path:g});if(t&&"productId"in t.params){const e=t.params;return"p"===e.productName&&(e.productName=void 0),e}},_=(e,t,n,r,o)=>new URL(`${e}${S("/p/:productName/:productId/:skuId?/:availabilityId?",t,n,r,o)}`,l.yDV).toString(),v=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l.jbi;return new URL(`${arguments.length>1?arguments[1]:void 0}${E("/external/contextual-store-host/:productId/:skuId?/:availabilityId?","dark",arguments.length>2?arguments[2]:void 0,arguments.length>3?arguments[3]:void 0,arguments.length>4?arguments[4]:void 0,arguments.length>5?arguments[5]:void 0,arguments.length>6?arguments[6]:void 0,arguments.length>7?arguments[7]:void 0,arguments.length>8?arguments[8]:void 0,"v2",arguments.length>9?arguments[9]:void 0,arguments.length>10?arguments[10]:void 0,arguments.length>11?arguments[11]:void 0)}`,e).toString()},y=(e,t,n,r,o,i,a)=>{let s=(0,u.useSelector)(l.GYd).origin;(null===l.VTO||void 0===l.VTO?void 0:l.VTO.FORCE_REDIRECT_PRODUCTION_ORIGIN)&&(s=l.jbi);const c=(0,u.useSelector)(l.a5u);return b(s,c,e,t,n,r,o,i,a)},b=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l.jbi;return new URL(`${arguments.length>1?arguments[1]:void 0}${S(g,arguments.length>2?arguments[2]:void 0,arguments.length>3?arguments[3]:void 0,arguments.length>4?arguments[4]:void 0,arguments.length>5?arguments[5]:void 0,arguments.length>6?arguments[6]:void 0,arguments.length>7?arguments[7]:void 0,arguments.length>8?arguments[8]:void 0,arguments.length>9?arguments[9]:void 0)}`,e).toString()},S=(e,t,n,r,o,i,a,l,c)=>{const u=m()(n||"p",{lower:!0,remove:/[*+]/g});let p=(0,d.tW)(e,{productId:t,productName:u||"p",skuId:r||void 0,availabilityId:o||void 0});const g=new URLSearchParams;return i&&g.append(s.hV.referringProductId,i),a&&g.append(s.hV.PartnerId,a),l&&g.append(s.hV.campaignId,l),c&&g.append(s.hV.ocid,c),(g.has(s.hV.referringProductId)||g.has(s.hV.PartnerId)||g.has(s.hV.campaignId))&&(p=(0,h.U)(p,g)),p},E=(e,t,n,r,o,i,a,l,c,u,p,g,f)=>{const _=m()(r||"p",{lower:!0,remove:/[*+]/g});let v=(0,d.tW)(e,{productId:n,productName:_||"p",skuId:o||void 0,availabilityId:i||void 0});const y=new URLSearchParams;return a&&y.append(s.hV.referringProductId,a),l&&y.append(s.hV.PartnerId,l),c&&y.append(s.hV.campaignId,c),p&&y.append(s.hV.xStoreScenario,p),g&&y.append(s.hV.itemType,g),f&&y.append(s.hV.clientType,f),y.has(s.hV.referringProductId)||y.has(s.hV.PartnerId)||y.has(s.hV.campaignId)||y.has(s.hV.itemType)||y.has(s.hV.xStoreScenario)||y.has(s.hV.clientType)?v=`${(0,h.U)(v,y)}&v=${u}&t=${t}`:v+=`?v=${u}&t=${t}`,v},C=(e,t)=>{const n=(0,u.useSelector)(l.GYd).origin,r=(0,u.useSelector)(l.a5u);return b(n,r,e,(0,c.wT)(e,!1),void 0,void 0,t)};var T,w,I=n(47779);!function(e){e.Production="prod",e.Int="int",e.PPE="ppe"}(T||(T={})),function(e){e.XMsFlight="x-ms-flight",e.XMsTest="x-ms-test"}(w||(w={}));const P="US",A="en-US",k="xboxweb",x="mc",R="credit_card",O="https://www.xbox.com/{locale}/xbox-mastercard?xboxcomapplystatus=success",N="https://www.xbox.com/{locale}/xbox-mastercard?xboxcomapplystatus=fail",M="BANNER",L="MSFT-Web-Lpage",D="09.08.2024-21.05.46-730"},95938:(e,t,n)=>{"use strict";n.d(t,{BM:()=>m,DP:()=>a,JT:()=>r,Nm:()=>u,QL:()=>p,Yl:()=>d,ZU:()=>c,iZ:()=>o,k4:()=>s,kV:()=>l,km:()=>h,m4:()=>g,qe:()=>i});const r="https://account.microsoft.com",o="https://support.xbox.com/en-US/help/games-apps/my-games-apps/install-games-remotely-on-xbox-one",i="https://support.xbox.com/help/games-apps/cloud-gaming/set-up-smart-tv-xbox-app",a="https://www.xbox.com/{locale}/consoles",s="https://www.xbox.com/{locale}/apps/xbox-app-for-pc",l="https://store.ubi.com/my-account",c="https://www.xbox.com/play",u="https://www.xbox.com/{locale}/play",d="https://www.xbox.com/{locale}/play/games/{title}/{productId}",p="https://www.xbox.com/{locale}/apps/xbox-app-for-pc",m="https://www.xbox.com/{locale}/apps/xbox-app-for-pc#systemrequirements",h="https://www.xbox.com/{locale}/apps/xbox-app-for-tv",g="https://www.xbox.com/{locale}/xbox-game-pass/games#pcgames"},47779:(e,t,n)=>{"use strict";n.d(t,{DU:()=>i,HA:()=>a,NR:()=>c,Ol:()=>s,og:()=>l});var r=n(37509),o=n(15956);const i="/search/results/:tabName?",a=o.LC.Games,s=[{tabName:o.LC.Games,hasFilters:!0},{tabName:o.LC.Addons,hasFilters:!0},{tabName:o.LC.Passes,hasFilters:!1},{tabName:o.LC.Hardware,hasFilters:!1},{tabName:o.LC.Docs,hasFilters:!1},{tabName:o.LC.General,hasFilters:!1}];var l;!function(e){e[e.Games=0]="Games",e[e.Addons=1]="Addons",e[e.Passes=2]="Passes",e[e.Hardware=3]="Hardware",e[e.Docs=4]="Docs",e[e.General=5]="General"}(l||(l={}));const c=e=>(0,r.JSV)(e,o.LC.Docs)||(0,r.JSV)(e,o.LC.General)},82712:(e,t,n)=>{"use strict";n.d(t,{JX:()=>o,QI:()=>r,yP:()=>i});const r=e=>Math.round(100*e)/100,o=e=>`${e}rem`,i=(e,t)=>`${e}_${t.toLocaleUpperCase()}`},95887:(e,t,n)=>{"use strict";n.d(t,{vE:()=>b,pQ:()=>w.p,w1:()=>m,UL:()=>T.U,_4:()=>l,aY:()=>_,X5:()=>v,JX:()=>S.JX,yP:()=>S.yP,Ds:()=>d,xT:()=>u,gr:()=>p,BD:()=>E,ZB:()=>T.Z,QI:()=>S.QI,Ek:()=>i,Lv:()=>x,_E:()=>y,vf:()=>I.v,xG:()=>I.x});n(17403),n(27968),n(10568),n(47010);var r=n(37509),o=n(17188);const i=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;var i;const s=(0,o.FE)("gameSizeFormat"),l=a(e,t,n);if(void 0!==l)return(0,r.GPZ)(s,null===(i=l.size)||void 0===i?void 0:i.toString(),l.unit)},a=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;const[r,i,a,l,c,u]=(0,o.cG)("bytesSymbol","kiloBytesSymbol","megaBytesSymbol","gigaBytesSymbol","teraBytesSymbol","petaBytesSymbol"),d=[r,i,a,l,c,u];if(void 0===e)return;let p,m=0;return 0===e?p=e:(m=s(e,t),p=parseFloat((e/Math.pow(t,m)).toFixed(n))),{size:p,unit:d[m]&&d[m]||""}},s=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;return Math.floor(Math.log(e)/Math.log(t))},l=e=>"true"===(null===e||void 0===e?void 0:e.toLowerCase()),c=(e,t)=>{switch(e){case 2:return t&&(e=>29===new Date(e,1,29).getDate())(t)?29:28;case 4:case 6:case 9:case 11:return 30;default:return 31}},u=e=>{const t=new Array(13);t[0]={value:-1,label:e};for(let n=1;n<t.length;n++)t[n]={value:n,label:n.toString()};return t},d=(e,t,n)=>{let r;if(t){const e=c(t,n);r=new Array(e+1)}else r=new Array(32);r[0]={value:-1,label:e};for(let o=1;o<r.length;o++)r[o]={value:o,label:o.toString()};return r},p=e=>{const t=(new Date).getFullYear(),n=new Array(151);n[0]={value:-1,label:e};for(let r=1;r<n.length;r++)n[r]={value:t-r,label:(t-r).toString()};return n},m=e=>{const t=new Date,n=t.getMonth(),r=e.getMonth();let o=t.getFullYear()-e.getFullYear();return(n<r||n===r&&t.getDate()<e.getDate())&&o--,o};n(81045),n(30163);var h=n(39731),g=n(14041);const f="keydown",_=e=>Array.from(e.querySelectorAll('button, a, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])')).filter((e=>!e.hasAttribute("disabled"))),v=e=>{if(null===e||void 0===e?void 0:e.current){const t=_(e.current);t.length>0&&t[0].focus()}},y=(e,t,n,o)=>{(0,h.useBButtonHandler)("release",(()=>!!e&&(t(),!0))),(0,g.useEffect)((()=>{if(e){const e=function(e){let o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(0,r.JSV)(e.key,"escape")&&(t(),o&&(null===n||void 0===n?void 0:n.current)&&n.current.focus(),e.stopPropagation(),e.preventDefault())},i=t=>e(t);let a;if(document.addEventListener(f,i),null===o||void 0===o?void 0:o.current){v(o),o.current.addEventListener(f,(t=>e(t,!0)));const t=null===o||void 0===o?void 0:o.current;a=()=>{t&&t.removeEventListener(f,(t=>e(t,!0)))}}return()=>{document.removeEventListener(f,i),a&&a()}}}),[n,o,t,e]);return e=>{t(e),(null===n||void 0===n?void 0:n.current)&&n.current.focus()}},b=g.createContext({});var S=n(82712);const E=(e,t)=>e<0?0:e>=t?t-1:e;var C=n(79824);n(14102),n(60912);var T=n(86987),w=n(25656),I=n(38475),P=n(47283),A=n(34754),k=n(41281);const x=()=>{const e=(0,C.useSelector)(P.ug),t=null===e||void 0===e?void 0:e.xuid,n=(0,C.useDispatch)(),r=(0,C.useSelector)(A.x);(0,g.useEffect)((()=>{r||n(k.i.fetchVectorId.start())}),[t,r,n])}},2014:(e,t,n)=>{"use strict";n.d(t,{e:()=>a});var r=n(37509),o=n(79824),i=n(14102);const a=(e,t)=>{const n=(0,o.useSelector)(r.a5u);return(0,r.tcg)(i.Yl,{locale:n,title:t||"p",productId:e})}},86987:(e,t,n)=>{"use strict";n.d(t,{U:()=>l,Z:()=>c});var r=n(41506),o=n.n(r),i=(n(10568),n(86090)),a=n(15956),s=n(47779);const l=(e,t)=>t?`${e}?${t.toString()}`:e,c=e=>{var t;const n=(0,i.B6)(e.pathname,{path:s.DU});if(n){const r=null===(t=n.params.tabName)||void 0===t?void 0:t.toLowerCase();return(0,a.ig)(r)?o()(o()({},e),{},{pathname:(0,i.tW)(s.DU,{tabName:r})}):o()(o()({},e),{},{pathname:(0,i.tW)(s.DU,{tabName:s.HA})})}return e}},25656:(e,t,n)=>{"use strict";n.d(t,{F:()=>o,p:()=>r});n(47010),n(83165),n(24541),n(34397);const r="purchaseSignIn",o=()=>{const e=new URL(window.location.href);return e.searchParams.set(r,"true"),e.href}},38475:(e,t,n)=>{"use strict";n.d(t,{v:()=>a,x:()=>s});n(47748),n(47010);var r=n(37509),o=n(14041),i=n(79824);const a=e=>{const[t,n]=(0,o.useState)(!1);(0,o.useEffect)((()=>{if(!t)return void n(!0);let r;const o=setTimeout((()=>{r=window.requestAnimationFrame(e)}),0);return()=>{clearTimeout(o),cancelAnimationFrame(r)}}),[e,t])},s=()=>{const e=(0,i.useSelector)(r.P6r).language;return r.$hu.includes((0,r.XBe)(e))}},75205:(e,t,n)=>{"use strict";n.d(t,{v4A:()=>vt.v4,yTS:()=>_n.yT,Q81:()=>_n.Q8,_zx:()=>_n._z,dWJ:()=>y,wax:()=>_n.w,X68:()=>Ut,ycs:()=>Yt,Ksr:()=>_n.Ks,vEO:()=>M.vE,bU3:()=>tc,GLt:()=>vt.GL,LKH:()=>H,ngT:()=>X,bBK:()=>nc,BRP:()=>oc,EEi:()=>z,Qo6:()=>U,t6Y:()=>G,hoQ:()=>V,LWN:()=>vt.LW,HAD:()=>Et.HA,w81:()=>he,otO:()=>ge,Xj2:()=>Mn,E2z:()=>Ln,X7D:()=>Se,KUI:()=>Ee,QA2:()=>lu.Q,VjN:()=>Ka,jK8:()=>vt.jK,C3F:()=>Di,L56:()=>_n.L5,Sbk:()=>Re,w5y:()=>zc,VlZ:()=>Ls,Iay:()=>De,Uht:()=>tu,V7_:()=>Cn,bAf:()=>_n.bA,Uhv:()=>_n.Uh,QNR:()=>Et.QN,Ctc:()=>Bn,AyF:()=>_n.Ay,UOA:()=>vt.UO,pTN:()=>le,P8g:()=>Gr,pQ1:()=>M.pQ,NrX:()=>q,Okz:()=>_n.Ok,HGh:()=>vt.HG,GaU:()=>Kc,ogV:()=>Et.og,Olk:()=>Et.Ol,pOW:()=>Fe,nct:()=>He,oSI:()=>vt.oS,WKQ:()=>_n.WK,OPD:()=>Ft,ozo:()=>lt,VQ0:()=>ut,aWq:()=>ct,zrN:()=>Bs,aDT:()=>_n.aD,Nb3:()=>Et.Nb,cH9:()=>su,Pk:()=>vt.Pk,NAV:()=>vt.NA,w1G:()=>M.w1,UL7:()=>M.UL,ARu:()=>vt.AR,JDZ:()=>vt.JD,G6u:()=>vt.G6,MQ:()=>vt.MQ,Xr6:()=>vt.Xr,mZ3:()=>vt.mZ,DSG:()=>vt.DS,AhJ:()=>vt.Ah,Up8:()=>vt.Up,s3y:()=>Et.s3,$IK:()=>vt.$I,I$:()=>vt.I$,xmA:()=>vt.xm,DCQ:()=>vt.DC,V2L:()=>vt.V2,X5:()=>M.X5,DsI:()=>M.Ds,xTl:()=>M.xT,gr7:()=>M.gr,xRK:()=>vt.xR,$YK:()=>vt.$Y,gAR:()=>vt.gA,N7H:()=>Et.N7,Pml:()=>vt.Pm,vtM:()=>vt.vt,PWt:()=>vt.PW,yNr:()=>Et.yN,KXL:()=>vt.KX,Ctj:()=>vt.Ct,Nsd:()=>vt.Ns,YFp:()=>vt.YF,h5I:()=>vt.h5,Rbu:()=>Et.Rb,g4I:()=>vt.g4,Eqs:()=>vt.Eq,AtO:()=>vt.At,Ok6:()=>vt.Ok,zPK:()=>vt.zP,Fm5:()=>vt.Fm,u6i:()=>vt.u6,nU_:()=>vt.nU,NRw:()=>Et.NR,Aow:()=>Et.Ao,CJZ:()=>vt.CJ,Pm1:()=>vt.gK,st2:()=>vt.st,sBo:()=>vt.sB,ytz:()=>vt.yt,QIC:()=>M.QI,ncH:()=>_n.nc,ivm:()=>vt.iv,EkB:()=>M.Ek,LvL:()=>M.Lv,CqP:()=>vt.Cq,_Es:()=>M._E,wwx:()=>Et.ww,vfE:()=>M.vf});n(69375),n(47010);var r=n(85608),o=n(84989),i=n(58810),a=n(53373),s=n.n(a),l=n(14041),c=n(6409),u=n(72178),d=n(47566),p="EsrbRating-module__ratingValue___bSF6+",m=(0,l.memo)((function(e){var t=e.imgProps,n=e.ratingValue,a=e.ratingLink,m=e.className,h=e.children,g=e.linkButtonProps,f=e.showQR,_=(0,r.__rest)(e,["imgProps","ratingValue","ratingLink","className","children","linkButtonProps","showQR"]),v=g||{},y=v.className,b=(0,r.__rest)(v,["className"]);return l.createElement("div",(0,r.__assign)({className:s()("EsrbRating-module__container___Z6Ef+",m)},_),l.createElement("img",(0,r.__assign)({},t,{className:s()("EsrbRating-module__ratingImage___sMISX",t.className),src:t.src,alt:t.alt})),l.createElement("div",{className:"EsrbRating-module__labelContainer___pTpkq"},a&&n?l.createElement(c.a,(0,r.__assign)({as:"a",href:a,buttonType:u.VQ.Secondary,buttonSize:u.Mp.XSmall,className:s()(y,p,"EsrbRating-module__link___bhdWP"),target:"_blank",isCallToAction:!0,rel:"noopener noreferrer"},b),n,l.createElement(d.In,{className:"EsrbRating-module__icon___15GZO",icon:f?o.A:i.A,iconSize:d.lK.XXSmall})):n?l.createElement("div",{className:p},n):null,h))})),h=(0,l.memo)((function(e){var t=e.className,n=e.label;return l.createElement("div",{className:s()("EsrbRating-module__description___RvWaD",t)},n)})),g=n(37509),f=n(17188),_=n(79824),v=n(13468);const y=e=>{var t,n;const{productId:r,className:o}=e,i=(0,f.FE)("commaSeparatorTemplate"),[a,s]=(0,f.cG)("buttonWithStateAccessibilityTemplate","openInNewTabLinkLabel"),c=(0,_.useSelector)((e=>(0,v.g4)(e,r))),u=null===c||void 0===c?void 0:c.contentRating,d=(0,l.useMemo)((()=>({src:null===u||void 0===u?void 0:u.imageUri,alt:null===u||void 0===u?void 0:u.ratingDescription})),[u]);if(!u)return null;const p=(0,g.xJ$)(i,(0,g.UVo)(u.descriptors)),y=[];(null===(t=u.interactiveDescriptions)||void 0===t?void 0:t.length)&&y.push((0,g.xJ$)(i,u.interactiveDescriptions));const b=[];(null===(n=u.disclaimers)||void 0===n?void 0:n.length)&&b.push((0,g.xJ$)(i,u.disclaimers));const S=(0,g.GPZ)(a,u.rating,s);return l.createElement("div",{className:o},l.createElement(m,{className:"AgeRatingInfo-module__ratingPositionOverride___y86yq",imgProps:d,ratingLink:u.imageLinkUri,ratingValue:u.rating,linkButtonProps:{"aria-label":S}},l.createElement(h,{label:p}),y.length>0&&l.createElement(l.Fragment,null,l.createElement("hr",null),y.map(((e,t)=>l.createElement(h,{key:`rating-interactive-description-pdp-${t}`,label:e})))),b.length>0&&l.createElement(l.Fragment,null,l.createElement("hr",null),b.map(((e,t)=>l.createElement(h,{key:`rating-disclaimer-pdp-${t}`,label:e}))))))};var b=n(41506),S=n.n(b),E=n(8378),C=n(58869),T=n(63042),w=n(70564),I=n(67996),P=n.n(I),A=n(39731),k=n(43342),x=n(2750),R=n(34843),O=n(58912),N=n(56630),M=n(95887);const L=l.createContext({activateStoreExperiments:!1}),{Provider:D,Consumer:F}=L;var U,B,H,G,q,j,V,z,X,K,W,$;!function(e){e.Purchased="Purchased",e.PurchaseError="PurchaseError",e.ServiceError="ServiceError",e.Canceled="Canceled",e.AlreadyPurchased="AlreadyPurchased"}(U||(U={})),function(e){e.XboxTV="Xbox.TV"}(B||(B={})),function(e){e.Details="Details",e.Purchase="Purchase",e.Browse="Browse",e.Redeem="Redeem"}(H||(H={})),function(e){e.BuyNow="buynow",e.Gift="gift"}(G||(G={})),function(e){e.BuddyPass="buddyPass",e.Redeem="redeem",e.ReversePerks="reversePerks",e.OfferWallet="offerWallet"}(q||(q={})),function(e){e.OneCoreRequestPurchase="OneCoreRequestPurchase",e.ShowDetails="ShowDetails",e.ShowDetailsForStoreId="ShowDetailsForStoreId",e.XboxPurchaseApi="XboxPurchaseApi",e.ShowMarketplace="ShowMarketplace",e.XStoreShowPurchaseUi="XStoreShowPurchaseUI",e.XStoreShowProductPageUi="XStoreShowProductPageUI",e.XStoreShowAssociatedProductsUi="XStoreShowAssociatedProductsUI"}(j||(j={})),function(e){e.v1="v1",e.v2="v2"}(V||(V={})),function(e){e.PageChange="pageChange",e.OpenUrl="openUrl"}(z||(z={})),function(e){e.GamerTag="gamertag",e.Email="email"}(X||(X={})),function(e){e.PurchaseCanceled="PurchaseCanceled",e.PurchaseFailed="PurchaseFailed",e.PurchaseStarted="PurchaseStarted",e.PurchaseSuccessful="PurchaseSuccessful"}(K||(K={})),function(e){e.RedeemCanceled="RedeemCanceled",e.RedeemFailed="RedeemFailed",e.RedeemStarted="RedeemStarted",e.RedeemSuccessful="RedeemSuccessful"}(W||(W={})),function(e){e.XEWeb="XEWeb",e.XENative="XENative",e.XETest="XETest",e.XboxCom="XboxCom"}($||($={}));const Y=e=>{const t=(0,l.useContext)(L).activateStoreExperiments,n=(0,_.useSelector)((t=>(0,g.pzA)(t,e)));return t&&n},Q=e=>{const t=(0,l.useContext)(L).activateStoreExperiments,n=(0,_.useSelector)((t=>(0,g._cZ)(t,e)));return t?n:void 0},J=(e,t)=>{(0,A.useBackHandler)((0,l.useCallback)((()=>(e(),t)),[e,t]),void 0,"release")};var Z="ButtonWithFlyout-module__flyoutButton___q31zM";const ee=["accessibilityLabel","children","buttonId","buttonType","className","showArrow","telemetryProps"],te=l.createContext({reverseOpenDirection:!1,reverseVerticalPosition:!1,showFlyout:!1,closeFlyout:()=>{},openFlyout:()=>{},buttonRef:void 0,flyoutRef:void 0}),{Provider:ne,Consumer:re}=te,oe={left:0},ie={right:0},ae=e=>{const{children:t,flyoutBoundingParent:n,className:r}=e,[o,i]=(0,l.useState)(!1),[a,c]=(0,l.useState)(!1),[u,d]=(0,l.useState)(!1),p=(0,l.useRef)(null),m=(0,l.useRef)(null),h=(0,O.R5)(),g=(0,M._E)(o,(()=>i(!1)),m,p);(0,l.useEffect)((()=>{if(m.current){let{left:e,right:t,top:r,bottom:o}=m.current.getBoundingClientRect();if(null===n||void 0===n?void 0:n.current){const i=n.current.getBoundingClientRect();e-=i.left,t=i.right-t,r-=i.top,o=i.bottom-o,d(r>o)}else t=window.innerWidth-t,o=window.innerHeight-o,d(!1);c(e>t)}}),[h,n]);const f={buttonRef:m,flyoutRef:p,reverseOpenDirection:a,reverseVerticalPosition:u,showFlyout:o,closeFlyout:g,openFlyout:()=>i(!0)};return l.createElement("div",{className:s()("ButtonWithFlyout-module__buttonContainer___DM0Hd",r)},l.createElement(ne,{value:f},t))},se=e=>{let{onBack:t}=e;return J(t,!0),null};ae.Button=e=>{const{accessibilityLabel:t,children:n,buttonId:r,buttonType:o,className:i,showArrow:a,telemetryProps:u}=e,d=P()(e,ee);return l.createElement(re,null,(e=>{const{buttonRef:r,showFlyout:p,closeFlyout:m,openFlyout:h}=e,g=(0,N.nO)({behavior:p?N.nS.REDUCE:N.nS.EXPAND},u),f=(0,N.vj)(g);return a?l.createElement(k.T,S()(S()({as:"button","aria-expanded":p,"aria-haspopup":!0,"aria-label":t,buttonType:o,className:s()([Z,i]),onClick:p?m:h,icon:p?x.A:R.A,ref:r},f),d),n):l.createElement(c.a,S()(S()({as:"button","aria-expanded":p,"aria-haspopup":!0,"aria-label":t,buttonType:o,className:s()([Z,i]),onClick:p?m:h,ref:r},f),d),n)}))},ae.Flyout=e=>{const{buttonRef:t,closeFlyout:n,flyoutRef:r,reverseOpenDirection:o,reverseVerticalPosition:i,showFlyout:a}=(0,l.useContext)(te),s=(0,O.T8)()<=O.JP.SM;let c={},u={};if(null===t||void 0===t?void 0:t.current){const e={right:`calc(-${t.current.offsetWidth}px + 8rem)`};c=o?s?e:ie:oe,u=i?{bottom:`calc(${t.current.offsetHeight}px + 0.5rem)`}:{top:`calc(${t.current.offsetHeight}px + 0.5rem)`}}const d={width:"max-content"};return l.createElement(l.Fragment,null,a&&l.createElement(l.Fragment,null,l.createElement(A.FocusContainer,{autoFocusContainer:!0,className:"ButtonWithFlyout-module__flyout___CjK6D",role:"dialog",style:S()(S()(S()({},c),u),s?d:void 0)},l.createElement(O.t$,null),l.createElement("div",{ref:r},e.children),l.createElement(se,{onBack:n})),l.createElement("div",{className:"ButtonWithFlyout-module__lightDismissLayer___FLmRO",onClick:n,role:"none"})))};const le=e=>{const t="1.25rem",{width:n=t,height:r=t}=e,o=(0,_.useSelector)(g.j17),i=(0,f.FE)("loadingText"),a=o===g.Sxu.Dark?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAYKADAAQAAAABAAAAYAAAAACpM19OAAAMnUlEQVR4Ae2da4xdVRXHO1gf1AfyEEsLtlCfKFExJJqIGIGAfjAmQkQT/WBijMbEhA8kGk00USMf/GD8otH4BiKJRkjUJmIDgg0+olHASi1KybSg0FoBW0qr9f+7s/+36+4558w9c8/tnXtnr2TN2nvt93+tvfY+596ZmVuzQunYsWNrNbXnip8f5Dql0cPPEj9TfJL4qPh/SR6RPCR+Uvy4eW5uDv2Ko7mVMqME+Kmaz+mJAZ75PUMMAbTniyQPLVXudgdU9xGzDPI0jSdNXtBE5pFAP1ODrxcDPGTASEegrUcX9XUGqNPTzzHxo+Jd4r/LGIclJ0In3AACnTHxdEA/QwxQ6JoAU3HfMNSFARKqa1endztL+tgt3il+SMbAOCeMWMgJoQQ8gL9ETGzPgTQgSM8LmQOZt8vL1aTSoHm7fDzKCVO/F/9VhuBMGTsx6FgpAU+YOVv8HHHVwplHrpdqEZDobCADOooB3Ec+/r81DobYMW5DMPDYSOBzkJ4r5vYSAWZMgPP4OQDkzW7n+lV6+ssNk7ejDm2jwaxzn3n5PlXYJiPspeI4iAE7JwHP9fAc8YtS53GBdcBYH2VsF4EbRu9+bDimQru8H+vz+nGM+1TpThmC622nxCCdksB/oTrcLMYIcREeK1+oqvXq5Xrqc79/Qvwf8UExd3tuLP8VU+a7PWPxbIA8WfwC8SlJcu4Q+jyXfBwVLRrfOrdBcm3dKiNwc+qM6LgTSrGeOE+8h7xQpMdBWm9PRGfmBkL83Z/4SS14pFtJmhe3rg3is8TMEWN5Xp5bnJd1SOstORvu0LxwgpHJA43UkRb5bHWwSVwV671QxogLcmhAxxMrD0mPamF49thIc+UJ+lzxK8QYhfGr5iX1gN4GQDLXH2uuOMtIxMAjkRYE6OeJI6BxQZ64F2qJ/h/ieS2k89iqfpckzZ1Q9Xrxq8TsCs/bc5RqYAdYj3xKfLPmPtIBTUfLJi2AWw73+hx8+jTwyDhxQgrAP6zJT+wJVOP3SevgueQN4gvENoTnHNdBG+uR7NYfaR0PULAcopNlkSbNYUs8dR8GGoDROcbHBbBlH9SE8Z4VR2lHvFUTO08c581c7WRen8spu1VrupdEWzJ4rdqliQI+5InQV84u5wZBqPkXipVOWt8WzfEyMTu8bn1Rz5I4E+4h0YZaG0CTY7tyxzfY+UTIu18kB+xuTW6sh6vG6JS0Tq6uV4g5rON6vF5L48DOuEnr3CU5NLnjoRqkSRHzPTjtnI6SfpkQcZ63jlNLWjNnw6Vi1se64jqV7etZL88l39Wa5ykYhoY2gCbCQw7gc0iZaG+OE+OOTKznAWrqSWsn3F4tZlfEdXrtlqyVG93XtPahwq07o2EtaQIMwOtjJG8JsbaJNDoz8f6BWQGfRSaP/r6SOBSYRVa2RzbC85S7Rpj5EpKKq8VQBlDT08U8bJlsAGRMA/7fNOEVecvx5JcjtSZC6bfFvKADbBMYxjz6jeIrSSxFSxpAluTQ5TZgD8+lxwD83ZoociZJa+NCcYOYd1KmuBti+s3C7nxXqpONBkjb6DQ1tpdX9UMZNxyumX45VlVvJnRaI88yhCMeInPPZ43ojOtVyYHRV5IrVhZKycOW6+SeH/N7NLEV8VRbt5Au9VrrP9XfjWKcD3wiK9snXtO8o5+rSBjcRUWyHDGfDiAG8i4AeKcpe0wTmsi7HAafFGnND2nsrWH86PmowRbdRcJys2QlVRpADWiI9wO0PT3vAD2viw/kBaslr7XfrbXuEEccSef8bmEa6/QhqlSqFM/n3h/JxrCOeP+YM6tY/lBr51zAaSHLhdzCTz6HuCgqnF5kgOT93Hzs+XVyvzygkw8lPJlplMKA8HurOPf6PH9Z1S5YZAB1FJ/26jA5pIH5iLCQEBAWf5YgFFUROwKc+WiUzx4GaMAAwfupVOf56Id6zB4YafYzt2iJhOnc8+PKL08Y93UDBpCWj+t4hKYjGAJw55EcvFP1ZpNFjJuECZ9jbxfb4xmStM8EsOYsOF/cp9wAXD3t+YBN2mRDxKdAlxW5gMDtEj4XDT4OHfmNC1UXfvYNkA4IdoAper0NQez3AK5XZEJA2HAb+k3Kgq29P6l64gJhzVdnetQ3gHKAD9AADJPOuXi/QFmCtqkcjwfbKibK8BlDj6IBuPfj9XV0pHh/HTTH9cKIZ6OqT8XYDca7H4Z6inQy+/DNvd75mXvFfBy2zlO/TWDHHRAH2eIwZIvwKVeM+VQG+Kib2dfMLLZj+oP646ZofH0gM4yN8jJnkHi/PZ18JIxA+KG80BAICCuejv+SqgK4w4/BR/JlsL6FMIAJwA22d8DMv+f34juUO9WXPR+Z0ytRrE3xn7RBzyuTLw9eINSO7lf16Ng5rps4B7wlmrqOO6KpXikbRGBe2aprO4Ywr8cAULz3588BRxXTMEKhFggkzDACuwC2sxt8ejsLpbcGIcgxP0qHJhoUaocAX0KGDHou13P9tAF6NcMPe30xQAClZfJh1Te+uaSrDRgAAmQqGHR0pmIAI9FePqImVcC7p9MwgMONlZZu6HyR7RHg5Vy8CdFDxHWdD+Gmrqt2RVP9UnYcgaVe35zMDigh5jhgXacwQL4D4hjrfAZEZUl3hwCvJGLIyXtet7a848kx6TzfZIC5sgM6x3ugQz75ajLAU34XxIcxVRWfLk/BA4C2zWCApovO4ZMSwLzt9LMAhuDmU8AXCCMSBmiiQ70QFIxQXjs3wdW+7FQ1yW9B8Vp/uJwB7UFt02KjKsfQDviEJBthXzFAGzjb1z1bTWwAQHfacm8xQHtQ27TId0DethggR6SrfPqkkQ/e81uQww9D7ckLuxq/9LNmzWaBwF9jaaI9JQQ1wTNa2evUPDp49Hx65nepDxYDjAZyU2sM4MMW8OPth3Z/4ke0EPlCHSCg+M9vGF0otgEs6d3pngHKDgCS7ulidcmXcHMCfHYDfC+FxQCg0D1dqS79BOzYH+V9iv+9P2RSQlDH4Cv8bFCXr12i29tcXnaAkehOXpO6snNHz6eILznfmeqUQ9hAdCHl/Weon7eLifU+bDGE00qu2a7w0//GXNkBQNIdvU9d8Wu+EN8wjOQd8fMqZdSV9DIQkPfzG5DvCk3xeoPuHbFbul+HOuUWFMEYMX2t2uP9jvkOO87zgdcN6bOX/lC2UF9REu0RkPdz74cNelUne6XclheUMyBHpGVe4PPXxK4Lzbj/4/X2fMsb5f35udCPUaF9SbZE4NOq/2Ix3h8jCmnviF1K/1S8iMoOWATJ8Ap5/3tV+22phT0993IM8aUq76ddtFjqp4hhEBD4vO3k4M0p7gTSPxH4vRdveUXy3iJVZUVXg4DA36Kib4mJ//Z8S3/Xljzfjr5aBjggWUllB1TCUq8U+OtV+lWxP+0CwzpH/lwT+IxSzgBQGJIEPg9bXxcj8XS83J6fOzN3/jtU3kh1lmtstBoLBf5Lte5viHnfAznUWKKzQXjX/0EZ4CjKJvI766Y6q75M4F8oEL4p5k8447R23Ci9Ex5X+UcEPvF/Scq3zZINVlsFgf8Brfl74lPS2utiPsY4LP6YwOepdygqZ0ANTAKeQ/Z68eWpCqHGIQZV7ry8579W4BN+hqa8k6EbznJFgQ/oPxNfka3TIQd1TJP/lMDfTqINlR0Q0BLw5yj7WfGlYnu7gc6lW7IzPiHwK181uFKdLAYQMgKeu/2Hxe8X86fbIB+qAO90r0A/rDuo9McF/l0uaCtXtQEE/GYB9lHxe8TGAo+ORJjODUD5PvGHBP49ZJZLHnS57aeunUDncH2nmP8J8yZxPFwj0Hi5PV3JgTTvdvD8eQpGoZk3gAAHxFeL35L4Ekm+NOW3lpRDBttGcH6hdOEnuu+Irxf4R2LBctNTbwABTMzmpZj5TKVfLuar4cjXiHmAqvN0FfXBb0rzYHWdgB/4UJ0Go9BUGkCgb9SiPy/GmzeJ8Ux7NBIvNucxnbpQlNSNRFksv1n5Lwr8/bFSF+mpM0AC/y4tHk/v6jkGsG2EmN4h/ScF/O8kx0JTZwCh8Bkxv30YvVTZRWQPdoHzEWjKrLdE96D4K2L+Xa13lrLd0zQa4OIEQwRsWGRoEw3gtNvfr8SXxbeMG3gPOI0GMGjIKiNY53rOs2brvH7KeIezVXyT+BcCPq8j9fhoGg3wK8FxlTgCOyxCtAFgDua7xT8Q829oeYU8EVrOIiYyUQ+aDmGM4K+CcA1lHY7V+XXTt6A/qs4vxbeL+YLsxEDX+H2aOgMw82SELyh5iZiPB58Qc09HAuy8mHi+0yzAKVtx9H/5eP1D81B3eQAAAABJRU5ErkJggg==":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAMKADAAQAAAABAAAAMAAAAADbN2wMAAAGz0lEQVRoBdWZS2zURRzHu4/utrsLxZYSukXERkBTbKGEQH1EImlNSPBg0sQYY2LigxDj1XgwwYMHL1684ElvBOFgxFhDommNFCkUCmiQ2FAtyraUUtptu33s/tfPd7Kz2a703S3bSSbz+P9n5vv9vWb+83cVLENqamry3Lhxo6ywsLDU5XKtdRwnNDU15fd4PL5kMumhL8Eyca/XO5pIJEYo+4LBYKSlpSW+1OVdi51g//793tHR0fUAXA/YckB6qbuVIODJrKtPbd5J97NukhyB5K3y8vK/mpubJxaDZcEEJO2enp4KQG8i+wAgwG5bCnyq7rFksglYIpYkbQfwV3jvSkdHx9RCiMybAIu5amtry30+X+Xk5KTfgrPAsyTsESmSymwiMilpxJSATWuH/nHGtB86dOj3o0ePitScaV4EqqurfUVFRVUAD1rAVspW+qw0iW0PYONRfGEiEAjIJMaFAE0Vx+PxQCwWCzCujK7HGFdiNWGFYTXC83585NuzZ89GNX62NCeB3bt3B1hsC5P7LFiVWgxtOJS9ZWVlA2fOnBmdbaHsZ/X19aUIZAuEa3gWYB6rGTdt+UuM/M3ly5dvZ4/NbM9KYOfOneuYJIz0PEjX2LrAI+ECct/mzZsjJ0+eVIRZdEJAhQyuU4aMX4JhTUOCviQa+wG/uDbTAjMS2Lt379qxsbFwCrhLwFUnR6nfWqizzQTA9tfU1Mg8D0BgG33WL0TEhYmdvnTp0lX7bmb5QAKEyKLh4eFNSMRIXcBV9/v9d9vb2/uQkELgsifAu/bs2fMMPvOc1YI0Qkpirl+dP3/+n+xF/0dA8X1oaKiSScDtlSRcysXFxREmGM6eIBfturq6p1jzZTTtSxERzjEEeCwbg1SUTgLa19dXrhLWDravoO6sWbPmdvbA9KAcVDCX60x7WuDBYjLttRMTE68TXqdh9mSuf+rUqRDAg5iLnNQ8QvL329rahjLfW4l6b29vf2VlpUy4KsOcSrq6uqKRSORfiyHNRlKnMySJK2NC2khGAT9oX17p8uLFiy2A/4N1004NoUZOAz6LJU1gx44dQXUSmw0BNJDYvn37ABPkxGEtgNlKra0NjTJOFlZppKS7u/sFO84QkF2x0xZZ6YsEO2l0qTHeLrKUUrsxZv2LfEEklDHxA9pgNa8hgIMWcrJMAjyhDJd4Q0PDgnbWpYCca+yGDRtaITEGCZ1mdb4S+Kc1zjhxVVVVER4OOVcBLxYQPmPHjx+fnGvilXqO4ybC4bAf4NvAZ0xJmsCZO0ycv3nzpmdkZMRBCw6270BoUWfzXBJC8lcFWqbEOjIjzpjVPk9ra6uXeG+ISQMkhy+lvCNAWI1WVFTUQ0ChXkC9+Ozf7v7+fve9e/ecwcFBJxQKJTigLeiDQoxXKiHgayktyPTl0E8q+iTJijqJgYEBkVjyd2oOCfXIiUWCNUQi7OZUmcRJnJKSEodzvQzrocX9uYgD/H6mBiCzUbZkQmlqsNragfOSBLG/An/9VIEI8HBxjQi8ANusj5O8BA+uAg6Vg4A2ewFNYQ96U19Eem7Scn+o2HmXo0ztVdMOoG5YJTm4+cbHx/2qL8dCuZoDjI9gOmYvSJUT3tTtWD5HnrQ8iPulbGA6SqhPTjDmTT9dBRXAlyF5hVFjKZR3VhUBZPyETEeyFgnS7VVFAMDPAlxObDSASV3L3ANELG/Tvn37tgA+DAkbRqc4ZneuGg0QQp8XeJkOUtZdS6dutFeFBvT1BfhXAG9DqMzoV5nLqtAAYfNVsJZCQqHThE9uS9pEIO81oEtgcL4mrOAXXuUT9uY6rwlI4FzJf4AGdGNijtFoYJCT89e0TcprAtj+O6B80do+dWnhS04P5r+DGOQtAf4GNSL5w9ZsRIL859atW78TcJvMR7Bt5EvJ5e5LgP8EPLrf1E8U/a/qx3Hf4KbwTibOvCIgmwf8e4A/grQNcJUAHmfXfetBPzryhsCuXbt0K/4xYBsoEyngIqG/NB9yYz3NdKwWHvo+0NjYGORm5F0AvU32kx3Ay1l1YJsE/EczgReJh6aB1E+MgwB9ExzrKAU802z0J+gIP/muCOhMKeca4I9PSP/a+OqrANBG7LsWMAc52z9KO2GB06czDl3mdu03bggPX7hwoXcm4LY/ZxrgD6ds+RgLPQ4mATV2nSotcF0iWKmrLsCfESpPzPdmPGcEcMrrSLsKQIUpAjKRacB5ZglEefY5YfKLc+fOxeifd8qZCSHpBwoHoOZOh7ge450faX8P2ubOzs7780ad8WIuCbwPuGOArGS9IQDfpeyifZ3+n7nO/Gmh0s7Ana7+B+Qp2nJi6lQSAAAAAElFTkSuQmCC";return l.createElement("img",{role:"alert","aria-live":"assertive",tabIndex:-1,alt:i,src:a,style:{width:n,height:r},className:"ProgressSpinner-module__spinner___jUvZR"})};const ce=(0,l.forwardRef)(((e,t)=>l.createElement(c.a,{as:"button","aria-label":e.accessibilityLabel,buttonType:void 0!==e.buttonType&&null!==e.buttonType?e.buttonType:u.VQ.Primary,className:s()("ButtonWithSpinner-module__desktopSpinnerButton___MXz1p",e.className),ref:t,title:e.accessibilityLabel,style:{height:(0,M.JX)(e.height),width:e.sizingText?"":(0,M.JX)(e.width)}},e.sizingText&&l.createElement("div",{"aria-hidden":!0,className:"ButtonWithSpinner-module__hiddenSizingText___jdGu3"},e.sizingText),l.createElement(le,{width:(0,M.JX)(e.height/2),height:(0,M.JX)(e.width/2)})))),ue=(0,l.forwardRef)(((e,t)=>l.createElement(c.a,{as:"button","aria-label":e.accessibilityLabel,buttonType:void 0!==e.buttonType&&null!==e.buttonType?e.buttonType:u.VQ.Primary,className:s()(e.className,"ButtonWithSpinner-module__mobileSpinnerButton___iuTvL"),ref:t,title:e.accessibilityLabel},l.createElement(le,{width:(0,M.JX)(1),height:(0,M.JX)(1)}))));const de=e=>{const{className:t,errorCode:n,errorMessage:r,userRequestMessage:o,primaryButtonAction:i,primaryButtonText:a,secondaryButtonAction:s,secondaryButtonText:d}=e,p=(0,f.FE)("errorCodeTemplate");return l.createElement("div",{className:t},l.createElement("h6",{className:w.TF},r),l.createElement("div",{className:w.Q},o),n&&l.createElement("div",{className:w.Q},(0,g.GPZ)(p,n)),l.createElement("div",{className:"ErrorMessage-module__buttonRow___IeLfN"},i&&a&&l.createElement(c.a,{as:"button",buttonType:u.VQ.Primary,onClick:i},a),s&&d&&l.createElement(c.a,{as:"button",buttonType:u.VQ.Primary,onClick:s},d)))},pe=n.p+"static/media/errorComponent.df11267e.png";var me="ErrorWithImage-module__text___68A4A";const he=e=>{const{cV:t,errorHeading:n,errorDescription:r,imageAltText:o,imageSrc:i}=e,[a,s,c,u]=(0,f.cG)("errorCodeTemplate","errorComponentDefaultHeading","errorComponentDefaultDescription","errorComponentImageAltText");return l.createElement("div",{className:"ErrorWithImage-module__container___1h0z9"},l.createElement("img",{className:"ErrorWithImage-module__image___zS19V",src:null!==i&&void 0!==i?i:pe,alt:null!==o&&void 0!==o?o:u}),l.createElement("div",{className:"ErrorWithImage-module__textSection___y+nQ0","aria-live":"polite"},l.createElement("h4",{className:"ErrorWithImage-module__errorHeading___xEheO"},null!==n&&void 0!==n?n:s),l.createElement("div",{className:me},null!==r&&void 0!==r?r:c),t&&l.createElement("div",{className:me},(0,g.GPZ)(a,t))))};const ge=e=>{const[t,n]=(0,l.useState)(!1),[r,o]=(0,l.useState)(!1),i=(0,l.useRef)(null),a=(0,M.xG)()?{left:"0.5rem"}:{right:"0.5rem"},c=e.gradientColorOverride?{background:`linear-gradient(180deg, rgba(0, 0, 0, 0) 0%, ${e.gradientColorOverride} 100%)`}:void 0;return(0,l.useEffect)((()=>{var e,t;const r=(null===(e=null===i||void 0===i?void 0:i.current)||void 0===e?void 0:e.clientHeight)||0,a=((null===(t=null===i||void 0===i?void 0:i.current)||void 0===t?void 0:t.scrollHeight)||0)>r;n(a),o(a)}),[]),l.createElement("div",{className:s()(["FadingScrollContainer-module__container___6roxZ",e.className]),"aria-label":i.current&&""!==i.current.innerHTML.trim()?e.ariaLabel:void 0},l.createElement(A.GamepadScrollable,{tabIndex:e.focusable&&t?0:void 0,ref:i,scrollAlignment:"align-to-center",className:s()(["FadingScrollContainer-module__scrollContainer___r0WyB",a,e.focusable&&"FadingScrollContainer-module__focusable___LfO9P"]),onScroll:()=>{i.current&&(i.current.scrollHeight-i.current.scrollTop<=i.current.clientHeight+10?o(!1):o(!0))}},e.children),r&&l.createElement("div",{className:"FadingScrollContainer-module__fade___hd7V5",style:c}))};var fe=n(69616),_e="Tooltip-module__tooltip___viGTe",ve="Tooltip-module__tooltipContent___JJErM",ye="FranceCollectionDisclaimer-module__displayInline___-p-t1";const be=()=>{const e=(0,_.useSelector)(g.P6r);if((0,g.JSV)(e.market,"FR")){const e="Voir {0} pour plus d'informations sur les crit\xe8res de classement.",t=l.createElement("a",{href:"https://www.microsoft.com/fr-fr/store/b/imprint",target:"_blank",rel:"noreferrer"},"mentions l\xe9gales et informations consommateurs");return(0,g.OzX)(e,t)}return null},Se=e=>{const t=be(),[n,r]=(0,l.useState)(!1);return t?l.createElement(l.Fragment,null,l.createElement(c.a,{as:"button",buttonType:u.VQ.Tertiary,role:"button","aria-label":"Ic\xf4ne d'informations",className:s()(ye,"FranceCollectionDisclaimer-module__iconButton___yNMeR",e.foregroundStyle?"FranceCollectionDisclaimer-module__buttonWithoutFocusBackground___OHrpT":null),"data-tip":!0,onClick:()=>r(!0),style:e.foregroundStyle},l.createElement(d.In,{icon:fe.A,iconSize:d.lK.Small})),l.createElement(O.aF,{show:n,onCloseBtnClick:()=>r(!1),closeable:!0},l.createElement(O.aF.Body,null,l.createElement("div",{className:"FranceCollectionDisclaimer-module__contentMargin___TerUh"},t)))):null},Ee=()=>{const e=be();return e?l.createElement("div",{"aria-label":"Ic\xf4ne d'informations",className:s()(ye,_e,"Tooltip-module__tooltipArrowLeftPositionAdjustments___OPFdG"),"data-tip":!0,tabIndex:0,role:"button","aria-describedby":"tooltip-content"},l.createElement(d.In,{icon:fe.A,iconSize:d.lK.Small}),l.createElement("div",{role:"tooltip",id:"tooltip-content",className:s()(ve,"Tooltip-module__tooltipContentPositionAdjustments___eLdI+")},e)):null};n(27968),n(81045),n(45950),n(84915);var Ce=n(39288),Te=n(46341),we=n(55490),Ie=n(65685),Pe="ItemsSlider-module__arrowButton___ZH7Ek",Ae="ItemsSlider-module__arrowButtonIconStyle___2JcCu",ke="ItemsSlider-module__disabledArrowButton___VZ+e1";const xe=(e,t,n)=>l.createElement("li",{role:"none",onKeyDown:e=>((e,t,n)=>{var r;let o=-1;switch(e.key){case"ArrowLeft":o=t-1;break;case"ArrowRight":o=t+1}n[o]&&(null===(r=(0,M.aY)(n[o])[0])||void 0===r||r.focus())})(e,t,n),key:t,ref:e=>{n[t]=e}},l.createElement("span",{key:`ItemSliderItem-${t}-${e.key}`,className:"ItemsSlider-module__itemMargin___s21Pp","data-testID":`ItemSliderItem-${t}-${e.key}`},e)),Re=e=>{var t;const{previousMediaButtonAccessibilityLabel:n,nextMediaButtonAccessibilityLabel:r,pdpChannelShowAllLabel:o}=(0,f.ot)("previousMediaButtonAccessibilityLabel","nextMediaButtonAccessibilityLabel","pdpChannelShowAllLabel"),{items:i,title:a,showAllUrl:c}=e,u=(0,l.useRef)(null),d=(0,l.useRef)([]),p=(0,l.useRef)(null),[m,h]=(0,l.useState)(0),[g,_]=(0,l.useState)({previousButtonVisible:!1,nextButtonVisible:!1}),v=(0,M.xG)(),y=(0,l.useRef)({minWidth:"min(100%, 1920px)"}),b=e=>{if(u.current){const t=e*i.length-u.current.offsetWidth,n=p.current;n&&(n.scrollLeft=0),_({previousButtonVisible:!1,nextButtonVisible:t>0})}};if((0,l.useEffect)((()=>{const e=p.current;e&&!e.onscroll&&m>0&&(e.onscroll=()=>{const t=Math.min(e.clientWidth-parseFloat(getComputedStyle(e).fontSize),1920)-m;(v?e.scrollLeft>=0:e.scrollLeft<=0)?_({previousButtonVisible:!1,nextButtonVisible:!0}):e.scrollWidth-Math.ceil(Math.abs(e.scrollLeft))-t<=e.offsetWidth?_({previousButtonVisible:!0,nextButtonVisible:!1}):_({previousButtonVisible:!0,nextButtonVisible:!0})})}),[p,m]),(0,l.useEffect)((()=>{m>0&&b(m)}),[m,i.length]),(0,l.useEffect)((()=>{y.current={minWidth:`calc(min(100%, 1920px) - ${m}px)`}}),[m]),(0,l.useEffect)((()=>{var e;if(d[0]){const t=null===(e=d[0])||void 0===e?void 0:e.offsetWidth;return h(t),window.addEventListener("resize",(()=>b(t))),()=>window.removeEventListener("resize",(()=>b(t)))}return()=>{}}),[d[0],null===(t=d[0])||void 0===t?void 0:t.offsetWidth]),0===i.length)return null;const E=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=p.current;if(n&&u.current){const r=t?1:Math.floor(u.current.offsetWidth/m),o=e?1:-1;let i=n.scrollLeft+o*r*m;if(e){let e=i/m;e=v?Math.floor(e):Math.ceil(e),i=e*m}else i-=i%m;if(Math.abs(i)+n.clientWidth>n.scrollWidth){const e=n.scrollWidth-n.clientWidth;i=o*(e-e%m)}n.scrollLeft=i}},C=()=>{if(p.current){const e=p.current.getBoundingClientRect(),t=(0,M.aY)(p.current).find((t=>{const n=t.getBoundingClientRect();return n.left>e.left&&n.right<e.right}));null===t||void 0===t||t.focus()}},T=g.previousButtonVisible||g.nextButtonVisible,w={areaName:a?`${a}-ItemSlider`:"Unknown-ItemSlider",contentType:N.cM.Button};return l.createElement("div",{ref:u},l.createElement("section",{"aria-label":a},T&&l.createElement(O.L_,{className:"ItemsSlider-module__itemsSliderButtonRow___dyi64"},l.createElement(O.XY,{className:"ItemsSlider-module__buttonsWrapper___PiS68"},c&&l.createElement("a",{href:c,className:s()("ItemsSlider-module__showAllLink___l+XAi"),"aria-label":o},o),l.createElement(Ce.m,S()({as:"button","aria-label":n,className:s()([Pe,"ItemsSlider-module__arrowBackButton___YmEyz",g.previousButtonVisible?Ie.VI:ke]),disabled:!g.previousButtonVisible,icon:v?Te.A:we.A,iconClassName:s()(Ae,Ie.K_),onClick:()=>{E(!1!==v),C()},title:n},(0,N.vj)(S()(S()({},w),{},{id:"scrollBackButton",contentName:n,slotNumber:0})))),l.createElement(Ce.m,S()({as:"button","aria-label":r,className:s()([Pe,g.nextButtonVisible?Ie.VI:ke]),disabled:!g.nextButtonVisible,icon:v?we.A:Te.A,iconClassName:s()(Ae,Ie.K_),onClick:()=>{E(!0!==v),C()},title:r},(0,N.vj)(S()(S()({},w),{},{id:"scrollForwardButton",contentName:r,slotNumber:1})))))),l.createElement(O.L_,null,l.createElement("ol",{className:"ItemsSlider-module__wrapper___nAi6y",ref:p,onFocusCapture:e=>{if(void 0!==typeof document&&e&&e.target&&1.5*m<document.documentElement.clientWidth){const t=e.target.getBoundingClientRect();t.right>window.innerWidth||t.right>document.documentElement.clientWidth?E(!0,!0):t.left<0&&E(!1,!0)}},role:"none"},i.map(((e,t)=>xe(e,t,d))),l.createElement("li",{"aria-hidden":!0,style:y.current})))))};var Oe=n(88262),Ne="FadeContainers-module__widthInherit___5fuOa";const Me=e=>l.createElement("div",{className:s()("FadeContainers-module__fadeIn___5xlsD",Ne),onAnimationEnd:e.onAnimationEnd},e.children),Le=e=>l.createElement("div",{className:s()("FadeContainers-module__fadeOut___35iB7",Ne),onAnimationEnd:e.onAnimationEnd},e.children);const De=e=>{const{lceState:t,isNotRequested:n,isFetching:r,content:o,error:i,defaultRender:a}=e,[s,c]=(0,l.useState)(t),[u,d]=(0,l.useState)(t),[p,m]=(0,l.useState)(void 0),[h,g]=(0,l.useState)(!1),[f,_]=(0,l.useState)(!1),v=(0,l.useRef)((0,Oe.lceSelect)(u||(0,Oe.lceNotRequested)(),{default:a,content:o,error:i,isFetching:r,isNotRequested:n})||null);return(0,l.useEffect)((()=>{h||f?m(t):t&&t.type!==(null===s||void 0===s?void 0:s.type)&&(d(t),g(!0))}),[t]),(0,l.useEffect)((()=>{if(f){const e=(0,Oe.lceSelect)(u||(0,Oe.lceNotRequested)(),{default:a,content:o,error:i,isFetching:r,isNotRequested:n})||null;v.current=e,g(!1)}else p&&p.type!==(null===s||void 0===s?void 0:s.type)&&(d(p),m(void 0),g(!0))}),[f]),h?l.createElement(Le,{onAnimationEnd:()=>_(!0)},v.current):l.createElement(Me,{onAnimationEnd:()=>{c(u),d(void 0),_(!1)}},i?l.createElement(O.tH,{renderError:e=>{const t=(0,Oe.lceError)(e,u);return i(t)}},(()=>v.current)):v.current)},Fe=e=>(0,O.T8)()>=O.JP.SM?e.children[0]:e.children[1],Ue=O.L_,Be=O.XY;Fe.Desktop=Ue,Fe.Mobile=Be;const He=e=>{let{items:t,title:n}=e;return l.createElement(Fe,null,l.createElement(Fe.Desktop,null,l.createElement(O.XY,{xs:12},l.createElement(O.XY,null,!!n&&l.createElement("h2",{className:s()("SizeAdaptiveItemSliderChannel-module__channelTitleText___SexCs",w.me)},n)),l.createElement(Re,{items:t,title:n}))),l.createElement(Fe.Mobile,{className:"SizeAdaptiveItemSliderChannel-module__mobileContainer___IhbnZ"},!!n&&l.createElement("h2",{className:w.me},n),l.createElement("ul",{className:"SizeAdaptiveItemSliderChannel-module__listItemStyle___sQYJb"},t.map((e=>l.createElement("li",{key:`${n}-${e.key}`},e))))))};n(10568),n(9925);var Ge=n(6985),qe=n(41340),je=n(15870),Ve=n(72482),ze=n(17650),Xe=n(79982),Ke="Selections-module__chevronIcon___XUd8d",We="Selections-module__container___uyKes",$e="Selections-module__icon___IBPqb",Ye="Selections-module__options___I24e7";const Qe=e=>{const{filterInfo:t}=e;return t.choices.length>0&&t.choices[0]&&t.choices[0].isLabelOnly?l.createElement("ul",{className:"Selections-module__optionsWithSubtitle___uaHrP"},l.createElement(Ze,S()({},e))):l.createElement("ul",{className:Ye,role:"listbox"},l.createElement(et,S()({},e)))},Je=e=>{const{filterInfo:t}=e,[n,r]=(0,l.useState)(!0),o=l.createElement(Ge.A,{"aria-hidden":!0,className:s()($e,Ke)}),i=l.createElement(qe.A,{"aria-hidden":!0,className:s()($e,Ke)}),a=n?i:o;return l.createElement("div",{className:We,id:t.id},l.createElement("button",{className:"Selections-module__titleContainer___92DiF",onClick:()=>r(!n),"aria-expanded":!n},l.createElement("div",{className:s()(w._o,"Selections-module__titleText___OaatO")},t.title),a),!n&&l.createElement("ul",{className:Ye,role:"listbox"},l.createElement(et,S()({},e))))},Ze=e=>{const{filterInfo:t,onChoicesClick:n,selectedChoices:r}=e,o=[];let i=[],a="",s="";if(t.choices.map(((e,c)=>{if(void 0!==e.isLabelOnly&&e.isLabelOnly){if(i.length>0&&a&&s){const e={choices:i,hasAllChoice:t.hasAllChoice,id:t.id,isMultiSelect:t.isMultiSelect,title:s,truncatedDisplayCount:t.truncatedDisplayCount,allChoiceId:t.allChoiceId};o.push(l.createElement(Je,{key:`${t.id}_${a}_${c}`,filterInfo:e,onChoicesClick:n,selectedChoices:r}))}i=[],a=e.id,s=e.title}else i.push(e)})),i.length>0){const e={choices:i,hasAllChoice:t.hasAllChoice,id:t.id,isMultiSelect:t.isMultiSelect,title:s,truncatedDisplayCount:t.truncatedDisplayCount,allChoiceId:t.allChoiceId};o.push(l.createElement(Je,{key:`${t.id}_${a}`,filterInfo:e,onChoicesClick:n,selectedChoices:r}))}return l.createElement("div",{className:We},o)},et=e=>{const{filterInfo:t,onChoicesClick:n,selectedChoices:r}=e,o=t.choices.length;return l.createElement(l.Fragment,null,t.choices.map(((e,i)=>{const a=null===r||void 0===r?void 0:r.some((t=>t.id.toLowerCase()===e.id.toLowerCase()));return l.createElement("li",{key:`${t.id}_${i}`},l.createElement(tt,{choice:e,choiceGroupId:t.id,isSelected:a,isMultiSelect:t.isMultiSelect,onChoicesClick:n,itemIndex:i+1,totalItems:o}))})))},tt=e=>{const{choiceGroupId:t,isMultiSelect:n,isSelected:r,choice:o,itemIndex:i,totalItems:a,onChoicesClick:c}=e,u=(0,f.FE)("listItemAccessibilityLabelFormat"),d=l.createElement(je.A,{"aria-hidden":!0}),p=l.createElement(Ve.A,{"aria-hidden":!0}),m=l.createElement(ze.A,{"aria-hidden":!0}),h=l.createElement(Xe.A,{"aria-hidden":!0}),_=n?r?h:m:r?d:p,v=(0,g.GPZ)(u,o.title,i.toString(),a.toString());return l.createElement("button",{className:"Selections-module__selectionContainer___m2xzM",onClick:()=>{c(t,o.id)},id:o.id,role:n?"checkbox":"option","aria-selected":r,"aria-checked":r,"aria-label":n?v:void 0},l.createElement("div",{className:$e},_),l.createElement("div",{className:s()(w._o,"Selections-module__label___CpN0F","Selections-module__textColor___CnMSs")},o.title))};var nt=n(82712),rt="SelectionDropdown-module__chevronIcon___Z81Q8";const ot=e=>{var t;const{filterInfo:n,onChoicesClick:r,selectedChoices:o,titleFunction:i,isInitiallyCollapsed:a,isScrollable:c}=e,[u,d]=(0,l.useState)(null!==a&&void 0!==a&&a),p=l.createElement(Ge.A,{"aria-hidden":!0,className:rt}),m=l.createElement(qe.A,{"aria-hidden":!0,className:rt}),h=u?m:p,f=!n.isMultiSelect&&i&&(null===o||void 0===o?void 0:o.length)>=1?(0,g.GPZ)(i,null!==(t=((e,t)=>{const n=t.find((t=>t.id===e));return null===n||void 0===n?void 0:n.title})(o[0].id,n.choices))&&void 0!==t?t:n.choices[0].title):n.title,_=n.isMultiSelect?n.title:f;return l.createElement("div",{className:"SelectionDropdown-module__container___XzkIx",id:n.id},l.createElement("button",{className:"SelectionDropdown-module__titleContainer___YyoD0",onClick:()=>d(!u),"aria-expanded":!u},l.createElement("span",{className:s()(w._o,"SelectionDropdown-module__titleText___PN6s9")},_),l.createElement("div",{className:"SelectionDropdown-module__filterInfoContainer___7ktfT"},n.isMultiSelect&&(null===o||void 0===o?void 0:o.length)>0&&l.createElement("span",{className:"SelectionDropdown-module__selectedLabel___49Ksx"},o.length),h)),!u&&l.createElement("div",{style:c?{maxHeight:(0,nt.JX)(2*n.truncatedDisplayCount),overflowY:"auto"}:void 0},l.createElement(Qe,{filterInfo:n,onChoicesClick:r,selectedChoices:o})))};var it=n(38475);n(30163);var at=n(33235),st=n(75184);const lt=e=>l.createElement("div",{className:s()("Tabs-module__tab___CxLhH",e.className)},e.children),ct=e=>{const{children:t,className:n,onSelectedIndexChanged:r,initialTabIndex:o=0}=e,[i,a]=(0,l.useState)(o),c=(0,l.useRef)(null),u=l.Children.map(t,(e=>({title:e.props.title,ariaLabel:e.props.ariaLabel}))),{startTransition:d,renderContainer:p}=function(e,t){const[n,r]=(0,l.useState)(e),[o,i]=(0,l.useState)(void 0),[a,s]=(0,l.useState)(!1),[c,u]=(0,l.useState)(!1);return(0,l.useEffect)((()=>{c?(t(void 0!==n?n:e),s(!1)):void 0!==o&&o!==e&&(r(o),i(void 0),s(!0))}),[c]),{startTransition:t=>{a||c?i(t):t!==e&&(r(t),s(!0))},renderContainer:e=>a?l.createElement(Le,{onAnimationEnd:()=>u(!0)},e):l.createElement(Me,{onAnimationEnd:()=>{r(void 0),u(!1)}},e)}}(i,a);(0,l.useEffect)((()=>{null===r||void 0===r||r(i)}),[i,r]);return l.createElement("div",{className:s()("Tabs-module__tabContainer___Z2g7+",n)},l.createElement(M.vE.Provider,{value:{focusNearestChild:()=>{var e;null===(e=c.current)||void 0===e||e.focusCurrentTab()}}},l.createElement(ut,{ref:c,tabs:u,selectedIndex:i,initialTabIndex:o,setSelectedIndex:d}),p(t[i])))},ut=(0,l.forwardRef)(((e,t)=>{const[n,r]=(0,l.useState)(!1),[o,i]=(0,l.useState)(e.selectedIndex),[a,p]=(0,l.useState)(void 0),m=e.tabs.length,h=(0,l.useRef)(dt(null,0)),g=(0,l.useRef)(null),f=(0,l.useRef)([]),_=(0,it.x)(),v=(0,N.RE)();(0,l.useImperativeHandle)(t,(()=>({focusCurrentTab:()=>{var e;null===(e=f[o])||void 0===e||e.focus()}}))),(0,A.useLeftBumperHandler)("press",(()=>{const t=_?1:-1,n=(0,M.BD)(e.selectedIndex+t,m);return e.setSelectedIndex(n),h.current=dt(g.current,n),!0})),(0,A.useRightBumperHandler)("press",(()=>{const t=_?-1:1,n=(0,M.BD)(e.selectedIndex+t,m);return e.setSelectedIndex(n),h.current=dt(g.current,n),!0}));const y=()=>r(!0),b=()=>r(!1);(0,l.useEffect)((()=>{h.current=dt(g.current,e.initialTabIndex,!0),window.addEventListener("gamepadconnected",y),window.addEventListener("gamepaddisconnected",b);let t=navigator.getGamepads();return"object"===typeof t&&(t=Object.values(t)),r(t.filter((e=>!!e)).length>0),()=>{window.removeEventListener("gamepadconnected",y),window.removeEventListener("gamepaddisconnected",b)}}),[]),(0,l.useEffect)((()=>{const t=dt(g.current,e.selectedIndex);h.current=t,p(t)}),[e.tabs]);return l.createElement("div",{className:"Tabs-module__tabBar___nxTqT"},n&&l.createElement(d.In,{iconSize:d.lK.XXSmall,icon:_?at.A:st.A}),l.createElement("div",{className:"Tabs-module__tabContainerMobile___APqvI"},l.createElement("ul",{className:"Tabs-module__tabTitles___3UtkN",ref:g,role:"tablist"},e.tabs.map(((t,n)=>{var r;const a=(0,N.nO)({areaName:"TabContainer",behavior:N.nS.TAB,contentName:t.title,contentType:N.cM.Button,id:`TabButton-${n}`,slotNumber:n},v),d=n===o||n===e.selectedIndex;return l.createElement("li",{key:n,role:"none",className:"Tabs-module__tabElement___5HQXQ"},l.createElement(c.a,S()(S()({as:"button",ref:e=>{f[n]=e},buttonType:u.VQ.Tertiary,className:s()("Tabs-module__tabButton___wRKYV",Ie.VI,d?"Tabs-module__activeTab___9tyPD":"Tabs-module__inactiveTab___6fFsw"),onClick:()=>{e.setSelectedIndex(n),i(n),h.current=dt(g.current,n)},role:"tab","aria-label":null!==(r=t.ariaLabel)&&void 0!==r?r:t.title,"aria-selected":d,onKeyDown:e=>((e,t)=>{var n,r;const o=_?-1:1;"ArrowLeft"===e.key?null===(n=f[t-1*o])||void 0===n||n.focus():"ArrowRight"===e.key&&(null===(r=f[t+1*o])||void 0===r||r.focus())})(e,n)},(0,N.vj)(a)),d?{}:{tabIndex:-1}),t.title))}))),l.createElement("div",{className:"Tabs-module__tabUnderline___35yYF","aria-hidden":!0,style:S()(S()({},h.current),{},{opacity:g.current?"1":"0"})})),n&&l.createElement(d.In,{iconSize:d.lK.XXSmall,icon:_?st.A:at.A}))})),dt=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];var r,o;if(!e||e.children.length<t)return{marginInlineStart:"0"};let i=0;for(let a=0;a<=t;a++)i+=(null===(r=e.children.item(a))||void 0===r?void 0:r.clientWidth)||0;return{marginInlineStart:`calc(${i-((null===(o=e.children.item(t))||void 0===o?void 0:o.clientWidth)||0)/2}px + ${2*t-1}rem)`,transition:""+(n?"opacity 0.5s":"margin-inline-start 0.5s")}};var pt="SubscriptionCard-module__actionButton___wHZou",mt="SubscriptionCard-module__actionButtonContainer___ZKI0P",ht="SubscriptionCard-module__headerImage___HWoqU";const gt=e=>{const{children:t}=e;return l.createElement("div",{className:"SubscriptionCard-module__subscriptionCard___CeIiz"},t)},ft=e=>{let{children:t}=e;return l.createElement(ge,{className:"SubscriptionCard-module__featureScrollContainer___hBIna"},l.createElement("ul",{className:"SubscriptionCard-module__featureBody___h3CwX"},t))},_t=e=>{let{icon:t,title:n,textToShow:r}=e;return l.createElement("li",{className:"SubscriptionCard-module__checkmarkRow___fZ-nE"},l.createElement(d.In,{iconSize:t?d.lK.XSmall:d.lK.XXSmall,icon:null!==t&&void 0!==t?t:T.A,title:n}),l.createElement("span",{className:w.cb},r))};var vt=n(88512);const yt=e=>{let{children:t,productId:n}=e;const r=(0,_.useSelector)((e=>(0,Oe.getDataOrPrevious)((0,vt.$Y)(e,n)))),o=null===r||void 0===r?void 0:r.isOwned;return l.createElement("div",{className:s()("SubscriptionCard-module__header___MLoAq","SubscriptionCard-module__headerBasic___S0-IU","theme-dark")},t,!o&&l.createElement(St,{productId:n}))},bt=e=>{let{title:t}=e;return l.createElement("h3",{className:s()(w.tY,"SubscriptionCard-module__cardTitle___UxQCZ")},t)},St=e=>{let{productId:t}=e;const n=(0,_.useSelector)((e=>(0,vt.Pm)(e,t)));return n&&(0,E.oX)(n)?l.createElement(E.Y9,{hasAddOns:!1,productInfo:n,productPrice:n.availability.price,recurrencePolicySummary:n.sku.recurrencePolicySummary,isPass:!0,className:s()(w.me,"SubscriptionCard-module__pricingSection___st2ON"),discountDetailClassName:"SubscriptionCard-module__discountDetail___2ePkg"}):null};var Et=n(14102);const Ct=e=>{let{isOwned:t,productId:n,productName:r,slotNumber:o}=e;const[i,a,u]=(0,f.cG)("joinNowText","joinNowButtonAccessibilityLabelFormat","youOwnThisText"),d=t?void 0:()=>{window.scrollTo({top:0,behavior:"smooth"})},p=t?u:i,m=t?u:(0,g.GPZ)(a,r),h={areaName:"SubscriptionCard",behavior:N.nS.OTHER,contentType:N.cM.Button,id:t?"youOwnThisDisabledAction":"joinNowAction",productId:n,productName:r,slotNumber:o};return l.createElement(c.a,S()({"aria-label":m,disabled:!!t,as:"button",className:s()(Ie.VI,pt),onClick:d},(0,N.vj)(S()(S()({},h),{},{contentName:p}))),p)},Tt=e=>{let{isOwned:t,pageProductId:n,productId:r,productName:o,slotNumber:i}=e;const[a,u,d,p]=(0,f.cG)("joinNowText","joinNowButtonAccessibilityLabelFormat","viewDetailsActionText","viewDetailsActionAccessibilityText"),m=(0,Et.zo)(r,n),h=t?d:a,_=t?(0,g.GPZ)(p,o):(0,g.GPZ)(u,o),v={areaName:"SubscriptionCard",behavior:N.nS.NAVIGATIONFORWARD,contentType:N.cM.Link,id:t?"viewDetailsAction":"joinNowAction",productId:r,productName:o,slotNumber:i};return l.createElement(c.a,S()({"aria-label":_,as:"a",className:s()(Ie.VI,pt),href:m},(0,N.vj)(S()(S()({},v),{},{contentName:h}))),h)},wt=e=>{const[t,n]=(0,f.cG)("notAvailableLabel","notAvailableTemplate"),r=(0,g.GPZ)(n,e.productName);return l.createElement("div",{className:mt},l.createElement(c.a,{"aria-label":r,as:"button",className:s()(Ie.VI,pt),disabled:!0},t.toLocaleUpperCase()))},It=e=>{const{productId:t}=e,n=(0,_.useSelector)((e=>(0,Oe.getDataOrPrevious)((0,vt.$Y)(e,t)))),r=(0,g.mzJ)(g.pvY.ProductId,""),o=(0,g.JSV)(t,r),i=null===n||void 0===n?void 0:n.isOwned;return e.disabled?l.createElement(wt,{productName:e.productName}):l.createElement("div",{className:mt},o?l.createElement(Ct,S()(S()({},e),{},{isOwned:i})):l.createElement(Tt,S()(S()({},e),{},{pageProductId:r,isOwned:i})))},Pt=e=>{let{productId:t,slotNumber:n}=e;const{eaPlayBenefitsRewards:r,eaPlayBenefitsTrials:o,eaPlayBenefitsTitles:i,eaPlayBenefitsDiscounts:a}=(0,f.ot)("eaPlayBenefitsRewards","eaPlayBenefitsTrials","eaPlayBenefitsTitles","eaPlayBenefitsDiscounts");return l.createElement(gt,null,l.createElement(yt,{productId:t},l.createElement(d.In,{iconSize:d.lK.Custom,icon:C.A,title:E.j4,className:s()(ht,"SubscriptionCard-module__eaPlayLogo___kHvC3")})),l.createElement(ft,null,l.createElement(_t,{textToShow:r}),l.createElement(_t,{textToShow:o}),l.createElement(_t,{textToShow:i}),l.createElement(_t,{textToShow:a})),l.createElement(It,{productId:t,slotNumber:n,productName:E.j4}))},At=e=>{let{productId:t,slotNumber:n}=e;const{gamePassConsoleHighQualityGameText:r,gamePassPlayOnDayOneText:o,gamePassMemberDealsAndDiscountsText:i}=(0,f.ot)("gamePassConsoleHighQualityGameText","gamePassPlayOnDayOneText","gamePassMemberDealsAndDiscountsText"),a=(0,f.JX)("gamePassSubscriptionText",[E.pg,E.RX]),s=(0,f.JX)("gamePassSubscriptionText",[E.ei,E.RX]);return l.createElement(gt,null,l.createElement(yt,{productId:t},l.createElement(bt,{title:a})),l.createElement(ft,null,l.createElement(_t,{textToShow:r}),l.createElement(_t,{textToShow:o}),l.createElement(_t,{textToShow:i})),l.createElement(It,{productId:t,slotNumber:n,productName:s,disabled:!0}))};var kt=n(95129);const xt=e=>{let{productId:t,slotNumber:n}=e;const{gamePassUltimateHighQualityGameText:r,gamePassPlayOnDayOneText:o,gamePassMultiplayer:i,gamePassMemberDealsDiscountsAndPerksText:a,eaPlayMembership:s}=(0,f.ot)("gamePassUltimateHighQualityGameText","gamePassPlayOnDayOneText","gamePassMultiplayer","gamePassMemberDealsDiscountsAndPerksText","eaPlayMembership");return l.createElement(gt,null,l.createElement(yt,{productId:t},l.createElement(bt,{title:E.gp})),l.createElement(ft,null,l.createElement(_t,{textToShow:r}),l.createElement(_t,{textToShow:o}),l.createElement(_t,{textToShow:a}),l.createElement(_t,{textToShow:i}),l.createElement(_t,{textToShow:s,icon:kt.A,title:E.j4})),l.createElement(It,{productId:t,slotNumber:n,productName:E.TM}))},Rt=e=>{let{productId:t,slotNumber:n}=e;const{gamePassPCHighQualityGameText:r,gamePassPlayOnDayOneText:o,gamePassMemberDealsAndDiscountsText:i,eaPlayMembership:a}=(0,f.ot)("gamePassPCHighQualityGameText","gamePassPlayOnDayOneText","gamePassMemberDealsAndDiscountsText","eaPlayMembership");return l.createElement(gt,null,l.createElement(yt,{productId:t},l.createElement(bt,{title:E.i4})),l.createElement(ft,null,l.createElement(_t,{textToShow:r}),l.createElement(_t,{textToShow:o}),l.createElement(_t,{textToShow:i}),l.createElement(_t,{textToShow:a,icon:kt.A,title:E.j4})),l.createElement(It,{productId:t,slotNumber:n,productName:E.i4}))},Ot=e=>{let{productId:t,slotNumber:n}=e;const{ubisoftPlusBenefitsGames:r,ubisoftPlusBenefitsPCAccess:o,ubisoftPlusBenefitsDayOneReleases:i,ubisoftPlusBenefitsEditions:a,ubisoftPlusBenefitsRewards:c,ubisoftPlusBenefitsDiscount:u}=(0,f.ot)("ubisoftPlusBenefitsGames","ubisoftPlusBenefitsPCAccess","ubisoftPlusBenefitsDayOneReleases","ubisoftPlusBenefitsEditions","ubisoftPlusBenefitsRewards","ubisoftPlusBenefitsDiscount");return l.createElement(gt,null,l.createElement(yt,{productId:t},l.createElement(d.In,{iconSize:d.lK.Custom,icon:E.ci,title:E.n8,className:s()(ht,"SubscriptionCard-module__ubisoftPlusLogo___J0jO+")})),l.createElement(ft,null,l.createElement(_t,{textToShow:r}),l.createElement(_t,{textToShow:o}),l.createElement(_t,{textToShow:i}),l.createElement(_t,{textToShow:a}),l.createElement(_t,{textToShow:c}),l.createElement(_t,{textToShow:u})),l.createElement(It,{productId:t,slotNumber:n,productName:E.n8}))},Nt=e=>{let{productId:t,slotNumber:n}=e;const{ultimateFamilyShareBenefit:r,ultimateFamilyIncludeBenefit:o,ultimateFamilyOwnAccountBenefit:i,ultimateFamilyOwnHistoryBenefit:a,ultimateFamilyPlayBenefit:s,ultimateFamilyEnjoyBenefit:c}=(0,f.ot)("ultimateFamilyShareBenefit","ultimateFamilyIncludeBenefit","ultimateFamilyOwnAccountBenefit","ultimateFamilyOwnHistoryBenefit","ultimateFamilyPlayBenefit","ultimateFamilyEnjoyBenefit");return l.createElement(gt,null,l.createElement(yt,{productId:t},l.createElement(bt,{title:E.Oz})),l.createElement(ft,null,l.createElement(_t,{textToShow:r}),l.createElement(_t,{textToShow:o}),l.createElement(_t,{textToShow:i}),l.createElement(_t,{textToShow:a}),l.createElement(_t,{textToShow:s}),l.createElement(_t,{textToShow:c})),l.createElement(It,{productId:t,slotNumber:n,productName:E.Oz}))},Mt=e=>{let{productId:t,slotNumber:n}=e;const{gamePassCoreHighQualityGameText:r,gamePassCoreSelectCatalogHighQualityGameText:o,gamePassMultiplayer:i,gamePassMemberDealsAndDiscountsText:a}=(0,f.ot)("gamePassCoreHighQualityGameText","gamePassCoreSelectCatalogHighQualityGameText","gamePassMultiplayer","gamePassMemberDealsAndDiscountsText"),s=(0,_.useSelector)(g.P6r);return l.createElement(gt,null,l.createElement(yt,{productId:t},l.createElement(bt,{title:E.Xz})),l.createElement(ft,null,l.createElement(_t,{textToShow:i}),l.createElement(_t,{textToShow:"JP"===s.market.toUpperCase()?o:r}),l.createElement(_t,{textToShow:a})),l.createElement(It,{productId:t,slotNumber:n,productName:E.IT}))},Lt=e=>{let{productId:t,slotNumber:n}=e;const{gamePassConsoleHighQualityGameText:r,gamePassMultiplayer:o,gamePassMemberDealsAndDiscountsText:i}=(0,f.ot)("gamePassConsoleHighQualityGameText","gamePassMultiplayer","gamePassMemberDealsAndDiscountsText");return l.createElement(gt,null,l.createElement(yt,{productId:t},l.createElement(bt,{title:E.Ff})),l.createElement(ft,null,l.createElement(_t,{textToShow:r}),l.createElement(_t,{textToShow:o}),l.createElement(_t,{textToShow:i})),l.createElement(It,{productId:t,slotNumber:n,productName:E.av}))},Dt=e=>{let{productId:t,slotNumber:n}=e;const{gtaPlusBenefitsCash:r,gtaPlusAccessToGames:o}=(0,f.ot)("gtaPlusBenefitsCash","gtaPlusAccessToGames");return l.createElement(gt,null,l.createElement(yt,{productId:t},l.createElement(d.In,{iconSize:d.lK.Custom,icon:E.c6,title:E.n_,className:s()(ht,"SubscriptionCard-module__gtaPlusLogo___Tdd0u")})),l.createElement(ft,null,l.createElement(_t,{textToShow:r}),l.createElement(_t,{textToShow:o})),l.createElement(It,{productId:t,slotNumber:n,productName:E.n_}))},Ft=e=>{const t=(0,_.useSelector)((e=>(0,g.pzA)(e,g.WTf.EnableMaunaLoa)));switch((0,g.XBe)(e.productId)){case E.CZ:return l.createElement(xt,S()({},e));case E.hd:return l.createElement(Rt,S()({},e));case E.b6:return l.createElement(At,S()({},e));case E.pA:return l.createElement(Nt,S()({},e));case E.Tw:return l.createElement(Mt,S()({},e));case E.BO:return t?l.createElement(Lt,S()({},e)):null;case E.KJ:return l.createElement(Pt,S()({},e));case E.Es:return l.createElement(Ot,S()({},e));case E.mr:return l.createElement(Dt,S()({},e));default:return null}};const Ut=()=>{const e=(0,l.useRef)(null),[t,n]=(0,l.useState)(!1),r=(0,g.mx0)(),o=(0,_.useDispatch)();(0,l.useEffect)((()=>{const e=e=>{if("https://www.microsoft.com"===e.origin&&e.data.id&&"cartMuidSyncSuccess"===e.data.id){const t=r.get(g._F7),n=e.data.cartMuid;t!==n&&n&&(r.set(g._F7,n,{essential:!0}),o(vt.iv.fetchVectorId.start()))}};return window.addEventListener("message",e),n(!0),()=>window.removeEventListener("message",e)}),[r,o]);const i=(0,l.useCallback)((()=>{var t;(null===(t=e.current)||void 0===t?void 0:t.contentWindow)&&e.current.contentWindow.postMessage({id:"startCartMuidSync"},"https://www.microsoft.com")}),[e]);return t?l.createElement("iframe",{ref:e,onLoad:i,key:"cartMuid-sync-iframe",name:"cartMuid-sync-iframe",referrerPolicy:"strict-origin",sandbox:"allow-scripts allow-same-origin",src:"https://www.microsoft.com/store/XboxComMsComCartMuidSync.html",width:"0",height:"0",className:"CartMuidSync-module__muidSyncFrame___NpX0w"}):null};n(93510);var Bt=n(77345),Ht="CollectionPromo-module__appLaunchIcon___d9o3b",Gt="CollectionPromo-module__buttonWithoutFocusBackground___TEiUd",qt="CollectionPromo-module__defaultLineClamp___hcAIk",jt="CollectionPromo-module__disclaimerPositioning___k1OLb",Vt="CollectionPromo-module__subtitle___GqZp5",zt="CollectionPromo-module__threeLineClamp___n0d2P";const Xt=e=>{const{altText:t,title:n,backgroundColor:r,foregroundColor:o,description:i,footer:a,imageUrl:p,link:m,linkAriaLabel:h,subHeader:f,isLandscape:v,showFranceCollectionDisclaimer:y}=e,b=(0,M.xG)(),S=(0,_.useSelector)(g.j17)===g.Sxu.Dark,E=null!==r&&void 0!==r?r:S?"#404040":"#f9f9f9",C=b?{background:`linear-gradient(90deg, rgba(0, 0, 0, 0) calc(max(50%, 540px) - 175px), ${E} max(50%, 540px))`}:{background:`linear-gradient(90deg, ${E} max(50%, 540px), rgba(0, 0, 0, 0) calc(max(50%, 540px) + 175px))`},T=o?$t(o):void 0,I=!!f,P=!(!a||!m),A=3+Number(!I)+Number(!P);let k=zt;switch(A){case 5:k="CollectionPromo-module__fiveLineClamp___cEFdt";break;case 4:k="CollectionPromo-module__fourLineClamp___vI4XM"}return l.createElement("div",{className:"CollectionPromo-module__contentZIndex___tjOqr"},y?l.createElement("div",{className:jt,style:null===T||void 0===T?void 0:T.foregroundStyle},v?l.createElement(Se,{foregroundStyle:null===T||void 0===T?void 0:T.foregroundStyle}):l.createElement(Ee,null)):null,l.createElement("div",{className:"CollectionPromo-module__contentContainer___9aSeR",style:C},l.createElement("div",{className:"CollectionPromo-module__textContainer___rXocJ"},I&&l.createElement("span",{className:s()(qt,w.f9),style:null===T||void 0===T?void 0:T.foregroundStyle},f),!!n&&l.createElement("h2",{className:s()(qt,P?"":zt,w.kU),style:null===T||void 0===T?void 0:T.foregroundStyle},n),!!i&&l.createElement("span",{className:s()(qt,k,w.Ux,Vt),style:null===T||void 0===T?void 0:T.foregroundStyle},i),P&&l.createElement(c.a,{as:"a","aria-label":h,buttonType:T?u.VQ.Tertiary:u.VQ.Secondary,className:s()("CollectionPromo-module__footer___q1Zzo",T?Gt:""),style:null===T||void 0===T?void 0:T.buttonAdjustmentsStyle,href:m,target:"_blank"},l.createElement("span",{className:qt,style:null===T||void 0===T?void 0:T.foregroundStyle},a),l.createElement(d.In,{className:Ht,iconSize:d.lK.XXSmall,icon:Bt.A,style:null===T||void 0===T?void 0:T.foregroundStyle}))),l.createElement("div",{className:"CollectionPromo-module__imageContainer___gprij"},l.createElement("img",{alt:null!==t&&void 0!==t?t:n,src:p,className:"CollectionPromo-module__image___AfscE"}))))},Kt=e=>l.createElement(Xt,S()(S()({},e),{},{isLandscape:!0})),Wt=e=>{const{altText:t,title:n,backgroundColor:r,foregroundColor:o,description:i,footer:a,imageUrl:p,link:m,linkAriaLabel:h,subHeader:g,showFranceCollectionDisclaimer:f}=e,_=r?{background:r}:{backgroundImage:`url(${p})`},v=o?$t(o):void 0;return l.createElement("div",{style:_,className:"CollectionPromo-module__contentContainerPortrait___Htkwv"},l.createElement("img",{alt:null!==t&&void 0!==t?t:n,src:p}),l.createElement("div",{className:r?"":"CollectionPromo-module__scrim___FEtBi"},f?l.createElement("div",{className:jt,style:null===v||void 0===v?void 0:v.foregroundStyle},l.createElement(Se,{foregroundStyle:null===v||void 0===v?void 0:v.foregroundStyle})):null,l.createElement("div",{className:"CollectionPromo-module__textContainerPortrait___IxcUT"},g&&l.createElement("span",{className:w.TM,style:null===v||void 0===v?void 0:v.foregroundStyle},g),n&&l.createElement("h2",{className:s()("CollectionPromo-module__textAndIconContainer___tGVrM",w.q),style:null===v||void 0===v?void 0:v.foregroundStyle},n),i&&l.createElement("span",{className:s()(Vt,w.Ux),style:null===v||void 0===v?void 0:v.foregroundStyle},i),a&&m&&l.createElement(c.a,{as:"a","aria-label":h,buttonType:v?u.VQ.Tertiary:u.VQ.Secondary,className:s()("CollectionPromo-module__footerPortrait___jZMHW",v?Gt:""),style:null===v||void 0===v?void 0:v.buttonAdjustmentsStyle,href:m,target:"_blank"},l.createElement("span",{style:null===v||void 0===v?void 0:v.foregroundStyle},a),l.createElement(d.In,{className:Ht,iconSize:d.lK.XXSmall,icon:Bt.A,style:null===v||void 0===v?void 0:v.foregroundStyle})))))},$t=e=>({foregroundStyle:{color:e},buttonAdjustmentsStyle:{borderColor:e}}),Yt=e=>{const t=(0,O.Gp)({desktopComponent:Xt,mobileLandscapeComponent:Kt,mobilePortraitComponent:Wt});return t?l.createElement(t,S()({},e)):null};n(97107);var Qt=n(48227),Jt=n(51622),Zt=n(92488),en=n(47283),tn=n(93285),nn=n(15956),rn=n(48841);const on="#1A1B1E",an="#DFE4E8",sn="XboxCom";var ln="SkuPickerPage-module__column___SabJg",cn="SkuPickerPage-module__textAlignStart___i7l8T";const un=e=>{let{hasAddOns:t,onClose:n,onSelect:r,productId:o}=e;(0,N.qz)("ContextualStoreSkuPicker",N.ry.Overlay,{productInfo:{id:o}});const[i,a]=(0,f.cG)("selectOfferText","backCallToAction"),d=(0,_.useSelector)(g.P6r),p=(0,_.useSelector)(g.rPt),m=(0,_.useSelector)((e=>(0,vt.qq)(e,o))),h=(0,_.useSelector)(g.GYd).userAgent,v=!(0,Qt.yd)(h),y=(0,_.useSelector)((e=>(0,vt.HH)(e,o)));if(J(n,!0),!m||!y)return null;const b=((e,t,n,r,o,i)=>e.map(((e,a)=>{const d=(0,f.FE)("plusSignDelimiterStringTemplate"),p=t.find((t=>((0,g.JSV)(e.optimalAvailabilityId,t.availabilityId)||(0,g.JSV)(e.preferredAvailabilityId,t.availabilityId))&&(0,g.JSV)(e.skuId,t.skuId)&&(0,g.JSV)(e.productId,t.productId))),m=e.skuTitle,h=(0,E.i_)(null===p||void 0===p?void 0:p.promotionalDuration);if(!p||!m)return null;const _=p.productId,v=p.skuId,y=p.availabilityId,b=p.price,S=h?(0,g.GPZ)(d,m,h):m,C=(0,g.vv8)(b.listPrice,b.currency,n),T=(e,t,n,o)=>{e.preventDefault(),e.stopPropagation(),r({productId:t,skuId:n,availabilityId:o})};return i?l.createElement(c.a,{as:"button",className:s()("SkuPickerPage-module__selectionButton___Vk6HT",w.fW),buttonType:u.VQ.Primary,overlayMode:u.w9.Solid,onClick:e=>T(e,_,v,y)},l.createElement("span",{className:cn},S),l.createElement("span",{className:"SkuPickerPage-module__price___VGCi3"},`${C}${o?"+":""}`)):l.createElement(O.fI,{key:`skuPickerItem-${a}`},l.createElement(c.a,{as:"button",className:"SkuPickerPage-module__width100___a3CRH",buttonType:u.VQ.Tertiary,overlayMode:u.w9.Solid,onClick:e=>T(e,_,v,y)},l.createElement(O.VP,{xs:9,className:s()(ln,cn)},S),l.createElement(O.VP,{xs:3,className:s()(ln,"SkuPickerPage-module__priceInfo___YyLdL")},`${C}${o?"+":""}`)))})))(m,y,d,r,t,v);return v?l.createElement("div",{className:"SkuPickerPage-module__pickerListContainer___4ro9T"},l.createElement("h3",{className:s()("SkuPickerPage-module__header___EkYx0",w.tY)},i),l.createElement(ge,{className:"SkuPickerPage-module__scrollableButtonsContainer___9++T0",gradientColorOverride:p.theme===g.Sxu.Light?an:on},l.createElement("div",{className:"SkuPickerPage-module__buttonsContainer___NiE7p"},b)),l.createElement(c.a,{as:"button",onClick:n,className:s()("SkuPickerPage-module__backButton___5xpke",w.TF),buttonType:u.VQ.Primary},a.toLocaleUpperCase())):l.createElement("div",{className:"SkuPickerPage-module__container___HO8Os"},l.createElement("div",{className:"SkuPickerPage-module__headerContainer___ZNymn"},l.createElement(O.VP,{className:"SkuPickerPage-module__backButtonContainer___Zr-vi",xs:1},l.createElement(Ce.m,{as:"button",icon:we.A,buttonType:u.VQ.Tertiary,overlayMode:u.w9.Solid,onClick:n})),l.createElement(O.VP,{className:"SkuPickerPage-module__titleContainer___c7R2B",xs:10},i)),l.createElement(A.GamepadScrollable,{className:s()("SkuPickerPage-module__scrollableArea___kmlW2"),maxScrollPixels:200},b))};var dn=n(99115),pn=n(95215),mn="ContextualStoreBrowsePage-module__itemContainer___NmXKc",hn="ContextualStoreBrowsePage-module__upShiftContainers___Midja";const gn=e=>{var t,n,r,o;const{productSummaryInfo:i,handleOnSelectItem:a}=e,d=null===i||void 0===i?void 0:i.sku,p=null===i||void 0===i?void 0:i.product.productId,m=(0,_.useSelector)((e=>(0,vt.KX)(e,p))),h=(0,f.FE)("ownedText"),g=(0,f.FE)("skuProductTitleTemplate",null!==(n=null===(t=null===i||void 0===i?void 0:i.product)||void 0===t?void 0:t.title)&&void 0!==n?n:"",null!==(o=null===(r=null===i||void 0===i?void 0:i.sku)||void 0===r?void 0:r.skuTitle)&&void 0!==o?o:"");if(!i||!d)return null;const v=(0,Oe.getDataOrPrevious)(m),y=i.availability,b=null===y||void 0===y?void 0:y.price,S=i.product,C=(null===d||void 0===d?void 0:d.skuTitle)&&(null===d||void 0===d?void 0:d.skuTitle)!==S.title?g:S.title,T=(0,E.NO)(S,d);return l.createElement("div",{className:mn},l.createElement(c.a,{"aria-label":i.product.title,as:"button",buttonType:u.VQ.Tertiary,className:"ContextualStoreBrowsePage-module__productItemButton___vo4Sd",disabled:!!v,onClick:e=>(e=>{var t;e.preventDefault(),e.stopPropagation(),a({productId:p,skuId:d.skuId,availabilityId:null!==(t=null===y||void 0===y?void 0:y.availabilityId)&&void 0!==t?t:""})})(e),title:C},l.createElement("div",{className:s()("ContextualStoreBrowsePage-module__justifyContentCenter___y-Wlg","ContextualStoreBrowsePage-module__displayFlex___bKGcU",hn,"ContextualStoreBrowsePage-module__productItem___0AC-y")},l.createElement("div",{className:"ContextualStoreBrowsePage-module__landscapeProductImageContainer___fni-F"},l.createElement(O._V,{src:null===T||void 0===T?void 0:T.url,className:"ContextualStoreBrowsePage-module__landscapeProductImage___O-8Xt",width:96,height:96,fluid:!0})),l.createElement("div",{className:"ContextualStoreBrowsePage-module__info___bSc+y"},l.createElement("h2",{className:s()(w.cb,"ContextualStoreBrowsePage-module__landscapeTitle___niJTA")},C),v?l.createElement("span",{className:w.fW},h):b&&y&&l.createElement(E.gm,{className:w.fW,hasAddOns:S.hasAddOns,productPrice:b,recurrencePolicySummary:d.recurrencePolicySummary})))))},fn=e=>{var t;const{productId:n,skuId:r,availabilityId:o,channelKey:i,itemType:a,onClose:c,onError:d,onSelect:p,setIsLoading:m}=e;(0,N.qz)("ContextualStoreBrowse",N.ry.Overlay,{productInfo:{id:n,sku:r}});const h=(0,f.FE)("loadMore");J(c,!1);const v=(0,_.useDispatch)(),y=(0,_.useSelector)((e=>(0,vt.Ct)(e,n,r,o))),b=(0,_.useSelector)((e=>(0,pn.r8)(e,i))),S=(0,_.useSelector)((e=>(0,vt.Ns)(e,b||[]))),E=(0,_.useSelector)((e=>(0,vt.bR)(e,i))),C=Y(g.WTf.EnableBuyNowXboxUiExp),[T,I]=(0,l.useState)(!1),[P,k]=(0,l.useState)(!1),x=(0,l.useRef)(null);(0,l.useEffect)((()=>{var e;null===(e=x.current)||void 0===e||e.focus()}),[]),(0,l.useEffect)((()=>{y&&b&&(m(!1),y.sku||d(new Error("Missing sku or availability information")))}),[b,d,y,m]);const R=()=>{k(!1)},M=e=>{k(!1),d(e)},L=(0,f.FE)("addOnsFor",null!==(t=null===y||void 0===y?void 0:y.product.title)&&void 0!==t?t:"");if(!y||!S)return null;const D=!!E;return l.createElement(O.mc,{className:s()("ContextualStoreBrowsePage-module__rootContainer___ifmny","ContextualStoreBrowsePage-module__body___aG0ks")},l.createElement("h2",{className:s()(w.AP,"ContextualStoreBrowsePage-module__modalTitle___N5GYA")},L),l.createElement(A.GamepadScrollable,{className:s()(C?"ContextualStoreBrowsePage-module__newProductInfoContainer___9wtk0":"ContextualStoreBrowsePage-module__productInfoContainer___lqCXT",hn,{"ContextualStoreBrowsePage-module__productInfoContainerFocused___3h8+9":T}),maxScrollPixels:155,onFocus:()=>I(!0),onBlur:()=>I(!1)},S.map(((e,t)=>l.createElement(gn,{productSummaryInfo:e,key:t,handleOnSelectItem:p}))),D&&l.createElement(dn.j,{"aria-label":h,as:"button",buttonType:u.VQ.Primary,className:s()(w.TF,mn,"ContextualStoreBrowsePage-module__loadMoreButton___cm0Rh"),disabled:P,onClick:()=>{k(!0),v(vt.mZ.getMoreBrowsePageData.start(n,a,i,E,M,R))},title:h},P?l.createElement(le,null):h)))};var _n=n(60912),vn="LegalNotices-module__legalText___1YpIa";const yn=e=>{let{noticeText:t,className:n}=e;return l.createElement("p",{className:s()(n,vn,w.SM)},t)},bn=e=>{let{href:t,noticeText:n,className:r,linkText:o}=e;return l.createElement("p",{className:s()(r,vn,w.SM)},n,l.createElement("span",null," "),l.createElement("a",{className:Ie.X7,href:t,target:"_blank",rel:"noopener noreferrer"},o))},Sn=e=>{let{href:t,noticeText:n,className:r,linkText:o}=e;return l.createElement("p",{className:s()([r,vn,w.SM])},(0,g.OzX)(n,l.createElement("a",{className:Ie.X7,href:t,target:"_blank",rel:"noopener noreferrer"},o)))};var En=n(84e3);const Cn=e=>{let{className:t,productId:n}=e;const r=(0,_.useSelector)((e=>(0,vt.g4)(e,n)));if(!r)return null;const o=r.legalNotices;return(null===o||void 0===o?void 0:o.length)?l.createElement(l.Fragment,null,o.map((e=>l.createElement(Tn,{key:e,noticeKey:e,className:t})))):null},Tn=e=>{let{className:t,noticeKey:n}=e;const r=wn[n];return r?l.createElement(r,{className:t}):null},wn={[E.vn.CeroZ]:e=>{const t=(0,f.JX)("ceroZLegalNotice");return l.createElement(yn,{className:e.className,noticeText:t})},[E.vn.CloudEnabled]:e=>{const{cloudEnabledLegalNotice:t,learnMoreText:n}=(0,f.ot)("cloudEnabledLegalNotice","learnMoreText");return l.createElement(bn,{className:e.className,href:En.vO,noticeText:t,linkText:n})},[E.vn.CloudEnabledWithPurchase]:e=>{const{cloudEnabledWithPurchaseLegalNotice:t,findOutMore:n}=(0,f.ot)("cloudEnabledWithPurchaseLegalNotice","findOutMore");return(0,_.useSelector)((e=>(0,g.pzA)(e,g.WTf.EnableStoreBYOG)))?l.createElement(bn,{className:e.className,href:En.vO,noticeText:t,linkText:n}):null},[E.vn.DlcRequiresGame]:e=>{const t=(0,f.JX)("dlcRequiresGameLegalNotice");return l.createElement(yn,{className:e.className,noticeText:t})},[E.vn.InAppPurchase]:e=>{const t=(0,f.JX)("inAppPurchaseLegalNotice");return l.createElement(yn,{className:e.className,noticeText:t})},[E.vn.HasFirstPartyIAP]:e=>{const t=(0,f.JX)("parentalControlInfoLegalNotice"),n=(0,f.JX)("learnMoreText");return l.createElement(bn,{className:e.className,href:En.GW,noticeText:t,linkText:n})},[E.vn.HasThirdPartyIAP]:e=>{const t=(0,f.JX)("parentalControlInfoLegalNotice"),n=(0,f.JX)("learnMoreText");return l.createElement(bn,{className:e.className,href:En.hg,noticeText:t,linkText:n})},[E.vn.PurchaseUnavailableOnWeb]:e=>{const t=(0,f.JX)("purchaseUnavailableOnWebLegalDisclaimer");return l.createElement(yn,{className:e.className,noticeText:t})},[E.vn.SubscriptionDisclaimer]:e=>{const{subscriptionLegalNotice:t,subscriptionSeeTermsLinkLegalNotice:n}=(0,f.ot)("subscriptionLegalNotice","subscriptionSeeTermsLinkLegalNotice");return l.createElement(bn,{className:e.className,href:En.i8,noticeText:t,linkText:n})},[E.vn.SubscriptionDisclaimerUKOnly]:e=>{const{subscriptionUKOnlyLegalNotice:t,subscriptionLearnMoreLinkLegalNotice:n}=(0,f.ot)("subscriptionUKOnlyLegalNotice","subscriptionLearnMoreLinkLegalNotice");return l.createElement(bn,{className:e.className,href:En.w5,noticeText:t,linkText:n})},[E.vn.UbisoftPlusSubscriptionDisclaimer]:e=>{const t=(0,f.JX)("ubisoftPlusSubscriptionDisclaimer",["{0}"]),n=(0,f.JX)("ubisoftPlusSubscriptionDisclaimerLinkText");return l.createElement(Sn,{className:s()(e.className,"LegalNotices-module__legalTextWithMargin___VDV2K"),href:En.OC,noticeText:t,linkText:n})},[E.vn.XboxLiveGoldRequired]:e=>{const t=(0,f.JX)("gamePassCoreRequiredLegalNotice");return l.createElement(yn,{className:e.className,noticeText:t})},[E.vn.XboxLiveGoldRequiredForOnline]:e=>{const t=(0,f.JX)("gamePassCoreRequiredForOnlineMultiplayerLegalNotice");return l.createElement(yn,{className:e.className,noticeText:t})},[E.vn.UbisoftPCVersion]:e=>{const t=(0,f.JX)("ubisoftPlusConnectPCAppDisclaimer"),n=(0,f.JX)("thirdPartyPublisherLaunchisclaimer");return(0,_.useSelector)((e=>(0,g.pzA)(e,g.WTf.EnableUbisoftPCVersionLegalText)))?l.createElement(l.Fragment,null,l.createElement(yn,{className:e.className,noticeText:t}),l.createElement(yn,{className:e.className,noticeText:n})):null}};var In=n(27892);const Pn=function(e){var{title:t,titleId:n}=e,o=(0,r.__rest)(e,["title","titleId"]);return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:"1em",height:"1em","aria-labelledby":n},o),t?l.createElement("title",{id:n},t):null,l.createElement("path",{d:"M1536 0q27 0 50 10t40 27 28 41 10 50v1792q0 27-10 50t-27 40-41 28-50 10H512q-27 0-50-10t-40-27-28-41-10-50V128q0-27 10-50t27-40 41-28 50-10h1024zm0 128H512v1792h1024V128zM896 1664h256v128H896v-128z"}))};const An=function(e){var{title:t,titleId:n}=e,o=(0,r.__rest)(e,["title","titleId"]);return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:"1em",height:"1em","aria-labelledby":n},o),t?l.createElement("title",{id:n},t):null,l.createElement("path",{d:"M2048 512v896H0V512h2048zm-128 128H128v256h768v128H128v256h1792V640zm-320 384q-26 0-45-19t-19-45q0-26 19-45t45-19q26 0 45 19t19 45q0 26-19 45t-45 19z"}))};const kn=function(e){var{title:t,titleId:n}=e,o=(0,r.__rest)(e,["title","titleId"]);return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:"1em",height:"1em","aria-labelledby":n},o),t?l.createElement("title",{id:n},t):null,l.createElement("path",{d:"M960 768q-26 0-45-19t-19-45q0-26 19-45t45-19h128q26 0 45 19t19 45q0 26-19 45t-45 19H960zm1034-219q26 26 40 61t14 72v257q0 124-47 232t-128 190-189 128-233 47h-81q-37 0-68-14t-60-34-55-45-53-44-53-35-57-14q-30 0-57 14t-53 34-52 45-55 44-60 35-69 14h-81q-124 0-232-47t-190-128-128-189T0 939V682q0-37 14-72t40-61h1q36-36 80-55 54-24 124-41t150-30 164-20 164-12 154-5 133-2q58 0 132 1t154 6 165 12 163 20 150 29 125 42q44 19 80 55h1zM128 851q150 52 306 78t314 27q296 0 575-89t521-262q-84-31-189-49t-217-28-218-13-196-3q-54 0-123 1t-145 5-157 11-155 18-143 27-118 39q-22 10-38 26t-17 43v169zm1792-143q-128 92-268 162t-288 119-304 73-312 25q-158 0-312-25t-305-73q9 89 49 166t103 133 143 88 171 32h81q19 0 40-14t46-34 51-45 60-44 69-35 80-14q43 0 80 14t69 34 59 45 52 44 45 35 41 14h81q97 0 182-37t149-100 101-149 37-183V708z"}))};const xn=function(e){var{title:t,titleId:n}=e,o=(0,r.__rest)(e,["title","titleId"]);return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:"1em",height:"1em","aria-labelledby":n},o),t?l.createElement("title",{id:n},t):null,l.createElement("path",{d:"M256 320q0-26 19-45t45-19q26 0 45 19t19 45q0 26-19 45t-45 19q-26 0-45-19t-19-45zm1792 1523q0 57-19 103t-69 78q-15 10-34 17t-38 7q-35 0-64-25t-57-57-53-64-55-42q-9-4-21-4t-24-1h-236q-23 0-44 14t-41 36-40 46-41 47-44 35-48 15q-20 0-37-6t-34-17q-48-32-68-78t-21-102v-24q0-12 2-24 1-23 9-58t21-76 29-83 34-82 33-70 32-51q0-36 31-56 13-9 37-16t50-13 52-9 42-3q16 0 27 2t20 6 20 10 23 13h164q15-7 24-13t17-10 20-6 29-2q18 0 43 3t50 8 49 13 39 17q14 10 21 24t10 32q12 12 27 39t30 63 31 75 28 78 22 68 13 50q9 47 9 93zm-128 2q0-35-8-73-5-24-16-61t-25-76-29-75-26-59l-8-16q-4-8-9-15-7-8-12-12t-9-8-9-10-8-18q-21-7-42-9t-45-5q-14 6-22 11t-18 11-19 8-28 3h-166q-17 0-27-3t-20-7-18-11-22-12q-23 0-44 4t-44 10q-2 20-14 27t-23 21q-5 7-8 14t-8 16q-15 31-33 76t-34 93-27 94-11 80q0 20 4 39t21 32q28-25 48-49t38-45 36-38 41-29 55-19 77-7h192q46 0 78 7t55 19 40 30 34 38 38 44 50 49q17-11 21-30t4-39zM896 1553V128H128v1792h128v-896h128v896h455q12 68 52 128H0V0h1024v1270q-10 14-14 28t-11 28l-8 14q-4 7-9 14-28 47-48 97t-38 102zm608-82q14 0 23 9t9 23q0 14-9 23t-23 9q-14 0-23-9t-9-23q0-14 9-23t23-9z"}))};const Rn=function(e){var{title:t,titleId:n}=e,o=(0,r.__rest)(e,["title","titleId"]);return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:"1em",height:"1em","aria-labelledby":n},o),t?l.createElement("title",{id:n},t):null,l.createElement("path",{d:"M128 128h1792v1024H128V128zm1664 896V256H256v768h1536zM128 1536v-128h1792v128H128zm0 384v-128h1792v128H128z"}))};var On="FeaturesList-module__icon___OTG4r",Nn="FeaturesList-module__item___J8r6P";function Mn(e){var t;const{feature:n,as:r="li"}=e;return l.createElement(r,{className:s()(n.className,Ie.Ks,Nn,w.fW)},n.icon&&l.createElement(d.In,{iconSize:null!==(t=n.icon.iconSize)&&void 0!==t?t:d.lK.XXSmall,className:s()(Ie.K_,On,n.icon.className),icon:n.icon.icon,"aria-hidden":!0}),n.name)}const Ln=e=>{let{features:t}=e;return 0===t.length?null:l.createElement("ul",{className:s()("FeaturesList-module__wrapper___KIw42",Ie.i5)},t.map(((e,t)=>l.createElement(Mn,{feature:e,key:t}))))};var Dn="PlayableOn-module__inlineContainer___3GArU";const Fn=e=>{let t;switch(e){case E.FO.PC:t=In.A;break;case E.FO.MobileDevice:t=Pn;break;case E.FO.XboxOne:t=An;break;case E.FO.Hololens:t=kn;break;case E.FO.XboxSeriesX:t=xn;break;case E.FO.Hub:t=Rn;break;default:return}return{iconSize:d.lK.XXSmall,icon:t}},Un=(e,t)=>{const[n,r]=(0,f.cG)("playableOnPCDeviceName","playableOnMobileDeviceName"),o=(0,_.useSelector)((t=>(0,v.g4)(t,e))),i=null===o||void 0===o?void 0:o.availableOn;if(!i||0===i.length)return null;const a=e=>{switch(e){case E.FO.PC:return n;case E.FO.MobileDevice:return r;case E.FO.XboxOne:return"Xbox One";case E.FO.XboxSeriesX:return"Xbox Series X|S";case E.FO.XCloud:return"Xbox Cloud Gaming";default:return e}};return i.map((e=>{const n=(e=>{const t=Object.keys(E.FO).find((t=>(0,g.JSV)(t,e)));return E.FO[null!==t&&void 0!==t?t:""]})(e);return{name:a(n),icon:Fn(n),className:t}}))},Bn=e=>{const{productId:t,className:n,itemClassName:r,titleClassName:o}=e,i=(0,f.FE)("playWith"),a=Un(t,r);return(null===a||void 0===a?void 0:a.length)?l.createElement(O.IL,{className:n},l.createElement("h2",{className:o},i),l.createElement(Ln,{features:a})):null},Hn=e=>{const{productId:t,className:n,itemClassName:r,titleClassName:o}=e,i=(0,f.cG)("playWith"),a=Un(t,r);return(null===a||void 0===a?void 0:a.length)?l.createElement("div",{className:s()(Dn,n)},l.createElement("h2",{className:o},i),l.createElement("ul",{className:s()(Dn,Ie.i5)},a.map(((e,t)=>l.createElement(Mn,{feature:e,key:t}))))):null};n(33975),n(5350);const Gn=function(e){var{title:t,titleId:n}=e,o=(0,r.__rest)(e,["title","titleId"]);return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:"1em",height:"1em","aria-labelledby":n},o),t?l.createElement("title",{id:n},t):null,l.createElement("path",{d:"M1888 256q33 0 62 12t51 35 34 51 13 62v1088q0 33-12 62t-35 51-51 34-62 13H160q-33 0-62-12t-51-35-34-51-13-62V416q0-33 12-62t35-51 51-34 62-13h1728zM160 384q-14 0-23 9t-9 23v224h1792V416q0-14-9-23t-23-9H160zm1728 1152q14 0 23-9t9-23V768H128v736q0 14 9 23t23 9h1728zm-480-384h256v128h-256v-128z"}))};var qn="CommonButtonStyles-module__condensedButton___sQWPU",jn="CommonButtonStyles-module__disabledDesktopButton___SDI7g",Vn="CommonButtonStyles-module__disabledMobileButton___fY3IU",zn="CommonButtonStyles-module__errorButton___fFjqO",Xn="CommonButtonStyles-module__errorModal___AMYXz",Kn="CommonButtonStyles-module__highContrastAwareButton___DgX7Y",Wn="CommonButtonStyles-module__iconButton___1DSre",$n="CommonButtonStyles-module__mobileButton___QwVrM",Yn="CommonButtonStyles-module__mobileStickyBannerButton___OU8PT",Qn="CommonButtonStyles-module__multipleLineDesktopButton___6AA7+",Jn="CommonButtonStyles-module__variableLineDesktopButton___cxDyV";const Zn=["accessibilityLabel","behavior","buttonId","buttonRef","buttonType","onClick","overrideClassName","telemetryProps","overrideContainerClassName"],er=["accessibilityLabel","behavior","buttonId","buttonRef","buttonType","href","overrideClassName","target","telemetryProps","overrideContainerClassName"],tr=e=>{const{accessibilityLabel:t,behavior:n,buttonId:r,buttonRef:o,buttonType:i=u.VQ.Primary,onClick:a,overrideClassName:s,telemetryProps:d,overrideContainerClassName:p}=e,m=P()(e,Zn);return l.createElement("div",{className:p},l.createElement(c.a,S()({as:"button","aria-label":t,buttonType:i,className:s||Jn,onClick:a,ref:o},(0,N.vj)(d)),l.createElement(rr,S()({},m))))},nr=e=>{const{accessibilityLabel:t,behavior:n,buttonId:r,buttonRef:o,buttonType:i=u.VQ.Primary,href:a,overrideClassName:d,target:p,telemetryProps:m,overrideContainerClassName:h}=e,g=P()(e,er);return l.createElement("div",{className:h},l.createElement(c.a,S()({as:"a","aria-label":t,buttonType:i,className:s()([d||Jn,Kn]),href:a,ref:o,target:p},(0,N.vj)(m)),l.createElement(rr,S()({},g))))},rr=e=>{const t=e.productGlyph,n=e.usesUbisoftSVG;return l.createElement(l.Fragment,null,l.createElement("div",{className:w.TF,"aria-hidden":"true"},e.title),e.subtitle&&l.createElement("div",{className:w.cb,"aria-hidden":"true"},l.createElement("span",null,e.subtitle),t?l.createElement("span",{className:(0,O.f_)(O.Om.Prepend,t)}):n?l.createElement(E.ci,{className:"VariableLineButton-module__ubisoftPlusHorizontalLogo___tePX8"}):""))};var or="OverflowMenuButton-module__mobileOverflowMenuButton___hkU8F",ir="OverflowMenuButton-module__overflowMenuButton___XRc9q";const ar=["experienceButtonType"],sr="\u25cf \u25cf \u25cf",{Provider:lr,Consumer:cr}=l.createContext({closeDialog:()=>{}}),ur=e=>{let{onBack:t}=e;return J(t,!0),null},dr=e=>{var t,n;return l.createElement(ae,{flyoutBoundingParent:e.containingElementRef},l.createElement(ae.Button,{accessibilityLabel:e.accessibilityLabel,buttonType:u.VQ.Primary,className:s()([null!==(t=e.overrideClassName)&&void 0!==t?t:ir,Kn]),title:e.accessibilityLabel,telemetryProps:null!==(n=e.telemetryProps)&&void 0!==n?n:{}},sr),l.createElement(ae.Flyout,null,l.createElement(re,null,(t=>l.createElement(lr,{value:{closeDialog:t.closeFlyout}},l.createElement("div",{className:"OverflowMenuButton-module__desktopOverflowMenu___D9HIM"},e.children))))))},pr=e=>{var t;const n=(0,f.FE)("moreOptionsMenuTitle"),[r,o]=(0,l.useState)(!1),i=(0,l.useRef)(null),a=(0,l.useRef)(null),d=()=>o(!1),p=(0,M._E)(r,d,i,a),{closeButtonText:m}=(0,f.ot)("closeButtonText"),h=S()(S()({},e.telemetryProps),{},{behavior:r?N.nS.REDUCE:N.nS.EXPAND});return l.createElement(l.Fragment,null,l.createElement(c.a,S()({as:"button","aria-label":e.accessibilityLabel,buttonType:u.VQ.Primary,className:null!==(t=e.overrideClassName)&&void 0!==t?t:or,onClick:r?d:()=>o(!0),ref:i,title:e.accessibilityLabel},(0,N.vj)(h)),sr),r&&l.createElement(l.Fragment,null,l.createElement("div",{className:"OverflowMenuButton-module__bottomLockedMenu___PeiPQ",ref:a,role:"dialog"},l.createElement(A.FocusContainer,{autoFocusContainer:!0},l.createElement(O.t$,null),l.createElement("div",{className:"OverflowMenuButton-module__headerSection___2S+Fx"},l.createElement("h3",{className:s()([w.cb,"OverflowMenuButton-module__menuHeader___Lcsk2"])},n),l.createElement(Ce.m,{as:"button",buttonType:u.VQ.Tertiary,icon:Zt.A,className:"OverflowMenuButton-module__closeButton___Y7WvC","aria-label":m,onClick:p,title:m})),l.createElement(ge,{className:s()("OverflowMenuButton-module__scrollArea___xvePn","OverflowMenuButton-module__mobileOverFlowItemOverride___L9ABM")},l.createElement(lr,{value:{closeDialog:p}},e.children)),l.createElement(ur,{onBack:d}))),l.createElement("div",{className:"OverflowMenuButton-module__lightDismissLayer___TDWVe",onClick:d,role:"none"})))},mr=e=>{var t;const{experienceButtonType:n}=e,r=P()(e,ar),o=(0,N.zM)(),i=(0,N.nO)({contentName:e.accessibilityLabel,id:"OverflowMenuButton",slotNumber:e.slotNumber},o);let a;switch(n){case _n.nl.Desktop:a=l.createElement(dr,S()(S()({},r),{},{telemetryProps:i}));break;case _n.nl.CondensedDesktop:a=l.createElement(dr,S()(S()({},r),{},{overrideClassName:"OverflowMenuButton-module__condensedDesktopOverflowMenuButton___ClClh",telemetryProps:i}));break;case _n.nl.Mobile:case _n.nl.CondensedMobile:{const o=n===_n.nl.Mobile?r:S()(S()({},r),{},{overrideClassName:s()(null!==(t=e.overrideClassName)&&void 0!==t?t:or,"OverflowMenuButton-module__condensedMobileOverflowMenuButton___WECiR")});a=l.createElement(pr,S()(S()({},o),{},{telemetryProps:i}))}break;case _n.nl.MobileStickyHeader:a=l.createElement(pr,S()(S()({},r),{},{overrideClassName:"OverflowMenuButton-module__mobileStickyHeaderOverflowMenuButton___0Q9ZU",telemetryProps:i}));break;default:a=null}return l.createElement("div",null,a)};var hr="OverflowMenuItems-module__icon___wWXot",gr="OverflowMenuItems-module__menuItem___wwPHe";const fr=["icon","telemetryProps","className"],_r=["href","icon","telemetryProps"],vr=(0,l.forwardRef)(((e,t)=>{const{icon:n,telemetryProps:r,className:o}=e,i=P()(e,fr);return l.createElement(c.a,S()(S()(S()({as:"button",className:s()(gr,o)},(0,N.vj)(r)),i),{},{buttonType:u.VQ.Tertiary,ref:t}),l.createElement(d.In,{iconSize:d.lK.XXSmall,className:hr,icon:n}),e.children)})),yr=(0,l.forwardRef)(((e,t)=>{const n=S()({},e),{href:r,icon:o,telemetryProps:i}=n,a=P()(n,_r);return l.createElement(c.a,S()(S()(S()({as:"a",className:gr,href:r},(0,N.vj)(i)),a),{},{buttonType:u.VQ.Tertiary,ref:t}),l.createElement(d.In,{iconSize:d.lK.XXSmall,className:hr,icon:o}),e.children)})),br=(0,l.forwardRef)(((e,t)=>l.createElement(c.a,S()(S()({as:"button",className:gr,ref:t},e),{},{buttonType:u.VQ.Tertiary}),l.createElement("span",{className:hr},l.createElement(le,{width:(0,M.JX)(1),height:(0,M.JX)(1)}))))),Sr=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const o=[];return n&&o.push(n),t===_n.nl.Mobile&&(o.push(r?Vn:$n),e&&(o.push(Jn),o.push("CommonButtonStyles-module__variableLineMobileButton___I1TjX"))),t===_n.nl.CondensedMobile&&(o.push(r?Vn:$n),o.push("CommonButtonStyles-module__condensedMobileButton___bO6E1")),s()(o)},Er=function(e,t,n){const r=Sr(e,t,n,arguments.length>3&&void 0!==arguments[3]&&arguments[3]),o=t===_n.nl.Mobile?"CommonButtonStyles-module__variableLineMobileButtonContainer___nJg33":void 0;return t===_n.nl.Mobile||t===_n.nl.CondensedMobile?{overrideClassName:r,overrideContainerClassName:o}:n?{overrideClassName:n}:{}},Cr=e=>{let{actionArguments:t,slotNumber:n,experienceButtonType:r}=e;const o=(0,N.jr)(),{[Et.PZ.ProductId]:i,[Et.PZ.NetworkName]:a}=t,[s,l,c,u]=(0,f.cG)("linkActionText","linkActionAccessibilityText","accountLinkStartButton","accountLinkStartButtonAccessibilityText"),d=(0,_.useSelector)(en.ct),p=(0,g.wwE)(),m=(0,_.useDispatch)(),h=(0,N.zM)(),v=(0,_.useSelector)((e=>(0,vt.t7)(e,i)));if(!v||!v.product)return o.warn(`Trial upsell button requested without valid values:\nbaseProductId: ${i}\nhasProductSummaryInfo: ${!!v}\nhasProduct: ${!!(null===v||void 0===v?void 0:v.product)}`),null;const y=a?(0,g.GPZ)(s,a.toLocaleUpperCase()):c,b=a?(0,g.GPZ)(l,a):u,S=(0,N.nO)({behavior:N.nS.NAVIGATIONFORWARD,contentName:y,id:"AccountLinkButton",slotNumber:n},h);return{className:Sr(!1,r,r===_n.nl.MobileStickyHeader?Yn:void 0),accessibilityLabel:b,buttonText:y,onClick:()=>{d?m(vt.Pk.SISUFlow.start(a)):window.location.assign(p(window.location.href))},telemetryProps:S}},Tr=e=>{let{buttonText:t,accessibilityLabel:n,telemetryProps:r,buttonType:o=u.VQ.Primary,onClick:i}=e;return l.createElement(tr,{accessibilityLabel:n,buttonType:o,onClick:i,title:t.toLocaleUpperCase(),telemetryProps:r})},wr=e=>{let{buttonText:t,accessibilityLabel:n,telemetryProps:r,buttonType:o=u.VQ.Primary,onClick:i}=e;return l.createElement(c.a,S()({as:"button","aria-label":n,className:s()(qn,w.TF),buttonType:o,onClick:i},(0,N.vj)(r)),t.toLocaleUpperCase())},Ir=e=>{let{buttonText:t,accessibilityLabel:n,telemetryProps:r,buttonType:o=u.VQ.Primary,className:i,onClick:a}=e;return l.createElement(c.a,S()({as:"button","aria-label":n,buttonType:o,className:i,onClick:a},(0,N.vj)(r)),t.toLocaleUpperCase())},Pr=e=>{let{buttonText:t,accessibilityLabel:n,telemetryProps:r,onClick:o}=e;return l.createElement(vr,{"aria-label":n,onClick:o,icon:Gn,telemetryProps:r},t)};const Ar=function(e){var{title:t,titleId:n}=e,o=(0,r.__rest)(e,["title","titleId"]);return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:"1em",height:"1em","aria-labelledby":n},o),t?l.createElement("title",{id:n},t):null,l.createElement("path",{d:"M512 1152v-128h640v128H512zm896-384v128H512V768h896zM384 384v1152h896v128H256V256h1536v896h-128V384H384zm1664 1152v128h-256v256h-128v-256h-256v-128h256v-256h128v256h256zM512 512h768v128H512V512z"}))};const kr=function(e){var{title:t,titleId:n}=e,o=(0,r.__rest)(e,["title","titleId"]);return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:"1em",height:"1em","aria-labelledby":n},o),t?l.createElement("title",{id:n},t):null,l.createElement("path",{d:"M1024 0q141 0 272 36t244 104 207 160 161 207 103 245 37 272q0 141-36 272t-104 244-160 207-207 161-245 103-272 37q-141 0-272-36t-245-103-207-160-160-208-103-244-37-273q0-141 36-272t104-244 160-207 207-161T752 37t272-37zm0 1920q163 0 313-56t274-163L347 437Q240 560 184 710t-56 314q0 124 32 238t90 214 140 182 181 140 214 90 239 32zm677-309q107-123 163-273t56-314q0-124-32-238t-90-214-140-181-181-140-214-91-239-32q-163 0-313 56T437 347l1264 1264z"}))};n(83165),n(24541),n(34397);var xr=n(25656);const Rr="launchStore",Or="launchContextualStore",Nr="launchStoreExperience",Mr=(e,t,n)=>{var r;const o=new URL(e);return o.searchParams.set(Rr,Lr(t,null===n||void 0===n?void 0:n.skuId,null===n||void 0===n?void 0:n.availabilityId)),o.searchParams.set(Nr,null!==(r=null===n||void 0===n?void 0:n.experience)&&void 0!==r?r:""),o.searchParams.set(xr.p,"true"),o.href},Lr=(e,t,n)=>{let r=e;return t&&(r+=`-${t}`,n&&(r+=`-${n}`)),r};n(98376),n(91321);var Dr=n(88901),Fr=n(86090),Ur=n(47757),Br=n(91731);const Hr=["contentRef","showModal","experience","productId","onResult","skuId","skipPurchaseConfirmation","tracking","scenario"],Gr=e=>{let{contentRef:t,showModal:n,experience:r,productId:o,onResult:i,skuId:a,skipPurchaseConfirmation:s,tracking:c,scenario:u}=e,d=P()(e,Hr);var p;const m=new URLSearchParams((0,Fr.zy)().search),[h,f]=(0,l.useState)(!0),[v,y]=(0,l.useState)(n),[b,E]=(0,l.useState)(!1),C=(0,_.useSelector)((e=>(0,g.pzA)(e,g.WTf.EnableBuyNowXboxUiExp))),T=(0,_.useSelector)((e=>(0,g.pzA)(e,g.WTf.EnableLaunchpad)));(0,l.useEffect)((()=>y(h&&n)),[h,n]);const w=(0,l.useCallback)((()=>{"XboxCom.Wishlist"===(null===c||void 0===c?void 0:c.callerApplicationId)?(E(!1),f(!0),null===i||void 0===i||i({productId:o,status:U.Purchased})):window.location.reload()}),[c,i,o]),I=(0,Br.CP)(o),A=T&&!!I&&u!==G.Gift,k=(0,l.useCallback)((e=>{A&&e.status===U.Purchased&&!s?(f(!1),E(!0)):i&&i(e)}),[i,A,s]),x=d.referringProductId||(null===(p=(0,g.l_d)(m,Dr.hV.referringProductId))||void 0===p?void 0:p.value);return l.createElement(l.Fragment,null,l.createElement(O.aF,{show:v||b,fullscreenOnMobile:C,ariaLabelledBy:A&&b?"modalLabel":"title"},l.createElement(O.aF.Body,{className:(0,O.YK)("padding","all",0)},l.createElement("div",{ref:t},A&&b?l.createElement(Ur.r,{subscription:I,onClose:w,referringProductId:x,subscriptionSkuId:a}):l.createElement(tc,S()(S()({},d),{},{productId:o,referringProductId:x,experience:r,version:V.v2,activateStoreExperiments:!0,onResult:k,skipPurchaseConfirmation:s||A,skuId:a,scenario:u}))))))};var qr=n(36284);const jr=l.createContext(qr._z.PDP);const Vr=["actionAccessibilityLabelFormat","actionOverride","actionText","availabilityId","behavior","endDateUtcString","experienceButtonType","iconOverride","isDisabled","price","priceAccessibilityTextOverride","priceTextOverride","productId","recurrencePolicySummary","skuId","slotNumber","title","tooltip"],zr=["accessibilityLabel","actionText","buttonType","experienceButtonType","hasAddOns","isDisabled","localizedPriceInfo","overrideClassName","price","productId","productSummaryInfo","recurrencePolicySummary","showModal","skuId","slotNumber","telemetryProps","title","tooltip","onClick","onResult"],Xr=["accessibilityLabel","actionText","buttonType","experienceButtonType","hasAddOns","isDisabled","onClick","onResult","productId","showModal","skuId","slotNumber","telemetryProps","title","tooltip","overrideClassName"],Kr=["actionText","accessibilityLabel","hasAddOns","iconOverride","isDisabled","productId","showModal","slotNumber","telemetryProps","onClick","onResult","tooltip"],Wr=e=>{const[t,n]=(0,f.cG)("buyActionText","buyActionAccessibilityText");return l.createElement(Zr,S()({actionText:t,actionAccessibilityLabelFormat:n,buttonId:"BuyButton"},e))},$r=e=>{const[t,n]=(0,f.cG)("upgradeActionText","upgradeActionAccessibilityText");return l.createElement(Zr,S()({actionText:t,actionAccessibilityLabelFormat:n,buttonId:"UpgradeButton"},e))},Yr=e=>{const[t,n]=(0,f.cG)("getActionText","getActionAccessibilityText");return l.createElement(Zr,S()({buttonId:"GetButton",actionText:t,actionAccessibilityLabelFormat:n},e))},Qr=e=>{const[t,n,r,o,i,a]=(0,f.cG)("joinActionText","joinActionAccessibilityText","specialOffer","ubisoftAccountLinkRequired","ubisoftSuspendedExternalSubscription","ubisoftActivePCOnlyExternalSubscription"),s=[],{isDisabled:c,disabledReason:u,productSummaryInfo:d}=e,p=(0,O.hE)(),{initialOfferText:m,recurringPriceText:h}=(0,E.BR)(d);if(c&&u)switch(u){case"UbisoftAccountLinkRequired":s.push(o);break;case"UbisoftSuspendedExternalSubscription":s.push(l.createElement(l.Fragment,null,(0,g.OzX)(i,l.createElement("a",{href:Et.kV,target:"_blank",rel:"noopener noreferrer"},Et.kV))));break;case"UbisoftActivePCOnlyExternalSubscription":s.push(l.createElement(l.Fragment,null,(0,g.OzX)(a,l.createElement("a",{href:Et.kV,target:"_blank",rel:"noopener noreferrer"},Et.kV))))}let _,v;const y=p(m,h);return y&&(d.availability.promotionalDuration&&(_=r,v=p(_,y)),s.push(y)),l.createElement(Zr,S()(S()({},e),{},{buttonId:"JoinButton",actionText:t,actionAccessibilityLabelFormat:n,tooltip:s.length?s:void 0,priceTextOverride:_,priceAccessibilityTextOverride:v}))},Jr=e=>{const[t,n]=(0,f.cG)("preorderActionText","preorderActionAccessibilityText");return l.createElement(Zr,S()({buttonId:"PreorderButton",actionText:t,actionAccessibilityLabelFormat:n},e))},Zr=e=>{var t,n;const{actionAccessibilityLabelFormat:r,actionOverride:o,actionText:i,availabilityId:a,behavior:c,endDateUtcString:u,experienceButtonType:d,iconOverride:p,isDisabled:m,price:h,priceAccessibilityTextOverride:v,priceTextOverride:y,productId:b,recurrencePolicySummary:C,skuId:T,slotNumber:w,title:I="",tooltip:A}=e,k=P()(e,Vr),x=(0,N.zM)(),R=(0,O.hE)(),[M,L]=(0,l.useState)(!1);let D=(0,E.ww)(h,C);const F=(0,_.useSelector)(en.ct),B=(0,g.wwE)(),G=(0,g.AzV)(),q=(0,_.useSelector)((e=>(0,g.pzA)(e,g.WTf.EnablePurchaseLaunchOnLogin)));y&&(D={accessibilityText:v||y,afterText:void 0,afterTextGlyph:void 0,afterTextPrefix:void 0,originalPrice:void 0,lowestPrice:y});const j=R((0,g.GPZ)(r,I),null===D||void 0===D?void 0:D.accessibilityText),V=q?Mr(window.location.href,b,{skuId:T,availabilityId:a,experience:H.Purchase}):(0,xr.F)(),z=o?()=>o():()=>{if(F)L(!0);else{const t=(0,g.XBe)(e.productId)===E.hd?G(V):B(V);window.location.assign(t)}},X=null===(t=null===h||void 0===h?void 0:h.xPriceOfferInfo)||void 0===t?void 0:t.xPriceOfferGuid,K=X?{targetedOfferGuid:X}:void 0,[W]=(0,f.cG)("targetedOfferBuyBoxTooltipFormat"),$=(0,O.U0)(u).durationString,Y=$&&(null===(n=null===h||void 0===h?void 0:h.eligibilityInfo)||void 0===n?void 0:n.type)===E.h9.XPrice?(0,g.GPZ)(W,$):void 0,Q=Y&&A?[A,Y]:Y||A,J=(0,N.nO)({behavior:null!==c&&void 0!==c?c:N.nS.PURCHASE,contentName:i,contentTags:K,id:e.buttonId,productId:b,skuId:T,slotNumber:w},x),Z=S()(S()({},k),{},{accessibilityLabel:j,actionText:i,availabilityId:a,experienceButtonType:d,isDisabled:m,localizedPriceInfo:D,onClick:z,onResult:e=>{(null===e||void 0===e?void 0:e.status)===U.Purchased?window.location.reload():L(!1)},price:h,productId:b,showModal:M,skuId:T,telemetryProps:J,tooltip:Q});let ee="";switch(d){case _n.nl.CondensedDesktop:ee=qn;case _n.nl.Desktop:return l.createElement(eo,S()(S()({},Z),{},{overrideClassName:ee,price:h,recurrencePolicySummary:C}));case _n.nl.CondensedMobile:case _n.nl.Mobile:{const e=Er(!0,d,void 0,m),t=S()(S()({},Z),e);return d===_n.nl.CondensedMobile?l.createElement(no,S()({},t)):l.createElement(eo,S()(S()({},t),{},{price:h,recurrencePolicySummary:C}))}case _n.nl.MobileStickyHeader:return l.createElement(no,S()(S()({},Z),{},{overrideClassName:s()(Yn,Z.isDisabled?Vn:null)}));case _n.nl.Overflow:return l.createElement(ro,S()(S()({},Z),{},{iconOverride:p}));default:return null}},eo=e=>e.experienceButtonType===_n.nl.Mobile?l.createElement(to,S()({},e)):l.createElement("div",{className:"AcquisitionButtons-module__desktopContainer___A9ppk"},l.createElement(to,S()({},e))),to=e=>{var t;const{accessibilityLabel:n,actionText:r,buttonType:o=u.VQ.Primary,experienceButtonType:i,hasAddOns:a,isDisabled:d,localizedPriceInfo:p,overrideClassName:m,price:h,productId:g,productSummaryInfo:f,recurrencePolicySummary:_,showModal:v,skuId:y,slotNumber:b,telemetryProps:C,title:T,tooltip:I,onClick:A,onResult:k}=e,x=P()(e,zr),R=(0,l.useRef)(null),O=(0,l.useRef)(null),L=(0,M._E)(v,k,R,O),D=i===_n.nl.Mobile||i===_n.nl.CondensedMobile?[m,jn]:[Jn,jn],F=d?D:[m||Jn,Kn],U=d?u.VQ.Tertiary:o,B=d?void 0:A,q=!!I,j=(0,l.useContext)(jr),V=(null===(t=null===f||void 0===f?void 0:f.sku)||void 0===t?void 0:t.historicalLowestListPrice)&&j===_n._z.PDP;return l.createElement(l.Fragment,null,l.createElement(c.a,S()({as:"button","aria-label":n,"aria-disabled":d,buttonType:U,className:s()(F,q?_e:void 0),"data-tip":q||void 0,onClick:B,ref:R},(0,N.vj)(C)),l.createElement("div",{className:w.TF},r.toLocaleUpperCase()),(i===_n.nl.Desktop||i===_n.nl.Mobile)&&p&&l.createElement(E.z6,S()(S()({},p),{},{className:w.cb,hasAddOns:a,listedPriceClassName:"AcquisitionButtons-module__listedPrice___PS6Zm",productPrice:h,recurrencePolicySummary:_,useBrandStyling:o===u.VQ.Brand})),q&&l.createElement(io,null,I)),V&&l.createElement(E._q,{historicalLowestListPrice:f.sku.historicalLowestListPrice,className:"AcquisitionButtons-module__lowestPriceText___kcTrw"}),!d&&l.createElement(Gr,S()({contentRef:O,hasAddOns:a,onResult:L,showModal:v,productId:g,skuId:y,experience:H.Purchase,scenario:G.BuyNow},x)))},no=e=>{const{accessibilityLabel:t,actionText:n,buttonType:r=u.VQ.Primary,experienceButtonType:o,hasAddOns:i,isDisabled:a,onClick:d,onResult:p,productId:m,showModal:h,skuId:g,slotNumber:f,telemetryProps:_,title:v,tooltip:y,overrideClassName:b}=e,E=P()(e,Xr),C=(0,l.useRef)(null),T=(0,l.useRef)(null),w=(0,M._E)(h,p,C,T),I=a?u.VQ.Tertiary:r,A=a?void 0:d,k=a&&!!y;return l.createElement(l.Fragment,null,l.createElement(c.a,S()({as:"button","aria-label":t,"aria-disabled":a,buttonType:I,className:s()(b,k?_e:void 0),"data-tip":k||void 0,onClick:A,ref:C},(0,N.vj)(_)),n.toLocaleUpperCase(),k&&l.createElement(io,null,y)),!a&&l.createElement(Gr,S()({contentRef:T,hasAddOns:i,onResult:w,showModal:h,productId:m,skuId:g,experience:H.Purchase,scenario:G.BuyNow},E)))},ro=e=>{const{actionText:t,accessibilityLabel:n,hasAddOns:r,iconOverride:o,isDisabled:i,productId:a,showModal:s,slotNumber:c,telemetryProps:u,onClick:d,onResult:p,tooltip:m}=e,h=P()(e,Kr),_=(0,f.FE)("joinActionAccessibilityText");let v=t;const y=(0,E.ZR)(a),b=(0,E.wT)(a,!0);y&&b&&(v=(0,g.GPZ)(_,b));const C=i?kr:o||y||Gn,T=i?void 0:d,w=i&&!!m;return l.createElement(l.Fragment,null,l.createElement(vr,{"aria-label":n,"aria-disabled":i,className:w?_e:void 0,"data-tip":w||void 0,icon:C,onClick:T,telemetryProps:u},v,w&&l.createElement(io,null,m)),s&&l.createElement(cr,null,(e=>l.createElement(Gr,S()({hasAddOns:r,onResult:t=>{e.closeDialog(),p(t)},productId:a,showModal:s,experience:H.Purchase,scenario:G.BuyNow},h)))))},oo=(e,t,n,r,o,i)=>{let a=!e||!t||!n||!r||!r.product||!r.sku||!r.availability;return a?i.warn(`${o} button requested without valid values:\nproductId: ${e}\nskuId: ${t}\navailabilityId: ${n}\nhasProductSummaryInfo: ${!!r}\nhasProduct: ${!!(null===r||void 0===r?void 0:r.product)}\nhasSku: ${!!(null===r||void 0===r?void 0:r.sku)}\nhasAvailability: ${!!(null===r||void 0===r?void 0:r.availability)}`):(a=!r.availability.price,a&&i.warn(`${o} button requested without valid price.`)),!a},io=e=>{let{children:t}=e;return l.createElement("div",{className:ve},l.Children.map(t,((e,t)=>l.createElement("span",{key:t},e))))};var ao=n(76260);const so=function(e){var{title:t,titleId:n}=e,o=(0,r.__rest)(e,["title","titleId"]);return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:"1em",height:"1em","aria-labelledby":n},o),t?l.createElement("title",{id:n},t):null,l.createElement("path",{d:"M1792 1728q0 40-15 75t-41 61-61 41-75 15q-40 0-75-15t-61-41-41-61-15-75q0-31 11-64H885q11 33 11 64 0 40-15 75t-41 61-61 41-75 15q-40 0-75-15t-61-41-41-61-15-75q0-55 29-102t80-71L189 256H0V128h281l85 256h1682l-298 896H665l85 256h850q40 0 75 15t61 41 41 61 15 75zm-1024 0q0-26-19-45t-45-19q-26 0-45 19t-19 45q0 26 19 45t45 19q26 0 45-19t19-45zm832 64q26 0 45-19t19-45q0-26-19-45t-45-19q-26 0-45 19t-19 45q0 26 19 45t45 19z"}))},lo=["actionAccessibilityLabel","actionLabel","currentComponentRef","navigationAccessibilityLabel","navigationHref","navigationLabel","processingAccessibilityLabel","showSpinner","state","actionIcon","navigationIcon","onClick","buttonId","experienceButtonType","telemetryProps"],co=e=>{const t=(0,l.useRef)(null),[n,r]=(0,l.useState)(!1);(0,l.useEffect)((()=>{var o,i;n&&(e.showSpinner?null===(o=t.current)||void 0===o||o.focus():(null===(i=t.current)||void 0===i||i.focus(),r(!1)))}),[e.state,e.showSpinner,n]);let o=e.onClick;e.actionOverride&&(o=()=>e.actionOverride());const i=()=>{r(!0),o()};switch(e.experienceButtonType){case _n.nl.Desktop:return l.createElement(uo,S()(S()({},e),{},{onClick:i,currentComponentRef:t}));case _n.nl.CondensedDesktop:return l.createElement(po,S()(S()({},e),{},{onClick:i,currentComponentRef:t}));case _n.nl.Mobile:case _n.nl.CondensedMobile:return l.createElement(mo,S()(S()({},e),{},{onClick:i,className:Sr(!1,e.experienceButtonType),currentComponentRef:t}));case _n.nl.MobileStickyHeader:return l.createElement(mo,S()(S()({},e),{},{onClick:i,className:Yn,currentComponentRef:t}));case _n.nl.Overflow:return l.createElement(ho,S()(S()({},e),{},{onClick:i,currentComponentRef:t}));default:return null}},uo=e=>{const{actionAccessibilityLabel:t,currentComponentRef:n,buttonType:r=u.VQ.Primary,navigationAccessibilityLabel:o,navigationHref:i,processingAccessibilityLabel:a,showSpinner:c,state:d,telemetryProps:p,actionIcon:m,navigationIcon:h,onClick:g}=e;return l.createElement("div",null,c?l.createElement(ce,{accessibilityLabel:a,buttonType:r,height:4,ref:n,width:4}):d?l.createElement(Ce.m,S()({as:"a","aria-label":o,buttonType:r,className:s()([Wn,Kn]),href:i,icon:h,ref:n,title:o},(0,N.vj)(p))):l.createElement(Ce.m,S()({as:"button","aria-label":t,buttonType:r,className:s()([Wn,Kn]),onClick:g,icon:m,ref:n,title:t},(0,N.vj)(p))))},po=e=>{const{actionAccessibilityLabel:t,actionLabel:n,currentComponentRef:r,buttonType:o=u.VQ.Primary,navigationAccessibilityLabel:i,navigationHref:a,navigationLabel:d,onClick:p,processingAccessibilityLabel:m,showSpinner:h,state:g,telemetryProps:f}=e;return l.createElement("div",null,h?l.createElement(ce,{accessibilityLabel:m,buttonType:o,className:s()([qn,Kn,w.TF]),height:3,ref:r,sizingText:n.toLocaleUpperCase(),width:3}):g?l.createElement(c.a,S()({as:"a","aria-label":i,buttonType:o,className:s()([qn,Kn,w.TF]),href:a,ref:r},(0,N.vj)(f)),d.toLocaleUpperCase()):l.createElement(c.a,S()({as:"button","aria-label":t,buttonType:o,className:s()([qn,Kn,w.TF]),onClick:p,ref:r},(0,N.vj)(f)),n.toLocaleUpperCase()))},mo=e=>{const{actionAccessibilityLabel:t,actionLabel:n,currentComponentRef:r,buttonType:o=u.VQ.Primary,navigationAccessibilityLabel:i,navigationHref:a,navigationLabel:s,processingAccessibilityLabel:d,showSpinner:p,state:m,telemetryProps:h,onClick:g,className:f}=e;return l.createElement(l.Fragment,null,p?l.createElement(ue,{accessibilityLabel:d,buttonType:o,className:f,ref:r}):m?l.createElement(c.a,S()({as:"a","aria-label":i,buttonType:o,className:f,href:a,ref:r},(0,N.vj)(h)),s.toLocaleUpperCase()):l.createElement(c.a,S()({as:"button","aria-label":t,buttonType:o,className:f,onClick:g,ref:r},(0,N.vj)(h)),n.toUpperCase()))},ho=e=>{const{actionAccessibilityLabel:t,actionLabel:n,currentComponentRef:r,navigationAccessibilityLabel:o,navigationHref:i,navigationLabel:a,processingAccessibilityLabel:s,showSpinner:c,state:u,actionIcon:d,navigationIcon:p,onClick:m,buttonId:h,experienceButtonType:g,telemetryProps:f}=e,_=P()(e,lo);return l.createElement(l.Fragment,null,c?l.createElement(br,{"aria-label":s,ref:r}):u?l.createElement(yr,S()({"aria-label":o,href:i,icon:p,ref:r,telemetryProps:f},_),a):l.createElement(vr,S()({"aria-label":t,icon:d,onClick:m,ref:r,telemetryProps:f},_),n))};var go=n(74748),fo=n(2014);const _o=e=>l.createElement("div",{className:e.overrideContainerClassName},l.createElement(c.a,S()({as:"button","aria-label":e.accessibilityLabel,buttonType:e.buttonType,className:e.overrideClassName||Qn,onClick:e.onClick,ref:e.buttonRef},(0,N.vj)(e.telemetryProps)),e.children)),vo=e=>l.createElement("div",{className:e.overrideContainerClassName},l.createElement(c.a,S()({as:"a","aria-label":e.accessibilityLabel,buttonType:e.buttonType,className:e.overrideClassName||Qn,ref:e.buttonRef,href:e.href},(0,N.vj)(e.telemetryProps)),e.children));var yo="ProductLabels-module__glyphMargin___YRO7q",bo="ProductLabels-module__subtitle___XksbF";const So=e=>{const{upsellTitleId:t,subtitleFormat:n,productGlyph:r,usesUbisoftSVG:o,productEntitlement:i}=e,a=(0,f.JX)("youOwnThisText");if(i&&i.isOwned)return l.createElement("div",{className:s()(e.className?e.className:bo,w.cb),"aria-hidden":"true"},a);const c=t?(0,E.wT)(t,!1):void 0,u=r?l.createElement("span",{className:s()((0,O.f_)(O.Om.Prepend,r),yo)}):o?l.createElement(E.ci,{className:s()(e.glyphClassName,yo),width:"64"}):void 0;return l.createElement("div",{className:s()(e.className?e.className:bo,w.cb),"aria-hidden":"true"},u?(0,g.OzX)(n,u):c?(0,g.GPZ)(n,c):n)},Eo=e=>{const{upsellTitleId:t,subtitleFormat:n,productGlyph:r,usesUbisoftSVG:o}=e,i=r?l.createElement("span",{className:(0,O.f_)(O.Om.Prepend,r)}):o?l.createElement(E.ci,{className:e.glyphClassName,width:"64"}):void 0,a=l.createElement(l.Fragment,null,e.saleDiscount);return l.createElement("div",{className:e.className?e.className:bo},i?(0,g.OzX)(n,a,i):t?(0,g.GPZ)(n,e.saleDiscount,t):n)},Co=e=>{let{baseProductId:t,buttonType:n,cloudServiceUpsells:r,experienceButtonType:o,productSummaryInfo:i,slotNumber:a,upsellProductId:s}=e;var c,u,d;const p=(0,N.zM)(),m=(0,fo.e)(null!==t&&void 0!==t?t:"",null===(c=i.product)||void 0===c?void 0:c.title),[h,_]=(0,f.cG)("cloudPlayButtonAccessibilityLabelFormat","cloudPlayButtonText"),v=(0,N.nO)({behavior:N.nS.NAVIGATIONFORWARD,contentName:_,id:"CloudPlayButton",slotNumber:a},p);let y,b=m;const C=null===r||void 0===r?void 0:r[0];s||(0,g.JSV)(C.ServiceId,E.gx.xcloud)||(b=C.ServicePlayLink,y=C.ServiceId);const T={buttonId:"CloudPlayButton",buttonType:n,behavior:N.nS.OTHER,cloudPlayButtonAccessibilityLabel:(0,g.GPZ)(h,null!==(d=null===(u=i.product)||void 0===u?void 0:u.title)&&void 0!==d?d:""),cloudPlayButtonText:_,playLink:b,telemetryProps:v},w=Er(!0,o);switch(o){case _n.nl.Desktop:return l.createElement(To,S()(S()({},T),{},{baseProductId:t,upsellProductId:null!==s&&void 0!==s?s:null===C||void 0===C?void 0:C.UpsellProductId,nonCatalogUpsellProductId:y}));case _n.nl.CondensedMobile:{const e=S()(S()({},T),w);return l.createElement(wo,S()({},e))}case _n.nl.Mobile:{const e=S()(S()({},T),w);return l.createElement(To,S()(S()({},e),{},{baseProductId:t,upsellProductId:null!==s&&void 0!==s?s:null===C||void 0===C?void 0:C.UpsellProductId,nonCatalogUpsellProductId:y}))}case _n.nl.MobileStickyHeader:return l.createElement(wo,S()(S()({},T),{},{overrideClassName:Yn}));case _n.nl.Overflow:return l.createElement(Io,S()({},T));default:return null}},To=e=>{const{baseProductId:t,buttonType:n=u.VQ.Primary,cloudPlayButtonAccessibilityLabel:r,cloudPlayButtonText:o,nonCatalogUpsellProductId:i,playLink:a,upsellProductId:s,telemetryProps:c,overrideClassName:d}=e,[p]=(0,f.cG)("geforceNowServiceUpsellTitle"),m=(0,_.useSelector)((e=>(0,vt.$Y)(e,t))),{affordingText:h,upsellGlyph:v}=(0,E.qt)({nonCatalogUpsellProductId:i,upsellProductId:s,productEntitlement:(0,Oe.getDataOrPrevious)(m)||void 0}),y=(0,g.XBe)(s)===E.Es;return l.createElement(vo,{accessibilityLabel:r,buttonType:n,href:a,telemetryProps:c,overrideClassName:d},l.createElement("div",{className:w.TF,"aria-hidden":"true"},o.toLocaleUpperCase()),l.createElement(So,{upsellTitleId:i?p:s,subtitleFormat:h,usesUbisoftSVG:y,productGlyph:v,productEntitlement:(0,Oe.getDataOrPrevious)(m)||void 0}))},wo=e=>{const{buttonType:t=u.VQ.Primary,cloudPlayButtonAccessibilityLabel:n,cloudPlayButtonText:r,playLink:o,telemetryProps:i,overrideClassName:a}=e;return l.createElement(c.a,S()({as:"a","aria-label":n,buttonType:t,className:a,href:o},(0,N.vj)(i)),r.toLocaleUpperCase())},Io=e=>l.createElement(yr,{"aria-label":e.cloudPlayButtonAccessibilityLabel,href:e.playLink,icon:go.A,telemetryProps:e.telemetryProps},e.cloudPlayButtonText);var Po=n(15028);const Ao=n.p+"static/media/NvidiaGFNLogoSquare.44ab2593.png",ko=n.p+"static/media/xCloudLogoSquare.be0ea47b.png";const xo=e=>{let{cloudServiceUpsells:t,contentRef:n,show:r=!1,onHide:o}=e;const[i,a]=(0,f.cG)("backCallToAction","learnMoreText"),s=(0,_.useSelector)(g.j17),d=(0,_.useSelector)(g.JKP);if(!(null===t||void 0===t?void 0:t.length))return null;const p=s===g.Sxu.Dark?"#201F24":"#ffffff";return l.createElement(O.aF,{show:r,onHide:o,closeable:!0,className:"AvailableCloudStreamingServicesModal-module__modalContainer___HpCS9"},l.createElement(O.aF.Header,null,l.createElement(Ro,null)),l.createElement(O.aF.Body,{className:"AvailableCloudStreamingServicesModal-module__modalBody___QuZF0"},l.createElement(Po.WY,null,l.createElement("div",S()({className:"AvailableCloudStreamingServicesModal-module__contentContainer___pPm7T"},(0,N.vj)({id:"AvailableCloudStreamingServicesModal"})),l.createElement(ge,{className:"AvailableCloudStreamingServicesModal-module__scrollContainer___fYQob",gradientColorOverride:p},l.createElement("ul",{ref:n,className:"AvailableCloudStreamingServicesModal-module__linkList___+lmQJ"},t.map(((e,t)=>{const n=No[e.ServiceId.toLowerCase()];return l.createElement("li",{key:e.ServiceId},l.createElement(n,{link:e.ServicePlayLink,slotNumber:t}))})))),l.createElement("div",{className:"AvailableCloudStreamingServicesModal-module__buttonContainer___24hN6"},l.createElement(c.a,S()({as:"button",buttonType:u.VQ.Primary,onClick:o},(0,N.vj)({behavior:N.nS.NAVIGATIONFORWARD,contentType:N.cM.Button,id:"backButton"})),i.toLocaleUpperCase()),l.createElement(c.a,S()({as:"a",buttonType:u.VQ.Primary,href:`https://support.xbox.com/${d}/help/games-apps/cloud-gaming/cloud-gaming-on-third-party-services`},(0,N.vj)({behavior:N.nS.NAVIGATIONFORWARD,contentType:N.cM.Button,id:"learnMoreButton"})),a.toLocaleUpperCase()))))))},Ro=()=>{const e=(0,f.JX)("chooseStreamingPlatformCTA");return l.createElement("h2",{className:s()(w.tY,"AvailableCloudStreamingServicesModal-module__modalHeaderText___Bg+oM")},e)},Oo=e=>{let{link:t,imageUrl:n,isExternalLink:r,message:o,title:a,telemetryProps:p}=e;const m=(0,N.nO)({behavior:N.nS.NAVIGATIONFORWARD,contentType:N.cM.Button},p);return l.createElement(c.a,S()({as:"a",href:t,buttonType:u.VQ.Primary,className:"AvailableCloudStreamingServicesModal-module__upsellLink___xc9oV"},(0,N.vj)(m)),l.createElement("img",{src:n,alt:o}),l.createElement("div",{className:"AvailableCloudStreamingServicesModal-module__linkTextContainer___IpHdX"},l.createElement("span",{className:s()("AvailableCloudStreamingServicesModal-module__fontWeightAdjustment___2Y4Mt",w._o)},a),l.createElement("span",{className:s()("AvailableCloudStreamingServicesModal-module__opacityAdjustment___imSMU",w.Q)},o)),r&&l.createElement(d.In,{icon:i.A,iconSize:d.lK.XXSmall,className:"AvailableCloudStreamingServicesModal-module__linkIcon___zsUWp"}))},No={[E.gx.xcloud]:e=>{let{link:t,slotNumber:n}=e;const[r,o]=(0,f.cG)("xCloudServiceUpsellMessage","xCloudServiceUpsellTitle"),i={id:"XCloudServiceUpsellLink",contentName:o,slotNumber:n};return l.createElement(Oo,{link:t,imageUrl:ko,message:r,title:o,telemetryProps:i})},[E.gx.geforcenow]:e=>{let{link:t,slotNumber:n}=e;const[r,o,i]=(0,f.cG)("geforceNowServiceUpsellMessageLong","geforceNowServiceUpsellMessageShort","geforceNowServiceUpsellTitle"),a=(0,O.T8)()>O.JP.XS?r:o,s={id:"GeForceNowServiceUpsellLink",contentName:i,slotNumber:n};return l.createElement(Oo,{link:t,imageUrl:Ao,isExternalLink:!0,message:a,title:i,telemetryProps:s})}},Mo=["buttonType","title"],Lo=e=>{const t=Bo(e),[n,r]=(0,l.useState)(!1),o=(0,l.useRef)(null),i=(0,l.useRef)(null),a=(0,M._E)(n,(()=>{r(!1)}),o,i);if(!t)return null;let s;switch(e.experienceButtonType){case _n.nl.Desktop:s=Do;break;case _n.nl.CondensedMobile:s=Fo;break;case _n.nl.Mobile:s=Do;break;case _n.nl.MobileStickyHeader:s=Fo;break;case _n.nl.Overflow:s=Uo;break;default:return null}return l.createElement(l.Fragment,null,l.createElement(s,S()(S()({},t),{},{buttonRef:o,buttonType:e.buttonType,onClick:()=>{r(!0)}})),l.createElement(xo,{contentRef:i,onHide:a,cloudServiceUpsells:t.cloudServiceUpsells,show:n}))},Do=e=>{const{buttonType:t=u.VQ.Primary,title:n}=e,r=P()(e,Mo);return l.createElement(tr,S()({buttonType:t,title:n.toLocaleUpperCase()},r))},Fo=e=>{const{accessibilityLabel:t,buttonType:n=u.VQ.Primary,buttonRef:r,onClick:o,telemetryProps:i,title:a,overrideClassName:s}=e;return l.createElement(c.a,S()({as:"button","aria-label":t,buttonType:n,className:s,onClick:o,ref:r},(0,N.vj)(i)),a.toLocaleUpperCase())},Uo=e=>{let{accessibilityLabel:t,buttonRef:n,onClick:r,telemetryProps:o,title:i}=e;return l.createElement(vr,{"aria-label":t,onClick:r,icon:go.A,telemetryProps:o,ref:n},i)},Bo=e=>{let{baseProductId:t,cloudServiceUpsells:n,slotNumber:r,experienceButtonType:o}=e;var i;const a=(0,N.zM)(),[s,l]=(0,f.cG)("cloudPlayButtonAccessibilityLabelFormat","cloudPlayButtonText"),c=(0,f.JX)("cloudAvailableServicesText",{Services:(null===n||void 0===n?void 0:n.length)||0}),u=(0,_.useSelector)((e=>(0,vt.t7)(e,t))),d=(0,N.nO)({behavior:N.nS.SHOW,contentName:l,id:"MultiCloudPlayButton",slotNumber:r},a);return{overrideClassName:Sr(!0,o,o===_n.nl.MobileStickyHeader?Yn:void 0),accessibilityLabel:(0,g.GPZ)(s,(null===(i=u.product)||void 0===i?void 0:i.title)||""),subtitle:c,telemetryProps:d,title:l,cloudServiceUpsells:n}};const Ho=e=>{const{listItemAccessibilityFormat:t,preferSkuValues:n,productIdentifiers:r,telemetryProps:o}=e,i=(0,_.useSelector)(g.GYd).origin,a=(0,_.useSelector)(g.a5u),d=(0,l.useId)(),p=(0,_.useSelector)((e=>(0,vt.Ns)(e,r))).filter((e=>!!e.product)).filter((e=>!!e.sku));return(null===p||void 0===p?void 0:p.length)?(p.sort(((e,t)=>{const n=e.availability,r=t.availability;return n&&r?n.price.msrp-r.price.msrp:!n&&r?1:n&&!r?-1:0})),l.createElement("ul",{className:"ProductList-module__productList___NJ+7V"},p.map(((e,r)=>{var m,h,f;const{product:_,sku:v,availability:y}=e,b=_.productId,C=_.title,T=r+1,I=t?(0,g.GPZ)(t,n?v.skuTitle:C,T.toString(),p.length.toString()):n?v.skuTitle:C,P=(0,N.nO)({behavior:N.nS.NAVIGATIONFORWARD,contentName:C,id:"ProductListItem",productName:C,productId:b,slotNumber:r,skuId:v.skuId},S()({},o));return l.createElement("li",{key:`ProductListItem_${b}_${v.skuId}`,className:"ProductList-module__productListItem___aq9Xs"},l.createElement(c.a,S()({as:"a","aria-label":I,"aria-labelledby":`ProductListItemId_${d}_${b}_${v.skuId}_${r} inclusionAwarePriceId_${b}_${v.skuId}`,buttonType:u.VQ.Tertiary,href:(0,Et.N7)(i,a,b,C,v.skuId),id:`ProductListItemId_${d}_${b}_${v.skuId}_${r}`},(0,N.vj)(P)),l.createElement(O._V,{width:50,height:50,src:n?null===(m=(0,E.mV)(_,v))||void 0===m?void 0:m.url:null===(f=null===(h=_.images)||void 0===h?void 0:h.boxArt)||void 0===f?void 0:f.url,alt:n?v.skuTitle:C}),l.createElement("div",null,l.createElement("div",{className:w.TF},n?v.skuTitle:C),l.createElement("div",{className:s()(w.cb,"ProductList-module__inclusionTextTVCaption___KTHP0"),id:`inclusionAwarePriceId_${b}_${v.skuId}`},l.createElement(E.aF,{hasAddOns:_.hasAddOns,satisfyingPassId:_.optimalSatisfyingPassId,productPrice:null===y||void 0===y?void 0:y.price,listedPriceClassName:"ProductList-module__listedPrice___RF-qv"})))))})))):null},Go=["buttonAccessibilityLabel","buttonId","buttonType","subTitle","telemetryProps","title"],qo=e=>{const{buttonAccessibilityLabel:t,buttonId:n,buttonType:r=u.VQ.Primary,subTitle:o,telemetryProps:i,title:a}=e,c=P()(e,Go);let d="DropDownProductListButton-module__oneLineDropDownListButton___CJZI3";return o&&(d="DropDownProductListButton-module__twoLineDropDownListButton___DCYH5"),l.createElement(ae,null,l.createElement(ae.Button,{accessibilityLabel:t,buttonId:n,buttonType:r,className:s()([d,Kn]),telemetryProps:i,showArrow:!0},l.createElement("div",{className:"DropDownProductListButton-module__dropDownListButtonTitleContainer___NJ8s0"},l.createElement("div",{className:w.TF},a),o&&l.createElement("div",{className:s()(w.cb,"DropDownProductListButton-module__dropDownProductListSubtitle___xuHs5")},o))),l.createElement(ae.Flyout,null,l.createElement(Ho,S()(S()({},c),{},{telemetryProps:i}))))};const jo=function(e){var{title:t,titleId:n}=e,o=(0,r.__rest)(e,["title","titleId"]);return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:"1em",height:"1em","aria-labelledby":n},o),t?l.createElement("title",{id:n},t):null,l.createElement("path",{d:"M1936 256q23 0 43 9t36 24 24 35 9 44v1184q0 23-9 43t-24 36-35 24-44 9H112q-23 0-43-9t-36-24-24-35-9-44V368q0-23 9-43t24-36 35-24 44-9h1824zm-16 128H640v139q33-11 64-11 40 0 75 15t61 41 41 61 15 75q0 31-11 64h1035V384zM384 704q0 26 19 45t45 19h64v-64q0-26-19-45t-45-19q-26 0-45 19t-19 45zm320 64q26 0 45-19t19-45q0-26-19-45t-45-19q-26 0-45 19t-19 45v64h64zM128 384v384h139q-11-33-11-64 0-40 15-75t41-61 61-41 75-15q31 0 64 11V384H128zm0 1152h384V987l-147 146-90-90 146-147H128v640zm1792 0V896H731l146 147-90 90-147-146v549h1280z"}))},Vo=e=>{const{accessibilityLabel:t,availabilityId:n,buttonType:r=u.VQ.Primary,productId:o,showModal:i,skuId:a,telemetryProps:c,hideModal:d,onClick:p}=e,m=(0,l.useRef)(null),h=(0,l.useRef)(null),g=(0,M._E)(i,d,m,h);return l.createElement(l.Fragment,null,l.createElement(Ce.m,S()({as:"button","aria-label":t,buttonType:r,className:s()([Wn,Kn]),onClick:p,icon:jo,ref:m,title:t},(0,N.vj)(c))),l.createElement(Gr,{contentRef:h,hasAddOns:!1,onResult:g,showModal:i,productId:o,skuId:a,availabilityId:n,experience:H.Purchase,scenario:G.Gift}))},zo=e=>{const{accessibilityLabel:t,actionOverride:n,availabilityId:r,buttonType:o=u.VQ.Primary,hideModal:i,onClick:a,productId:d,showModal:p,skuId:m,telemetryProps:h}=e,g=(0,l.useRef)(null),_=(0,l.useRef)(null),v=(0,f.FE)("giftActionText"),y=(0,M._E)(p,i,g,_);return l.createElement(l.Fragment,null,l.createElement(c.a,S()({as:"button","aria-label":t,buttonType:o,className:s()([qn,Kn,w.TF]),onClick:null!==n&&void 0!==n?n:a,ref:g},(0,N.vj)(h)),v.toLocaleUpperCase()),l.createElement(Gr,{contentRef:_,hasAddOns:!1,onResult:y,showModal:p,productId:d,skuId:m,availabilityId:r,experience:H.Purchase,scenario:G.Gift}))},Xo=e=>{const{accessibilityLabel:t,availabilityId:n,buttonType:r=u.VQ.Primary,productId:o,showModal:i,skuId:a,telemetryProps:s,hideModal:d,onClick:p,className:m}=e,h=(0,f.FE)("giftActionText"),g=(0,l.useRef)(null),_=(0,l.useRef)(null),v=(0,M._E)(i,d,g,_);return l.createElement(l.Fragment,null,l.createElement(c.a,S()({as:"button","aria-label":t,buttonType:r,className:m,onClick:p,ref:g},(0,N.vj)(s)),h.toLocaleUpperCase()),l.createElement(Gr,{contentRef:_,hasAddOns:!1,onResult:v,showModal:i,productId:o,skuId:a,availabilityId:n,experience:H.Purchase,scenario:G.Gift}))},Ko=e=>{const{accessibilityLabel:t,actionOverride:n,availabilityId:r,productId:o,showModal:i,skuId:a,telemetryProps:s,hideModal:c,onClick:u}=e,d=(0,f.FE)("giftActionText"),p=(0,l.useRef)(null);return l.createElement(l.Fragment,null,l.createElement(vr,{"aria-label":t,onClick:n||u,icon:jo,telemetryProps:s},d),l.createElement(cr,null,(e=>l.createElement(Gr,{contentRef:p,hasAddOns:!1,onResult:()=>{e.closeDialog(),c()},showModal:i,productId:o,skuId:a,availabilityId:r,experience:H.Purchase,scenario:G.Gift}))))};var Wo=n(80650);const $o="#1b1c1e";var Yo;!function(e){e[e.DefaultXbox=0]="DefaultXbox",e[e.XboxSeriesX=1]="XboxSeriesX",e[e.XboxSeriesS=2]="XboxSeriesS",e[e.XboxOne=3]="XboxOne",e[e.XboxOneS=4]="XboxOneS",e[e.XboxOneSDigital=5]="XboxOneSDigital",e[e.XboxOneX=6]="XboxOneX",e[e.PC=7]="PC"}(Yo||(Yo={}));const Qo=function(e){var{title:t,titleId:n}=e,o=(0,r.__rest)(e,["title","titleId"]);return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 64 64","aria-labelledby":n},o),t?l.createElement("title",{id:n},t):null,l.createElement("path",{d:"M36.98 8.067a.5.5 0 01.42-.037l.08.037 26.305 15.182.069.057.039.043.031.045a.5.5 0 01.074.22l.002.046v9.15a.5.5 0 01-.178.382l-.072.051-18.252 10.539-.058.041-18.42 10.63-2.57 1.48a.5.5 0 01-.42.037l-.08-.037-23.7-13.68a.5.5 0 01-.242-.345L0 41.82V29.7c0-.092.025-.185.075-.265l.044-.06.037-.039.058-.046.036-.023 36.73-21.2zM1 30.566v10.965l23.2 13.391 2.07-1.192v-3.72l-2.31-1.34v-1.73l2.31 1.337v-3.119L1 30.566zm43.668 9.396L27.27 50.009v3.144l17.418-10.058-.02-3.133zm-.032-4.83L27.27 45.158v3.118l17.386-10.04-.02-3.104zM18.87 19.677L1.5 29.7l25.269 14.592 17.36-10.024L18.87 19.677zm44.129 4.849L45.631 34.557l.053 7.963 17.315-9.999v-7.995zM37.23 9.077L19.867 19.099l25.261 14.592L62.499 23.66 37.23 9.077zm22.33 20.601c.388-.674 1.022-1.037 1.414-.81.392.226.395.956.005 1.63-.389.675-1.023 1.038-1.415.811-.392-.226-.394-.956-.005-1.63z"}))};const Jo=function(e){var{title:t,titleId:n}=e,o=(0,r.__rest)(e,["title","titleId"]);return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 64 64","aria-labelledby":n},o),t?l.createElement("title",{id:n},t):null,l.createElement("path",{d:"M36.98 9.097a.5.5 0 01.42-.037l.08.037 26.303 15.18.057.046.053.056.031.045a.5.5 0 01.074.22l.002.046v6.96a.5.5 0 01-.178.382l-.072.051-2.701 1.558.001 1.039-34.28 19.79L1.36 39.8l-.001-1.037-1.109-.64a.5.5 0 01-.242-.345L0 37.69v-6.95a.5.5 0 01.075-.265l.043-.06.045-.045.052-.04.035-.023L18.6 19.71l.02-.013 18.36-10.6zM1 31.606v5.795l25.27 14.583v-5.795L1 31.606zm43.63 8.032l-17.36 10.03v2.315l17.36-10.02v-2.325zm0-3.475L27.27 46.188v2.325l17.36-10.029v-2.321zM18.871 20.708L1.5 30.739l25.27 14.583 17.358-10.024-25.257-14.59zM63 25.555L45.63 35.588v5.798L63 31.36v-5.805zm-.501-.865L37.23 10.107 19.87 20.131l25.258 14.59L62.499 24.69zm-3 4.97c.389-.674 1.023-1.037 1.415-.81.392.226.394.956.005 1.63-.39.675-1.023 1.038-1.415.811-.392-.226-.395-.956-.005-1.63z"}))};const Zo=function(e){var{title:t,titleId:n}=e,o=(0,r.__rest)(e,["title","titleId"]);return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 64 64","aria-labelledby":n},o),t?l.createElement("title",{id:n},t):null,l.createElement("path",{d:"M36.98 9.097a.5.5 0 01.42-.037l.08.037 26.303 15.18.057.046.053.056.031.045a.5.5 0 01.074.22l.002.046v6.96a.5.5 0 01-.178.382l-.072.051-2.701 1.558.001 1.039-34.28 19.79L1.36 39.8l-.001-1.037-1.109-.64a.5.5 0 01-.242-.345L0 37.69v-6.95a.5.5 0 01.075-.265l.043-.06.045-.045.052-.04.035-.023L18.6 19.71l.02-.013 18.36-10.6zM1 31.606v5.795l25.27 14.583v-5.795L1 31.606zm43.63 4.557L27.27 46.188v5.795l17.36-10.02v-5.8zM18.871 20.708L1.5 30.739l25.27 14.583 17.358-10.024-25.257-14.59zM63 25.555L45.63 35.588v5.798L63 31.36v-5.805zm-.501-.865L37.23 10.107 19.87 20.131l25.258 14.59L62.499 24.69zm-3 4.97c.389-.674 1.023-1.037 1.415-.81.392.226.394.956.005 1.63-.39.675-1.023 1.038-1.415.811-.392-.226-.395-.956-.005-1.63z"}))};const ei=function(e){var{title:t,titleId:n}=e,o=(0,r.__rest)(e,["title","titleId"]);return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 64 64","aria-labelledby":n},o),t?l.createElement("title",{id:n},t):null,l.createElement("path",{d:"M36.98 8.517a.5.5 0 01.42-.037l.08.037 26.283 15.178.06.042.059.059.042.058a.5.5 0 01.074.217l.002.049v9.72a.5.5 0 01-.178.382l-.072.051-33.04 19.08a.494.494 0 01-.425.035l-.076-.036-2.143-1.244-1.085.625-.07.027-.082.017-.097.002-.08-.012-.045-.014a.499.499 0 01-.087-.04l.067.032-.029-.012L.25 37.543a.5.5 0 01-.242-.345L0 37.11v-6.95l.007-.084a.498.498 0 01.068-.181l.043-.06.045-.045.052-.04.035-.023 36.73-21.21zm26.019 25.034v-1.615l-32.04 18.501v1.617l32.04-18.503zM29.96 51.014l-.895.517.895.52v-1.037zM1 31.026v5.795l25.27 14.593v-5.796L1 31.026zm61.999-.245v-5.795L27.27 45.617v5.796l2.868-1.655.072-.051L63 30.781zM37.229 9.527L1.5 30.159l25.27 14.583L62.5 24.119 37.229 9.527zm22.33 19.521c.39-.674 1.023-1.038 1.416-.811.392.226.394.957.005 1.631-.39.674-1.023 1.037-1.415.811-.393-.226-.395-.957-.006-1.631z"}))};const ti=function(e){var{title:t,titleId:n}=e,o=(0,r.__rest)(e,["title","titleId"]);return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 64 64","aria-labelledby":n},o),t?l.createElement("title",{id:n},t):null,l.createElement("path",{d:"M25.48.067A.5.5 0 0125.9.03l.08.037L48.046 12.81l.068.056.039.043.031.045c.05.081.076.174.076.266v44.8a.5.5 0 01-.178.382l-.072.051-9.49 5.48a.495.495 0 01-.265.067.487.487 0 01-.178-.027l-.087-.04-22-12.72a.5.5 0 01-.242-.345l-.008-.088V5.99a.496.496 0 01.172-.388l.078-.055 9.49-5.48zm-8.741 6.798v43.626l21 12.142V18.988l-21-12.123zm30.521 7.22l-8.49 4.903v43.645l8.49-4.902V14.085zm-26.2 2.253c3.583-2.069 9.163 1.152 12.563 7.042 3.4 5.89 3.4 12.332-.184 14.401-3.584 2.07-9.163-1.152-12.564-7.041-3.4-5.89-3.4-12.333.184-14.402zm11.697 7.542c-3.16-5.475-8.22-8.395-11.198-6.676-2.978 1.72-2.978 7.561.182 13.036 3.161 5.474 8.22 8.395 11.198 6.675 2.978-1.72 2.979-7.56-.182-13.035zm7.81-3.595c.39-.674 1.024-1.037 1.416-.81.392.226.395.956.005 1.63-.39.675-1.023 1.038-1.415.812-.392-.227-.394-.957-.005-1.632zM25.73 1.077L17.24 5.979l21.03 12.143 8.489-4.902-21.03-12.143z"}))};const ni=function(e){var{title:t,titleId:n}=e,o=(0,r.__rest)(e,["title","titleId"]);return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 64 64","aria-labelledby":n},o),t?l.createElement("title",{id:n},t):null,l.createElement("path",{d:"M31.75.067a.5.5 0 01.42-.037l.08.037 17.555 10.132.069.057.039.043.031.045a.5.5 0 01.074.22l.002.046v42.78a.5.5 0 01-.178.382l-.072.051-14.6 8.42-2.957 1.71-.054.021-.08.02-.097.006-.06-.006-.082-.02-.075-.033L14.23 53.823a.5.5 0 01-.242-.345l-.008-.088V10.61l.007-.084a.498.498 0 01.068-.181l.044-.06.044-.045.052-.04.035-.023L31.75.067zM14.98 11.476v41.625l16.52 9.533V21.018l-16.52-9.542zM49.02 53.1V11.475L32.5 21.018v41.614l2.17-1.255L49.02 53.1zM34.257 22.88c.39-.675 1.023-1.038 1.415-.811.393.226.395.956.005 1.63-.389.675-1.022 1.038-1.415.812-.392-.227-.394-.957-.005-1.631zM32 1.077L15.479 10.61 32 20.152l16.52-9.542L32 1.077z"}))};const ri=function(e){var{title:t,titleId:n}=e,o=(0,r.__rest)(e,["title","titleId"]);return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 64 64","aria-labelledby":n},o),t?l.createElement("title",{id:n},t):null,l.createElement("path",{d:"M0 29.74a.5.5 0 01.075-.265l.043-.06.045-.045.052-.04.035-.023 36.73-21.21a.5.5 0 01.42-.037l.08.037 26.305 15.182.069.057.039.043.031.045a.5.5 0 01.074.22l.002.046v9.96a.5.5 0 01-.178.382l-.072.051-36.745 21.208-.072.032-.105.024-.095.002-.078-.012-.069-.022-.066-.032L.25 40.123a.5.5 0 01-.242-.345L0 39.69v-9.95zm62.999 3.621v-8.805L27.27 45.188v8.795l35.729-20.622zm-62-2.756V39.4l25.27 14.583v-8.795L.999 30.605zm36.23-21.498L1.5 29.739l25.27 14.583L62.499 23.69 37.229 9.107z"}))};var oi=n(7588),ii=n(16890),ai=n(13742),si="DeviceItem-module__iconDevice___qM-eC",li="DeviceItem-module__itemContainer___LUQza",ci="DeviceItem-module__title___z1IA+";const ui=e=>{const{hasSufficientFreeSpace:t,isChecked:n,deviceType:r=Yo.DefaultXbox,deviceName:o,devicePowerStatus:i,deviceFreeStorage:a,usedStorageSpacePercentage:c,className:u,onClick:p}=e,m=()=>{t&&(null===p||void 0===p||p(!n))};return l.createElement("div",{role:"checkbox","aria-checked":n?"true":"false",onClick:m,onKeyDown:e=>{((0,g.JSV)(e.key,"spacebar")||(0,g.JSV)(e.key," ")||(0,g.JSV)(e.key,"enter"))&&(m(),e.stopPropagation(),e.preventDefault())},tabIndex:t?0:-1,className:s()([li,"DeviceItem-module__itemContainerFocusStates___RIefB",u])},l.createElement("div",{className:"DeviceItem-module__iconContainer___kr1By"},(e=>{switch(e){case Yo.XboxOne:return l.createElement(d.In,{iconSize:d.lK.Custom,className:si,icon:Qo});case Yo.XboxOneS:return l.createElement(d.In,{iconSize:d.lK.Custom,className:si,icon:Jo});case Yo.XboxOneSDigital:return l.createElement(d.In,{iconSize:d.lK.Custom,className:si,icon:Zo});case Yo.XboxOneX:return l.createElement(d.In,{iconSize:d.lK.Custom,className:si,icon:ei});case Yo.XboxSeriesS:return l.createElement(d.In,{iconSize:d.lK.Custom,className:si,icon:ti});case Yo.XboxSeriesX:return l.createElement(d.In,{iconSize:d.lK.Custom,className:si,icon:ni});case Yo.PC:return l.createElement(d.In,{iconSize:d.lK.Custom,className:si,icon:O.Fy});case Yo.DefaultXbox:default:return l.createElement(d.In,{iconSize:d.lK.Custom,className:si,icon:ri})}})(r)),l.createElement("div",{className:"DeviceItem-module__infoContainer___jUQEC"},l.createElement("div",{className:ci},o),i&&l.createElement("div",{className:"DeviceItem-module__subtitle___wJkrQ"},i),void 0!==c&&l.createElement("div",{className:"DeviceItem-module__storageComponents___rhlcd"},l.createElement("div",{className:"DeviceItem-module__availableSpaceMeter___ysdnM"},l.createElement("div",{className:s()("DeviceItem-module__availableSpaceMeterValue___jyxtv",t?void 0:"DeviceItem-module__error___9gepr"),style:{width:`${c}%`}})),l.createElement("div",{className:ci},!t&&l.createElement(d.In,{iconSize:d.lK.Custom,className:"DeviceItem-module__iconWarning___ArYA7",icon:oi.A}),a))),l.createElement(d.In,{iconSize:d.lK.Custom,className:"DeviceItem-module__checkbox___M2qVf",icon:n?ii.A:ai.A}),!t&&l.createElement("div",{className:"DeviceItem-module__alertStrip___wdn7P"}))},di=e=>{var t;const{device:n,isChecked:r,isPc:o,requiredSpace:i,className:a,onClick:s}=e,c={deviceName:n.name,deviceType:Yo.PC,isChecked:r,hasSufficientFreeSpace:!0},[u,d,p,m]=(0,f.cG)("installScreenConsoleStateOn","installScreenConsoleStateOff","installScreenConsoleStateUnknown","installScreenFreeStorageTemplate");let h,_;if(!o){c.deviceType=(e=>{switch(e){case _n.o.XboxSeriesS:return Yo.XboxSeriesS;case _n.o.XboxSeriesX:case _n.o.XboxSeriesXDevKit:return Yo.XboxSeriesX;case _n.o.XboxOne:return Yo.XboxOne;case _n.o.XboxOneS:return Yo.XboxOneS;case _n.o.XboxOneSDigital:return Yo.XboxOneSDigital;case _n.o.XboxOneX:case _n.o.XboxOneXDevKit:return Yo.XboxOneX;default:return}})(n.consoleType);const e=null===(t=n.storage)||void 0===t?void 0:t.filter((e=>e.isDefault))[0];switch(h=(null===e||void 0===e?void 0:e.freeSpaceBytes)||0,_=(null===e||void 0===e?void 0:e.totalSpaceBytes)||0,c.hasSufficientFreeSpace=i<=h,c.usedStorageSpacePercentage=((e,t)=>Math.ceil((t-e)/t*100))(h,_),n.state.powerState){case _n.te.On:case _n.te.ConnectedStandby:c.devicePowerStatus=u;break;case _n.te.Off:c.devicePowerStatus=d;break;default:c.devicePowerStatus=p}}const v=(0,M.Ek)(h,1024,0)||"",y=(0,M.Ek)(_,1024,0)||"";return c.deviceFreeStorage=v&&y?(0,g.GPZ)(m,v,y):"",l.createElement(ui,S()({className:a,onClick:s},c))},pi=e=>l.createElement("div",{className:s()([li,e.className])});n(47748);var mi="InstallScreen-module__bodyText2___cmbvC",hi="InstallScreen-module__contentContainer___Dzlkm",gi="InstallScreen-module__contentTitleMargin___txpE0",fi="InstallScreen-module__deviceItemMargin___c8nu+",_i="InstallScreen-module__deviceList___oZG0s",vi="InstallScreen-module__subTitle___qU0xx",yi="InstallScreen-module__tab___+Npdi";const bi=e=>{const{firstParagraphText:t,headingText:n,secondParagraphText:r}=e;return l.createElement("div",{className:gi},l.createElement("div",{className:s()(w.f9,vi)},n),l.createElement("div",{className:s()(w.SM,mi)},t),l.createElement("div",{className:s()(w.SM,mi)},r))},Si=e=>{const{devices:t,devicesArePcs:n,maxInstallSize:r,selectedDeviceId:o,setSelectedDeviceId:i}=e,{installScreenEmptyConsoleTabHeading:a,installScreenEmptyConsoleUpsellText:c,installScreenEmptyConsoleInstructionsText:u,installScreenReadyToInstall:d}=(0,f.ot)("installScreenEmptyConsoleTabHeading","installScreenEmptyConsoleUpsellText","installScreenEmptyConsoleInstructionsText","installScreenReadyToInstall");return 0===t.length?l.createElement(bi,{firstParagraphText:c,headingText:a,secondParagraphText:u}):l.createElement(l.Fragment,null,l.createElement("div",{className:s()(w.LP,"InstallScreen-module__readyMessageMargin___pTAud")},d),l.createElement(ge,{className:_i,gradientColorOverride:$o},t.map((e=>l.createElement(di,{key:e.id,className:fi,device:e,isChecked:o===e.id,isPc:n,requiredSpace:r||0,onClick:t=>{i(t?e.id:"")}})))))};const Ei=()=>{const{remoteConsoleLoadErrorHeading:e,reloadPageRequestMessage:t}=(0,f.ot)("remoteConsoleLoadErrorHeading","reloadPageRequestMessage");return l.createElement(l.Fragment,null,l.createElement("div",{className:s()(hi,gi)},l.createElement("div",null,l.createElement("div",{className:"InstallErrorScreen-module__warningSign___OqVjo"},"\u26a0"),l.createElement("div",{className:s()(w.f9,vi)},e)),l.createElement("div",{className:s()(w.SM,mi)},t)))},Ci=()=>{const e=(0,f.FE)("loadingText");return l.createElement("div",null,l.createElement("div",{className:s()(w.LP,gi)},e),l.createElement(ge,{className:_i,gradientColorOverride:$o},l.createElement(pi,{className:fi}),l.createElement(pi,{className:fi}),l.createElement(pi,{className:fi})))};var Ti,wi=n(37340),Ii="InstallScreenButtons-module__shimmerAddons___QQWaC";!function(e){e[e.Install=0]="Install",e[e.Launch=1]="Launch",e[e.Reload=2]="Reload",e[e.LearnMore=3]="LearnMore"}(Ti||(Ti={}));const Pi=e=>{const{devicesArePcs:t,primaryButtonState:n,productId:r,selectedDeviceId:o,onCancelClicked:i,onInstallClicked:a}=e,s=(0,_.useDispatch)(),{installScreenCancelButtonText:d,installScreenInstallButtonText:p,installScreenLaunchButtonText:m,learnMoreText:h,reloadPageButtonText:v}=(0,f.ot)("installScreenCancelButtonText","installScreenInstallButtonText","installScreenLaunchButtonText","learnMoreText","reloadPageButtonText"),y=(0,_.useSelector)((e=>(0,vt.g4)(e,r)));let b,S,E,C;switch(n){case Ti.Install:b=!o,S=()=>{s(wi.n.queueInstall.start(o,[r],t)),null===a||void 0===a||a()},E=p;break;case Ti.Launch:b=!(0,g.PTb)(),S=()=>{(null===y||void 0===y?void 0:y.isAvailableOnGarrison)?window.location.href=`msxbox://game/?productId=${r}`:window.location.href=`ms-windows-store://pdp/?productId=${r}`,null===a||void 0===a||a()},E=m;break;case Ti.LearnMore:b=!1,C=Et.iZ,E=h;break;case Ti.Reload:default:b=!1,S=()=>{"undefined"!==typeof location&&location.reload()},E=v}return l.createElement("div",{className:"InstallScreenButtons-module__buttonContainer___wa-9b"},l.createElement(c.a,{as:"button",buttonType:u.VQ.Primary,onClick:i},d),C?l.createElement(c.a,{as:"a","aria-label":E,buttonType:u.VQ.Brand,href:C,target:"_blank"},E.toLocaleUpperCase()):l.createElement(c.a,{as:"button",disabled:b,buttonType:u.VQ.Brand,onClick:S},E.toLocaleUpperCase()))},Ai=()=>l.createElement("div",{className:"InstallScreenButtons-module__loadingPanel___q8RDT"},l.createElement("div",{className:s()(Ie.iM,Ii,"InstallScreenButtons-module__shimmerBackground1___LHUZF")}),l.createElement("div",{className:s()(Ie.iM,Ii,"InstallScreenButtons-module__shimmerBackground2___YNYl4")})),ki=["children","className","contentRef","productId","onCancelClicked","onInstallClicked"],xi=(e,t)=>{var n;return!!(null===(n=null===e||void 0===e?void 0:e.availableOn)||void 0===n?void 0:n.filter((e=>e.toLowerCase().includes(t))).length)},Ri=e=>{const t=(0,_.useDispatch)(),[n,r]=(0,l.useState)(""),[o,i]=(0,l.useState)(0),a=(0,_.useSelector)((e=>(0,vt.XM)(e))),c=(0,_.useSelector)((e=>(0,vt.jg)(e))),u=(0,_.useSelector)((e=>(0,g.pzA)(e,g.WTf.EnableRemoteInstallToPc))),{contentRef:d,productId:p,onCancelClicked:m,onInstallClicked:h}=e,{installScreenConsoleTabText:v,installScreenPcTabText:y,installScreenPcTabHeading:b,installScreenPcAppUpsellText:S,installScreenPcAppRequiresText:C}=(0,f.ot)("installScreenConsoleTabText","installScreenPcTabText","installScreenPcTabHeading","installScreenPcAppUpsellText","installScreenPcAppRequiresText");(0,l.useEffect)((()=>{t(vt.nU.fetchDevices.start())}),[]);const T=(0,_.useSelector)((e=>(0,vt.g4)(e,p))),I=(0,M.Ek)((null===T||void 0===T?void 0:T.maxInstallSize)||0,1024,2)||"",P=T?(0,E.mV)(T):void 0,A=xi(T,"pc"),k=xi(T,"xbox"),x=A&&k&&(0,g.PTb)();(0,l.useEffect)((()=>{(!x&&k||0===o)&&((0,Oe.isError)(c)?L(Ti.Reload):(0,Oe.isContent)(c)&&(0===c.data.length?L(Ti.LearnMore):L(Ti.Install)))}),[c,o,x,k]),(0,l.useEffect)((()=>{(!x&&A||1===o)&&(u?(0,Oe.isError)(a)?L(Ti.Reload):(0,Oe.isContent)(a)&&(0===a.data.length?L(Ti.LearnMore):L(Ti.Install)):L(Ti.Launch))}),[a,o,x,A,u]);const R=k||u?Ti.Install:Ti.Launch,[N,L]=(0,l.useState)(R),D=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return u||!t?(0,Oe.lceSelect)(e,{content:()=>l.createElement(Pi,{devicesArePcs:t,onCancelClicked:m,onInstallClicked:h,primaryButtonState:N,productId:p,selectedDeviceId:n}),isFetching:()=>l.createElement(Ai,null)}):l.createElement(Pi,{devicesArePcs:t,onCancelClicked:m,onInstallClicked:h,primaryButtonState:N,productId:p,selectedDeviceId:n})},F=l.createElement(l.Fragment,null,l.createElement("div",{className:hi},(0,Oe.lceSelect)(c,{default:()=>l.createElement(l.Fragment,null),content:e=>{let{data:t}=e;return l.createElement(Si,{devices:t,maxInstallSize:null===T||void 0===T?void 0:T.maxInstallSize,selectedDeviceId:n,setSelectedDeviceId:r})},error:()=>l.createElement(Ei,null),isFetching:()=>l.createElement(Ci,null)})),D(c)),U=l.createElement(l.Fragment,null,l.createElement("div",{className:hi},u?(0,Oe.lceSelect)(a,{default:()=>l.createElement(l.Fragment,null),content:e=>{let{data:t}=e;return l.createElement(Si,{devices:t,devicesArePcs:!0,maxInstallSize:null===T||void 0===T?void 0:T.maxInstallSize,selectedDeviceId:n,setSelectedDeviceId:r})},error:()=>l.createElement(Ei,null),isFetching:()=>l.createElement(Ci,null)}):l.createElement(bi,{firstParagraphText:S,headingText:b,secondParagraphText:C})),D(a,!0));return l.createElement("div",{className:"InstallScreen-module__container___MXKqq",ref:d},l.createElement("div",{className:"InstallScreen-module__backgroundImageContainer___nOCO2"},l.createElement(O._V,{className:"InstallScreen-module__backgroundImage___chH6m",src:null===P||void 0===P?void 0:P.url,width:270,height:270,fluid:!0})),l.createElement("div",{className:"InstallScreen-module__backgroundOverlay___wDs1A"}),l.createElement("div",{className:"InstallScreen-module__productContainer___hrUA4"},l.createElement("div",{className:"InstallScreen-module__boxArt___AXg4O"},l.createElement(O._V,{className:"shadow",width:136,height:136,src:null===P||void 0===P?void 0:P.url,alt:null===P||void 0===P?void 0:P.caption,fluid:!0})),l.createElement("div",{className:"InstallScreen-module__gameDetailsContainer___qMQ+F"},l.createElement("div",{className:s()(w.me,"InstallScreen-module__productTitle___ysrdw")},null===T||void 0===T?void 0:T.title),l.createElement("div",{className:w.LP},I))),x?l.createElement(ct,{onSelectedIndexChanged:e=>{i(e)},className:"InstallScreen-module__tabContainer___VYgvu"},l.createElement(lt,{className:yi,key:"Console",title:v},F),l.createElement(lt,{className:yi,key:"PC",title:y},U)):l.createElement("div",{className:"InstallScreen-module__nonTabbedDisplay___AnG4H"},l.createElement(l.Fragment,null,k?F:U)))},Oi=e=>{const{children:t,className:n,contentRef:r,productId:o,onCancelClicked:i,onInstallClicked:a}=e,s=P()(e,ki),c=(0,f.FE)("installButtonText");return l.createElement(O.aF,S()(S()({className:"InstallScreen-module__modal___yYBN1"},s),{},{ariaLabel:c}),l.createElement(Ri,{contentRef:r,productId:o,onCancelClicked:i,onInstallClicked:a}))};const Ni=e=>{var t,n,r,o;const{onRetryClicked:i,onCancelClicked:a,installOperation:d}=e,[p,m,h,_,v]=(0,f.cG)("installErrorDetailsHeading","installErrorDetailsMessage","installRetryButtonText","cancelButtonText","errorCodeTemplate"),y=(null===(t=d.error)||void 0===t?void 0:t.errorCode)||(null===(o=null===(r=null===(n=d.error)||void 0===n?void 0:n.originalError)||void 0===r?void 0:r.response)||void 0===o?void 0:o.status);return l.createElement("div",{className:"InstallErrorDialog-module__contentContainer___SrfDw"},l.createElement("div",{className:w.LP},p),l.createElement("div",{className:w.SM},m),y&&l.createElement("div",{className:s()(w.SM,"InstallErrorDialog-module__errorMessageOpacity___yP91k")},(0,g.GPZ)(v,y)),l.createElement("div",{className:"InstallErrorDialog-module__buttonRow___sO5Xc"},l.createElement(c.a,{as:"button",buttonType:u.VQ.Primary,onClick:i},h),l.createElement(c.a,{as:"button",buttonType:u.VQ.Primary,onClick:a},_)))};var Mi="InstallInfoBanner-module__container___3up4S";const Li=(e,t)=>l.createElement("span",{className:w.cb},e," ",l.createElement("span",{className:"InstallInfoBanner-module__fadedCaption___FVtGQ"},t)),Di=e=>{const{productId:t}=e,[n,r]=(0,l.useState)(!1),o=(0,_.useSelector)((e=>(0,vt.z4)(e,t))),i=(0,_.useSelector)((e=>(0,vt.Q)(e,(null===o||void 0===o?void 0:o.deviceId)||""))),{installStatusErrorMessage:a,installStatusPendingCaption:c,installStatusSuccessCaption:p}=(0,f.ot)("installStatusErrorMessage","installStatusPendingCaption","installStatusSuccessCaption");if(!o)return null;const m=()=>r(!1);switch(o.operationStatus){case _n.Uh.Pending:return l.createElement("div",{className:Mi},l.createElement(le,null),Li(c,i));case _n.Uh.ConsoleError:case _n.Uh.Error:case _n.Uh.TimedOut:{const e={behavior:N.nS.EXPAND,contentName:a,id:"InstallInfoBannerErrorButton"};return l.createElement(l.Fragment,null,l.createElement(ae,null,l.createElement(ae.Button,{accessibilityLabel:a,buttonType:u.VQ.Primary,className:s()(Mi,"InstallInfoBanner-module__actionableContainer___uZc9s"),telemetryProps:e},Li(a),l.createElement(d.In,{iconSize:d.lK.XXSmall,icon:Te.A})),l.createElement(ae.Flyout,null,l.createElement(re,null,(e=>l.createElement(Ni,{onRetryClicked:()=>{r(!0),e.closeFlyout()},onCancelClicked:e.closeFlyout,installOperation:o}))))),l.createElement(Oi,{onCancelClicked:m,onInstallClicked:m,onHide:m,productId:t,show:n,closeable:!0}))}case _n.Uh.Succeeded:return l.createElement("div",{className:Mi},Li(p,i));default:return null}};var Fi=n(45910),Ui="InstallButton-module__opaque___eX5ct";const Bi=e=>{let{baseProductId:t,buttonTitle:n,buttonRef:r,buttonType:o=u.VQ.Primary,upsellProductId:i,openModal:a,isTrial:s,telemetryProps:c,overrideClassName:d,overrideContainerClassName:p}=e;const m=(0,_.useSelector)((e=>(0,vt.$Y)(e,t))),{affordingText:h,upsellGlyph:f}=(0,E.qt)({upsellProductId:i,isTrial:s,productEntitlement:(0,Oe.getDataOrPrevious)(m)||void 0}),v=(0,g.XBe)(i)===E.Es;return l.createElement(_o,{buttonRef:r,accessibilityLabel:"",onClick:a,buttonType:o,telemetryProps:c,overrideClassName:d,overrideContainerClassName:p},l.createElement("div",{className:w.TF,"aria-hidden":"true"},n.toLocaleUpperCase()),l.createElement(So,{subtitleFormat:h,productGlyph:f,upsellTitleId:i,usesUbisoftSVG:v,productEntitlement:(0,Oe.getDataOrPrevious)(m)||void 0}))},Hi=e=>{let{buttonTitle:t,buttonRef:n,buttonType:r=u.VQ.Primary,telemetryProps:o,openModal:i,overrideClassName:a}=e;return l.createElement(c.a,S()({as:"button",buttonType:r,className:a,onClick:i,ref:n},(0,N.vj)(o)),t.toLocaleUpperCase())},Gi=e=>{let{openModal:t,installOperation:n,telemetryProps:r,overrideClassName:o,overrideContainerClassName:i}=e;const a=(0,_.useDispatch)(),{installStatusErrorTitle:c,installStatusErrorSubtitle:d,installErrorButtonAccessibilityLabel:p}=(0,f.ot)("installStatusErrorTitle","installStatusErrorSubtitle","installErrorButtonAccessibilityLabel"),m=()=>{t(),a(wi.n.clearOperationStatus(n))},h=S()(S()({},r),{},{contentName:c,id:"InstallErrorButton"});return l.createElement(ae,{className:i},l.createElement(ae.Button,{accessibilityLabel:p,buttonType:u.VQ.Primary,className:s()(zn,o),telemetryProps:h},l.createElement("div",{className:w.TF},c),l.createElement("div",{className:s()(w.cb,Ui)},d)),l.createElement(ae.Flyout,null,l.createElement(re,null,(e=>l.createElement(Ni,{onRetryClicked:m,onCancelClicked:e.closeFlyout,installOperation:n})))))},qi=e=>{let{baseProductId:t,overrideClassName:n}=e;const{installStatusPendingTitle:r}=(0,f.ot)("installStatusPendingTitle"),o=(0,_.useSelector)((e=>(0,Fi.z4)(e,t))),i=(0,_.useSelector)((e=>(0,Fi.Q)(e,(null===o||void 0===o?void 0:o.deviceId)||"")));return l.createElement(c.a,{as:"button",buttonType:u.VQ.Primary,className:s()(Jn,n),disabled:!0},l.createElement("div",{className:"InstallButton-module__progressContainer___JhBBL"},l.createElement(le,null),l.createElement("div",{className:w.TF},r)),l.createElement("div",{className:s()(w.cb,Ui)},i))},ji=e=>{let{baseProductId:t,overrideClassName:n}=e;const{installStatusSuccessTitle:r}=(0,f.ot)("installStatusSuccessTitle"),o=(0,_.useSelector)((e=>(0,Fi.z4)(e,t))),i=(0,_.useSelector)((e=>(0,Fi.Q)(e,(null===o||void 0===o?void 0:o.deviceId)||"")));return l.createElement(c.a,{as:"button",buttonType:u.VQ.Primary,className:s()(Jn,n),disabled:!0},l.createElement("div",{className:w.TF},r),l.createElement("div",{className:s()(w.cb,Ui)},i))},Vi=e=>{let{baseProductId:t,buttonTitle:n,showModal:r,telemetryProps:o,hideModal:i,openModal:a}=e;return l.createElement(l.Fragment,null,l.createElement(vr,{onClick:a,icon:Wo.A,telemetryProps:o},n),r&&l.createElement(cr,null,(e=>{const n=()=>{e.closeDialog(),i()};return l.createElement(Oi,{"aria-labelledby":"title",onCancelClicked:n,onInstallClicked:n,onHide:n,productId:t,show:r,closeable:!0})})))};const zi=function(e){var{title:t,titleId:n}=e,o=(0,r.__rest)(e,["title","titleId"]);return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:"1em",height:"1em","aria-labelledby":n},o),t?l.createElement("title",{id:n},t):null,l.createElement("path",{d:"M512 1152v-128h640v128H512zm989 130l317 318-317 318-91-91 163-163H256V256h1536v1136l-128-128V384H384v1152h1189l-163-163 91-91zm-93-514v128H512V768h896zM512 512h768v128H512V512z"}))};const Xi=e=>{const t=(0,f.FE)("sorryForTheInconvenience"),n=(0,f.FE)("externallyManagedSubscription",e.subscriptionName);return l.createElement("div",{className:"ExternallyManagedSubscriptionScreen-module__content___Gp353"},l.createElement("h3",{className:s()(w.H8,"ExternallyManagedSubscriptionScreen-module__modalTitle___O9YrF")},t),l.createElement("p",{className:"ExternallyManagedSubscriptionScreen-module__modalContent___iTQ0p"},n))},Ki=e=>{const t=(0,f.FE)("closeButtonText"),{showModal:n,onComplete:r,subscriptionName:o,buttonType:i,overrideButtonClassName:a}=e;return l.createElement(O.aF,{className:"ExternallyManagedModal-module__externallyManagedModalContainer___UsB0s",closeable:!0,show:n,onHide:r},l.createElement(Xi,{subscriptionName:o}),l.createElement(c.a,{as:"button",buttonType:i,"aria-label":t,onClick:r,className:null!==a&&void 0!==a?a:""},l.createElement("div",{className:w.TF},t.toLocaleUpperCase())))},Wi=["buttonLabel","buttonType","onClick","isExternallyManaged","telemetryProps"],$i=["buttonLabel","buttonType","isExternallyManaged","telemetryProps","onClick","overrideClassName"],Yi=["buttonLabel","isExternallyManaged","telemetryProps","onClick"],Qi=e=>{let t="";switch(e.experienceButtonType){case _n.nl.CondensedDesktop:t=qn;case _n.nl.Desktop:return l.createElement(Ji,S()(S()({},e),{},{overrideClassName:t}));case _n.nl.Mobile:case _n.nl.CondensedMobile:return l.createElement(Zi,S()(S()({},e),{},{overrideClassName:Sr(!1,e.experienceButtonType)}));case _n.nl.MobileStickyHeader:return l.createElement(Zi,S()(S()({},e),{},{overrideClassName:Yn}));case _n.nl.Overflow:return l.createElement(ea,S()({},e));default:return null}},Ji=e=>{const{buttonLabel:t,buttonType:n=u.VQ.Primary,onClick:r,isExternallyManaged:o,telemetryProps:i}=e,a=P()(e,Wi),s=(0,l.useRef)(null);return o?l.createElement(tr,S()({accessibilityLabel:t,buttonType:n,onClick:r,buttonRef:s,telemetryProps:i,title:t.toLocaleUpperCase()},a)):l.createElement(nr,S()({accessibilityLabel:t,buttonType:n,href:Et.JT,subtitle:"",target:"_blank",telemetryProps:i,title:t.toLocaleUpperCase()},a))},Zi=e=>{const{buttonLabel:t,buttonType:n=u.VQ.Primary,isExternallyManaged:r,telemetryProps:o,onClick:i,overrideClassName:a}=e,s=P()(e,$i);return r?l.createElement(c.a,S()({as:"button","aria-label":t,buttonType:n,className:a,onClick:i},(0,N.vj)(o)),t.toLocaleUpperCase()):l.createElement(c.a,S()(S()({as:"a","aria-label":t,buttonType:n,className:a,href:Et.JT,target:"_blank"},(0,N.vj)(o)),s),t.toLocaleUpperCase())},ea=e=>{const{buttonLabel:t,isExternallyManaged:n,telemetryProps:r,onClick:o}=e,i=P()(e,Yi);return n?l.createElement(vr,S()({"aria-label":t,icon:zi,onClick:o,telemetryProps:r},i),t.toLocaleUpperCase()):l.createElement(yr,S()({"aria-label":t,href:Et.JT,icon:zi,target:"_blank",telemetryProps:r},i),t.toLocaleUpperCase())},ta=e=>l.createElement(c.a,{as:"button","aria-disabled":!0,buttonType:u.VQ.Tertiary,className:jn},e.actionText.toLocaleUpperCase()),na=e=>{const t=e.className||Vn;return l.createElement(c.a,{as:"button","aria-disabled":!0,buttonType:u.VQ.Tertiary,className:t},e.actionText.toLocaleUpperCase())},ra=e=>l.createElement(vr,{"aria-disabled":!0,icon:kr,telemetryProps:{}},e.actionText);const oa=function(e){var{title:t,titleId:n}=e,o=(0,r.__rest)(e,["title","titleId"]);return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:"1em",height:"1em","aria-labelledby":n},o),t?l.createElement("title",{id:n},t):null,l.createElement("path",{d:"M1536 256h384v384h-128V475l-456 456-91-91 456-456h-165V256zm0 1280v-512l128-128v768H0V512h1280l-128 128H128v896h1408z"}))},ia=e=>{const{actionOverride:t,buttonType:n=u.VQ.Primary,buttonLabel:r,storeLink:o,telemetryProps:i}=e;return t?l.createElement(c.a,S()({as:"button","aria-label":r,buttonType:n,className:s()([qn,Kn,w.TF]),onClick:()=>t()},(0,N.vj)(i)),r.toLocaleUpperCase()):l.createElement(c.a,S()({as:"a","aria-label":r,buttonType:n,className:s()([qn,Kn,w.TF]),href:o,target:"_blank"},(0,N.vj)(i)),r.toLocaleUpperCase())},aa=e=>{const{actionOverride:t,buttonType:n=u.VQ.Primary,buttonLabel:r,storeLink:o,telemetryProps:i,className:a}=e,d=[Kn];return a&&d.push(a),t?l.createElement(c.a,S()({as:"button","aria-label":r,buttonType:n,className:s()(d),onClick:()=>t()},(0,N.vj)(i)),r.toLocaleUpperCase()):l.createElement(c.a,S()({as:"a","aria-label":r,buttonType:n,className:s()(d),href:o,target:"_blank"},(0,N.vj)(i)),r.toLocaleUpperCase())},sa=e=>{let{actionOverride:t,buttonLabel:n,storeLink:r,telemetryProps:o}=e;return t?l.createElement(vr,{icon:oa,onClick:()=>t(),telemetryProps:o},n):l.createElement(yr,{href:r,icon:oa,target:"_blank",telemetryProps:o},n)};const la=function(e){var{title:t,titleId:n}=e,o=(0,r.__rest)(e,["title","titleId"]);return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:"1em",height:"1em","aria-labelledby":n},o),t?l.createElement("title",{id:n},t):null,l.createElement("path",{d:"M384 640V384h256v256H384zM128 896V128h768v768H128zm128-640v512h512V256H256zm128 1408v-256h256v256H384zm-256 256v-768h768v768H128zm128-640v512h512v-512H256zm1408-896v256h-256V384h256zm-512-256h768v768h-768V128zm640 640V256h-512v512h512zm-640 768h128v128h-128v-128zm256-256h-128v128h-128v-256h256v128zm256-128v128h-128v-128h128zm-128 128v256h-256v-128h128v-128h128zm-256 384h256v128h-128v128h-256v-128h128v-128zm256 256v-128h256v128h-256zm384-128h-128v-256h128v256zm-128-512v-128h128v256h-128v128h-128v-256h128zm-256 384v-128h128v128h-128z"}))},ca=e=>{const t=(0,f.FE)("redeemACodeButtonLabel"),n=(0,N.zM)(),r=(0,_.useSelector)(en.ct),o=(0,g.wwE)(),i=(0,N.nO)({behavior:N.nS.SHOW,contentName:t,id:"RedeemCodeModalButton",slotNumber:e.slotNumber},n),a={buttonId:"RedeemCodeModalButton",buttonType:e.buttonType,redeemCodeLabel:t,slotNumber:e.slotNumber,telemetryProps:i,onClick:()=>{if(r)e.actionOverride?e.actionOverride():document.dispatchEvent(new CustomEvent("launchContextualStore",{detail:{experience:H.Redeem}}));else{const e=new URL(window.location.toString()),t=o(e.toString());window.location.assign(t)}}};let s;switch(e.experienceButtonType){case _n.nl.Desktop:s=l.createElement(ua,S()({},a));break;case _n.nl.CondensedDesktop:s=l.createElement(da,S()({},a));break;case _n.nl.Mobile:case _n.nl.CondensedMobile:s=l.createElement(pa,S()(S()({},a),{},{className:Sr(!1,e.experienceButtonType)}));break;case _n.nl.MobileStickyHeader:s=l.createElement(pa,S()(S()({},a),{},{className:Yn}));break;case _n.nl.Overflow:s=l.createElement(ma,S()({},a))}return s?l.createElement(l.Fragment,null,s):null},ua=e=>{const{buttonType:t=u.VQ.Primary,redeemCodeLabel:n,telemetryProps:r,onClick:o}=e;return l.createElement(Ce.m,S()(S()({as:"button","aria-label":n,buttonType:t,className:s()([Wn,Kn]),icon:la,title:n},(0,N.vj)(r)),{},{onClick:o}))},da=e=>{const{buttonType:t=u.VQ.Primary,redeemCodeLabel:n,telemetryProps:r,onClick:o}=e;return l.createElement(c.a,S()(S()({as:"button","aria-label":n,buttonType:t,className:s()([qn,Kn,w.TF])},(0,N.vj)(r)),{},{onClick:o}),n.toLocaleUpperCase())},pa=e=>{const{buttonType:t=u.VQ.Primary,redeemCodeLabel:n,telemetryProps:r,onClick:o,className:i}=e;return l.createElement(c.a,S()(S()({as:"button","aria-label":n,buttonType:t,className:i},(0,N.vj)(r)),{},{onClick:o}),n.toLocaleUpperCase())},ma=e=>l.createElement(vr,{icon:la,onClick:e.onClick,telemetryProps:e.telemetryProps},e.redeemCodeLabel),ha="https://redeem.microsoft.com",ga="_blank",fa=e=>{const t=(0,f.FE)("redeemACodeButtonLabel"),n=(0,N.zM)(),r=(0,N.nO)({behavior:N.nS.NAVIGATIONFORWARD,contentName:t,id:"RedeemCodeHrefButton",slotNumber:e.slotNumber},n),o={buttonId:"RedeemCodeHrefButton",buttonType:e.buttonType,redeemCodeLabel:t,slotNumber:e.slotNumber,telemetryProps:r};switch(e.experienceButtonType){case _n.nl.Desktop:return l.createElement(_a,S()({},o));case _n.nl.CondensedDesktop:return l.createElement(va,S()({},o));case _n.nl.Mobile:case _n.nl.CondensedMobile:return l.createElement(ya,S()(S()({},o),{},{className:Sr(!1,e.experienceButtonType)}));case _n.nl.MobileStickyHeader:return l.createElement(ya,S()(S()({},o),{},{className:Yn}));case _n.nl.Overflow:return l.createElement(ba,S()({},o));default:return null}},_a=e=>{const{buttonType:t=u.VQ.Primary,redeemCodeLabel:n,telemetryProps:r}=e;return l.createElement(Ce.m,S()({as:"a","aria-label":n,buttonType:t,className:s()([Wn,Kn]),href:ha,icon:la,target:ga,title:n},(0,N.vj)(r)))},va=e=>{const{buttonType:t=u.VQ.Primary,redeemCodeLabel:n,telemetryProps:r}=e;return l.createElement(c.a,S()({as:"a","aria-label":n,buttonType:t,className:s()([qn,Kn,w.TF]),href:ha,target:ga},(0,N.vj)(r)),n.toLocaleUpperCase())},ya=e=>{const{buttonType:t=u.VQ.Primary,redeemCodeLabel:n,telemetryProps:r,className:o}=e;return l.createElement(c.a,S()({as:"a","aria-label":n,buttonType:t,className:o,href:ha,target:ga},(0,N.vj)(r)),n.toLocaleUpperCase())},ba=e=>l.createElement(yr,{href:ha,icon:la,target:ga,telemetryProps:e.telemetryProps},e.redeemCodeLabel);const Sa=function(e){var{title:t,titleId:n}=e,o=(0,r.__rest)(e,["title","titleId"]);return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:"1em",height:"1em","aria-labelledby":n},o),t?l.createElement("title",{id:n},t):null,l.createElement("path",{d:"M0 384h2048v128H0V384zm0 1152v-128h2048v128H0zm0-512V897h2048v127H0z"}))};const Ea=["onComplete","showModal","title"],Ca=e=>{const{actionOverride:t,buttonType:n=u.VQ.Primary,telemetryProps:r,title:o}=e;return t?l.createElement(c.a,S()({as:"button","aria-label":o,buttonType:n,className:s()([qn,Kn,w.TF]),onClick:()=>t()},(0,N.vj)(r)),o.toLocaleUpperCase()):l.createElement(qo,S()(S()({},e),{},{buttonAccessibilityLabel:o,preferSkuValues:!0,telemetryProps:r,title:o.toLocaleUpperCase()}))},Ta=e=>{const{actionOverride:t,buttonType:n=u.VQ.Primary,listItemAccessibilityFormat:r,productIdentifiers:o,telemetryProps:i,title:a,subTitle:s,className:d}=e,[p,m]=(0,l.useState)(!1),h=(0,l.useRef)(null),g=(0,l.useRef)(null),f=(0,M._E)(p,(()=>m(!1)),h,g);return l.createElement(l.Fragment,null,l.createElement(c.a,S()({as:"button","aria-label":a,buttonType:n,className:d,onClick:t?()=>t():()=>m(!0),ref:h},(0,N.vj)(i)),a.toLocaleUpperCase(),!!s&&l.createElement("div",null,s)),l.createElement(Ia,{listItemAccessibilityFormat:r,contentRef:g,onComplete:f,productIdentifiers:o,showModal:p,telemetryProps:i,title:a}))},wa=e=>{const{actionOverride:t,listItemAccessibilityFormat:n,productIdentifiers:r,telemetryProps:o,title:i}=e,[a,s]=(0,l.useState)(!1);return l.createElement(l.Fragment,null,l.createElement(vr,{"aria-label":i,onClick:t?()=>t():()=>s(!0),icon:Sa,telemetryProps:o},i),l.createElement(cr,null,(e=>l.createElement(Ia,{listItemAccessibilityFormat:n,onComplete:()=>{e.closeDialog(),s(!1)},productIdentifiers:r,showModal:a,telemetryProps:o,title:i}))))},Ia=e=>{const{onComplete:t,showModal:n,title:r}=e,o=P()(e,Ea);return l.createElement(l.Fragment,null,n&&l.createElement(O.aF,{className:"SkuSelectorButton-module__modal___oaP9J",closeable:!0,onHide:t,show:n},l.createElement("h6",{className:w.cb},r),l.createElement(Ho,S()(S()({},o),{},{preferSkuValues:!0}))))};const Pa=function(e){var{title:t,titleId:n}=e,o=(0,r.__rest)(e,["title","titleId"]);return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:"1em",height:"1em","aria-labelledby":n},o),t?l.createElement("title",{id:n},t):null,l.createElement("path",{d:"M1887 1856q0 40-15 75t-41 61-61 41-75 15H354q-40 0-75-15t-61-41-41-61-15-75q0-27 6-51t21-47l569-991v-1q10-14 10-34V128H640V0h768v128h-128v604q0 20 10 34v1l569 991q14 23 21 47t7 51zM538 1408h972l-331-577q-27-46-27-99V128H896v604q0 53-27 99l-331 577z"}))},Aa=["buttonRef","onClick"],ka=["title","subtitle","accessibilityLabel","affirmationProductGlyph","telemetryProps","isUbisoftPlusAffirmation","buttonType","buttonRef","onClick"],xa=e=>{const t=Ra(e),n=(e=>{let{actionArguments:t}=e;const n=(0,l.useRef)(null),r=(0,l.useRef)(null),[o,i]=(0,l.useState)(!1),{[Et.PZ.ProductId]:a,[Et.PZ.SkuId]:s,[Et.PZ.AvailabilityId]:c}=t,u=(0,_.useSelector)(en.ct),d=(0,g.wwE)(),p=(0,g.AzV)(),m=(0,M._E)(o,(e=>{(null===e||void 0===e?void 0:e.status)===U.Purchased?window.location.reload():i(!1)}),n,r);return{productId:a,skuId:s,availabilityId:c,showModal:o,buttonRef:n,contentRef:r,onClick:()=>{if(u)i(!0);else{const e=(0,g.XBe)(a)===E.hd?p(window.location.href):d(window.location.href);window.location.assign(e)}},onResult:m}})(e),{buttonRef:r,onClick:o}=n,i=P()(n,Aa);if(!t)return null;const a=e.actionOverride?()=>e.actionOverride(e.actionArguments):o,{buttonType:s,experienceButtonType:c}=e;let u;switch(c){case _n.nl.Desktop:case _n.nl.Mobile:u=Oa;break;case _n.nl.CondensedDesktop:u=Na;break;case _n.nl.CondensedMobile:case _n.nl.MobileStickyHeader:u=Ma;break;case _n.nl.Overflow:u=La;break;default:return null}return l.createElement(l.Fragment,null,l.createElement(u,S()(S()({},t),{},{buttonType:s,buttonRef:r,onClick:a})),l.createElement(Gr,S()({hasAddOns:t.hasAddOns,experience:H.Purchase},i)))},Ra=e=>{let{actionArguments:t,slotNumber:n,experienceButtonType:r}=e;var o;const i=(0,N.jr)(),a=(0,N.zM)(),{[Et.PZ.ProductId]:s,[Et.PZ.AffirmationProductId]:l}=t,[c,u,d,p,m]=(0,f.cG)("getActionText","getActionAccessibilityText","freeTrial","freeTrialUpsellFormat","commaSeparatorTemplate"),h=(0,_.useSelector)((e=>(0,vt.t7)(e,s)));if(!h||!h.product)return i.warn(`Trial upsell button requested without valid values:\nbaseProductId: ${s}\nhasProductSummaryInfo: ${!!h}\nhasProduct: ${!!(null===h||void 0===h?void 0:h.product)}`),null;const v=l===E.Es;let y,b,C,T;l?(y=(0,E.M3)(l),b=(0,E.wT)(l,!0),C=(0,g.GPZ)(p,r===_n.nl.Desktop&&y||r===_n.nl.Desktop&&v?"":b),T=(0,g.GPZ)(m,(0,g.GPZ)(u,h.product.title),(0,g.GPZ)(p,b))):(y=void 0,b="",C=d,T=(0,g.GPZ)(m,(0,g.GPZ)(u,h.product.title),C));const w=r!==_n.nl.Desktop&&r!==_n.nl.Mobile?C:c,I=(0,N.nO)({behavior:N.nS.PURCHASE,contentName:w,id:"TrialGetButton",slotNumber:n},a),P=Er(!0,r,r===_n.nl.MobileStickyHeader?Yn:void 0);return S()(S()({},P),{},{accessibilityLabel:T,affirmationProductGlyph:y,hasAddOns:null===(o=h.product)||void 0===o?void 0:o.hasAddOns,subtitle:C,isUbisoftPlusAffirmation:v,telemetryProps:I,title:w})},Oa=e=>{let{title:t,subtitle:n,accessibilityLabel:r,affirmationProductGlyph:o,telemetryProps:i,isUbisoftPlusAffirmation:a,buttonType:s=u.VQ.Primary,buttonRef:c,onClick:d}=e,p=P()(e,ka);return l.createElement(tr,S()({buttonRef:c,accessibilityLabel:r,buttonType:s,onClick:d,productGlyph:o,usesUbisoftSVG:a,subtitle:n,title:t.toLocaleUpperCase(),telemetryProps:i},p))},Na=e=>{let{title:t,accessibilityLabel:n,telemetryProps:r,buttonType:o=u.VQ.Primary,buttonRef:i,onClick:a}=e;return l.createElement(c.a,S()({as:"button","aria-label":n,className:s()(qn,w.TF),ref:i,buttonType:o,onClick:a},(0,N.vj)(r)),t.toLocaleUpperCase())},Ma=e=>{let{title:t,accessibilityLabel:n,telemetryProps:r,buttonType:o=u.VQ.Primary,buttonRef:i,overrideClassName:a,onClick:s}=e;const d=t.toLocaleUpperCase();return l.createElement(c.a,S()({as:"button",ref:i,"aria-label":n,buttonType:o,className:a,onClick:s},(0,N.vj)(r)),d)},La=e=>{let{title:t,accessibilityLabel:n,telemetryProps:r,onClick:o}=e;return l.createElement(vr,{"aria-label":n,onClick:o,icon:Pa,telemetryProps:r},t)},Da=e=>{const t=Fa(e);if(!t)return null;const{buttonType:n,experienceButtonType:r}=e;let o;switch(r){case _n.nl.Desktop:case _n.nl.Mobile:case _n.nl.CondensedMobile:o=r===_n.nl.CondensedMobile?Ha:Ua;break;case _n.nl.CondensedDesktop:o=Ba;break;case _n.nl.MobileStickyHeader:o=Ha;break;case _n.nl.Overflow:o=Ga;break;default:return null}return l.createElement(o,S()(S()({},t),{},{buttonType:n}))},Fa=e=>{let{actionArguments:t,upsellProductId:n,slotNumber:r,experienceButtonType:o}=e;const i=(0,N.jr)(),a=(0,N.zM)(),{[Et.PZ.ProductId]:s}=t,[l,c,u]=(0,f.cG)("upsellGetFormat","freeTrialUpsellFormat","inclusionUpsellButtonAccessibilityLabelFormat"),d=(0,_.useSelector)((e=>(0,vt.t7)(e,s))),p=(0,E.wT)(n,!0),m=(0,Et.zo)(n,s),h=(0,g.XBe)(n)===E.Es;if(!n||!p||!d||!d.product)return i.warn(`Trial upsell button requested without valid values:\nupsellProductId: ${n}\nupsellProductTitle: ${p}\nbaseProductId: ${s}\nhasProductSummaryInfo: ${!!d}\nhasProduct: ${!!(null===d||void 0===d?void 0:d.product)}`),null;const v=(0,E.M3)(n),y=(0,g.GPZ)(c,o===_n.nl.Desktop&&(v||h)?"":p),b=o===_n.nl.Overflow?y:(0,g.GPZ)(l,p),C=(0,g.GPZ)(u,p,d.product.title),T=(0,N.nO)({behavior:N.nS.NAVIGATIONFORWARD,contentName:b,id:"TrialUpsellButton",slotNumber:r},a),w=Er(!0,o,o===_n.nl.MobileStickyHeader?Yn:void 0);return S()(S()({},w),{},{title:b,subtitle:y,accessibilityLabel:C,isUbisoftPlusUpsell:h,upsellProductGlyph:v,upsellProductLink:m,telemetryProps:T})},Ua=e=>{let{title:t,subtitle:n,accessibilityLabel:r,isUbisoftPlusUpsell:o,upsellProductGlyph:i,upsellProductLink:a,telemetryProps:s,buttonType:c=u.VQ.Primary,overrideClassName:d,overrideContainerClassName:p}=e;return l.createElement(nr,{accessibilityLabel:r,buttonType:c,href:a,productGlyph:i,usesUbisoftSVG:o,subtitle:n,title:t.toLocaleUpperCase(),telemetryProps:s,overrideClassName:d,overrideContainerClassName:p})},Ba=e=>{let{accessibilityLabel:t,buttonType:n=u.VQ.Primary,telemetryProps:r,title:o,upsellProductLink:i}=e;return l.createElement(c.a,S()({as:"a","aria-label":t,buttonType:n,className:s()(qn,w.TF),href:i},(0,N.vj)(r)),o.toLocaleUpperCase())},Ha=e=>{let{title:t,accessibilityLabel:n,upsellProductLink:r,telemetryProps:o,buttonType:i=u.VQ.Primary,overrideClassName:a}=e;const s=t.toLocaleUpperCase();return l.createElement(c.a,S()({as:"a","aria-label":n,buttonType:i,className:a,href:r},(0,N.vj)(o)),s)},Ga=e=>{let{title:t,accessibilityLabel:n,upsellProductLink:r,telemetryProps:o}=e;return l.createElement(yr,{"aria-label":n,href:r,icon:Pa,telemetryProps:o},t)},qa=["actionArguments"];n(42042),n(73118),n(90374),n(72252),n(38124),n(70889),n(98788),n(46826),n(65949),n(9402),n(84035),n(14419),n(20629),n(90029),n(21019),n(65478),n(55976);var ja=n(38485),Va=n(99971);const za=[E.b6,E.hd,E.CZ,E.pA,E.Es,E.mr,E.KJ,E.Tw,E.BO],Xa=e=>e.filter((e=>za.includes(e))).map(((e,t)=>l.createElement(Ft,{key:`subscriptionEditionCard-${e}`,productId:e,slotNumber:t}))),Ka=e=>{let{productId:t,channelId:n}=e;var r;const o=(null===(r=(0,_.useSelector)((e=>(0,pn.Pb)(e,n))))||void 0===r?void 0:r.products.map((e=>e.productId)))||[],i=(0,_.useSelector)((e=>(0,vt.Mq)(e,t))),a=(0,f.JX)(i?"comingSoonToTheseSubscriptions":"includedInTheseSubscriptions"),s=Xa(o);return(null===o||void 0===o?void 0:o.length)?l.createElement(O.IL,null,l.createElement(He,{items:s,title:a})):null};const Wa=e=>{let{contentRef:t,passProducts:n,show:r=!1,onHide:o}=e;if(!(null===n||void 0===n?void 0:n.length))return null;const i=n.some((e=>e.isComingSoon));return l.createElement(O.aF,{show:r,onHide:o,closeable:!0,className:"IncludedInSubscriptions-module__modalContainer___1fcM6"},l.createElement(O.aF.Header,null,l.createElement($a,{isComingSoon:i})),l.createElement(O.aF.Body,null,l.createElement(Po.WY,null,l.createElement(Ya,{passProducts:n,contentRef:t}))))},$a=e=>{let{isComingSoon:t}=e;const n=(0,f.JX)(t?"comingSoonToTheseSubscriptions":"includedInTheseSubscriptions");return l.createElement("h2",{className:s()(w.me,"IncludedInSubscriptions-module__modalHeaderText___YccIQ")},n)},Ya=e=>{let{passProducts:t,contentRef:n}=e;const r=t.map((e=>e.passProductId)),o=Xa(r);return l.createElement("ul",{className:"IncludedInSubscriptions-module__channelWrapper___7zrNb",ref:n},o.map(((e,t)=>l.createElement("li",{key:t},e))))},Qa=["actionArguments","logger"],Ja=["baseProductTitle","buttonTitle","buttonType","telemetryProps","upsellLink","upsellProductGlyph","upsellProductTitle","upsellUsesUbisoftLogo","overrideClassName","overrideContainerClassName"],Za=e=>{var t;const n=(0,g.XBe)(e.actionArguments[Et.PZ.UpsellProductId]),r=!!(null===(t=e.actionArguments[Et.PZ.UpsellProductIdsComingSoonList])||void 0===t?void 0:t.trim()),o=(0,N.jr)(),i=(0,f.FE)("upsellGetFormat"),a=(0,N.zM)(),s=(0,E.wT)(n,!0),c=e.actionArguments[Et.PZ.ProductId],u=(0,Et.zo)(n,c);if(!n||!s)return o.warn(`Upsell button requested without valid values:\nupsellProductId: ${n}\nupsellProductTitle: ${s}`),null;const d=(0,g.GPZ)(i,s),p={buttonId:r?"ComingSoonUpsellButton":"UpsellButton",buttonTitle:d,telemetryProps:(0,N.nO)({behavior:N.nS.NAVIGATIONFORWARD,contentName:d,id:r?"ComingSoonUpsellButton":"UpsellButton",slotNumber:e.slotNumber},a),upsellProductId:n,upsellLink:u,upsellProductTitle:s};switch(e.experienceButtonType){case _n.nl.Desktop:return l.createElement(es,S()(S()({},p),{},{actionArguments:e.actionArguments,buttonType:e.buttonType,logger:o}));case _n.nl.CondensedDesktop:return l.createElement(rs,S()(S()({},p),{},{buttonType:e.buttonType}));case _n.nl.CondensedMobile:case _n.nl.Mobile:{const t=Er(!0,e.experienceButtonType),n=S()(S()({},p),t);return e.experienceButtonType===_n.nl.CondensedMobile?l.createElement(os,S()(S()({},n),{},{buttonType:e.buttonType})):l.createElement(es,S()(S()({},n),{},{actionArguments:e.actionArguments,buttonType:e.buttonType,logger:o}))}case _n.nl.MobileStickyHeader:return l.createElement(os,S()(S()({},p),{},{buttonType:e.buttonType,overrideClassName:Yn}));case _n.nl.Overflow:return l.createElement(is,S()({},p));default:return null}},es=e=>{var t;const{actionArguments:n,logger:r}=e,o=P()(e,Qa),[i,a,s]=[n[Et.PZ.ProductId],n[Et.PZ.SkuId],n[Et.PZ.AvailabilityId]],c=!!(null===(t=e.actionArguments[Et.PZ.UpsellProductIdsComingSoonList])||void 0===t?void 0:t.trim()),u=(0,g.XBe)(n[Et.PZ.GlyphProductId]),d=(0,g.XBe)(e.upsellProductId),p=u||d,m=(0,_.useSelector)(g.P6r),h=(0,_.useSelector)((e=>(0,vt.t7)(e,i,a,s))),f=(0,E.M3)(p),v=d===E.Es;if(!h||!h.product)return r.warn(`Upsell button requested without valid values:\nbaseProductId: ${i}\nbaseSkuId: ${a}\nbaseAvailabilityId: ${s}\nhasProductSummaryInfo: ${!!h}\nhasProduct: ${!!(null===h||void 0===h?void 0:h.product)}`),null;if(i&&a&&s){const t=h.availability;if(t&&t.price.listPrice<t.price.msrp){const n=(0,g.vv8)(t.price.msrp-t.price.listPrice,t.price.currency,m);return l.createElement(ns,S()({baseProductTitle:h.product.title,experienceButtonType:e.experienceButtonType,saleDiscount:n,upsellProductGlyph:f,upsellUsesUbisoftLogo:v,isComingSoonUpsell:c},o))}return r.warn(`Sale Upsell button requested with invalid availability:\nhasAvailability: ${!!t}\nlistPrice: ${null===t||void 0===t?void 0:t.price.listPrice}\nmsrp: ${null===t||void 0===t?void 0:t.price.msrp}`),null}return l.createElement(ts,S()({baseProductTitle:h.product.title,experienceButtonType:e.experienceButtonType,upsellProductGlyph:f,upsellUsesUbisoftLogo:v,isComingSoonUpsell:c},o))},ts=e=>{const[t,n]=(0,f.cG)(e.isComingSoonUpsell?"upsellComingSoonToFormat":"upsellIncludedWithFormat",e.isComingSoonUpsell?"inclusionUpsellComingSoonButtonAccessibilityLabelFormat":"inclusionUpsellButtonAccessibilityLabelFormat"),{baseProductTitle:r,buttonTitle:o,buttonType:i=u.VQ.Primary,telemetryProps:a,upsellLink:s,upsellProductGlyph:c,upsellProductTitle:d,upsellUsesUbisoftLogo:p,overrideClassName:m,overrideContainerClassName:h}=e,_=P()(e,Ja);return l.createElement(vo,{accessibilityLabel:(0,g.GPZ)(n,d,r),buttonType:i,href:s,telemetryProps:a,overrideClassName:m,overrideContainerClassName:h},l.createElement("div",{className:w.TF,"aria-hidden":"true"},o.toLocaleUpperCase()),l.createElement(So,{upsellTitleId:_.upsellProductId,subtitleFormat:t,usesUbisoftSVG:p,productGlyph:c}))},ns=e=>{const[t,n]=(0,f.cG)("upsellSaveWithFormat","saleUpsellButtonAccessibilityLabelFormat"),{baseProductTitle:r,upsellProductTitle:o,buttonType:i=u.VQ.Primary,telemetryProps:a,saleDiscount:s,upsellLink:c,upsellProductGlyph:d,upsellUsesUbisoftLogo:p,overrideClassName:m,overrideContainerClassName:h}=e;return l.createElement(vo,{accessibilityLabel:(0,g.GPZ)(n,o,s,r),buttonType:i,href:c,telemetryProps:a,overrideClassName:m,overrideContainerClassName:h},l.createElement("div",{className:w.TF,"aria-hidden":"true"},r),l.createElement(Eo,{subtitleFormat:t,saleDiscount:s,usesUbisoftSVG:p,productGlyph:d}))},rs=e=>{const{buttonTitle:t,buttonType:n=u.VQ.Primary,telemetryProps:r,upsellLink:o}=e;return l.createElement(c.a,S()({as:"a",buttonType:n,className:s()(qn,w.TF),href:o},(0,N.vj)(r)),t.toLocaleUpperCase())},os=e=>{const{buttonTitle:t,buttonType:n=u.VQ.Primary,telemetryProps:r,upsellLink:o,overrideClassName:i}=e;return l.createElement(c.a,S()({as:"a",buttonType:n,className:i,href:o},(0,N.vj)(r)),t.toLocaleUpperCase())},is=e=>{const t=(0,E.ZR)(e.upsellProductId)||Va.A;return l.createElement(yr,{href:e.upsellLink,icon:t,telemetryProps:e.telemetryProps},e.buttonTitle)},as=e=>{const t=ss(e),[n,r]=(0,l.useState)(!1),o=(0,l.useRef)(null),i=(0,l.useRef)(null),a=(0,M._E)(n,(()=>{r(!1)}),o,i);if(!t)return null;if(1===t.upsellPasses.length)return l.createElement(Za,S()(S()({},e),{},{actionArguments:S()(S()({},e.actionArguments),{},{[Et.PZ.UpsellProductId]:t.upsellPasses[0].passProductId,[Et.PZ.UpsellProductIdsComingSoonList]:t.upsellPasses[0].isComingSoon?t.upsellPasses[0].passProductId:""})}));const{buttonType:s,experienceButtonType:c}=e;let u;switch(c){case _n.nl.Desktop:case _n.nl.Mobile:case _n.nl.CondensedMobile:u=c===_n.nl.CondensedMobile?us:ls;break;case _n.nl.CondensedDesktop:u=cs;break;case _n.nl.MobileStickyHeader:u=us;break;case _n.nl.Overflow:u=ds;break;default:return null}return l.createElement(l.Fragment,null,l.createElement(u,S()(S()({},t),{},{buttonRef:o,buttonType:s,onClick:()=>{r(!0)}})),l.createElement(Wa,{contentRef:i,onHide:a,passProducts:t.upsellPasses,show:n}))},ss=e=>{let{actionArguments:t,slotNumber:n,experienceButtonType:r}=e;const o=(0,N.jr)(),i=(0,N.zM)(),{[Et.PZ.ProductId]:a,[Et.PZ.UpsellProductIdsList]:s,[Et.PZ.UpsellProductIdsComingSoonList]:l}=t,c=s.split(";").filter((e=>0!==e.length)).map(((e,t)=>({passProductId:e,isComingSoon:!1}))),u=l.split(";").filter((e=>0!==e.length)).map(((e,t)=>({passProductId:e,isComingSoon:!0}))),d=u.length>0,p=[...new Set([...u,...c])],[m,h,v,y,b,C,T,w]=(0,f.cG)("multiUpsellGet","multiUpsellIncludedIn","multiUpsellGetButtonAccessibilityLabelFormat","upsellGetFormat","upsellIncludedWithFormat","upsellComingSoonToFormat","inclusionUpsellButtonAccessibilityLabelFormat","inclusionUpsellComingSoonButtonAccessibilityLabelFormat"),I=(0,_.useSelector)((e=>(0,vt.t7)(e,a)));if(!I||!I.product)return o.warn(`Multi upsell button requested without valid values:\nbaseProductId: ${a}\nhasProductSummaryInfo: ${!!I}\nhasProduct: ${!!(null===I||void 0===I?void 0:I.product)}`),null;let P,A,k,x,R;p.every((e=>E.Ix.includes(e.passProductId)))?(P=(0,g.GPZ)(y,E.ei),A=(0,g.GPZ)(d?C:b,""),k=(0,g.GPZ)(d?w:T,E.ei,I.product.title),x=O.c9.XboxGamepassInline,R=ja.A):(P=m,A=h,k=(0,g.GPZ)(v,I.product.title),x=void 0,R=void 0);const M=(0,N.nO)({behavior:N.nS.SHOW,contentName:P,id:"MultiUpsellButton",slotNumber:n},i),L=Er(!0,r,r===_n.nl.MobileStickyHeader?Yn:void 0);return S()(S()({},L),{},{accessibilityLabel:k,subtitle:A,telemetryProps:M,title:P,upsellPasses:p,upsellProductGlyph:x,upsellProductIcon:R})},ls=e=>{let{title:t,subtitle:n,accessibilityLabel:r,upsellProductGlyph:o,telemetryProps:i,buttonType:a=u.VQ.Primary,buttonRef:s,onClick:c,overrideClassName:d,overrideContainerClassName:p}=e;return l.createElement(tr,{buttonRef:s,accessibilityLabel:r,buttonType:a,onClick:c,productGlyph:o,subtitle:n,title:t.toLocaleUpperCase(),telemetryProps:i,overrideClassName:d,overrideContainerClassName:p})},cs=e=>{let{title:t,accessibilityLabel:n,telemetryProps:r,buttonType:o=u.VQ.Primary,buttonRef:i,onClick:a}=e;return l.createElement(c.a,S()({as:"button","aria-label":n,className:s()(qn,w.TF),ref:i,buttonType:o,onClick:a},(0,N.vj)(r)),t.toLocaleUpperCase())},us=e=>{let{title:t,accessibilityLabel:n,telemetryProps:r,buttonType:o=u.VQ.Primary,buttonRef:i,onClick:a,overrideClassName:s}=e;return l.createElement(c.a,S()({as:"button",ref:i,"aria-label":n,buttonType:o,className:s,onClick:a},(0,N.vj)(r)),t.toLocaleUpperCase())},ds=e=>{let{title:t,accessibilityLabel:n,telemetryProps:r,onClick:o,upsellProductIcon:i}=e;return l.createElement(vr,{"aria-label":n,onClick:o,icon:i||Va.A,telemetryProps:r},t)},ps=["actionArguments"];function ms(e){return!!e&&e.split(";").every((e=>E.Ix.includes(e)))}const hs=function(e){var{title:t,titleId:n}=e,o=(0,r.__rest)(e,["title","titleId"]);return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:"1em",height:"1em","aria-labelledby":n},o),t?l.createElement("title",{id:n},t):null,l.createElement("path",{d:"M1024 564q-35-35-69-71t-69-71-72-64-79-53-89-36-102-13q-87 0-162 32t-132 89-89 132-33 163q0 84 31 159t91 135l774 774v181l-865-864Q82 981 41 881T0 672q0-75 19-144t55-130 85-110 110-85 130-55 145-20q84 0 149 19t119 52 105 81 107 103q56-56 106-103t105-80 120-53 149-19q112 0 211 43t173 116 117 173 43 212q0 109-41 208t-118 177l-97 97V972q62-61 94-136t33-164q0-88-32-163t-88-130-132-87-163-32q-85 0-150 27t-121 71-105 98-104 108zm640 588v384h384v128h-384v384h-128v-384h-384v-128h384v-384h128z"}))};var gs=n(15761);const fs={[_n.Ay.Acquisition]:e=>{var t;const{[Et.PZ.ProductId]:n,[Et.PZ.SkuId]:r,[Et.PZ.AvailabilityId]:o,[Et.PZ.IsUpgrade]:i,[Et.PZ.IsDisabled]:a,[Et.PZ.DisabledReason]:s}=e.actionArguments,c=(0,N.jr)(),u=(0,_.useSelector)((e=>(0,vt.t7)(e,n,r,o))),d=(0,_.useSelector)(en.ct),p=(0,_.useSelector)((e=>(0,g.pzA)(e,g.WTf.EnableEditionUpgradeOffer)));let m=null;if(oo(n,r,o,u,"Acquisition",c)){const c=u.availability.price,h=u.sku.recurrencePolicySummary,g=u.product.title,f={availabilityId:o,buttonType:e.buttonType,endDateUtcString:u.availability.endDateUtc,experienceButtonType:e.experienceButtonType,hasAddOns:u.product.hasAddOns,isDisabled:(0,M._4)(a)&&d,disabledReason:s,actionOverride:e.actionOverride?()=>e.actionOverride(e.actionArguments):void 0,price:c,productId:n,productSummaryInfo:u,recurrencePolicySummary:h,skuId:r,slotNumber:e.slotNumber,title:g},_=p&&(null===(t=null===c||void 0===c?void 0:c.xPriceOfferInfo)||void 0===t?void 0:t.xPriceOfferSubType)===E.sB.UpgradedDifferentialOffer;m=u.sku.isPreorder?l.createElement(Jr,S()({},f)):0===c.listPrice?l.createElement(Yr,S()({},f)):(0,M._4)(i)||_?l.createElement($r,S()({},f)):(0,E.Vh)(h)&&(null===h||void 0===h?void 0:h.isRecurring)?l.createElement(Qr,S()({},f)):l.createElement(Wr,S()({},f))}return m},[_n.Ay.AccountLink]:e=>{const t=Cr(e);if(!t)return null;const{buttonType:n,experienceButtonType:r}=e;let o;switch(r){case _n.nl.Desktop:o=Tr;break;case _n.nl.CondensedDesktop:o=wr;break;case _n.nl.Mobile:case _n.nl.CondensedMobile:case _n.nl.MobileStickyHeader:o=Ir;break;case _n.nl.Overflow:o=Pr;break;default:return null}return l.createElement(o,S()(S()({},t),{},{buttonType:n}))},[_n.Ay.BuyToOwn]:e=>{const[t,n,r,o]=[e.actionArguments[Et.PZ.ProductId],e.actionArguments[Et.PZ.SkuId],e.actionArguments[Et.PZ.AvailabilityId],e.slotNumber],i=(0,N.jr)(),a=(0,_.useSelector)((e=>(0,vt.t7)(e,t,n,r))),[s,c]=(0,f.cG)("buyActionText","buyActionAccessibilityText");let u=null;if(oo(t,n,r,a,"BuyToOwn",i)){const{product:i,sku:d,availability:p}=S()({},a),m={productId:t,skuId:n,availabilityId:r,buttonType:e.buttonType,endDateUtcString:p.endDateUtc,experienceButtonType:e.experienceButtonType,hasAddOns:a.product.hasAddOns,price:p.price,recurrencePolicySummary:d.recurrencePolicySummary,slotNumber:o,title:i.title,productSummaryInfo:a,actionOverride:e.actionOverride?()=>e.actionOverride(e.actionArguments):void 0};u=a.sku.isPreorder?l.createElement(Jr,S()({},m)):l.createElement(Zr,S()({actionAccessibilityLabelFormat:c,actionText:s,buttonId:"BuyToOwnButton"},m))}return u},[_n.Ay.Cart]:e=>{const[t,n,r]=[e.actionArguments[Et.PZ.ProductId],e.actionArguments[Et.PZ.SkuId],e.actionArguments[Et.PZ.AvailabilityId]],o=(0,_.useDispatch)(),i=(0,_.useSelector)((e=>(0,vt.bg)(e,t,n,r))),[a,s,c,u,d,p]=(0,f.cG)("actionErrorMessage","addToCartButtonAccessibilityLabelFormat","addToCartProcessingButtonAccessibilityLabelFormat","addToCartActionText","openCartButtonAccessibilityLabel","reloadPageRequestMessage"),m=(0,N.zM)(),[h,v]=(0,l.useState)(),[y,b]=(0,l.useState)(p),[E,C]=(0,l.useState)(!1),[T,w]=(0,l.useState)(!1),I=(0,_.useSelector)((e=>(0,vt.t7)(e,t,n,r)));if(!I||!I.product||!t||!n||!r)return null;const P=(0,g.GPZ)(s,I.product.title),A=(0,g.GPZ)(c,I.product.title),k={productId:t,skuId:n,availabilityId:r,quantity:1},x=e=>{var t;w(!1),C(!0),e.reasons.length>0&&(v(null===(t=e.reasons[0].code)||void 0===t?void 0:t.toString()),b(e.displayMessage&&!e.displayMessage.isDefault?e.displayMessage.shortDescription:p))},R=()=>{w(!1)};let M={behavior:N.nS.ADDTOCART,contentName:P};i&&(M={behavior:N.nS.VIEWCART,contentName:d});const L=(0,N.nO)(S()({id:"CartButton",slotNumber:e.slotNumber},M),m);return l.createElement(l.Fragment,null,l.createElement(co,{actionAccessibilityLabel:P,actionIcon:ao.A,actionLabel:u,buttonId:"CartButton",buttonType:e.buttonType,experienceButtonType:e.experienceButtonType,navigationAccessibilityLabel:d,navigationHref:"/cart",navigationIcon:so,navigationLabel:d,onClick:()=>{w(!0),o(vt.iv.addToCart.start({items:[k]},R,x))},processingAccessibilityLabel:A,showSpinner:T,slotNumber:e.slotNumber,state:i,telemetryProps:L}),E&&l.createElement(O.aF,{className:Xn,closeable:!0,onHide:()=>C(!1),show:E,ariaLabel:a},l.createElement(de,{errorCode:h,errorMessage:a,userRequestMessage:y})))},[_n.Ay.CloudPlay]:e=>{const{[Et.PZ.ProductId]:t,[Et.PZ.UpsellProductId]:n,[Et.PZ.CloudServiceUpsells]:r}=e.actionArguments,o=(0,l.useContext)(jr),i=(0,N.jr)(),a=(0,_.useSelector)((e=>(0,vt.t7)(e,t))),s=(0,_.useSelector)((e=>(0,g.pzA)(e,g.WTf.EnableMultiCloudPlayButton))),c=r?JSON.parse(r):void 0,u=1===(null===c||void 0===c?void 0:c.length)&&(0,g.JSV)(c[0].ServiceId,E.gx.geforcenow);if(!t||!a.product||!n&&!c||u&&!s)return i.warn(`Cloud play button requested without valid values:\nbaseProductId: ${t}\nhasProductSummaryInfo: ${!!a}\nhasProduct: ${!!(null===a||void 0===a?void 0:a.product)}\ncloudServiceUpsellObjects: ${c}\nupsellsOnlyHasNvidia: ${u}`),null;let d;return d=s&&c&&c.length>1&&o!==_n._z.ContextualStore?Lo:Co,l.createElement(d,S()(S()({},e),{},{baseProductId:t,cloudServiceUpsells:c,productSummaryInfo:a,upsellProductId:n}))},[_n.Ay.EditionSelector]:e=>{const t=e.actionArguments[Et.PZ.ProductId],n=(e.actionArguments[Et.PZ.EditionIdsList]||"").split(";").filter((e=>0!==e.length)).map((e=>({productId:e,skuId:"",availabilityId:""}))),[r]=(0,f.cG)("editionSelectorButtonText"),o=(0,N.zM)(),i=(0,_.useSelector)((e=>(0,vt.Ct)(e,t)));if(!i||e.experienceButtonType!==_n.nl.Desktop)return null;const a=(0,N.nO)({behavior:N.nS.SHOW,contentName:r,id:"EditionSelectorButton",slotNumber:e.slotNumber},o);return l.createElement(qo,{buttonAccessibilityLabel:r,buttonId:e.buttonId,buttonType:e.buttonType,productIdentifiers:n,subTitle:i.product.title,telemetryProps:a,title:r.toLocaleUpperCase()})},[_n.Ay.Extend]:e=>{var t;const[n,r,o]=[e.actionArguments[Et.PZ.ProductId],e.actionArguments[Et.PZ.SkuId],e.actionArguments[Et.PZ.AvailabilityId]],i=(0,N.jr)(),a=(0,_.useSelector)((e=>(0,vt.t7)(e,n,r,o))),[s,c]=(0,f.cG)("extendActionText","extendActionAccessibilityLabelFormat");let u=null;if(oo(n,r,o,a,"Extend",i)){const i=a.availability,d=e.actionOverride?()=>e.actionOverride(e.actionArguments):void 0;u=l.createElement(Zr,{actionText:s,actionAccessibilityLabelFormat:c,availabilityId:o,behavior:N.nS.RENEWSUBSCRIPTION,buttonType:e.buttonType,buttonId:"ExtendButton",endDateUtcString:i.endDateUtc,experienceButtonType:e.experienceButtonType,hasAddOns:a.product.hasAddOns,iconOverride:Ar,price:i.price,productId:n,productSummaryInfo:a,recurrencePolicySummary:null===(t=a.sku)||void 0===t?void 0:t.recurrencePolicySummary,slotNumber:e.slotNumber,skuId:r,title:a.product.title,actionOverride:d})}return u},[_n.Ay.Gift]:e=>{const[t,n]=(0,l.useState)(!1),[r,o,i]=[e.actionArguments[Et.PZ.ProductId],e.actionArguments[Et.PZ.SkuId],e.actionArguments[Et.PZ.AvailabilityId]],a=(0,f.FE)("giftActionAccessibilityLabelFormat"),s=(0,_.useSelector)((e=>(0,vt.t7)(e,r))),c=(0,_.useSelector)((e=>(0,g.pzA)(e,g.WTf.EnablePurchaseLaunchOnLogin))),u=(0,N.zM)(),d=(0,_.useSelector)(en.ct),p=(0,g.wwE)(),m=(0,g.AzV)();if(!s||!s.product||!r)return null;const h=(0,g.GPZ)(a,s.product.title),v=c?Mr(window.location.href,r,{skuId:o,availabilityId:i,experience:G.Gift}):(0,xr.F)(),y=(0,N.nO)({behavior:N.nS.INTENTTOBUY,id:"GiftButton",contentName:h,slotNumber:e.slotNumber},u),b={accessibilityLabel:h,availabilityId:i,buttonId:"GiftButton",buttonType:e.buttonType,productId:r,slotNumber:e.slotNumber,showModal:t,skuId:o,telemetryProps:y,hideModal:()=>n(!1),onClick:()=>{if(e.actionOverride)e.actionOverride();else if(d)n(!0);else{const e=(0,g.XBe)(r)===E.hd?m(v):p(v);window.location.assign(e)}}};switch(e.experienceButtonType){case _n.nl.Desktop:return l.createElement(Vo,S()({},b));case _n.nl.CondensedDesktop:return l.createElement(zo,S()({},b));case _n.nl.Mobile:case _n.nl.CondensedMobile:return l.createElement(Xo,S()(S()({},b),{},{className:Sr(!1,e.experienceButtonType)}));case _n.nl.MobileStickyHeader:return l.createElement(Xo,S()(S()({},b),{},{className:Yn}));case _n.nl.Overflow:return l.createElement(Ko,S()({},b));default:return null}},[_n.Ay.Install]:e=>{let{actionArguments:t,slotNumber:n,buttonType:r,experienceButtonType:o}=e;const[i,a]=[t[Et.PZ.ProductId],t[Et.PZ.UpsellProductId]],s=(0,M._4)(t[Et.PZ.IsTrial]),[c,u]=(0,l.useState)(!1),d=()=>u(!0),p=()=>u(!1),m=(0,_.useSelector)((e=>(0,vt.t7)(e,i))),h=(0,_.useSelector)((e=>(0,Fi.z4)(e,i))),g=(0,f.FE)("installButtonText"),v=(0,N.zM)(),y=(0,l.useRef)(null),b=(0,l.useRef)(null),E=(0,M._E)(c,p,y,b);if(!i||!m)return null;const C=(0,N.nO)({behavior:N.nS.SHOW,contentName:g,id:"InstallButton",slotNumber:n},v),T={buttonId:"InstallButton",buttonTitle:g,slotNumber:n,telemetryProps:C,openModal:d},w=(e,t)=>{switch(null===h||void 0===h?void 0:h.operationStatus){case _n.Uh.Pending:return l.createElement(qi,{baseProductId:i,overrideClassName:e});case _n.Uh.ConsoleError:case _n.Uh.Error:case _n.Uh.TimedOut:return l.createElement(Gi,{installOperation:h,openModal:d,telemetryProps:C,overrideClassName:e,overrideContainerClassName:t});case _n.Uh.Succeeded:return l.createElement(ji,{baseProductId:i,overrideClassName:e});default:return l.createElement(Bi,S()(S()({},T),{},{overrideClassName:e,overrideContainerClassName:t,baseProductId:i,buttonRef:y,buttonType:r,upsellProductId:a,isTrial:s}))}},I=()=>l.createElement(Oi,{"aria-labelledby":"title",closeable:!0,contentRef:b,onCancelClicked:E,onHide:E,onInstallClicked:E,productId:i,show:c});switch(o){case _n.nl.Desktop:return l.createElement("div",null,w(),I());case _n.nl.CondensedMobile:{const e=S()(S()({},T),Er(!1,o));return l.createElement(l.Fragment,null,l.createElement(Hi,S()(S()({},e),{},{buttonRef:y,buttonType:r})),I())}case _n.nl.Mobile:{const e=Er(!0,o);return l.createElement(l.Fragment,null,w(e.overrideClassName,e.overrideContainerClassName),I())}case _n.nl.MobileStickyHeader:return l.createElement(l.Fragment,null,l.createElement(Hi,S()(S()({},T),{},{buttonRef:y,buttonType:r,overrideClassName:Yn})),I());case _n.nl.Overflow:return l.createElement(Vi,S()(S()({},T),{},{baseProductId:i,hideModal:p,openModal:d,showModal:c}));default:return null}},[_n.Ay.Manage]:e=>{var t,n;const[r,o]=(0,l.useState)(!1),i=(0,f.FE)("manageActionText"),a=e.actionArguments&&(0,M._4)(e.actionArguments.IsExternallyManagedPass),s=e.actionArguments&&(0,E.wT)(null!==(t=e.actionArguments.ProductId)&&void 0!==t?t:"",!1),c=(0,N.zM)(),d=(0,l.useRef)(null),p=(0,l.useRef)(null),m=(0,M._E)(r,(()=>o(!1)),d,p),h=(0,N.nO)({behavior:a?N.nS.SHOW:N.nS.NAVIGATIONFORWARD,contentName:i,id:"ManageButton",slotNumber:e.slotNumber},c),g={behavior:N.nS.OTHER,buttonId:"ManageButton",buttonLabel:i,buttonType:e.buttonType,slotNumber:e.slotNumber,isExternallyManaged:a,onClick:()=>{o(!0)},experienceButtonType:e.experienceButtonType,telemetryProps:h},_={buttonType:null!==(n=e.buttonType)&&void 0!==n?n:u.VQ.Primary,showModal:r,contentRef:p,subscriptionName:s,onComplete:m};return l.createElement(l.Fragment,null,l.createElement(Qi,S()({},g)),l.createElement(Ki,S()({},_)))},[_n.Ay.NotSoldSeparately]:e=>{const t=(0,M._4)(e.actionArguments[Et.PZ.IsBundleProduct]),{bundleNotAvailableActionText:n,notSoldSeparatelyActionText:r}=(0,f.ot)("bundleNotAvailableActionText","notSoldSeparatelyActionText"),o=t?n:r;switch(e.experienceButtonType){case _n.nl.Desktop:return l.createElement(ta,{actionText:o});case _n.nl.Mobile:case _n.nl.CondensedMobile:return l.createElement(na,{actionText:o});case _n.nl.MobileStickyHeader:return l.createElement(na,{actionText:o,className:"CommonButtonStyles-module__disabledMobileStickyBannerButton___YjEEx"});case _n.nl.Overflow:return l.createElement(ra,{actionText:o});default:return null}},[_n.Ay.OpenInStore]:e=>{const t=(0,f.FE)("openInStoreButtonLabel"),{[Et.PZ.ProductId]:n,[Et.PZ.SkuId]:r,[Et.PZ.AvailabilityId]:o}=e.actionArguments,i=(0,Et.ww)(n,void 0,r,o),a=(0,N.zM)(),s=(0,N.nO)({behavior:N.nS.NAVIGATIONFORWARD,contentName:t,id:"OpenInStoreButton",slotNumber:e.slotNumber},a),c={actionOverride:e.actionOverride,buttonId:"OpenInStoreButton",buttonLabel:t,buttonType:e.buttonType,slotNumber:e.slotNumber,storeLink:i,telemetryProps:s};switch(e.experienceButtonType){case _n.nl.CondensedDesktop:return l.createElement(ia,S()({},c));case _n.nl.Mobile:case _n.nl.CondensedMobile:return l.createElement(aa,S()(S()({},c),{},{className:Sr(!1,e.experienceButtonType)}));case _n.nl.MobileStickyHeader:return l.createElement(aa,S()(S()({},c),{},{className:Yn}));case _n.nl.Overflow:return l.createElement(sa,S()({},c));default:return null}},[_n.Ay.RedeemACode]:e=>(0,_.useSelector)((e=>(0,g.pzA)(e,g.WTf.EnableRedeemCodeModal)))?l.createElement(ca,S()({},e)):l.createElement(fa,S()({},e)),[_n.Ay.SkuSelector]:e=>{const{actionArguments:t,actionOverride:n,buttonType:r,experienceButtonType:o,slotNumber:i}=e,a=t[Et.PZ.ProductId]||"",s=(t[Et.PZ.SkuIdsList]||"").split(";").filter((e=>0!==e.length)).map((e=>({productId:a,skuId:e,availabilityId:""}))),[c,u,d]=(0,f.cG)("skuSelectorSubscriptionText","skuSelectorProductText","listItemAccessibilityLabelFormat"),p=(0,g.mzJ)(g.pvY.SkuId,""),m=(0,N.zM)(),h=(0,_.useSelector)((e=>(0,vt.Ct)(e,a,p)));if(!(null===h||void 0===h?void 0:h.product)||!(null===h||void 0===h?void 0:h.sku))return null;const v=(0,g.JSV)(h.product.productFamily,E.K8.Passes)?c:u,y={actionOverride:n,buttonType:r,listItemAccessibilityFormat:d,productIdentifiers:s,telemetryProps:(0,N.nO)({behavior:N.nS.SHOW,contentName:v,id:"SkuSelectorButton",slotNumber:i},m),title:v};switch(o){case _n.nl.CondensedDesktop:return l.createElement(Ca,S()({},y));case _n.nl.Desktop:return l.createElement(qo,S()(S()({},y),{},{buttonAccessibilityLabel:v,subTitle:h.sku.skuTitle||h.product.title,preferSkuValues:!0,title:y.title.toLocaleUpperCase()}));case _n.nl.CondensedMobile:case _n.nl.Mobile:return l.createElement(Ta,S()(S()({},y),{},{subTitle:o===_n.nl.CondensedMobile?void 0:h.sku.skuTitle||h.product.title,className:Sr(!0,_n.nl.Mobile,o===_n.nl.Mobile?"SkuSelectorButton-module__multipleLineMobileButton___PLOYk":void 0)}));case _n.nl.MobileStickyHeader:return l.createElement(Ta,S()(S()({},y),{},{className:Yn}));case _n.nl.Overflow:return l.createElement(wa,S()({},y));default:return null}},[_n.Ay.Trial]:e=>{let{actionArguments:t}=e,n=P()(e,qa);const{[Et.PZ.UpsellProductId]:r}=t;return r?l.createElement(Da,S()(S()({},n),{},{actionArguments:t,upsellProductId:r})):l.createElement(xa,S()(S()({},n),{},{actionArguments:t}))},[_n.Ay.Upsell]:e=>{let{actionArguments:t}=e,n=P()(e,ps);const{[Et.PZ.UpsellProductIdsList]:r,[Et.PZ.UpsellProductIdsComingSoonList]:o}=t,i=(0,l.useContext)(jr),a=(0,_.useSelector)((e=>(0,g.pzA)(e,g.WTf.EnableMultiUpsellButton))),s=(0,_.useSelector)((e=>(0,g.pzA)(e,g.WTf.EnableComingSoonUpsell))),c=(0,_.useSelector)((e=>(0,g.pzA)(e,g.WTf.EnableDefaultUltimateUpsell))),u=S()(S()({},t),{},{[Et.PZ.UpsellProductIdsList]:null!==r&&void 0!==r?r:"",[Et.PZ.UpsellProductIdsComingSoonList]:s&&null!==o&&void 0!==o?o:"",[Et.PZ.GlyphProductId]:c&&ms(r)?E.b6:""});let d;return d=!a||!(r||s&&o)||c&&ms(r)||i===_n._z.ContextualStore?Za:as,l.createElement(d,S()(S()({},n),{},{actionArguments:u}))},[_n.Ay.Wishlist]:e=>{var t;const[n,r]=[e.actionArguments[Et.PZ.ProductId],e.actionArguments[Et.PZ.SkuId]],o=(0,_.useDispatch)(),i=(0,_.useSelector)(en.ct),a=(0,N.zM)(),s=(0,g.wwE)(),c=(0,g.AzV)(),u=(0,_.useSelector)((e=>(0,vt.u6)(e,Et.s3)));let d=(0,M._4)(e.actionArguments[Et.PZ.IsOnWishlist]);u&&(d=!!(null===(t=u.products)||void 0===t?void 0:t.find((e=>e&&(0,g.XBe)(e.productId)===(0,g.XBe)(n)&&(0,g.XBe)(e.skuId)===(0,g.XBe)(r)))));const[p,m]=(0,l.useState)(),[h,v]=(0,l.useState)(!1),[y,b]=(0,l.useState)(!1),[S,C]=(0,l.useState)(d),[T,w,I,P,A,k]=(0,f.cG)("actionErrorMessage","addToWishListAccessibilityTemplate","addToWishListText","addToWishlistProcessingButtonAccessibilityLabelFormat","openWishlistButtonAccessibilityLabel","reloadPageRequestMessage"),x=(0,_.useSelector)((e=>(0,vt.t7)(e,n,r)));if(!x||!x.product||!n||!r)return null;const R=(0,N.nO)({behavior:S?N.nS.NAVIGATIONFORWARD:N.nS.ADDWISHLIST,contentName:S?A:I,id:"WishlistButton",slotNumber:e.slotNumber},a),L=(0,g.GPZ)(w,x.product.title),D=(0,g.GPZ)(P,x.product.title),F=e=>{b(!1),v(!0),e&&m(e.name)},U=()=>{C(!0),b(!1)};return l.createElement(l.Fragment,null,l.createElement(co,{actionAccessibilityLabel:L,actionIcon:hs,actionLabel:I,behavior:S?N.nS.OTHER:N.nS.ADDWISHLIST,buttonId:"WishlistButton",buttonType:e.buttonType,experienceButtonType:e.experienceButtonType,navigationAccessibilityLabel:A,navigationHref:"/wishlist",navigationIcon:gs.A,navigationLabel:A,onClick:()=>{if(i)b(!0),o(vt.DS.addWishListItem.start(U,F,Et.s3,n,r));else{const e=(0,g.XBe)(n)===E.hd?c(window.location.href):s(window.location.href);window.location.assign(e)}},processingAccessibilityLabel:D,slotNumber:e.slotNumber,showSpinner:y,state:S,telemetryProps:R}),h&&l.createElement(O.aF,{className:Xn,closeable:!0,show:h,onHide:()=>v(!1),ariaLabel:T},l.createElement(de,{errorCode:p,errorMessage:T,userRequestMessage:k})))}},_s=(e,t,n,r,o)=>{let{actionType:i,actionArguments:a={}}=t;const s=fs[i];s&&e.push(l.createElement(s,{key:`${i}-index-${n}`,actionArguments:a,actionOverride:o,experienceButtonType:r,buttonType:0===n?u.VQ.Brand:u.VQ.Primary,slotNumber:n}))},vs=(e,t,n,r,o)=>{const i=[],a=[],s=[];return e.forEach(((l,c)=>{const u=o&&o[l.actionType],d=u?()=>u(null===l||void 0===l?void 0:l.actionArguments):void 0;i.length+a.length<n||c===e.length-1&&0===s.length&&r?_n.y1[l.actionType]<=_n.y1.PrimaryActionPriorityCutoff?_s(i,l,c,t,d):_s(a,l,c,t,d):_s(s,l,s.length,_n.nl.Overflow,d)})),{primaryButtons:i,secondaryButtons:a,overflowChildren:s}},ys=(e,t)=>(_n.y1[e.actionType]||Number.MAX_SAFE_INTEGER)-(_n.y1[t.actionType]||Number.MAX_SAFE_INTEGER);const bs=e=>{const t=(0,f.FE)("actionPanelOverflowButtonAccessibilityLabel"),[n,r]=(0,l.useState)(_n.nl.CondensedDesktop),o=O.i5[O.JP.XS];(0,l.useEffect)((()=>{const e=window.matchMedia("(orientation: landscape)");e.matches&&window.innerHeight<=o&&r(_n.nl.CondensedMobile),!e.matches&&window.innerWidth<=o&&r(_n.nl.CondensedMobile)}),[o]);const{primaryButtons:i,secondaryButtons:a,overflowChildren:s}=vs(e.actionsList,n,2,!1,e.productActionTypeToActionOverride),c=i.concat(a);return s.length>1&&c.push(l.createElement(mr,{accessibilityLabel:t,containingElementRef:e.containingElementRef,experienceButtonType:n,slotNumber:c.length,key:"Action-Panel-Overflow-Button"},s)),l.createElement(l.Fragment,null,l.createElement("div",{className:"ContextualStoreActionPanelLayout-module__condensedDesktopProductActionsPanel___u-aMC"},c),l.createElement(Ss,{buttons:c}),l.createElement(Es,{buttons:c}))},Ss=e=>{let{buttons:t}=e;return l.createElement("div",{className:"ContextualStoreActionPanelLayout-module__mobilePortraitProductActionsPanel___AsFJC"},l.createElement("div",null,t[1],t[2]),t[0])},Es=e=>{let{buttons:t}=e;return l.createElement("div",{className:"ContextualStoreActionPanelLayout-module__mobileLandscapeProductActionsPanel___-QiXD"},l.createElement("div",null,t[0],t[1],t[2]))};var Cs="ProductActionsPanel-module__desktopProductActionsPanel___J1Jn3",Ts="ProductActionsPanel-module__orSeparator___isj1r";const ws=e=>{(0,M.Lv)();const t=(0,O.T8)(),n=(0,f.FE)("actionPanelOverflowButtonAccessibilityLabel");let r=4,o=_n.nl.Desktop;switch(t){case O.JP.XXS:case O.JP.XS:case O.JP.SM:r=2,o=_n.nl.Mobile;break;case O.JP.MD:r=2;break;case O.JP.LG:r=3}const{primaryButtons:i,secondaryButtons:a,overflowChildren:s}=vs(e.actionsList,o,r,o!==_n.nl.Mobile,e.productActionTypeToActionOverride),c=i.concat(a);let u;return t<=O.JP.SM?u=l.createElement("div",{className:"PDPActionPanelLayout-module__mobileProductActionsPanel___F8s4J"},c[0],c.length>1&&l.createElement("div",null,c[1],s.length>0&&l.createElement(mr,{accessibilityLabel:n,experienceButtonType:o,slotNumber:2},s))):(i.length>1&&!Ps(e.actionsList)&&c.splice(1,0,l.createElement(Is,{key:"OR"})),s.length>1&&c.push(l.createElement(mr,{accessibilityLabel:n,containingElementRef:e.containingElementRef,experienceButtonType:o,slotNumber:c.length,key:"Action-Panel-Overflow-Button"},s)),u=l.createElement(A.FocusContainer,{className:Cs},c)),u},Is=()=>{const e=(0,f.FE)("orSeparatorText");return l.createElement("span",{className:Ts},e)},Ps=e=>{const t=e.some((e=>e.actionType===_n.Ay.AccountLink)),n=e.some((e=>{const t=e.actionArguments?e.actionArguments[Et.PZ.IsDisabled]:"";return e.actionType===_n.Ay.Acquisition&&(0,M._4)(t)}));return t&&n};const As=e=>{(0,M.Lv)();const t=(0,O.T8)(),n=(0,f.FE)("actionPanelOverflowButtonAccessibilityLabel");let r=4;switch(t){case O.JP.XXS:case O.JP.XS:case O.JP.SM:case O.JP.MD:r=2;break;case O.JP.LG:r=3}const o=t<=O.JP.SM,i=o?_n.nl.MobileStickyHeader:_n.nl.Desktop,{primaryButtons:a,secondaryButtons:c,overflowChildren:u}=vs(e.actionsList,i,r,!1),d=a.concat(c);return a.length>1&&t>O.JP.SM&&d.splice(1,0,l.createElement(ks,{key:"OR"})),u.length>0&&d.push(l.createElement(l.Fragment,null,o&&l.createElement("div",{className:"PDPPageBarActionPanelLayout-module__overflowSeparator___g01Hh"}),l.createElement(mr,{accessibilityLabel:n,experienceButtonType:i,slotNumber:d.length,key:"Page-Bar-Action-Panel-Overflow-Button",overrideClassName:s()([Z,ir])},u))),l.createElement(A.FocusContainer,{className:s()(o?"PDPPageBarActionPanelLayout-module__mobileProductActionsPanel___PmqB6":Cs,o?"PDPPageBarActionPanelLayout-module__stickyHeaderMobileText___eavIU":w.TF)},d)},ks=()=>{const e=(0,f.FE)("orSeparatorText");return l.createElement("span",{className:Ts},e)};const xs=e=>{var t;const[n,r,o,i,a,s,c]=(0,f.cG)("errorButtonText","errorButtonAccessibilityLabel","pleaseTryAgainMessage","actionFetchErrorMessage","reloadPageRequestMessage","reloadPageButtonText","cancelButtonText"),d=(0,N.zM)(),p=(0,N.nO)({behavior:N.nS.SHOW,contentName:n,id:"ErrorButton",slotNumber:0},d),m=null===(t=e.error)||void 0===t?void 0:t.httpStatusCode,h=()=>{"undefined"!==typeof location&&location.reload()};return l.createElement(ae,null,l.createElement(ae.Button,{accessibilityLabel:r,buttonType:u.VQ.Primary,className:zn,telemetryProps:p},l.createElement("div",{className:w.TF},n),l.createElement("div",{className:w.cb},o)),l.createElement(ae.Flyout,null,l.createElement(re,null,(e=>l.createElement(de,{className:"ErrorButton-module__flyoutContentContainer___-uOkR",errorCode:null===m||void 0===m?void 0:m.toString(),errorMessage:i,primaryButtonAction:h,primaryButtonText:s,secondaryButtonAction:e.closeFlyout,secondaryButtonText:c,userRequestMessage:a})))))};n(27534);var Rs="LoadingButtonPanel-module__shimmerAddons___LfBS4",Os="LoadingButtonPanel-module__shimmerBackground1___9hgH0",Ns="LoadingButtonPanel-module__smallLoadingButton___zFPmW";const Ms=()=>{let e="LoadingButtonPanel-module__desktopLoadingButtonPanel___A6zGo";const t=[];switch((0,O.T8)()){default:case O.JP.XL:t.unshift(l.createElement("div",{key:"Desktop Loading_Button_5",className:s()(Ns,Ie.iM,Rs,"LoadingButtonPanel-module__shimmerBackground5___ivz+n")}));case O.JP.LG:t.unshift(l.createElement("div",{key:"Desktop Loading_Button_4",className:s()(Ns,Ie.iM,Rs,"LoadingButtonPanel-module__shimmerBackground4___di0xE")}));case O.JP.MD:t.unshift(l.createElement("div",{key:"Desktop Loading_Button_3",className:s()(Ns,Ie.iM,Rs,"LoadingButtonPanel-module__shimmerBackground3___zcVff")})),t.unshift(l.createElement("div",{key:"Desktop Loading_Button_2",className:s()("LoadingButtonPanel-module__largeLoadingButton___ebOUG",Ie.iM,Rs,"LoadingButtonPanel-module__shimmerBackground2___L-v+N")})),t.unshift(l.createElement("div",{key:"Desktop Loading_Button_1",className:s()("LoadingButtonPanel-module__mediumLoadingButton___40Gcb",Ie.iM,Rs,Os)}));break;case O.JP.SM:case O.JP.XS:case O.JP.XXS:e="LoadingButtonPanel-module__mobileLoadingButtonPanel___EIz1q",t.push(l.createElement("div",{key:"Mobile Loading_Button_1",className:s()(Ie.iM,Rs,Os)})),t.push(l.createElement("div",{key:"Mobile Loading_Button_2",className:s()(Ie.iM,Rs,"LoadingButtonPanel-module__mobileShimmerBackground___behtU")}))}return l.createElement("div",{className:e},t)},Ls=l.memo((e=>{const t=e.productId,n=(0,_.useSelector)((e=>(0,vt.fO)(e,t))),r=()=>l.createElement(Fs,null);return l.createElement(jr.Provider,{value:e.actionPanelContext},l.createElement(De,{key:`PAP_${t}_${e.selectedSkuId}}`,lceState:n,content:t=>l.createElement(Ds,S()({productActions:t.data.productActions,skuActions:t.data.skuActionsBySkuId},e)),error:e=>l.createElement(xs,{error:e.error}),defaultRender:r,isFetching:()=>l.createElement(Ms,null),isNotRequested:r}))}),((e,t)=>(0,g.XBe)(e.productId)===(0,g.XBe)(t.productId)&&(0,g.XBe)(e.selectedSkuId||"")===(0,g.XBe)(t.selectedSkuId||""))),Ds=e=>{const t=(0,O.T8)(),{containingElementRef:n,hideOpenInStore:r,hideWishList:o,selectedSkuId:i,contentTelemetry:a,productActions:s,skuActions:c,productId:u,productActionTypeToActionOverride:d}=e,p=[s];i&&p.push(c[(0,g.XBe)(i)]);const m=((e,t,n,r)=>{const o={};return e.filter((e=>!!e)).forEach((e=>{e.filter((e=>!!e)).forEach((e=>{e.actionType===_n.Ay.EditionSelector&&t<=O.JP.SM||e.actionType===_n.Ay.OpenInStore&&n||e.actionType===_n.Ay.Wishlist&&r||(o[e.actionType]=e)}))})),Object.values(o)})(p,t,r,o);m.sort(ys);const h={actionsList:m,containingElementRef:n,productActionTypeToActionOverride:d};let f,_;switch((0,l.useContext)(jr)){case _n._z.ContextualStore:f=bs,_="ContextualStore-ProductActionsPanel";break;case _n._z.PDPPageBar:f=As,_="PDPPageBar-ProductActionsPanel";break;case _n._z.PDP:default:f=ws,_="ProductActionsPanel"}const v=(0,N.nO)({areaName:_,contentType:N.cM.Button,productId:u,skuId:i},a);return l.createElement(N.Q8.Provider,{value:v},l.createElement(f,S()({},h)))},Fs=()=>{let e;switch((0,O.T8)()){case O.JP.XXS:case O.JP.XS:case O.JP.SM:e="ProductActionsPanel-module__mobileProductActionsPanelPlaceholder___VTlrI";break;case O.JP.MD:case O.JP.LG:default:e=Cs}return l.createElement("div",{className:e})};var Us="TargetedOfferHeadline-module__offerBadgeText___k15V1";const Bs=e=>{var t,n,r;const{productId:o,skuId:i,isXPriceStorewideOffer:a}=e,c=(0,_.useSelector)((e=>(0,g.pzA)(e,g.WTf.EnableDealXPriceText))),[u,d,p,m]=(0,f.cG)("productCardJustForYouFooterMessage","targetedOfferPromoMessageFormat","productCardDealForYouFooterMessage","upgradeOfferBadge"),h=(0,_.useSelector)((e=>(0,vt.Ct)(e,o,i))),v=null===h||void 0===h?void 0:h.availability,y=null===(t=null===v||void 0===v?void 0:v.price)||void 0===t?void 0:t.eligibilityInfo,b=null===v||void 0===v?void 0:v.price,S=(null===(n=null===b||void 0===b?void 0:b.xPriceOfferInfo)||void 0===n?void 0:n.xPriceOfferSubType)===E.sB.UpgradedDifferentialOffer,C=S||(null===y||void 0===y?void 0:y.type)===E.h9.XPrice,T=(0,_.useSelector)((e=>(0,g.pzA)(e,g.WTf.EnableEditionUpgradeOffer)))&&S;if(!C||!b)return null;const I=(0,E.B2)(b.msrp,b.listPrice),P=(0,g.GPZ)(d,I.toString(),null!==(r=null===y||void 0===y?void 0:y.affirmationMessage)&&void 0!==r?r:"");return l.createElement("div",{className:"TargetedOfferHeadline-module__offerBadge___hdx-5"},T?l.createElement("div",{className:s()(w.Vv,Us,"TargetedOfferHeadline-module__upgradeOfferBadge___bx7gs")},m):!a&&l.createElement("div",{className:s()(w.Vv,Us,"TargetedOfferHeadline-module__justForYouBadgeText___gBX2j")},c?p:u),l.createElement("div",{className:"TargetedOfferHeadline-module__promoMessage___xyITh"},P))};const Hs=e=>{var t,n,r;const{productId:o,skuId:i,availabilityId:a,onGoBack:c,onPurchaseAction:u,onGiftAction:d,onRedeemAction:p,setIsLoading:m,onError:h,onOpenStoreUrl:v,onShowSkuPicker:b,hideShowInStore:S,hideWishList:C}=e,[T,I,P]=(0,f.cG)("skuProductTitleTemplate","publishedByTemplate","upgradeOfferRemarkText"),A=(0,l.useRef)(null),k=(0,_.useSelector)(g.rPt),x=(0,Et.ww)(o,void 0,i,a),R=(0,_.useSelector)((e=>(0,vt.y7)(e,o,i,a))),N=(0,_.useSelector)((e=>(0,g.pzA)(e,g.WTf.EnableXboxSmallPurchaseDialog)));J(c,!0),(0,l.useEffect)((()=>{R&&(m(!1),R.sku&&R.availability||h(new Error("Missing sku or availability information")))}),[h,R,m]);const M=null===R||void 0===R?void 0:R.product,L=null===R||void 0===R?void 0:R.sku,D=null===R||void 0===R?void 0:R.availability,F=null===(t=null===R||void 0===R?void 0:R.availability)||void 0===t?void 0:t.price,U=(0,_.useSelector)((e=>(0,g.pzA)(e,g.WTf.EnableEditionUpgradeOffer)))&&(null===(n=null===F||void 0===F?void 0:F.xPriceOfferInfo)||void 0===n?void 0:n.xPriceOfferSubType)===E.sB.UpgradedDifferentialOffer;if(!M||!L||!D)return null;const B=!!(null===(r=null===F||void 0===F?void 0:F.xPriceOfferInfo)||void 0===r?void 0:r.isXPriceStorewideOffer),H=L.skuTitle&&L.skuTitle!==M.title?(0,g.GPZ)(T,M.title,L.skuTitle):M.title,G=M.publisherName?(0,g.GPZ)(I,M.publisherName):"",q=(0,E.CS)(M,L),j=(0,E.CQ)(M,L),V=(0,E.uM)(M,L),z=(0,g.JSV)(M.productFamily,E.K8.Passes)||(0,g.JSV)(M.productFamily,E.K8.Subscription),X={[_n.Ay.Acquisition]:u,[_n.Ay.BuyToOwn]:u,[_n.Ay.Extend]:u,[_n.Ay.OpenInStore]:()=>v(x),[_n.Ay.SkuSelector]:b,[_n.Ay.Trial]:u};d&&(X[_n.Ay.Gift]=d),p&&(X[_n.Ay.RedeemACode]=p);const K=!!M.contentRating&&!!M.legalNotices;return l.createElement("div",{className:"DesktopMiniProductDetailsPage-module__miniPdpContainer___2wqKo",ref:A},l.createElement("div",{className:"DesktopMiniProductDetailsPage-module__heroContainer___uIgks"},l.createElement(O._V,{className:"DesktopMiniProductDetailsPage-module__heroImage___ug064",src:null===j||void 0===j?void 0:j.url,width:608,height:714,alt:(null===j||void 0===j?void 0:j.caption)||H,hideShadow:!0,fluid:!0}),l.createElement("div",{className:"DesktopMiniProductDetailsPage-module__heroLinearGradient___DcNWn"})),l.createElement("div",{className:"DesktopMiniProductDetailsPage-module__informationContainer___Ur19o"},l.createElement("div",{className:"DesktopMiniProductDetailsPage-module__identityContainer___AOkmQ"},l.createElement(O._V,{height:144,width:96,src:null===q||void 0===q?void 0:q.url,alt:(null===q||void 0===q?void 0:q.caption)||H,className:"DesktopMiniProductDetailsPage-module__boxArtImage___MqLkW"}),l.createElement("div",{className:"DesktopMiniProductDetailsPage-module__identityInformationContainer___fJNGD"},l.createElement("h1",{className:s()(w.tY,"DesktopMiniProductDetailsPage-module__titleFontAdjustments___ExUih")},H),l.createElement("p",{className:s()(w._o,"DesktopMiniProductDetailsPage-module__subtitleTextAdjustments___C68Mg")},G),l.createElement(E.Y9,{hasAddOns:M.hasAddOns,productInfo:R,productPrice:F,recurrencePolicySummary:L.recurrencePolicySummary,isPass:z,className:w.me,historicalLowestListPrice:L.historicalLowestListPrice,discountDetailClassName:w._o,hideDiscountMessage:U}),(U||!B)&&l.createElement("div",{className:"DesktopMiniProductDetailsPage-module__badgeWrapper___S3faN"},l.createElement(Bs,{productId:o,isXPriceStorewideOffer:B})))),l.createElement(ge,{className:s()("DesktopMiniProductDetailsPage-module__scrollableDescriptorsContainer___ANdBn",N&&"DesktopMiniProductDetailsPage-module__smallScrollableDescriptorsContainer___L9Qqd"),focusable:!0,gradientColorOverride:k.theme===g.Sxu.Dark?on:an},l.createElement("div",{className:"DesktopMiniProductDetailsPage-module__descriptorsContainer___jHE5l"},l.createElement(Hn,{productId:o,itemClassName:"DesktopMiniProductDetailsPage-module__playableOnItemOverride___KZQ+6",titleClassName:s()(w.SM,"DesktopMiniProductDetailsPage-module__playableOnTitle___lbh2d"),className:"DesktopMiniProductDetailsPage-module__playableOnContainer___AFmRm"}),l.createElement("div",{className:s()(w.SM,"DesktopMiniProductDetailsPage-module__description___D71J3")},V))),l.createElement("div",{className:"DesktopMiniProductDetailsPage-module__actionPanelContainer___Bcbma"},l.createElement(Ls,{actionPanelContext:_n._z.ContextualStore,containingElementRef:A,hideOpenInStore:S,hideWishList:C,productActionTypeToActionOverride:X,productId:o,selectedSkuId:i})),U&&l.createElement("p",{className:s()(w.Q2,"DesktopMiniProductDetailsPage-module__upgradeOfferRemarkText___wT+Tc")},P),l.createElement("div",{className:s()("DesktopMiniProductDetailsPage-module__legalContainer___TJalL",K?"DesktopMiniProductDetailsPage-module__legalItemsWidthAdjustment___C1F2p":"")},l.createElement(y,{productId:o,className:"DesktopMiniProductDetailsPage-module__rating___KetXe"}),K&&l.createElement("div",{className:"DesktopMiniProductDetailsPage-module__dividingLine___g+EAG"}),l.createElement("div",null,l.createElement(Cn,{productId:o,className:w.Q})))))};var Gs=(0,l.memo)((function(e){var t=e.icon,n=e.className,o=e.label,i=e.iconClassName,a=e.iconStyle,c=e.labelClassName,u=e.labelStyle,d=(0,r.__rest)(e,["icon","className","label","iconClassName","iconStyle","labelClassName","labelStyle"]);return l.createElement("div",(0,r.__assign)({className:s()("IconText-module__container___9pn0K",n)},d),l.createElement(t,{className:s()("IconText-module__icon___2lSCQ",i),style:a}),l.createElement("div",{className:s()("IconText-module__label___SkTCC",c),style:u},o))})),qs=n(17266),js="SkuPickerButton-module__ellipseOnOverflow___eiTTG",Vs="SkuPickerButton-module__noBottomMargin___nYQTb";const zs=e=>{var t,n,r,o;const{className:i,productId:a,skuId:c,availabilityId:d,onClick:p}=e,m=(0,_.useSelector)(g.P6r),h=(0,_.useSelector)((e=>(0,v.y7)(e,a,c,d))),y=(0,f.FE)("plusSignDelimiterStringTemplate"),b=null===(t=null===h||void 0===h?void 0:h.sku)||void 0===t?void 0:t.skuTitle,S=null===(n=null===h||void 0===h?void 0:h.availability)||void 0===n?void 0:n.promotionalDuration,C=null===(r=null===h||void 0===h?void 0:h.availability)||void 0===r?void 0:r.price,T=(0,E.i_)(S),w=C&&(0,g.vv8)(C.listPrice,C.currency,m),I=b&&T?(0,g.GPZ)(y,b,T):b;return l.createElement(k.T,{as:"button",className:i,icon:Te.A,buttonType:u.VQ.Secondary,overlayMode:u.w9.Solid,onClick:p},l.createElement(O.fI,{className:(0,O.ve)("width",100)},!!I&&l.createElement(O.VP,{xs:9},l.createElement("p",{className:s()(Vs,js)},I)),C&&l.createElement(O.VP,{xs:3,className:"SkuPickerButton-module__priceInfo___WpcBt"},l.createElement("p",{className:s()(Vs,js)},`${w}${(null===(o=null===h||void 0===h?void 0:h.product)||void 0===o?void 0:o.hasAddOns)?"+":""}`))))};var Xs="ContextualStoreProductDetailsPage-module__marginBottom1___vx0XP",Ks="ContextualStoreProductDetailsPage-module__marginTop1___fzkzL",Ws="ContextualStoreProductDetailsPage-module__multipleButtonRow___YefIf",$s="ContextualStoreProductDetailsPage-module__paddingLeft0___gaLHu",Ys="ContextualStoreProductDetailsPage-module__paddingRight0___gAqxV",Qs="ContextualStoreProductDetailsPage-module__seeInStoreButtonContent___JfSNJ",Js="ContextualStoreProductDetailsPage-module__skuPicker___Y81pW",Zs="ContextualStoreProductDetailsPage-module__skuPickerContainer___-xrrl",el="ContextualStoreProductDetailsPage-module__uiExpActionButton___5lfV2",tl="ContextualStoreProductDetailsPage-module__upShiftContainers___1bo+v",nl="ContextualStoreProductDetailsPage-module__width100___Rn+5k";const rl=e=>{var t,n,r,o,i,a;const{productId:c,skuId:u,availabilityId:d,hideShowInStore:p,trackingParams:m,xStoreScenario:h,itemType:v,clientType:b,onPurchaseAction:S,onError:C,setIsLoading:T,onShowSkuPicker:I,onGoBack:P,onOpenStoreUrl:k,isTvAgent:x}=e,[R,N,M,L,D,F,U,B,H,G,q]=(0,f.cG)("buyActionText","buyActionAccessibilityTextWithPrice","nextActionText","getActionText","getActionAccessibilityTextWithPrice","selectOfferText","seeInStoreButtonText","buyInStoreButtonText","subscriptionRecurrenceLegalNotice","dlcRequiresGameLegalNotice","closeButtonText"),j=(0,_.useSelector)((e=>(0,vt.y7)(e,c,u,d))),[V,z]=(0,l.useState)(!1),X=(0,_.useSelector)((e=>(0,vt.qq)(e,c))),K=Y(g.WTf.EnableBuyNowXboxUiExp),W=(0,_.useSelector)((e=>(0,g.pzA)(e,g.WTf.EnableTVPurchaseFlow))),$=(0,_.useSelector)(g.a5u),Q=(0,_.useSelector)(g.GYd).origin;(0,l.useEffect)((()=>{j&&(T(!1),j.sku&&j.availability||C(new Error("Missing sku or availability information")))}),[C,j,T]),J(P,!0);const Z=null===j||void 0===j?void 0:j.sku,ee=null===j||void 0===j?void 0:j.availability,te=null===(t=null===j||void 0===j?void 0:j.availability)||void 0===t?void 0:t.price,ne=(0,E.ww)(te),re=(0,f.FE)("skuProductTitleTemplate",null!==(r=null===(n=null===j||void 0===j?void 0:j.product)||void 0===n?void 0:n.title)&&void 0!==r?r:"",null!==(i=null===(o=null===j||void 0===j?void 0:j.sku)||void 0===o?void 0:o.skuTitle)&&void 0!==i?i:"");if(!j||!Z)return null;const oe=j.product,ie=X.length>1,ae=(null===Z||void 0===Z?void 0:Z.skuTitle)&&(null===Z||void 0===Z?void 0:Z.skuTitle)!==oe.title?re:oe.title,se=oe.publisherName,le=te&&te.listPrice<=0,ce=oe.productFamily===E.K8.Subscription||oe.productFamily===E.K8.Passes,ue=(0,E.tu)(oe.productKind),de=le?L:ce?M:R,pe=ne&&(0,g.GPZ)(le?D:ce?M:N,ae,ne.lowestPrice||""),me=(0,E.CQ)(oe,Z),he=(0,E.CS)(oe,Z),ge=K&&he?he:(0,E.NO)(oe,Z),fe=(0,E.uM)(oe,Z),_e={productId:c,skuId:u,availabilityId:d},ve=()=>{const e=(0,Et.N7)(Q,$,c,ae,u,d);k?k(e):window.open(e,"_blank")},ye=(null===(a=Z.recurrencePolicySummary)||void 0===a?void 0:a.isRecurring)?H:void 0;return l.createElement("div",{className:s()("ContextualStoreProductDetailsPage-module__rootContainer___LKLDG")},l.createElement("div",{className:"ContextualStoreProductDetailsPage-module__heroContainer___bI3Qf"},l.createElement(O._V,{className:s()(nl,"ContextualStoreProductDetailsPage-module__heroImage___6vJQV"),src:null===me||void 0===me?void 0:me.url,width:480,height:270,hideShadow:!0,fluid:!0,alt:(null===me||void 0===me?void 0:me.caption)||ae}),l.createElement("div",{className:"ContextualStoreProductDetailsPage-module__heroLinearGradient___TaUmc"})),l.createElement(O.mc,{className:"ContextualStoreProductDetailsPage-module__body___LV6g1"},l.createElement("div",{className:s()("ContextualStoreProductDetailsPage-module__justifyContentCenter___oyHc8","ContextualStoreProductDetailsPage-module__displayFlex___cTCTp",tl)},l.createElement(O._V,{className:s()("shadow","ContextualStoreProductDetailsPage-module__portraitProductImage___+4ts6"),width:96,height:144,src:null===he||void 0===he?void 0:he.url,fluid:!0,alt:(null===me||void 0===me?void 0:me.caption)||ae}),l.createElement("div",{className:"ContextualStoreProductDetailsPage-module__productItem___V63iN"},l.createElement("div",{className:"ContextualStoreProductDetailsPage-module__landscapeProductImageContainer___aRkqe"},l.createElement(O._V,{src:null===ge||void 0===ge?void 0:ge.url,className:"ContextualStoreProductDetailsPage-module__landscapeProductImage___EF3wD",width:96,height:96,fluid:!0,alt:(null===me||void 0===me?void 0:me.caption)||ae})),l.createElement("div",{className:"ContextualStoreProductDetailsPage-module__info___Rz2G1"},l.createElement("h2",{className:s()(w.AP,"ContextualStoreProductDetailsPage-module__landscapeTitle___faUoV")},ae),te&&ee&&l.createElement(E.Y9,{className:s()("ContextualStoreProductDetailsPage-module__priceDetails___Vy-Ax",w.cb),hasAddOns:oe.hasAddOns,isPass:ce,productInfo:j,productPrice:te,recurrencePolicySummary:Z.recurrencePolicySummary}),!!ye&&l.createElement("div",{className:w.SM},l.createElement("span",null,ye)),ue&&l.createElement("span",{className:s()("ContextualStoreProductDetailsPage-module__dlcMessage___Y7p8n",w.cb)},G)))),l.createElement("div",{className:s()("ContextualStoreProductDetailsPage-module__portraitHeader___bDcBi",tl)},l.createElement("h2",{className:s()(w.AP,"ContextualStoreProductDetailsPage-module__portraitTitle___WgGK6")},ae),l.createElement("div",{className:s()("ContextualStoreProductDetailsPage-module__productSubtitle___Q97sz",w.Q)},l.createElement("p",{className:"ContextualStoreProductDetailsPage-module__marginBottom0___ZPgNJ"},se))),l.createElement(A.GamepadScrollable,{className:s()("ContextualStoreProductDetailsPage-module__productInfoContainer___dMhhj",tl,{"ContextualStoreProductDetailsPage-module__productInfoContainerFocused___CdVX1":V}),maxScrollPixels:155,onFocus:()=>z(!0),onBlur:()=>z(!1)},l.createElement("div",{className:s()("ContextualStoreProductDetailsPage-module__skuInfoContainer___w8l2m")},!ce&&l.createElement(y,{productId:c,className:"ContextualStoreProductDetailsPage-module__ageRatingInfo___ahA2t"}),l.createElement("div",{className:"ContextualStoreProductDetailsPage-module__portraitPrice___4Mxfs"},te&&ee&&l.createElement(E.Y9,{className:w.cb,hasAddOns:oe.hasAddOns,isPass:ce,productInfo:j,productPrice:te,recurrencePolicySummary:Z.recurrencePolicySummary})),!!ye&&l.createElement("div",{className:s()("ContextualStoreProductDetailsPage-module__portraitLegalMessages___VguOH",w.SM)},l.createElement("span",null,ye)),ie&&!x&&l.createElement("div",{className:s()(Zs)},l.createElement("p",{className:s()(w.cb,Xs)},F),l.createElement(zs,{className:s()(Js),productId:c,skuId:_e.skuId,availabilityId:_e.availabilityId,onClick:I})),!ce&&l.createElement(Bn,{productId:c,className:"ContextualStoreProductDetailsPage-module__playableOnContainer___bQTzM",itemClassName:"ContextualStoreProductDetailsPage-module__playableOnItem___5NF94",titleClassName:s()(w.f9,"ContextualStoreProductDetailsPage-module__playableOnTitle___0Z2tD")})),l.createElement("div",{className:s()("ContextualStoreProductDetailsPage-module__descriptionContainer___rmst4")},l.createElement("span",{className:s()("ContextualStoreProductDetailsPage-module__description___lwQS7",w.SM)},fe))),l.createElement("div",{className:s()(tl,"ContextualStoreProductDetailsPage-module__multipleButtonContainer___DN-ZY")},x&&!W?l.createElement(ol,{showSkuPickerButton:ie,locSelectOfferText:F,locale:$,title:re,productId:c,selectedPSA:_e,onShowSkuPicker:I,openPdpInNewWindow:ve,buyInStoreButtonText:B,closeButtonText:q,trackingParams:m,xStoreScenario:h,itemType:v,clientType:b}):l.createElement(il,{hideShowInStore:p,openPdpInNewWindow:ve,seeInStoreButtonText:U,locPrimaryActionAccessibilityText:pe,handleOnPurchaseAction:()=>{T(!0),S()},locPrimaryActionText:de,enableBuyNowXboxUiExp:K}))))},ol=e=>{let{showSkuPickerButton:t,locSelectOfferText:n,locale:r,title:o,productId:i,selectedPSA:a,onShowSkuPicker:c,openPdpInNewWindow:d,buyInStoreButtonText:p,closeButtonText:m,trackingParams:h,xStoreScenario:g,itemType:f,clientType:_}=e;const v=(0,Et.zC)(void 0,r,a.productId,o,a.skuId,a.availabilityId||"",void 0,null===h||void 0===h?void 0:h.callerApplicationId,null===h||void 0===h?void 0:h.campaignId,g,f,_);return l.createElement(l.Fragment,null,l.createElement(O.fI,{className:Ws},t&&l.createElement(O.VP,{xs:6,className:s()($s,Ys)},l.createElement("div",{className:s()(Zs)},l.createElement("p",{className:s()(w.cb,Xs)},n),l.createElement(zs,{className:s()(Js),productId:i,skuId:a.skuId,onClick:c}))),l.createElement(O.VP,{xs:6,className:s()($s,"ContextualStoreProductDetailsPage-module__storeLinkButtonContainer___gabNQ")},l.createElement(k.T,{as:"a",icon:la,className:s()("ContextualStoreProductDetailsPage-module__storeLinkButton___CPriI"),buttonType:u.VQ.Brand,onClick:d,href:v,target:"_blank","data-autofocus":!0},l.createElement("div",{className:Qs},l.createElement("span",null,p.toLocaleUpperCase())))),l.createElement(O.VP,{xs:6,className:s()($s,"ContextualStoreProductDetailsPage-module__bButtonContainer___b0XAx")},l.createElement(Gs,{icon:qs.A,label:m,className:"ContextualStoreProductDetailsPage-module__bButtonIcon___6npbL"}))))},il=e=>{let{hideShowInStore:t,openPdpInNewWindow:n,seeInStoreButtonText:r,locPrimaryActionAccessibilityText:o,handleOnPurchaseAction:i,locPrimaryActionText:a,enableBuyNowXboxUiExp:c=!1}=e;return l.createElement(O.fI,{className:Ws},!t&&l.createElement(O.VP,{xs:6,className:s()($s)},l.createElement(dn.j,{as:"a",className:s()(nl,Ks,c?el:void 0),buttonType:u.VQ.Primary,onClick:n,style:{cursor:"pointer"},tabIndex:0},l.createElement("div",{className:Qs},l.createElement("div",null),l.createElement("span",null,r.toLocaleUpperCase()),l.createElement(d.In,{iconSize:d.lK.XXSmall,className:"ContextualStoreProductDetailsPage-module__seeInStoreExternalUrlIcon___oneUD",icon:Bt.A})))),l.createElement(O.VP,{xs:t?12:6,className:s()($s,Ys)},l.createElement(dn.j,{as:"button","aria-label":o,className:s()(nl,Ks,"ContextualStoreProductDetailsPage-module__actionButton___wDRb8",c?el:void 0),buttonType:u.VQ.Brand,onClick:i,"data-autofocus":!0},a.toLocaleUpperCase())))};const al=e=>{var t,n,r;const{availabilityId:o,hideShowInStore:i,hideWishList:a,onError:c,onGoBack:u,onOpenStoreUrl:d,onPurchaseAction:p,onGiftAction:m,onRedeemAction:h,onShowSkuPicker:v,productId:b,setIsLoading:S,skuId:C}=e,[T,I]=(0,f.cG)("skuProductTitleTemplate","publishedByTemplate"),P=(0,_.useSelector)(g.rPt),A=(0,Et.ww)(b,void 0,C,o),k=(0,_.useSelector)((e=>(0,vt.y7)(e,b,C,o)));J(u,!0),(0,l.useEffect)((()=>{k&&(S(!1),k.sku&&k.availability||c(new Error("Missing sku or availability information")))}),[c,k,S]);const x=null===k||void 0===k?void 0:k.product,R=null===k||void 0===k?void 0:k.sku,N=null===k||void 0===k?void 0:k.availability,M=null===(t=null===k||void 0===k?void 0:k.availability)||void 0===t?void 0:t.price,L=(0,_.useSelector)((e=>(0,g.pzA)(e,g.WTf.EnableEditionUpgradeOffer)))&&(null===(n=null===M||void 0===M?void 0:M.xPriceOfferInfo)||void 0===n?void 0:n.xPriceOfferSubType)===E.sB.UpgradedDifferentialOffer;if(!x||!R||!N)return null;const D=!!(null===(r=null===M||void 0===M?void 0:M.xPriceOfferInfo)||void 0===r?void 0:r.isXPriceStorewideOffer),F=R.skuTitle&&R.skuTitle!==x.title?(0,g.GPZ)(T,x.title,R.skuTitle):x.title,U=x.publisherName?(0,g.GPZ)(I,x.publisherName):"",B=(0,E.CS)(x,R),H=(0,E.CQ)(x,R),G=(0,E.uM)(x,R),q=(0,g.JSV)(x.productFamily,E.K8.Passes)||(0,g.JSV)(x.productFamily,E.K8.Subscription),j={[_n.Ay.Acquisition]:p,[_n.Ay.BuyToOwn]:p,[_n.Ay.Extend]:p,[_n.Ay.OpenInStore]:()=>d(A),[_n.Ay.SkuSelector]:v,[_n.Ay.Trial]:p};return m&&(j[_n.Ay.Gift]=m),h&&(j[_n.Ay.RedeemACode]=h),l.createElement("div",{className:"MobilePortraitMiniProductDetailsPage-module__miniPdpContainer___JTHS9"},l.createElement("div",{className:"MobilePortraitMiniProductDetailsPage-module__heroContainer___ARaCo"},l.createElement("img",{className:"MobilePortraitMiniProductDetailsPage-module__heroImage___vCHwR",src:null===H||void 0===H?void 0:H.url,alt:(null===H||void 0===H?void 0:H.caption)||F}),l.createElement("div",{className:"MobilePortraitMiniProductDetailsPage-module__heroLinearGradient___+Dxxg"})),l.createElement("div",{className:"MobilePortraitMiniProductDetailsPage-module__informationContainer___LRiyI"},l.createElement("div",{className:"MobilePortraitMiniProductDetailsPage-module__identityContainerWrapper___FXXWV"},l.createElement("div",{className:"MobilePortraitMiniProductDetailsPage-module__identityContainer___s-wEZ"},l.createElement(O._V,{height:144,width:96,src:null===B||void 0===B?void 0:B.url,alt:(null===B||void 0===B?void 0:B.caption)||F,className:"MobilePortraitMiniProductDetailsPage-module__boxArtImage___T6McP"}),l.createElement("div",{className:"MobilePortraitMiniProductDetailsPage-module__identityInformationContainer___glMX-"},l.createElement("h1",{className:s()(w.tY,"MobilePortraitMiniProductDetailsPage-module__titleFontAdjustments___uO6Sj")},F),l.createElement("p",{className:s()(w._o,"MobilePortraitMiniProductDetailsPage-module__subtitleTextAdjustments___5K2hm")},U),l.createElement(E.Y9,{hasAddOns:x.hasAddOns,productInfo:k,productPrice:M,recurrencePolicySummary:R.recurrencePolicySummary,isPass:q,className:w.me,historicalLowestListPrice:R.historicalLowestListPrice,discountDetailClassName:w._o,hideDiscountMessage:L}))),(L||!D)&&l.createElement("div",{className:"MobilePortraitMiniProductDetailsPage-module__badgeWrapper___qVEUL"},l.createElement(Bs,{productId:b,isXPriceStorewideOffer:D}))),l.createElement(ge,{className:s()("MobilePortraitMiniProductDetailsPage-module__scrollableDescriptorsContainer___4ULRC",L?"MobilePortraitMiniProductDetailsPage-module__postOffersScrollableDescriptorsContainer___-AAz9":null),gradientColorOverride:P.theme===g.Sxu.Light?an:on},l.createElement("div",{className:"MobilePortraitMiniProductDetailsPage-module__descriptorsContainer___SKnCY"},l.createElement(Hn,{productId:b,itemClassName:"MobilePortraitMiniProductDetailsPage-module__playableOnItemOverride___El5iI",titleClassName:s()(w.SM,"MobilePortraitMiniProductDetailsPage-module__playableOnTitle___VcVtx"),className:"MobilePortraitMiniProductDetailsPage-module__playableOnContainer___wcvH0"}),l.createElement(y,{productId:b,className:"MobilePortraitMiniProductDetailsPage-module__rating___ySRgM"}),l.createElement("div",{className:"MobilePortraitMiniProductDetailsPage-module__legalContainer___O3hTJ"},l.createElement(Cn,{productId:b,className:w.Q})),l.createElement("div",{className:w.SM},G))),l.createElement("div",{className:"MobilePortraitMiniProductDetailsPage-module__actionPanelContainer___p4-Ld"},l.createElement(Ls,{actionPanelContext:_n._z.ContextualStore,hideOpenInStore:i,hideWishList:a,productActionTypeToActionOverride:j,productId:b,selectedSkuId:C}))))};const sl=e=>{var t;const{isExtraSmallViewport:n,fadingScrollProps:r,boxArtImage:o,isUpgradeAvailable:i,price:a,product:c,productId:u,productSummaryInfo:d,publisherDisplayString:p,sku:m,title:h}=e,f=!!(null===(t=null===a||void 0===a?void 0:a.xPriceOfferInfo)||void 0===t?void 0:t.isXPriceStorewideOffer),_=(0,E.uM)(c,m),v=(0,g.JSV)(c.productFamily,E.K8.Passes)||(0,g.JSV)(c.productFamily,E.K8.Subscription),b=n?"div":ge,C=n?{}:r,T=e=>{let{children:t}=e;return n?l.createElement(ge,S()({className:"MobileLandscapeMiniProductDetailsPage-module__contentWrapper___i0aam"},r),t):l.createElement(l.Fragment,null,t)};return l.createElement(T,null,l.createElement("div",{className:"MobileLandscapeMiniProductDetailsPage-module__identityContainerWrapper___1M6Pe"},l.createElement("div",{className:"MobileLandscapeMiniProductDetailsPage-module__identityContainer___Ig18B"},l.createElement(O._V,{height:96,width:96,src:null===o||void 0===o?void 0:o.url,alt:(null===o||void 0===o?void 0:o.caption)||h,className:"MobileLandscapeMiniProductDetailsPage-module__boxArtImage___blp53"}),l.createElement("div",{className:"MobileLandscapeMiniProductDetailsPage-module__identityInformationContainer___W5nx8"},l.createElement("h1",{className:s()(w.tY,"MobileLandscapeMiniProductDetailsPage-module__titleFontAdjustments___p9VFe")},h),l.createElement("p",{className:s()(w._o,"MobileLandscapeMiniProductDetailsPage-module__subtitleTextAdjustments___N1aG2")},p),l.createElement(E.Y9,{hasAddOns:c.hasAddOns,productInfo:d,productPrice:a,recurrencePolicySummary:m.recurrencePolicySummary,isPass:v,className:w.me,historicalLowestListPrice:m.historicalLowestListPrice,discountDetailClassName:w._o,hideDiscountMessage:i}))),i&&l.createElement("div",{className:"MobileLandscapeMiniProductDetailsPage-module__badgeWrapper___hNkAs"},l.createElement(Bs,{productId:u,isXPriceStorewideOffer:f}))),l.createElement(b,S()({className:s()("MobileLandscapeMiniProductDetailsPage-module__scrollableDescriptorsContainer___6KQdD",i?"MobileLandscapeMiniProductDetailsPage-module__postOffersScrollableDescriptorsContainer___Brki8":null)},C),l.createElement("div",{className:"MobileLandscapeMiniProductDetailsPage-module__descriptorsContainer___bP4kR"},l.createElement(Hn,{productId:u,itemClassName:"MobileLandscapeMiniProductDetailsPage-module__playableOnItemOverride___pqJ94",titleClassName:s()(w.SM,"MobileLandscapeMiniProductDetailsPage-module__playableOnTitle___1iwYO"),className:"MobileLandscapeMiniProductDetailsPage-module__playableOnContainer___VowzK"}),l.createElement("div",{className:"MobileLandscapeMiniProductDetailsPage-module__horizontalDescriptorsContainer___6qTXU"},l.createElement("div",{className:"MobileLandscapeMiniProductDetailsPage-module__ratingAndLegalContainer___ZaMT8"},l.createElement(y,{productId:u,className:"MobileLandscapeMiniProductDetailsPage-module__rating___sV5-W"}),l.createElement("div",{className:"MobileLandscapeMiniProductDetailsPage-module__legalContainer___9JX49"},l.createElement(Cn,{productId:u,className:w.Q}))),l.createElement("div",{className:s()(w.SM,"MobileLandscapeMiniProductDetailsPage-module__description___NAjvW")},_)))))},ll=e=>{var t,n;const{availabilityId:r,hideShowInStore:o,hideWishList:i,onError:a,onGoBack:s,onOpenStoreUrl:c,onPurchaseAction:u,onGiftAction:d,onRedeemAction:p,onShowSkuPicker:m,productId:h,setIsLoading:v,skuId:y}=e,[b,S]=(0,f.cG)("skuProductTitleTemplate","publishedByTemplate"),C=(0,_.useSelector)(g.rPt),T=(0,Et.ww)(h,void 0,y,r),w=(0,_.useSelector)((e=>(0,vt.y7)(e,h,y,r)));J(s,!0),(0,l.useEffect)((()=>{w&&(v(!1),w.sku&&w.availability||a(new Error("Missing sku or availability information")))}),[a,w,v]);const I=null===w||void 0===w?void 0:w.product,P=null===w||void 0===w?void 0:w.sku,A=null===w||void 0===w?void 0:w.availability,k=null===(t=null===w||void 0===w?void 0:w.availability)||void 0===t?void 0:t.price,x=(0,O.R5)()<O.i5[O.JP.XS],R={gradientColorOverride:C.theme===g.Sxu.Light?an:on},N=(0,_.useSelector)((e=>(0,g.pzA)(e,g.WTf.EnableEditionUpgradeOffer)))&&(null===(n=null===k||void 0===k?void 0:k.xPriceOfferInfo)||void 0===n?void 0:n.xPriceOfferSubType)===E.sB.UpgradedDifferentialOffer;if(!I||!P||!A)return null;const M=P.skuTitle&&P.skuTitle!==I.title?(0,g.GPZ)(b,I.title,P.skuTitle):I.title,L=I.publisherName?(0,g.GPZ)(S,I.publisherName):"",D=(0,E.mV)(I,P),F=(0,E.CQ)(I,P),U={[_n.Ay.Acquisition]:u,[_n.Ay.BuyToOwn]:u,[_n.Ay.Extend]:u,[_n.Ay.OpenInStore]:()=>c(T),[_n.Ay.SkuSelector]:m,[_n.Ay.Trial]:u};return d&&(U[_n.Ay.Gift]=d),p&&(U[_n.Ay.RedeemACode]=p),l.createElement("div",{className:"MobileLandscapeMiniProductDetailsPage-module__miniPdpContainer___1-WEQ"},l.createElement("div",{className:"MobileLandscapeMiniProductDetailsPage-module__heroContainer___NXpwe"},l.createElement("img",{className:"MobileLandscapeMiniProductDetailsPage-module__heroImage___j7rKS",src:null===F||void 0===F?void 0:F.url,alt:(null===F||void 0===F?void 0:F.caption)||M}),l.createElement("div",{className:"MobileLandscapeMiniProductDetailsPage-module__heroLinearGradient___f5sYZ"})),l.createElement("div",{className:"MobileLandscapeMiniProductDetailsPage-module__informationContainer___3x1uo"},l.createElement(sl,{isExtraSmallViewport:x,fadingScrollProps:R,boxArtImage:D,isUpgradeAvailable:N,publisherDisplayString:L,price:k,product:I,productId:h,productSummaryInfo:w,sku:P,title:M}),l.createElement("div",{className:"MobileLandscapeMiniProductDetailsPage-module__actionPanelContainer___H+pZE"},l.createElement(Ls,{actionPanelContext:_n._z.ContextualStore,hideOpenInStore:o,hideWishList:i,productActionTypeToActionOverride:U,productId:h,selectedSkuId:y}))))},cl=e=>{(0,N.qz)("ContextualStoreProductDetails",N.ry.Overlay,{productInfo:{id:e.productId,sku:e.skuId}});const t=(0,_.useSelector)(g.GYd).userAgent,n=!(0,Qt.yd)(t);return l.createElement(l.Fragment,null,n?l.createElement(ul,S()({},e)):l.createElement(rl,S()({},e)))},ul=e=>{const t=e.onGiftAction,n=t?n=>{if(e.updateSelectedProduct&&n){const[t,r,o]=[n[Et.PZ.ProductId],n[Et.PZ.SkuId],n[Et.PZ.AvailabilityId]],i={productId:null!==t&&void 0!==t?t:"",skuId:null!==r&&void 0!==r?r:"",availabilityId:null!==o&&void 0!==o?o:""};e.updateSelectedProduct(i)}t()}:void 0,r=(0,O.Gp)({desktopComponent:Hs,mobilePortraitComponent:al,mobileLandscapeComponent:ll});return r?l.createElement(r,S()(S()({},e),{},{onPurchaseAction:t=>{let n,r,o;if(t&&e.updateSelectedProduct){[n,r,o]=[t[Et.PZ.ProductId],t[Et.PZ.SkuId],t[Et.PZ.AvailabilityId]];const i={productId:null!==n&&void 0!==n?n:"",skuId:null!==r&&void 0!==r?r:"",availabilityId:null!==o&&void 0!==o?o:""};n&&e.updateSelectedProduct(i)}e.onPurchaseAction()},onGiftAction:n,onRedeemAction:e.onRedeemAction})):null};n(10865);var dl=n(19556);const pl=$.XboxCom,ml=[pl,$.XEWeb,$.XENative,$.XETest,"XboxAppOnAndroid","XboxAppOnIOS"],hl=async function(e,t,n,r,o,i,a,s,l,c,u,d,p,m,h,f){let _=arguments.length>16&&void 0!==arguments[16]?arguments[16]:pl,v=arguments.length>17?arguments[17]:void 0;const y=e=>{p(!1),f(e)};if(!e)return void y(new Error("Failed to load frame."));let b;try{b=n?(0,en.xT)(n):await(async e=>{const t=await e.acquireTokenSilently(en.zW.MDollar);return t?(0,en.xT)(t):null})(t)}catch(T){return void y(T)}if(!b)return void y(new Error("Unable to get token silently."));const{flights:S,cssOverride:E,expIds:C}=((e,t)=>{const n=["sc_fincastlebuynowgreenlogo","sc_xboxspinner","sc_xboxclosebutton",...e],r=n.includes("sc_xboxuiexp")?"XboxCom2NewUI":"XboxCom2";return{flights:n,cssOverride:r,expIds:[...t,...n].map((e=>`EX:${e}`))}})(u,d);await(0,dl.invokeBuyNowInFrame)(e,{authToken:"",products:[r],locale:o.localeWithScript,market:o.market,cV:i,layout:"Modal",clientType:_,cssOverride:E,xToken:b,campaignOptions:{campaignId:a,callerApplicationId:s,expId:C,flights:S,optionalCampaignId:l},theme:c===g.Sxu.Dark?"dark":"light",suppressGiftThankYouPage:m,scenario:m?"gift":"",gifteeType:m&&(null===h||void 0===h?void 0:h.gifteeType)||void 0,gamertagImageUrl:m&&(null===h||void 0===h?void 0:h.gifteeType)===X.GamerTag&&(null===h||void 0===h?void 0:h.gamerPicUrl)||void 0,gifteeValue:m&&(null===h||void 0===h?void 0:h.gifteeType)===X.GamerTag&&(null===h||void 0===h?void 0:h.classicGamerTag)||void 0,modernGamertag:m&&(null===h||void 0===h?void 0:h.gifteeType)===X.GamerTag&&(null===h||void 0===h?void 0:h.modernGamerTag)||void 0,frameAllow:"payment *",deviceFamily:v})||y(),p(!0)},gl=e=>{var t,n,r;const{productId:o,skuId:i,availabilityId:a,trackingParams:s,setIsLoading:c,orderDetails:u,onCloseButtonClick:d,scenario:p,clientType:m,giftRecipientInformation:h,deviceFamily:f}=e;(0,N.qz)("ContextualStorePurchase",N.ry.Overlay,{productInfo:{id:o,sku:i}});const y=()=>{c(!1)},b=(0,en.jb)(),S=(0,_.useSelector)(g.j17),E=(0,l.useRef)(null),C=(0,_.useSelector)(g.P6r),T=(0,N.Gb)(),w=(0,_.useSelector)(en.yn),[I,P]=(0,l.useState)(!1),A=(0,_.useSelector)((e=>(0,g._cZ)(e,g.WTf.TestBuyNowFlights))),k=Y(g.WTf.EnableBuyNowXboxUiExp),x=Y(g.WTf.EnableBuyNowFCRedeemWithTax),R=(0,_.useSelector)((e=>(0,g.pzA)(e,g.WTf.EnableTVPurchaseFlow))),O=Q(g.WTf.PIGroupingExpId),M=Q(g.WTf.PIGroupingFlightId),L=Y(g.WTf.EnableXboxAppOnMobileGooglePay),D=(0,_.useSelector)(g.w$7),F=(0,_.useSelector)(g.ccC);F.push("sc_xboxgamepadlite");(0,_.useSelector)((e=>(0,g.pzA)(e,g.WTf.EnableXboxSmallPurchaseDialog)))&&F.push("sc_xboxsmallpurchasedialog"),O&&D.push(O),"string"===typeof A&&A.split(",").forEach((e=>{F.includes(e)||F.push(e)})),k&&(F.push("sc_xboxuiexp"),F.push("sc_disabledefaultstyles")),x&&F.push("sc_showtax"),F.push("sc_gamertaggifting"),M&&F.push(M),R&&F.push("sc_bypasscspcheck"),((e,t,n)=>{!t||"XboxAppOnAndroid"!==n&&"XboxAppOnIOS"!==n||(e.push("sc_buynowgooglepay"),e.push("sc_allowgooglepayforbuynow"))})(F,L,m);const B=(0,_.useSelector)((e=>(0,v.Ct)(e,o,i,a))),H=p===G.Gift,q=!H&&(null===B||void 0===B?void 0:B.product.productId)||o,j=!H&&(null===(t=null===B||void 0===B?void 0:B.sku)||void 0===t?void 0:t.skuId)||i,V=!H&&(null===(n=null===B||void 0===B?void 0:B.availability)||void 0===n?void 0:n.availabilityId)&&j?null===(r=null===B||void 0===B?void 0:B.availability)||void 0===r?void 0:r.availabilityId:a;return(0,l.useEffect)((()=>{T.logAppAction({action:K.PurchaseStarted},{productId:o})}),[]),(0,l.useEffect)((()=>{const e=(0,dl.makeWindowListener)({done:e=>{var t,n,r,s;const l=e.orderId;switch(e.status){case"cancelXButton":T.logAppAction({action:K.PurchaseCanceled},{productId:o}),d();break;case"cancel":T.logAppAction({action:K.PurchaseCanceled},{productId:o}),u.onCancel(o,i,a,l);break;case"success":T.logAppAction({action:K.PurchaseSuccessful},{productId:o,xboxCardPointsRedeemed:null===(t=e.orderInfo)||void 0===t?void 0:t.xboxCardPointsRedeemed,xboxCardUsedForPurchase:null===(n=e.orderInfo)||void 0===n?void 0:n.xboxCardUsedForPurchase}),u.onSuccess(o,i,a,l,null===(r=e.orderInfo)||void 0===r?void 0:r.xboxCardUsedForPurchase,e.tokenType);break;case"error":{const t=e;let n=U.PurchaseError;t.errorInfo.code.includes("UserAlreadyOwnsContent")?n=U.AlreadyPurchased:T.logAppAction({action:K.PurchaseFailed},{productId:o,xboxCardUsedForPurchase:null===(s=e.orderInfo)||void 0===s?void 0:s.xboxCardUsedForPurchase}),u.onError(o,n,i,a,l,{name:t.errorInfo.code,message:t.errorInfo.message});break}}},openUrl:e=>{u.onOpenUrl?u.onOpenUrl(e.url):window.open(e.url)}});return window.addEventListener("message",e),()=>{window.removeEventListener("message",e)}}),[]),(0,l.useEffect)((()=>{var e,t,n;q&&j&&(V||H)&&!I&&(c(!0),hl(E.current,b,w,{productId:q,skuId:j,availabilityId:V},C,null!==(e=null===s||void 0===s?void 0:s.cV)&&void 0!==e?e:T.cv().get(),null!==(t=null===s||void 0===s?void 0:s.campaignId)&&void 0!==t?t:"xboxcomct",null!==(n=null===s||void 0===s?void 0:s.callerApplicationId)&&void 0!==n?n:sn,null===s||void 0===s?void 0:s.ocid,S,F,D,y,H,h||null,(()=>{T.logAppAction({action:K.PurchaseFailed},{productId:o}),u.onError(o,U.PurchaseError,i,a)}),(e=>!!e&&ml.includes(e))(m)?m:pl,f),P(!0))}),[q,j,V]),l.createElement("iframe",{key:"purchase-sdk-iframe",title:"Purchase Frame",name:"purchase-sdk-hosted-iframe",ref:E,className:k?"ContextualStorePurchase-module__purchaseFrameNewUi___CedNY":"ContextualStorePurchase-module__purchaseFrame___Fbhay"})};var fl="ThankYouPage-module__actionContainer___YBSpg",_l="ThankYouPage-module__contentContainer___qsj94",vl="ThankYouPage-module__enableBuyNowXboxUiExp___ZLR2r",yl="ThankYouPage-module__fontBold___Zqif6",bl="ThankYouPage-module__heroButton___JyuUt",Sl="ThankYouPage-module__marginTop1___dmTdI",El="ThankYouPage-module__marginTop2___X1SGq",Cl="ThankYouPage-module__parentTextContainer___3kfef",Tl="ThankYouPage-module__productBg___IlsyC",wl="ThankYouPage-module__rootContainer___td6I6",Il="ThankYouPage-module__subscriptionRow___s5pxV",Pl="ThankYouPage-module__success___jnCaK",Al="ThankYouPage-module__thankYou___2NMnQ",kl="ThankYouPage-module__ubisoftMessage___YF00B";const xl=e=>{const{isPreorder:t,className:n,contentClassName:r,mainMessageClassName:o,secondaryMessageClassName:i}=e,[a,c,u,d]=(0,f.cG)("fincastleThankYouPrimaryMessage","fincastleThankYouSecondaryMessage","fincastleThankYouPrimaryMessagePreOrder","fincastleThankYouSecondaryMessagePreOrder");return l.createElement("div",{className:n},l.createElement("div",{className:s()("CardPoints-module__contentContainer___M+ZV1",r)},l.createElement("p",{className:o},t?u:a),l.createElement("p",{className:i},t?d:c)))},Rl=e=>{let{src:t}=e;return l.createElement("div",{className:"ThankYouPage-module__heroContainer___qXtlg"},l.createElement(O._V,{className:"ThankYouPage-module__heroImage___e+RSq",src:t,width:600,height:640,ariaHidden:!0,hideShadow:!0}),l.createElement("div",{className:"ThankYouPage-module__heroLinearGradient___EozWi"}))};var Ol=n(72939);const Nl=e=>{let{src:t,userInfo:n,productImage:r,title:o,showSubscriptionPage:i,isUltimate:a,width:c,height:u}=e;const{gamerPicAltText:d,gamePassUltimateLogoAltText:p}=(0,f.ot)("gamerPicAltText","gamePassUltimateLogoAltText"),m=null===n||void 0===n?void 0:n.gamerPicUrl,h=i?l.createElement(l.Fragment,null,n&&l.createElement(O.fI,{className:s()("ThankYouPage-module__gamerPicRow___veH2x",Il)},l.createElement(Ol.lY,{className:"ThankYouPage-module__gamerPic___GWq6X",src:m,"aria-label":d,size:Ol.Ow.Large})),a&&l.createElement(O._V,{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHEAAAAcCAYAAABWFFBUAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAcaADAAQAAAABAAAAHAAAAAAF5gC+AAAKpklEQVRoBe1aW4yVSRGeK3PjJpCAuAwzYwRdFyWwIRPHVdQHCcZEYWMgAbNBHjQ+YEg0JhAeDDzIg4kSHkQgyAsJCTdxIbBkYVFcBpaLCSG7sDOzMkBGCHfmeuac4/fV6a+3T5//zGG9wcNUUqe6q6qrq7q6q/sfKC/7GMo/bpaF7YA92nwBViAb+ZCtcgwljTTESH+0+5xXgAkM0dxhEpXACraz2WzKJKM/L+QKPH369PVx48YdgnNMZoZOMnEEnb7KXHf090Vdgd7eXh48HT47gGE5ZULV9zHgZPaiMyxGeXn5OLSV/DTkTyUDrYK8gf0S42wIdPrRGLJO6Z9q2K7HmD6o+moB3lj0ufkykD1JMON9cjKoZR8n6Jn9BH7KzelFmHMMOnWegQZ0BkAGQ94IbcUyYvyYpxY2akI7AwMDjNXiBfX3I7NJJpXHM8IQdu/e/V3wW4DNpIODg9ck7+vruwTeZ52s+eDBg69Ltm/fvu+Lz3GY/APJRM+fP/8zpzMTtBE4IwHJn3nmzJk3OO706dNvoE9fDLEz28mHXx+CRz+bgLI3c926da2UC6B/MdKjbtOJEydWSCekXV1dv4WcczUBTffw4cM+Tulevnz5l5Bzfs1dNJaTJ0/aXO3t7T+GflM0hvESm7q7u38n+6JXr179IWTjgUywnUidqHIw2FYfzRxkMhnKPMCY77u273slNNy4RJn0nI7mzHJYApJPjCGJR53QTnbTpk3/HBoa6tLg+/fvv+faeXqSx/TAgQNvOp73bcWKFRfT6fSdUDdai9C2Hwd98okhiBfqmTxcaw0YHh7mevHQ+bXVAkrHC8SoqKjgJGkgS2oaR9w74dqUmbympobUoKqqik5xjI3LcfN/XRKpx3EskUSWVyH7Nt75URbbDf2BrvkBGtoafvz48bvgGeBknUND8/l5qqur6UceoHpcXbt2bQeYw1OmTBmeNWsWdVKPHj1K3bt373iecq6jWOhz0Vg0l4tFvshnxVzgD6dwSWSefK5KJtFNKKc4QQxeFibRtb0sWmyz0dra+mvstveBHcB/LFmyhDvMFraxsXEYvG7gR8BO6G7nIBe4D1h2HdV8gxcvXpwtW7dv3z7DsYDszp0720FTKGmzQHmHEYfGjBnDxcwDlDOeQrOJa6Vxz549splCWdMJtTFz5879FfxULB+tWbOG5c5vEsg+VCxtbW1/5KAgFtPDptkNnRvALuD1GTNm/MSMl/iJk1igHu38YS0aFaNTmqqvr2fABrW1tVwU9oU5Qf4vazofCYbjx4/nKbfd7BbVy8C3R5fbVKFtiDzYgqOXamlp0YIPHTp06B1qoKxe27Vr1z0258yZ8zL1HA6HGxA8Qnbv3r1/AjWdBQsWvAqbX1QfJfWvqCT3qeggLxbYYxw6mfS3Bqh4LJaEte1H8nqF0PdVD+2iUDKJbtHkEGkMcjRTWVnpJw0SbGPD5McG1MdO9P64UitRTJXsjMqsU/B8bKgvg8fFS2/YsKEnlUp9gIfYWfSZ6PTYsWMpLxoXdC+vX7++m7pEfJu1NTQ0zHdj0rdu3WJZPYZ+IuCh5WOBgi99CcreZyR+JeJpAX4e+CX6kKBfwAonKhCS4RLDiYSxHvmELCZW+1nG5UYFv/39/Syn9Knc1f5AmmtGyfXzuU3i+/ClCa/ISRhlmwwb5C8PHz78G/rppqamLDYnEyL9bLgBOdPNmzcPU9ch9Rfi5HyTMoDZvHbt2pFct/DXJdFigTRxnYNY6Iew0FgJTqLxcAx2H7/DQmD9NsCx564m2GJAl09fA7zeRtp9UsujCFxJrEAS2S6AZ7DLeS0ulMBWZyDz5MmTd3GP2aMGL86XkXR+71JX6FSNZHbs2KEkZo4cOfIZxHoX+PD48eOfhgbjzaxevfodJCLpm7Ms2JD0JXGdXRLjdQqTGcvMufjHanPMDPvTp09/Kejze+w6duUr5KHdBWIJZH/ChAmNpP8uuNNnAQe7NMlcseCUEP75sBwl8DUMZsnL9PT0/H3lypWdNIZH01dIAYmLy7K7efPmHsh5EjOLFy9mWdUYNA3SV65cGcTmeAtxLxVTFOVbyeP6JM4jXVGM2YfT/i31QRM3ciC3ZknjeGy0QFOLlsVO3IzS9B6wff/+/b+BjKXFEol7iLoxUEbkpd0XIF+FnxhKJFf2zF/cMQsdIzt//vz38Y1ovuI+bHN8n3QNJMWrlA8aJtDuT1CLD5SgeGgr3dnZmVhSg4qhtbPB4U8Qi3T4iOK6DGKdhoDPtEYlkzh16tRlePrXu8mzS5cuvV5XV/cd4PdWrVrFnc1gyjZu3DgBO3+Z0wsJg87gtflt3FOzeWEDXz127NgvQqX/YtsSgwXi63nO9u3bJzvbWnzeb1/FAlGP8dsCQleJSm3ZsuXP4NspBM3im/AHwGV3795dDrocawK2JTOD78i3YYt/mvyPAX4tR5l/CdgMf2bjdZy0ngXzlEwijE3dtm3bzzFSu0U7lLuGOzUzceLEMnwXrcfkn9IMbpdpjO1ap2/fRDgluk81JPwrj5VDLyhs0K7QpC4p4lUoSYsWLfo6FJSs8nPnzn0Bfk5xJsk31KnAXXZ669at/HSgz9kLFy7MnjRp0g7gH/DBv40U1YjXCefKnjp1qh8l9W20k0D+kBaDYjraVMXGeX7JJFJz8uTJP0Vwe48ePfo5JgxgScHdUnb27NlX7ty58yZK1GoKBMGdoAA4hokjppI+rt1CalETfQvuTenJPqcmj/dIpUtiGfxd6Hi8/yubm5u/Bso/WHOc8UArVP5u3LjBUiqoQIzfUEd02rRpr6HNeczHjo6Oo5KJxn6KH9IEnTCWvNd+OC5ucxCRDlUD6xAcP4ZHgl5Mfh0KtbiEm0H5EZsEA7CVwa7P21FaXPA5Z95YyPhXfa8PHZVxbx86vCdYDQygw7+McDEhsvHi0zbnoO6AMXM//OBmrKZP/wAg5bRRizZ1ueHKKAOhnfgByCpkr3SORbsCuvTDA/glY4Ey7768P2XKgLNbCbt5a3Tp0qUfzZs37yD06Cd9SMfO+QWUsQTagOTNTeDHrFo4EPO4MAU8MSDL++cd8UMaBxXIICpMOuRMpP3zWKDLptdHw4vQzkuGF+Q3uAmIReOBnZKxYHhNODftCYrxJQ+plYOQMdp+sVfAPcB42PyBC08imZkHDx78Hn9jrMIdwXvCJ5mDsTsS6zTvMh5/PQ64DLE+x5LvyoQ9YsIxzjmVMKqarmyzr/llizyCbMb8nDT3K/uhj5JTFvND/WJ+huNCHdqlLPRH8tBX6Wgu6Usnjh1/Vcrgzu6E+bwkso4QmSwmlPcFazCR5YKlSLVGA0UhMpANUTItYY7G+pRLV5S8kfQoFyTpSTYSlU+cMwTxyZMs5oV+Uk8+SE/ycLxk1CdIJ9fL/YZ2iulzHGX6KrDvSPR5H9rXgU4ilfR6ZELZp0KYRHSNT5oECkCy2CnxYxqOSxoTyjk2SSe2+b/oh34U86GUTij/JLFwPuaHieSjitQeX6D+vyyi7ZXsxYM+k8hJ44nBGoX/8wowiUok88IkipeXJCWMJ5Go5ImCNQrPcQWUNJ5Aovr+/8soUcXoc/R9dGq3AkwaoYAqaTlx7jeJF8pH289/BZRI8+RffoacsJshFlcAAAAASUVORK5CYII=",width:113,height:28,className:s()(Sl,"ThankYouPage-module__gamePassUtlimateImage___qAm7y"),alt:p})):l.createElement(O._V,{src:t||(null===r||void 0===r?void 0:r.url),className:s()("ThankYouPage-module__productImage___H9mHZ",Sl,"ThankYouPage-module__productImageUiExp___OPoUU"),alt:(null===r||void 0===r?void 0:r.caption)||o,width:c||152,height:u||228});return l.createElement("div",{className:"ThankYouPage-module__imageContainer___AYQH7"},h)},Ml=e=>{let{isPreOrder:t}=e;const{successText:n,productThankYouText:r,preorderProductAvailableUponReleaseText:o,productAvailableToYouText:i}=(0,f.ot)("successText","productThankYouText","preorderProductAvailableUponReleaseText","productAvailableToYouText");return l.createElement(l.Fragment,null,l.createElement("p",{className:Pl},n),l.createElement("p",{className:s()(Al,yl)},r),l.createElement("p",{className:Al},t?o:i))},Ll=()=>{const{giftProductThankYouTitle:e,productThankYouText:t,giftProductRecipientGettingSoon:n}=(0,f.ot)("giftProductThankYouTitle","productThankYouText","giftProductRecipientGettingSoon");return l.createElement("div",{className:Cl},l.createElement("p",{className:s()(w.tY,"ThankYouPage-module__giftTitle___uxVBS")},e),l.createElement("p",{className:s()(Al,yl)},t),l.createElement("p",{className:Al},n))},Dl=e=>{let{userInfo:t}=e;const{subscriptionThankYouText:n}=(0,f.ot)("subscriptionThankYouText"),r=null===t||void 0===t?void 0:t.gamerTag;return l.createElement(l.Fragment,null,l.createElement(O.fI,{className:s()(Il,Sl)},l.createElement("p",{className:"ThankYouPage-module__thanksForJoining___igWv1"},n)),t&&l.createElement(O.fI,{className:s()(Il)},l.createElement("p",{className:"ThankYouPage-module__gamerTag___OsTkH"},`${r}!`)))},Fl=e=>{let{userInfo:t,showSubscriptionPage:n,isGiftScenario:r,isPreOrder:o,children:i}=e;const a=n?l.createElement(Dl,{userInfo:t}):r?l.createElement(Ll,null):l.createElement(Ml,{isPreOrder:o});return l.createElement("div",{className:Cl},a,i)},Ul=()=>{const[e,t]=(0,f.cG)("giftProductTrackOrderAtText","giftAccountsLinkText");return l.createElement(O.fI,{id:"TrackOrderContainer",className:s()("ThankYouPage-module__trackOrderContainer___vIXiC")},l.createElement("p",{className:s()(w._o,"ThankYouPage-module__trackOrderMessage___tIN-b")},(0,g.OzX)(e,l.createElement("a",{"aria-labelledby":"TrackOrderContainer",className:s()(Ie.X7,w._o),href:g.uEI,target:"_blank",rel:"noopener noreferrer"},t))))},Bl=e=>{let{title:t,href:n,isUltimate:r,isGiftScenario:o,isGamePassForPC:i,isPreOrder:a,xboxCardUsedForPurchase:u,onClose:d}=e;const[p,m,h,_]=(0,f.cG)("closeButtonText","subscriptionThankYouText","downloadXboxAppText","successTextAccessibilityTemplate","successGamePassTextAccessibilityTemplate"),v=(0,l.useRef)(null);(0,l.useEffect)((()=>{var e;null===(e=v.current)||void 0===e||e.focus()}),[]);const y=t?(0,g.GPZ)(h,t):void 0,b=t?(0,g.GPZ)(_,t):void 0,S=(r||i)&&(0,g.csy)()?l.createElement(c.a,{as:"a",ref:v,"aria-label":b,className:s()(bl,El),href:n,target:"_blank"},m):l.createElement(l.Fragment,null,l.createElement(dn.j,{as:"button",ref:v,"aria-label":y,className:s()(bl,u?Sl:El,yl,"ThankYouPage-module__uiExpHeroButton___UocfF"),onClick:d},p));return l.createElement("div",{className:u?s()(fl,a?"ThankYouPage-module__actionContainerPreOrderXboxCard___4Mdb9":"ThankYouPage-module__actionContainerXboxCard___NVpw-"):fl},S,o&&l.createElement(Ul,null))},Hl=e=>{let{hasUbisoftCrossEntitlementProduct:t}=e;const{ubisoftPlusThankyouPageLine1:n,ubisoftPlusThankyouPageLine2:r}=(0,f.ot)("ubisoftPlusThankyouPageLine1","ubisoftPlusThankyouPageLine2");return t?l.createElement("div",{className:"ThankYouPage-module__ubisoftMessageContainer___LaKl9"},l.createElement("p",{className:kl},n),l.createElement("p",{className:s()(kl,yl)},r)):null},Gl=e=>{let{isPreOrder:t,xboxCardUsedForPurchase:n}=e;return l.createElement(l.Fragment,null,n&&l.createElement(xl,{className:"ThankYouPage-module__cardPoints___D3CFZ",contentClassName:"ThankYouPage-module__cardPointsContentContainer___0DC5T",mainMessageClassName:"ThankYouPage-module__cardPointsMainMsg___3PMqI",secondaryMessageClassName:"ThankYouPage-module__cardPointsSecondaryMsg___xODkM",isPreorder:!!t}))},ql=e=>{var t;const{productId:n,skuId:r,referringProductId:o,scenario:i,setIsLoading:a,onClose:c,onError:u,xboxCardUsedForPurchase:d}=e;(0,N.qz)("ContextualStoreThankYou",N.ry.Overlay,{productInfo:{id:n,sku:r}});const p=(0,_.useDispatch)(),m=(0,_.useSelector)((e=>(0,v.Ct)(e,n,r))),h=Y(g.WTf.EnableBuyNowXboxUiExp),f=Y(g.WTf.EnableUbisoftPCVersionLegalText),y=(0,_.useSelector)(en.ug);if((0,l.useEffect)((()=>{a(!1),p(rn.m.getProductDetailById.start(n,u))}),[n]),!m)return null;const b=m.product,S=m.sku,C=(0,E.CQ)(b,S),T=(0,E.CS)(b,S),w=(0,E.A5)(b,S),I=i===G.Gift,P=n===E.CZ,A=n===E.hd,k=null===S||void 0===S?void 0:S.isPreorder,x=!I&&(b.productFamily===E.K8.Subscription||b.productFamily===E.K8.Passes),R=x?"ThankYouPage-module__gamepassBg___qNLdm":Tl,O=new URL(g.PdN),M=new URLSearchParams(O.search),L=f&&(null===(t=null===m||void 0===m?void 0:m.product)||void 0===t?void 0:t.hasUbisoftCrossEntitlementProduct);return o&&M.append("productId",o),O.search=M.toString(),l.createElement("div",{className:s()(R,wl,h?vl:void 0,x?"ThankYouPage-module__subscriptionRootContainer___yeBhh":void 0,d?"ThankYouPage-module__xboxCardRootContainer___Qvfqh":void 0,k?"ThankYouPage-module__preOrderContainer___pMJca":void 0)},l.createElement(Rl,{src:null===C||void 0===C?void 0:C.url}),l.createElement(Nl,{userInfo:y,productImage:T}),l.createElement("div",{className:s()(_l)},l.createElement(Fl,{userInfo:y,showSubscriptionPage:x,isGiftScenario:I,isPreOrder:k},l.createElement(Gl,{isPreOrder:!!k,xboxCardUsedForPurchase:!!d}),l.createElement(Hl,{hasUbisoftCrossEntitlementProduct:L})),l.createElement(Bl,{title:w,isUltimate:P,isGiftScenario:I,isGamePassForPC:A,isPreOrder:k,xboxCardUsedForPurchase:d,onClose:c})))},jl=n.p+"static/media/CSVHeroImage.53c76868.png",Vl=n.p+"static/media/CSVProductImage.60e09de4.png",zl=e=>{const{tokenType:t,onClose:n,setIsLoading:r}=e,o="CSV"===t?E.fd:"";(0,N.qz)("ContextualStoreThankYou",N.ry.Overlay,{productInfo:{id:o}});const i=(0,l.useRef)(null);(0,l.useEffect)((()=>{var e;r(!1),null===(e=i.current)||void 0===e||e.focus()}),[r]);const[a,c]=(0,f.cG)("closeButtonText","successText","productThankYouText");return l.createElement("div",{className:s()(Tl,wl,vl)},l.createElement(Rl,{src:jl}),l.createElement(Nl,{src:Vl,width:152,height:228}),l.createElement("div",{className:s()(_l)},l.createElement("div",{className:Cl},l.createElement("div",{className:"ThankYouPage-module__tyTextContainer___nXZuA"},l.createElement("p",{className:Pl},a),l.createElement("p",{className:s()(Al,yl)},c))),l.createElement(Bl,{onClose:n})))},Xl=e=>{const{productId:t,tokenType:n,onClose:r}=e;return(0,A.useBackHandler)((0,l.useCallback)((()=>(r(),!1)),[r])),n&&"CSV"===n?l.createElement(zl,S()({tokenType:n},e)):t?l.createElement(ql,S()({productId:t},e)):null};n(1402),n(64727);function Kl(){if(globalThis.ReactNativeWebView){const e=globalThis.postMessage;console.log("We are in react native");let t=0;const n=setInterval((()=>{globalThis.postMessage!==e?globalThis.postMessage=t=>{var n;e(t),null===(n=globalThis.ReactNativeWebView)||void 0===n||n.postMessage("string"==typeof t?t:JSON.stringify(t))}:t++,t>10&&clearInterval(n)}),500)}}var Wl=n(89936);const $l=[sn,"XEWeb","XENative","XETest","XboxAppOnAndroid","XboxAppOnIOS"],Yl=async function(e,t,n,r,o,i,a,s,l,c){let u=arguments.length>10&&void 0!==arguments[10]?arguments[10]:sn,d=arguments.length>11&&void 0!==arguments[11]?arguments[11]:q.Redeem,p=arguments.length>12?arguments[12]:void 0,m=arguments.length>13?arguments[13]:void 0;const h=e=>{s(!1),l(e)};if(!e)return void h(new Error("Failed to load frame."));if(d===q.BuddyPass&&!a)return void h(new Error("No ProductId provided for Buddy Pass scenario."));let f;try{f=n?(0,en.xT)(n):await(async e=>{const t=await e.acquireTokenSilently(en.zW.MDollar);return t?(0,en.xT)(t):null})(t)}catch(v){return void h(v)}if(!f)return void h(new Error("Unable to get token silently."));const _=["sc_xboxgamepadlite","sc_xboxspinner","sc_xboxclosebutton","sc_xboxuiexp","sc_disabledefaultstyles"];d===q.BuddyPass&&_.push("sc_buddypass");await(0,Wl.invokeRedeemNowInFrame)(e,{authToken:"",locale:r.localeWithScript,market:r.market,cV:o,layout:"Modal",clientType:u,cssOverride:"XboxCom2NewUI",xToken:f,productId:a,skuId:c,theme:i===g.Sxu.Dark?"dark":"light",campaignOptions:{flights:_},scenario:d,offerId:m,productMetadataList:p,suppressRedeemThankYouPage:!0})||h(),s(!0)},Ql=e=>{const{productId:t="",skuId:n,availabilityId:r,trackingParams:o,setIsLoading:i,orderDetails:a,onCloseButtonClick:s,clientType:c,offerId:u,productMetadataList:d,themeOverride:p,scenario:m}=e;(0,N.qz)("ContextualStoreRedeem",N.ry.Overlay,{productInfo:{id:t,sku:n}});const h=()=>{i(!1)},f=(0,en.jb)(),v=(0,_.useSelector)(g.j17),y=(0,l.useRef)(null),b=(0,_.useSelector)(g.P6r),S=(0,N.Gb)(),E=(0,_.useSelector)(en.yn),[C,T]=(0,l.useState)(!1);return(0,l.useEffect)((()=>{S.logAppAction({action:W.RedeemStarted})}),[]),(0,l.useEffect)((()=>{const e=(0,Wl.makeWindowListener)({done:e=>{var o;const i=e.orderId,l=e.orderLineItems&&e.orderLineItems.length>0?e.orderLineItems[0]:e.orderInfo,c=(null===l||void 0===l?void 0:l.productId)||t,u=(null===l||void 0===l?void 0:l.skuId)||n,d=(null===l||void 0===l?void 0:l.availabilityId)||r;switch(e.status){case"cancelXButton":S.logAppAction({action:W.RedeemCanceled}),s();break;case"cancel":S.logAppAction({action:W.RedeemCanceled}),a.onCancel(c,u,d,i);break;case"success":S.logAppAction({action:W.RedeemSuccessful}),a.onSuccess(c,u,d,i,null===(o=e.orderInfo)||void 0===o?void 0:o.xboxCardUsedForPurchase,e.tokenType);break;case"error":{const t=e,n=U.PurchaseError;S.logAppAction({action:W.RedeemFailed}),a.onError(c,n,u,d,i,{name:t.errorInfo.code,message:t.errorInfo.message});break}}},openUrl:e=>{a.onOpenUrl?a.onOpenUrl(e.url):window.open(e.url)}});return window.addEventListener("message",e),()=>{window.removeEventListener("message",e)}}),[]),(0,l.useEffect)((()=>{var e;C||(i(!0),Yl(y.current,f,E,b,null!==(e=null===o||void 0===o?void 0:o.cV)&&void 0!==e?e:S.cv().get(),null!==p&&void 0!==p?p:v,t,h,(()=>{S.logAppAction({action:W.RedeemFailed}),a&&a.onError(t,U.PurchaseError,n,r)}),n,(e=>!!e&&$l.includes(e))(c)?c:sn,m,d,u),T(!0))}),[C]),l.createElement("iframe",{key:"redeem-sdk-iframe",title:"Redeem Frame",name:"redeem-sdk-hosted-iframe",ref:y,className:"ContextualStoreRedeemPage-module__redeemFrameNewUi___04FI5"})};var Jl;!function(e){e.Pdp="ProductDetailsPage",e.Purchase="Purchase",e.PurchaseOnFallback="PurchaseOnFallback",e.ThankYou="ThankYouPage",e.Error="ErrorPage",e.SkuPicker="SkuPickerPage",e.Browse="BrowsePage",e.Gift="Gift",e.Redeem="Redeem"}(Jl||(Jl={}));const Zl=(e,t,n)=>({productId:e,skuId:null!==t&&void 0!==t?t:"",availabilityId:null!==n&&void 0!==n?n:""}),ec=e=>{switch(e){case H.Purchase:return Jl.Purchase;case H.Browse:return Jl.Browse;case H.Redeem:return Jl.Redeem;default:return Jl.Pdp}},tc=e=>{const{productId:t,skuId:n,availabilityId:r,activateStoreExperiments:o,allowAnonymous:i,experience:a,hasAddOns:d,hideCloseButton:p,hideShowInStore:m,hideWishList:h,onResult:v,onMessage:y,productTitle:b,skipPurchaseConfirmation:C,tracking:T,options:w,referringProductId:I,itemType:P,xStoreScenario:k,clientType:x,giftRecipientInformation:R,offerId:L,productMetadataList:F,themeOverride:q,redeemScenario:j}=e;let V=e.scenario;const[X,K]=(0,l.useState)(!0),[W,$]=(0,l.useState)(ec(a)),[Y,Q]=(0,l.useState)(""),{currentExperience:J}=(0,l.useContext)(O.W4),Z=(0,_.useSelector)(g.GYd).userAgent,ee=(0,Qt.yd)(Z),te=(0,l.useCallback)(((e,t)=>{y&&y({type:z.PageChange,data:e}),$(e)}),[y]),ne=(0,_.useSelector)(en.yn),re=(0,_.useSelector)(en.ct)||!!ne,oe=(0,g.wwE)(),ie=(0,g.AzV)(),ae=null!==P&&void 0!==P?P:"",se=(0,_.useSelector)((e=>(0,g.pzA)(e,g.WTf.EnableBuyNowXboxUiExp)))&&!!o,le=(0,_.useSelector)((e=>(0,g.pzA)(e,g.WTf.EnableRedeemCodeModal))),ce=(0,_.useSelector)((e=>(0,vt.g4)(e,t))),ue=n||(null===ce||void 0===ce?void 0:ce.optimalSkuId)||(null===ce||void 0===ce?void 0:ce.preferredSkuId);(0,l.useEffect)((()=>{if(!i&&!re){const e=(0,g.XBe)(t)===E.hd?ie(window.location.href):oe(window.location.href);window.parent===window?window.location.assign(e):W!==Jl.Error&&(te(Jl.Error,new Error("Attempting to sign-in inside an iframe")),K(!1))}}),[i,re,t,W,oe,ie,te]);const de=(0,_.useDispatch)(),pe=(0,_.useSelector)(g.j17),[me,he]=(0,l.useState)(((e,t,n)=>({productId:e,skuId:t,availabilityId:n,status:U.Canceled}))(t,ue,r)),[ge,fe]=(0,l.useState)(Zl(t,ue,r)),_e={contentName:"Close Contextual Store Button",templateName:"ButtonComponent",contentType:"ActionButton",productId:t,skuId:ue,productName:b},{genericPurchaseErrorMessage:ve,closeButtonText:ye,closeContextualStore:be}=(0,f.ot)("genericPurchaseErrorMessage","closeButtonText","closeContextualStore"),Se=(0,_.useSelector)((e=>(0,g.pzA)(e,g.WTf.UsePostMessageHelper)));(0,l.useEffect)((()=>{(0,A.initializeGamepadNavigation)()}),[]);const Ee=(e,t)=>!!e&&t===Jl.Pdp||t===Jl.Purchase,Ce=e=>{Ee(null===w||void 0===w?void 0:w.fallbackToPurchaseOnError,W)?te(Jl.PurchaseOnFallback,e):(he({productId:t,skuId:ue,availabilityId:r,status:U.ServiceError,error:e}),te(Jl.Error,e)),K(!1)};(0,l.useEffect)((()=>{de(rn.m.getProductDetailById.start(t,(e=>Ce(e))));const e=ec(a);W!==e&&$(e),fe(Zl(t,ue,r))}),[r,t,ue,a]),(0,l.useEffect)((()=>{if(a===H.Browse){const e=ae.split(",").map((e=>{switch(e){case E.MB.Game:case E.MB.GameDemo:return E.AB.Game;case E.MB.Consumable:return E.AB.Consumable;case E.MB.Durable:return E.AB.Durable;case E.MB.Application:default:return}})).filter((e=>!!e&&e in E.AB));0===e.length&&(te(Jl.Error,new Error("Invalid product kind provided")),K(!1));const n=(0,nn.Zv)(e),r=(0,M.yP)(n,t);r||(te(Jl.Error,new Error("Unable to get channel product key")),K(!1)),Q(r)}}),[a,ae,te,t]),(0,l.useEffect)((()=>{if(a===H.Browse){const e=e=>{he({productId:t,skuId:ue,availabilityId:r,status:U.ServiceError,error:e}),te(Jl.Error,e),K(!1)};de(rn.m.getBrowsePageDataById.start(t,ae,Y,e))}}),[r,t,ue,a,de,te,ae,Y]),(0,l.useEffect)((()=>{switch(me.status){case U.Purchased:C?v&&v(me):(fe({productId:me.productId,skuId:me.skuId||"",availabilityId:me.availabilityId||""}),te(Jl.ThankYou));break;case U.ServiceError:case U.PurchaseError:case U.AlreadyPurchased:v&&v(me)}}),[me,v,C]);const Te=e=>{e!==ge&&fe(e),de(rn.m.getProductDetailById.start(e.productId,(e=>Ce(e)))),te(Jl.Pdp)},we=()=>{v&&v(me)},Pe=()=>{a===H.Browse&&W===Jl.Pdp?(fe(Zl(t,ue,r)),te(Jl.Browse)):v&&v(me)},Ae=()=>{a===H.Purchase||W===Jl.PurchaseOnFallback||a===H.Redeem?we():(fe(Zl(t,ue,r)),te(Jl.Pdp))},ke=e=>{y&&y({type:z.OpenUrl,data:e}),window.open(e,"_blank")},xe={onCancel:Ae,onError:(e,t,n,r,o,i)=>{he({productId:e,skuId:n,availabilityId:r,status:t,orderId:o,error:i})},onOpenUrl:ke,onSuccess:(e,t,n,r,o,i)=>{he({productId:e,skuId:t,availabilityId:n,status:U.Purchased,orderId:r,xboxCardUsedForPurchase:o,tokenType:i}),a!==H.Redeem&&e&&de(rn.m.purchaseComplete(e))}};let Re=null;switch(W){case Jl.Pdp:default:Re=l.createElement(cl,{productId:ge.productId,skuId:ge.skuId,availabilityId:ge.availabilityId,hideShowInStore:m,hideWishList:h,trackingParams:T,onShowSkuPicker:()=>te(Jl.SkuPicker),onPurchaseAction:()=>te(Jl.Purchase),onGiftAction:()=>te(Jl.Gift),onRedeemAction:le?()=>te(Jl.Redeem):void 0,onError:e=>{te(Ee(null===w||void 0===w?void 0:w.fallbackToPurchaseOnError,W)?Jl.PurchaseOnFallback:Jl.Error,e)},onGoBack:Pe,onOpenStoreUrl:ke,setIsLoading:K,xStoreScenario:k,itemType:ae,updateSelectedProduct:fe,clientType:x,isTvAgent:ee});break;case Jl.Gift:V=G.Gift;case Jl.Purchase:case Jl.PurchaseOnFallback:Re=l.createElement(gl,{productId:ge.productId,availabilityId:ge.availabilityId,skuId:ge.skuId,trackingParams:T,setIsLoading:K,orderDetails:xe,onCloseButtonClick:Ae,scenario:V,clientType:x,giftRecipientInformation:R,deviceFamily:ee?B.XboxTV:void 0});break;case Jl.Redeem:Re=l.createElement(Ql,{productId:ge.productId,availabilityId:ge.availabilityId,skuId:ge.skuId,trackingParams:T,setIsLoading:K,onCloseButtonClick:Ae,clientType:x,orderDetails:xe,offerId:L,productMetadataList:F,themeOverride:q,scenario:j});break;case Jl.Browse:Re=l.createElement(fn,{productId:ge.productId,skuId:ge.skuId,availabilityId:ge.availabilityId,onSelect:Te,onClose:we,onError:e=>{te(Ee(null===w||void 0===w?void 0:w.fallbackToPurchaseOnError,W)?Jl.PurchaseOnFallback:Jl.Error,e)},setIsLoading:K,channelKey:Y,itemType:ae});break;case Jl.ThankYou:Re=l.createElement(Xl,{productId:ge.productId,skuId:ge.skuId,referringProductId:I,scenario:V,setIsLoading:K,onError:e=>te(Jl.Error,e),onClose:we,xboxCardUsedForPurchase:me.xboxCardUsedForPurchase,tokenType:me.tokenType});break;case Jl.Error:Re=((e,t,n,r,o)=>l.createElement("div",{className:"ContextualStoreV2-module__failureViewContainer___Z+3cW"},l.createElement("h4",null,e),l.createElement(c.a,S()({as:"button",onClick:r,className:"ContextualStoreV2-module__closeButton___MmWUe","aria-label":n},(0,N.vj)(o)),t)))(ve,ye,be,we,_e);break;case Jl.SkuPicker:Re=l.createElement(un,{hasAddOns:d,onSelect:Te,onClose:()=>te(Jl.Pdp),productId:t})}const Oe=!(p||W===Jl.Purchase||W===Jl.PurchaseOnFallback||W===Jl.Gift||W===Jl.Redeem||W===Jl.ThankYou&&J===O.Je.MobileLandscape),Ne=(0,_.useSelector)((e=>(0,g.pzA)(e,g.WTf.EnableXboxSmallPurchaseDialog))),Me=se?s()("ContextualStoreV2-module__newContextualStoreSizing___h+ipJ",Ne&&"xbox-new-contextual-store-sizing"):"ContextualStoreV2-module__contextualStoreSizing___tzMDW";return l.createElement(D,{value:{activateStoreExperiments:!!o}},Se&&l.createElement(tn.m,null,l.createElement("script",null,`(${Kl.toString()})();`)),l.createElement(N.M9,null,l.createElement(A.FocusContainer,{autoFocusContainer:!0,className:"ContextualStoreV2-module__focusContainer___EAJYV",onKeyDown:e=>{"Escape"===e.nativeEvent.key&&we()}},l.createElement(O.mc,{className:s()("xgp-reset-style","ContextualStoreV2-module__contextualStoreContainer___7k8p9",{"theme-dark":q?q===g.Sxu.Dark:pe===g.Sxu.Dark},se?"ContextualStoreV2-module__isNewBuyNowXboxUiExpEnabled___7Mjfr":void 0)},l.createElement("div",{className:s()(Me,"ContextualStoreV2-module__flexColumn___EnNnt")},Re),Oe&&l.createElement(Jt.M,S()({as:"button",icon:Zt.A,onClick:we,buttonSize:u.Mp.Small,buttonType:u.VQ.Primary,overlayMode:u.w9.Solid,className:s()([(0,O.YK)("margin","all",2),"ContextualStoreV2-module__closeIcon___nKOGi",Ie.gI]),"aria-label":be},(0,N.vj)(_e))),X&&l.createElement("div",{className:"ContextualStoreV2-module__progressContainer___SE7z1"},l.createElement(O.fI,{className:"ContextualStoreV2-module__progressIconAlignment___n9XxL"},l.createElement(O.L7,null)))))))};n(86741);const nc=e=>{let{onResult:t,onMessage:n}=e;var r;const o=(0,_.useDispatch)(),i=(0,g.mzJ)(g.pvY.ProductId,""),a=(0,g.mzJ)(g.pvY.AvailabilityId,""),s=(0,g.mzJ)(g.pvY.SkuId,""),c=new URLSearchParams((0,Fr.zy)().search),u=c.get("partnerid"),d=c.get("cv"),p=c.get("campaignId"),m=c.get("it"),h=c.get("xs"),f=c.get("clientType"),v=(0,_.useSelector)((e=>(0,g.pzA)(e,g.WTf.EnableSkipActivateStoreExp)))||(0,g.JSV)(null!==(r=c.get("activateStoreExperiments"))&&void 0!==r?r:"","true"),y=!!(null===u||void 0===u?void 0:u.startsWith("gamepasssamsungtv")),b=V.v2,S=c.get("t");(0,l.useEffect)((()=>{S&&"dark"===S.toLowerCase()&&o(g.F6E.setTheme(g.Sxu.Dark))}),[]);const E=(e=>{switch(null===e||void 0===e?void 0:e.toLowerCase()){case"purchase":return H.Purchase;case"browse":return H.Browse;case"redeem":return H.Redeem;default:return H.Details}})(c.get("exp")),C=c.get("skipPurchaseConfirmation"),T="true"===(null===C||void 0===C?void 0:C.toLowerCase()),w=c.get("fallbackToPurchaseOnError"),I="true"===(null===w||void 0===w?void 0:w.toLowerCase()),P=c.get("anon"),A="true"===(null===P||void 0===P?void 0:P.toLowerCase()),k=c.get("hideClose"),x="true"===(null===k||void 0===k?void 0:k.toLowerCase())||y,R="xboxapponandroid"===(null===f||void 0===f?void 0:f.toLowerCase())||"xboxapponios"===(null===f||void 0===f?void 0:f.toLowerCase()),N=(0,g.l_d)(c,Dr.hV.referringProductId),M=(0,Et.ww)(i,void 0,s,a),L=e=>{var n,r;null===t||void 0===t||t(e),null===(n=window.parent)||void 0===n||n.postMessage({message:"PurchaseStatus",result:e},"*"),null===(r=window.opener)||void 0===r||r.postMessage({message:"PurchaseStatus",result:e},"*"),!window.opener&&window.parent===window&&y&&window.location.assign(M)},D=e=>{var t,r;null===n||void 0===n||n(e),null===(t=window.parent)||void 0===t||t.postMessage({message:"PurchaseMessage",result:e},"*"),null===(r=window.opener)||void 0===r||r.postMessage({message:"PurchaseMessage",result:e},"*")};return l.createElement(O.tH,null,(()=>l.createElement(O.a4,null,l.createElement(tc,{allowAnonymous:A,productId:i,skuId:s,availabilityId:a,onResult:L,onMessage:D,tracking:{callerApplicationId:u||void 0,cV:d||void 0,campaignId:p||void 0},version:b,experience:E,skipPurchaseConfirmation:T,options:{fallbackToPurchaseOnError:I},referringProductId:null===N||void 0===N?void 0:N.value,hideCloseButton:x,hideShowInStore:y,hideWishList:R,itemType:m,xStoreScenario:h,clientType:f,activateStoreExperiments:v}))))};const rc=e=>{let{contentRef:t,showModal:n,onClose:r}=e;const o=(0,_.useSelector)((e=>(0,g.pzA)(e,g.WTf.EnableBuyNowXboxUiExp)));return l.createElement(l.Fragment,null,l.createElement(O.aF,{show:n,fullscreenOnMobile:o},l.createElement(O.aF.Body,{className:(0,O.YK)("padding","all",0)},l.createElement("div",{ref:t,className:"RedeemCodeModal-module__modalContainer___4E9L+"},l.createElement(lc,{onResult:e=>{r(e)},activateStoreExperiments:!0})))))},oc=()=>{var e;const[t,n]=(0,l.useState)(void 0),r=(0,_.useSelector)(en.ct),o=(0,g.wwE)(),i=(0,g.AzV)();(0,l.useEffect)((()=>{var e;if(r){const t=new URLSearchParams(window.location.search),r=t.get(Rr);if(r){const o=r.split("-").filter((e=>e));if(o.length>0&&o.length<4){const r=t.get(Nr),i=ic(r);n(S()({productId:o[0],skuId:o[1],availabilityId:o[2],referringProductId:null!==(e=t.get(Dr.hV.referringProductId))&&void 0!==e?e:void 0},i))}}}}),[r,n]),(0,l.useEffect)((()=>{const e=e=>{var t,a;const s=null===e||void 0===e?void 0:e.detail,l=null===(t=s.experience)||void 0===t?void 0:t.toLocaleLowerCase();if(s&&s.productId||l===H.Redeem.toLocaleLowerCase())if(r)n(S()(S()({},s),{},{productId:s.productId,skuId:s.skuId,availabilityId:s.availabilityId,experience:s.experience,referringProductId:null!==(a=s.referringProductId)&&void 0!==a?a:void 0,activateStoreExperiments:!!s.activateStoreExperiments}));else{let e=s.productId;s.skuId&&(e+=`-${s.skuId}`,s.availabilityId&&(e+=`-${s.availabilityId}`));const t=new URL(window.location.toString()),n=new URLSearchParams(t.search);e&&n.set(Rr,e),s.referringProductId&&n.set(Dr.hV.referringProductId,s.referringProductId),t.search=n.toString();const r=(0,g.XBe)(s.productId)===E.hd?i(t.toString()):o(t.toString());window.location.assign(r)}};return document.addEventListener(Or,e),()=>document.removeEventListener(Or,e)}),[o,i,r,n]);const a=e=>{var r;n(void 0),null===(r=null===t||void 0===t?void 0:t.onResult)||void 0===r||r.call(t,e)};if(t)switch(null===(e=t.experience)||void 0===e?void 0:e.toLocaleLowerCase()){case H.Redeem.toLocaleLowerCase():return l.createElement(rc,{showModal:!0,onClose:a});case H.Purchase.toLocaleLowerCase():case H.Details.toLocaleLowerCase():default:return l.createElement(Gr,S()(S()({},t),{},{onResult:a,showModal:!0}))}return null},ic=e=>{switch(null===e||void 0===e?void 0:e.toLowerCase()){case H.Redeem.toLowerCase():return{experience:H.Redeem};case H.Purchase.toLowerCase():return{experience:H.Purchase};case G.Gift.toLowerCase():return{experience:H.Purchase,scenario:G.Gift};case H.Details.toLowerCase():default:return{experience:H.Details}}};const ac=(e,t,n)=>({productId:e,skuId:null!==t&&void 0!==t?t:"",availabilityId:null!==n&&void 0!==n?n:""}),sc=()=>Jl.Redeem,lc=e=>{const{productId:t="",skuId:n,availabilityId:r,activateStoreExperiments:o,allowAnonymous:i,hideCloseButton:a,onResult:d,onMessage:p,productTitle:m,skipPurchaseConfirmation:h,tracking:v,referringProductId:y,clientType:b,offerId:C,productMetadataList:T,themeOverride:w,redeemScenario:I=q.Redeem}=e,[P,k]=(0,l.useState)(!0),[x,R]=(0,l.useState)(sc()),{currentExperience:M}=(0,l.useContext)(O.W4),L=(0,l.useCallback)(((e,t)=>{p&&p({type:z.PageChange,data:e}),R(e)}),[p]),F=(0,_.useSelector)(en.yn),B=(0,_.useSelector)(en.ct)||!!F,H=(0,g.wwE)(),G=(0,g.AzV)(),j=(0,_.useSelector)((e=>(0,g.pzA)(e,g.WTf.EnableBuyNowXboxUiExp)))&&!!o,V=(0,_.useSelector)((e=>(0,vt.g4)(e,t))),X=n||(null===V||void 0===V?void 0:V.optimalSkuId)||(null===V||void 0===V?void 0:V.preferredSkuId);(0,l.useEffect)((()=>{if(!i&&!B){const e=(0,g.XBe)(t)===E.hd?G(window.location.href):H(window.location.href);window.parent===window?window.location.assign(e):x!==Jl.Error&&(L(Jl.Error,new Error("Attempting to sign-in inside an iframe")),k(!1))}}),[i,B,t,x,H,G,L]);const K=(0,_.useDispatch)(),W=(0,_.useSelector)(g.j17),[$,Y]=(0,l.useState)(((e,t,n)=>({productId:e,skuId:t,availabilityId:n,status:U.Canceled}))(t,X,r)),[Q,J]=(0,l.useState)(ac(t,X,r)),Z={contentName:"Close Contextual Store Button",templateName:"ButtonComponent",contentType:"ActionButton",productId:t,skuId:X,productName:m},{genericPurchaseErrorMessage:ee,closeButtonText:te,closeContextualStore:ne}=(0,f.ot)("genericPurchaseErrorMessage","closeButtonText","closeContextualStore"),re=(0,_.useSelector)((e=>(0,g.pzA)(e,g.WTf.UsePostMessageHelper)));(0,l.useEffect)((()=>{(0,A.initializeGamepadNavigation)()}),[]);(0,l.useEffect)((()=>{if(t){K(rn.m.getProductDetailById.start(t,(e=>(e=>{Y({productId:t,skuId:X,availabilityId:r,status:U.ServiceError,error:e}),L(Jl.Error,e),k(!1)})(e))));const e=sc();x!==e&&R(e),J(ac(t,X,r))}}),[r,t,X]),(0,l.useEffect)((()=>{switch($.status){case U.Purchased:h?d&&d($):(J({productId:$.productId,skuId:$.skuId||"",availabilityId:$.availabilityId||""}),L(Jl.ThankYou));break;case U.ServiceError:case U.PurchaseError:case U.AlreadyPurchased:d&&d($)}}),[$,d,h]);const oe=()=>{d&&d($)},ie={onCancel:oe,onError:(e,t,n,r,o,i)=>{Y({productId:e,skuId:n,availabilityId:r,status:t,orderId:o,error:i})},onOpenUrl:e=>{p&&p({type:z.OpenUrl,data:e}),window.open(e,"_blank")},onSuccess:(e,t,n,r,o,i)=>{Y({productId:e,skuId:t,availabilityId:n,status:U.Purchased,orderId:r,xboxCardUsedForPurchase:o,tokenType:i})}};let ae=null;switch(x){case Jl.Redeem:default:ae=l.createElement(Ql,{productId:Q.productId,availabilityId:Q.availabilityId,skuId:Q.skuId,trackingParams:v,setIsLoading:k,onCloseButtonClick:oe,clientType:b,orderDetails:ie,offerId:C,productMetadataList:T,themeOverride:w,scenario:I});break;case Jl.ThankYou:ae=l.createElement(Xl,{productId:$.productId,skuId:$.skuId,referringProductId:y,setIsLoading:k,onError:e=>L(Jl.Error,e),onClose:oe,xboxCardUsedForPurchase:$.xboxCardUsedForPurchase,tokenType:$.tokenType});break;case Jl.Error:ae=((e,t,n,r,o)=>l.createElement("div",{className:"ContextualStoreRedeem-module__failureViewContainer___6JOCs"},l.createElement("h4",null,e),l.createElement(c.a,S()({as:"button",onClick:r,className:"ContextualStoreRedeem-module__closeButton___xbBNz","aria-label":n},(0,N.vj)(o)),t)))(ee,te,ne,oe,Z)}const se=!(a||x===Jl.Redeem||x===Jl.ThankYou&&M===O.Je.MobileLandscape),le=j?"ContextualStoreRedeem-module__newContextualStoreSizing___NsX+6":"ContextualStoreRedeem-module__contextualStoreSizing___CbMct";return l.createElement(D,{value:{activateStoreExperiments:!!o}},re&&l.createElement(tn.m,null,l.createElement("script",null,`(${Kl.toString()})();`)),l.createElement(N.M9,null,l.createElement(A.FocusContainer,{autoFocusContainer:!0,className:"ContextualStoreRedeem-module__focusContainer___gw8mj",onKeyDown:e=>{"Escape"===e.nativeEvent.key&&oe()}},l.createElement(O.mc,{className:s()("xgp-reset-style","ContextualStoreRedeem-module__contextualStoreContainer___F2Awo",{"theme-dark":w?w===g.Sxu.Dark:W===g.Sxu.Dark},j?"ContextualStoreRedeem-module__isNewBuyNowXboxUiExpEnabled___mfIP2":void 0)},l.createElement("div",{className:s()(le,"ContextualStoreRedeem-module__flexColumn___M8ezq")},ae),se&&l.createElement(Jt.M,S()({as:"button",icon:Zt.A,onClick:oe,buttonSize:u.Mp.Small,buttonType:u.VQ.Primary,overlayMode:u.w9.Solid,className:s()([(0,O.YK)("margin","all",2),"ContextualStoreRedeem-module__closeIcon___kV39k"]),"aria-label":ne},(0,N.vj)(Z))),P&&l.createElement("div",{className:"ContextualStoreRedeem-module__progressContainer___hfsHk"},l.createElement(O.fI,{className:"ContextualStoreRedeem-module__progressIconAlignment___gdT76"},l.createElement(O.L7,null)))))))};var cc=n(20090);const uc=function(e){return l.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg"},e),l.createElement("path",{d:"M3 6.875a1.125 1.125 0 000 2.25h26a1.125 1.125 0 000-2.25H3zM7 14.875a1.125 1.125 0 000 2.25h18a1.125 1.125 0 000-2.25H7zM12 22.875a1.125 1.125 0 000 2.25h8a1.125 1.125 0 000-2.25h-8z"}))};const dc=function(e){return l.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 32 32"},e),l.createElement("circle",{cx:16,cy:16,r:5,fillRule:"evenodd"}))};var pc="ApplyFiltersButton-module__applyButton___faTvE",mc="ApplyFiltersButton-module__filterText___-fwr6",hc="ApplyFiltersButton-module__text___UQPpr";const gc=e=>e.pageType===N.ry.Search?l.createElement(fc,S()({},e)):l.createElement(_c,S()({},e)),fc=e=>{const t=(0,f.JX)("seeResultsFilterButtonText");return l.createElement(c.a,{as:"button","aria-label":t,buttonType:u.VQ.Brand,className:s()(pc,w.Q,hc),onClick:e.onHide},l.createElement("span",{className:mc},t))},_c=e=>{const t=(0,g.mzJ)(g.pvY.ChannelId,""),{channelLce:n}=pn.JD.useFilteredBrowseChannelByChannelId(t),r=(0,f.JX)("browsePageRefineResults"),o=(0,f.JX)("seeResultsFilterButtonText"),i=()=>{const e=l.createElement(dc,{"aria-hidden":!0});return l.createElement("span",{className:mc},e," ",e," ",e)};return l.createElement(c.a,{as:"button","aria-label":r,buttonType:u.VQ.Brand,className:s()(pc,w.Q,hc),onClick:e.onHide},l.createElement(cc.LceRenderer,{key:"FilterPanel_button_title",data:n,renderNotRequested:i,renderContent:()=>l.createElement("span",{className:mc},o),renderFetching:i,renderError:i,renderDefault:i}))};var vc="SortAndFilters-module__clearAllButton___M8wTO",yc="SortAndFilters-module__clearAllButtonContainer___v6UZC",bc="SortAndFilters-module__filterList___T81LH",Sc="SortAndFilters-module__filterText___MqCzX",Ec="SortAndFilters-module__filterTitle___LiVrt",Cc="SortAndFilters-module__filtersText___8OwXG",Tc="SortAndFilters-module__sortContainer___e+DLZ",wc="SortAndFilters-module__text___Dl4fZ";const Ic=["overrideLandscapeButtonWithPortraitButton"],Pc=e=>{const{selectedSort:t,sortInfo:n}=e,r=(0,Fr.W6)(),o=(0,f.FE)("browsePageSortByXFunction"),i=[{id:nn.$Z}];return l.createElement(ot,{filterInfo:n,onChoicesClick:(e,t)=>{const o=e;if(n.hasAllChoice&&n.allChoiceId&&t===n.allChoiceId){const e=(0,nn.dJ)(o,(0,M.ZB)(r.location));(0,nn.Z)(r,e,!0)}else{const e=(0,nn.Pv)(o,t,(0,M.ZB)(r.location));(0,nn.Z)(r,e,!0)}},selectedChoices:null!==t&&void 0!==t?t:i,isInitiallyCollapsed:!0,titleFunction:o,isScrollable:!1})},Ac=e=>{const{filtersInfo:t,selectedFilters:n}=e,r=(0,nn.fQ)(t),o=(0,Fr.W6)(),i=(e,t)=>{const n=(0,nn.IO)(e,t,(0,M.ZB)(o.location));(0,nn.Z)(o,n,!0)};return l.createElement(l.Fragment,null,r.map(((e,t)=>{var r,o;const a=n&&null!==(o=null===(r=n[e.id])||void 0===r?void 0:r.choices)&&void 0!==o?o:[],s=e.id!==nn.av.Accessibility;return l.createElement("li",{key:`${e.id}_${t}`,className:"SortAndFilters-module__li___aV+Oo"},l.createElement(ot,{filterInfo:e,onChoicesClick:i,selectedChoices:a,isInitiallyCollapsed:!0,isScrollable:s}))})))},kc=e=>{var t;const{filtersInfo:n,selectedFilters:r,sortInfo:o}=e,i=(0,f.FE)("browsePageFilterTitle");return l.createElement("div",{className:"SortAndFilters-module__container___yA+Vp"},l.createElement("div",{className:Tc},l.createElement(Pc,{selectedSort:null===(t=r[nn.av.OrderBy])||void 0===t?void 0:t.choices,sortInfo:o})),l.createElement("h2",{className:s()(w.CS,Cc)},i),l.createElement("ul",{className:bc},l.createElement(Ac,{selectedFilters:r,filtersInfo:n})))},xc=e=>{const{browsePageRefineResults:t,browsePageClearAllFilters:n}=(0,f.ot)("browsePageRefineResults","browsePageClearAllFilters"),r=(0,Fr.W6)(),[o,i]=(0,l.useState)(!1),a=(0,nn.Uh)(e.selectedFilters),d=(0,f.JX)("browsePageFilterMobileTitleFunction",{Filters:a});return l.createElement(l.Fragment,null,l.createElement(c.a,{as:"button","aria-label":t,buttonType:u.VQ.Brand,className:s()("SortAndFilters-module__button___OeFeU",w._o,wc),onClick:()=>{i(!0)}},l.createElement(uc,{"aria-hidden":!0}),l.createElement("span",{className:Sc},t)),o&&l.createElement(Nc,{showModal:o,onHide:()=>{i(!1)},selectedFiltersSize:a,filtersInfo:e.filtersInfo,sortInfo:e.sortInfo,selectedFilters:e.selectedFilters,filterTitleWithCount:d,pageType:e.pageType}),a>0&&l.createElement("div",{className:Ec},l.createElement("div",{className:s()(w.CS,Cc)},d),l.createElement("div",{className:yc},l.createElement(c.a,{as:"button","aria-label":n,buttonType:u.VQ.Tertiary,className:s()(vc,w.Q,wc),onClick:()=>{const e=(0,nn.PI)(r.location);(0,nn.Z)(r,e,!0)}},l.createElement("span",{className:Sc},n)))))},Rc=e=>{const t=(0,f.FE)("browsePageRefineResults"),[n,r]=(0,l.useState)(!1),o=(0,nn.Uh)(e.selectedFilters),i=(0,f.JX)("browsePageFilterMobileTitleFunction",{Filters:o});return l.createElement(l.Fragment,null,l.createElement(c.a,{as:"button","aria-label":t,buttonType:u.VQ.Brand,className:s()("SortAndFilters-module__buttonLandscape___+mKnt",w._o,wc),onClick:()=>{r(!0)}},l.createElement(uc,{"aria-hidden":!0})),n&&l.createElement(Nc,{showModal:n,onHide:()=>{r(!1)},selectedFilters:e.selectedFilters,selectedFiltersSize:o,filtersInfo:e.filtersInfo,sortInfo:e.sortInfo,filterTitleWithCount:i,pageType:e.pageType}))},Oc=e=>{const{overrideLandscapeButtonWithPortraitButton:t}=e,n=P()(e,Ic),r=(0,O.Gp)({desktopComponent:kc,mobilePortraitComponent:xc,mobileLandscapeComponent:t?xc:Rc});return r?l.createElement(r,S()({},n)):null},Nc=e=>{let{filtersInfo:t,filterTitleWithCount:n,onHide:r,showModal:o,selectedFilters:i,selectedFiltersSize:a,sortInfo:d,pageType:p}=e;var m;const{browsePageFiltersTitle:h,browsePageClearAllFilters:g}=(0,f.ot)("browsePageFiltersTitle","browsePageClearAllFilters"),_=0===a?h:n,v=(0,Fr.W6)();return l.createElement(O.aF,{ariaLabel:_,className:"SortAndFilters-module__modalContainer___MoRmH",closeable:!1,onHide:r,show:o},l.createElement(O.aF.Body,{className:(0,O.YK)("padding","all",3)},l.createElement("div",{className:"SortAndFilters-module__containerMobile___vuoD2"},l.createElement("div",{className:Tc},l.createElement(Pc,{selectedSort:null===(m=i[nn.av.OrderBy])||void 0===m?void 0:m.choices,sortInfo:d})),l.createElement("div",{className:s()(Ec,"SortAndFilters-module__sortFilterTitle___RAHge")},l.createElement("div",{className:s()(w.CS,Cc)},_),a>0&&l.createElement("div",{className:yc},l.createElement(c.a,{as:"button","aria-label":g,buttonType:u.VQ.Tertiary,className:s()(vc,w.Q,wc),onClick:()=>{const e=(0,nn.PI)(v.location);(0,nn.Z)(v,e,!0)}},l.createElement("span",{className:Sc},g)))),l.createElement("ul",{className:bc},l.createElement(Ac,{selectedFilters:i,filtersInfo:t}))),l.createElement("div",{className:"SortAndFilters-module__applyButtonContainer___I7dpt"},l.createElement(gc,{onHide:r,pageType:p}))))};var Mc="FiltersPanel-module__modalContainer___pQEtN",Lc="FiltersPanel-module__text___Umo23",Dc="LoadingFilters-module__text___qgjxf";const Fc=()=>l.createElement("div",{className:"LoadingFilters-module__filtersPanel___HaYt8"}),Uc=()=>{const e=(0,f.FE)("browsePageRefineResults");return l.createElement(c.a,{as:"button","aria-label":e,buttonType:u.VQ.Brand,className:s()("LoadingFilters-module__button___tD2Ng",w._o,Dc),disabled:!0},l.createElement(uc,{"aria-hidden":!0}),l.createElement("span",{className:"LoadingFilters-module__filterText___fmXBY"},e))},Bc=()=>{const e=(0,f.FE)("browsePageRefineResults");return l.createElement(c.a,{as:"button","aria-label":e,buttonType:u.VQ.Brand,className:s()("LoadingFilters-module__buttonLandscape___rLfge",w._o,Dc),disabled:!0},l.createElement(uc,{"aria-hidden":!0}))},Hc=()=>{const e=(0,O.Gp)({desktopComponent:Fc,mobilePortraitComponent:Uc,mobileLandscapeComponent:Bc});return e?l.createElement(e,null):null},Gc=()=>{const{browsePageRefineResults:e,browsePageFiltersTitle:t,browsePageFilterErrorTitle:n,browsePageFilterErrorDescription:r}=(0,f.ot)("browsePageRefineResults","browsePageFiltersTitle","browsePageFilterErrorTitle","browsePageFilterErrorDescription"),[o,i]=(0,l.useState)(!1);return l.createElement(l.Fragment,null,l.createElement(c.a,{as:"button","aria-label":e,buttonType:u.VQ.Brand,className:s()("FiltersPanel-module__button___YQ92p",w._o,Lc),onClick:()=>{i(!0)}},l.createElement(uc,{"aria-hidden":!0}),l.createElement("span",{className:"FiltersPanel-module__filterText___G10Ck"},e)),o&&l.createElement(O.aF,{className:Mc,show:o,ariaLabel:t,closeable:!0,onHide:()=>{i(!1)}},l.createElement(he,{errorHeading:n,errorDescription:r})))},qc=()=>{const{browsePageRefineResults:e,browsePageFiltersTitle:t,browsePageFilterErrorTitle:n,browsePageFilterErrorDescription:r}=(0,f.ot)("browsePageRefineResults","browsePageFiltersTitle","browsePageFilterErrorTitle","browsePageFilterErrorDescription"),[o,i]=(0,l.useState)(!1);return l.createElement(l.Fragment,null,l.createElement(c.a,{as:"button","aria-label":e,buttonType:u.VQ.Brand,className:s()("FiltersPanel-module__buttonLandscape___T7IjK",w._o,Lc),onClick:()=>{i(!0)}},l.createElement(uc,{"aria-hidden":!0})),o&&l.createElement(O.aF,{className:Mc,show:o,ariaLabel:t,closeable:!0,onHide:()=>{i(!1)}},l.createElement(he,{errorHeading:n,errorDescription:r})))},jc=()=>{const{browsePageFilterErrorTitle:e,browsePageFilterErrorDescription:t}=(0,f.ot)("browsePageFilterErrorTitle","browsePageFilterErrorDescription");return l.createElement(he,{errorHeading:e,errorDescription:t})},Vc=()=>{const e=(0,O.Gp)({desktopComponent:jc,mobilePortraitComponent:Gc,mobileLandscapeComponent:qc});return e?l.createElement(e,null):null},zc=e=>{const t=(0,_.useSelector)((t=>(0,pn.gA)(t,e.pageType))),n=(0,nn.sz)();return l.createElement(cc.LceRenderer,{key:`FilterPanel_${e.pageType}`,data:t,renderFetching:()=>l.createElement(Hc,null),renderContent:t=>{let{data:r}=t;return l.createElement(Oc,{filtersInfo:r,selectedFilters:n,sortInfo:r[nn.av.OrderBy],pageType:e.pageType,overrideLandscapeButtonWithPortraitButton:e.overrideLandscapeButtonWithPortraitButton})},renderError:()=>l.createElement(Vc,null)})};const Xc=e=>{let{searchResult:t}=e;let n=t.description;return t.description.length>225&&(n=`${t.description.substring(0,225)} ...`),l.createElement("div",{className:"SearchResult-module__resultWrapper___Xnr2T"},l.createElement(c.a,{href:t.url,as:"a",buttonType:u.VQ.Tertiary,className:"SearchResult-module__result___mnqfi"},l.createElement("p",{className:"SearchResult-module__title___cBdxh"},t.title),l.createElement("p",{className:"SearchResult-module__description___yl6ss"},n),l.createElement("p",{className:"SearchResult-module__url___Fiuhf"},t.url)))};const Kc=e=>{let{searchResults:t}=e;return l.createElement("div",{className:"SearchResultList-module__searchGrid___8Jq6r"},t.map(((e,t)=>l.createElement(Xc,{searchResult:e,key:t}))))};const Wc=function(e){return l.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 32 32"},e),l.createElement("path",{d:"M25.85 4.507a1.46 1.46 0 00-.907.436L16 13.887 7.057 4.943A1.418 1.418 0 006 4.5a1.46 1.46 0 00-1.057.443A1.46 1.46 0 004.5 6l.009.161c.036.318.18.614.417.877L13.887 16l-8.944 8.944A1.46 1.46 0 004.5 26c0 .38.148.731.426 1.038.29.307.657.462 1.074.462l.154-.007c.354-.034.666-.185.913-.447L16 18.113l8.943 8.944c.273.288.64.443 1.057.443.417 0 .784-.155 1.067-.454A1.45 1.45 0 0027.5 26l-.007-.154a1.415 1.415 0 00-.447-.913L18.113 16l8.944-8.943A1.46 1.46 0 0027.5 6c0-.417-.155-.784-.454-1.067A1.408 1.408 0 0026 4.5l-.15.007z",fillRule:"evenodd"}))};var $c="StackFilters-module__button___DhtUo",Yc="StackFilters-module__buttonContainer___yoawp",Qc="StackFilters-module__text___StjKO";const Jc=e=>{var t;const{selectedFilters:n,filters:r}=e,[o,i]=(0,f.cG)("browsePageClearAllFilters","browsePageClearAllFiltersAccessibilityLabel"),a=(0,Fr.W6)(),d=[];for(const s of Object.values(n)){const e=s.choices.map((e=>e.id.toUpperCase())),n=null===(t=r[s.id])||void 0===t?void 0:t.choices.filter((t=>e.includes(t.id.toUpperCase())));n&&n.map((e=>{s.id.toUpperCase()!==nn.oL&&d.push(l.createElement(Zc,{filterId:s.id,choiceId:e.id,choiceTitle:e.title}))}))}return d.length>0?l.createElement("div",{className:"StackFilters-module__container___yKM42"},l.createElement("div",{className:Yc},l.createElement(c.a,{as:"button","aria-label":i,buttonType:u.VQ.Tertiary,className:s()($c,w.Q,Qc),onClick:()=>{const e=(0,nn.PI)(a.location);(0,nn.Z)(a,e,!0)}},o)),l.createElement(l.Fragment,null,d)):null},Zc=e=>{const{filterId:t,choiceId:n,choiceTitle:r}=e,o=(0,Fr.W6)(),i=(0,f.FE)("browsePageClearFilterFunction"),a=(0,g.GPZ)(i,r);return l.createElement("div",{className:Yc},l.createElement(c.a,{as:"button","aria-label":a,buttonType:u.VQ.Tertiary,className:s()($c,w.Q,Qc),onClick:()=>((e,t)=>{const n=(0,nn.IO)(e,t,(0,M.ZB)(o.location));(0,nn.Z)(o,n,!0)})(nn.av[t],n)},l.createElement(Wc,{"aria-hidden":!0}),l.createElement("span",{className:"StackFilters-module__filterText___tmWQ0"},r)))},eu=e=>{const t=(0,O.Gp)({desktopComponent:Jc,mobilePortraitComponent:void 0,mobileLandscapeComponent:void 0});return t?l.createElement(t,S()({},e)):null},tu=e=>{const t=(0,_.useSelector)((t=>(0,pn.gA)(t,e.pageType))),n=(0,nn.sz)();return l.createElement(cc.LceRenderer,{key:`StackFilter_${e.pageType}`,data:t,renderContent:e=>{let{data:t}=e;return l.createElement(eu,{selectedFilters:n,filters:t})}})};const nu=e=>{let{gamerTag:t,className:n,gamerPic:r,gamerPicSize:o}=e;const i=(0,f.JX)("gamerPicAltText"),a=(0,f.JX)("applyFlowAccountWelcomeTitle",[t]);return l.createElement("div",{className:s()("GamerPicWithGamerTag-module__gamerPicWithGamerTagContainer___5nJMD",n)},l.createElement(Ol.lY,{"aria-label":i,src:r,size:null!==o&&void 0!==o?o:Ol.Ow.Large,className:"GamerPicWithGamerTag-module__gamerPicContainer___InnM5"}),l.createElement("div",{className:"GamerPicWithGamerTag-module__gamerTag___40FQO"},a))};var ru=n(65087);var ou;!function(e){e.XboxCardApplyModal="xboxcardapplymodal"}(ou||(ou={}));const iu=e=>{let{gamerTag:t}=e;const n=(0,f.JX)("applyFlowAccountSwitchButtonText"),r=(0,f.JX)("applyFlowAccountSwitchTitle",[t]),o=(0,g.m$W)(),i=new URL(o),a=-1!==o.toLocaleLowerCase().indexOf("/apply"),c=(0,g.wwE)(),u=new URLSearchParams(i.search);a||(u.set("launchContentModal",ou.XboxCardApplyModal),i.search=u.toString());const d={areaName:"XboxCardApplyHost",contentType:N.cM.Link,contentName:"Xbox card apply switch account",id:"xboxCardApplyUserSwitchAccount"},p=c(i.toString(),{prompt:"select_account"});return l.createElement("div",{className:"XboxCardApply-module__switchAccountBlock___fqUJZ"},l.createElement("span",{className:w._o},r),l.createElement("a",S()({"aria-label":n,className:s()(w._o,"XboxCardApply-module__changeAccountLink___bbNtn"),href:p},(0,N.vj)(d)),n))},au=e=>{let{hideSwitchAccount:t,applyFullPageRender:n,applyFullPageConsoleRender:r,onKeyDown:o,channelName:i,referrerId:a,onClose:c}=e;const u=(0,_.useSelector)(en.ug),d=(0,_.useSelector)(en.$z),p=null!==d&&void 0!==d?d:u,m=null===p||void 0===p?void 0:p.gamerPicUrl,h=null===p||void 0===p?void 0:p.gamerTag;return l.createElement(O.mc,{className:s()("xgp-reset-style","XboxCardApply-module__applyContainer___BonYH"),onKeyDown:o},l.createElement(O.mc,{className:"XboxCardApply-module__contentContainer___cFqa-"},l.createElement(O.mc,{className:"XboxCardApply-module__accountContainer___JTyBI"},!!h&&l.createElement(nu,{gamerPic:m,gamerTag:h,className:"XboxCardApply-module__heroContainer___3sN5n"}),!t&&!!h&&l.createElement(iu,{gamerTag:h})),l.createElement(ru.J,{channelName:i,containerClassName:"XboxCardApply-module__pidlContainer___GMrgR",referrerId:a,onClose:c,nonConsoleFullPageRender:n,consoleFullPageRender:r})))},su=e=>{const{applyFullPageConsoleRender:t}=e,n=(0,_.useDispatch)(),r=new URLSearchParams((0,Fr.zy)().search),o=r.get("t");o&&"dark"===o.toLowerCase()&&n(g.F6E.setTheme(g.Sxu.Dark));const i=r.get("channelname"),a=r.get("referrerid");return l.createElement(O.tH,null,(()=>l.createElement(O.a4,null,l.createElement(au,{hideSwitchAccount:t,channelName:null!==i&&void 0!==i?i:Et.K7,referrerId:null!==a&&void 0!==a?a:Et.eK,applyFullPageRender:!t,applyFullPageConsoleRender:t}))))};var lu=n(79607)},60912:(e,t,n)=>{"use strict";var r,o,i,a,s,l,c,u,d,p,m;n.d(t,{yT:()=>i,Q8:()=>r,_z:()=>y._z,w:()=>v,Ks:()=>o,o:()=>a,te:()=>s,nl:()=>y.nl,L5:()=>d,bA:()=>_,Uh:()=>u,y1:()=>y.y1,Ay:()=>y.Ay,Ok:()=>f,WK:()=>p,aD:()=>h,nc:()=>b}),function(e){e.None="None",e.Authorized="Authorized",e.Linked="Linked"}(r||(r={})),function(e){e.Success="Success",e.AlreadyLinked="AlreadyLinked",e.TokenMissing="TokenMissing",e.PartnerLinkedToAnotherXboxAccount="PartnerLinkedToAnotherXboxAccount",e.XboxLinkedToAnotherPartnerAccount="XboxLinkedToAnotherPartnerAccount",e.Error="Error"}(o||(o={})),function(e){e.Ubisoft="Ubisoft"}(i||(i={})),function(e){e.XboxOne="XboxOne",e.XboxOneS="XboxOneS",e.XboxOneSDigital="XboxOneSDigital",e.XboxOneX="XboxOneX",e.XboxOneXDevKit="XboxOneXDevKit",e.XboxSeriesS="XboxSeriesS",e.XboxSeriesX="XboxSeriesX",e.XboxSeriesXDevKit="XboxSeriesXDevKit",e.Other="Other"}(a||(a={})),function(e){e.Unknown="Unknown",e.ConnectedStandby="ConnectedStandby",e.On="On",e.Off="Off",e.SystemUpdate="SystemUpdate"}(s||(s={})),function(e){e.Unknown="Unknown",e.Playing="Playing",e.Paused="Paused",e.Stopped="Stopped"}(l||(l={})),function(e){e.OK="OK",e.AccountNotFound="AccountNotFound",e.XboxNotPaired="XboxNotPaired",e.NullContext="NullContext",e.MissingAuthHeader="MissingAuthHeader",e.InvalidAuthHeader="InvalidAuthHeader",e.InvalidAuthScheme="InvalidAuthScheme",e.InvalidRequest="InvalidRequest",e.InvalidRequestPayload="InvalidRequestPayload",e.InvalidUserToken="InvalidUserToken",e.UserTokenExpired="UserTokenExpired",e.UnsupportedDeviceTypeClaim="UnsupportedDeviceTypeClaim",e.MissingXuidClaim="MissingXuidClaim",e.InvalidProxyToken="InvalidProxyToken",e.MissingPuidClaim="MissingPuidClaim",e.InvalidXToken="InvalidXToken",e.InvalidListType="InvalidListType",e.InvalidSkillPlatform="InvalidSkillPlatform",e.ErrorGettingDDSS2SToken="ErrorGettingDDSS2SToken",e.ErrorGettingCCSS2SToken="ErrorGettingCCSS2SToken",e.ErrorGettingCCSPermissionTicket="ErrorGettingCCSPermissionTicket",e.ErrorCallingCCS="ErrorCallingCCS",e.ErrorCallingAlexaEventGateway="ErrorCallingAlexaEventGateway",e.UserDataNotFound="UserDataNotFound",e.OperationNotFound="OperationNotFound",e.MissingDeviceId="MissingDeviceId",e.MissingGamerData="MissingGamerData",e.MissingPuid="MissingPuid",e.MissingXuid="MissingXuid",e.MissingDigitalAssistantRemoteControlEnabledFlag="MissingDigitalAssistantRemoteControlEnabledFlag",e.MissingConsoleStreamingEnabledFlag="MissingConsoleStreamingEnabledFlag",e.MissingRemoteManagementEnabledFlag="MissingRemoteManagementEnabledFlag",e.MissingWnsChannelUri="MissingWnsChannelUri",e.MissingOpId="MissingOpId",e.ErrorGettingWNSS2SToken="ErrorGettingWNSS2SToken",e.ErrorCallingWNS="ErrorCallingWNS",e.NotImplemented="NotImplemented",e.XboxDataNotFound="XboxDataNotFound",e.ApplicationNotInstalled="ApplicationNotInstalled",e.ErrorCallingXboxLive="ErrorCallingXboxLive",e.InvalidXboxOsVersion="InvalidXboxOsVersion",e.InternalError="InternalError",e.FriendNotFound="FriendNotFound",e.TvChannelNotFound="TvChannelNotFound",e.TvChannelFallback="TvChannelFallback",e.DigitalAssistantRemoteControlDisabled="DigitalAssistantRemoteControlDisabled",e.ConsoleStreamingDisabled="ConsoleStreamingDisabled",e.RemoteManagementDisabled="RemoteManagementDisabled",e.InvalidRefreshToken="InvalidRefreshToken",e.InvalidAuthToken="InvalidAuthToken",e.ErrorWNSTempDisconnected="ErrorWNSTempDisconnected",e.MissingPuidHeader="MissingPuidHeader",e.MissingXuidHeader="MissingXuidHeader",e.MissingPrincipal="MissingPrincipal",e.MissingServiceId="MissingServiceId",e.InvalidServiceId="InvalidServiceId",e.ServiceIdNotAllowed="ServiceIdNotAllowed",e.Timeout="Timeout",e.CurrentConsoleNotFound="CurrentConsoleNotFound",e.OperationUnauthorized="OperationUnauthorized",e.MobileEndpointNotFound="MobileEndpointNotFound",e.RegisteredClientNotFound="RegisteredClientNotFound",e.UnsupportedPlatform="UnsupportedPlatform",e.ContactSharingNotAllowed="ContactSharingNotAllowed",e.XboxPowerOff="XboxPowerOff",e.XboxSystemUpdate="XboxSystemUpdate",e.DefaultOrStaleData="DefaultOrStaleData",e.InstallQueueNotFound="InstallQueueNotFound",e.InstallQueueEmpty="InstallQueueEmpty",e.ThrottledTryAgain="ThrottledTryAgain"}(c||(c={})),function(e){e.Paused="Paused",e.Error="OffConsoleError",e.Pending="Pending",e.TimedOut="TimedOut",e.ConsoleError="Error",e.Succeeded="Succeeded"}(u||(u={})),function(e){e.Pending="Pending",e.Success="Success",e.Error="Error"}(d||(d={})),function(e){e.Left="Left",e.Right="Right"}(p||(p={})),function(e){e.ProductId="ProductId",e.CollectionId="CollectionId",e.Link="Link"}(m||(m={}));var h,g,f,_,v,y=n(36284);!function(e){e.Private="Private",e.Public="Public"}(h||(h={})),function(e){e.Friends="Friends",e.Everyone="Everyone",e.Blocked="Blocked"}(g||(g={})),function(e){e.Allow="Allow",e.Block="Block"}(f||(f={})),function(e){e.BlockAll="BlockAll",e.FamilyFriendly="FamilyFriendly",e.Medium="Medium",e.Mature="Mature",e.MaturePlus="MaturePlus",e.AllowAll="AllowAll"}(_||(_={})),function(e){e.Allow="Allow",e.Block="Block"}(v||(v={}));const b=[f.Allow,f.Block];g.Everyone,g.Friends,g.Blocked},36284:(e,t,n)=>{"use strict";var r,o,i;n.d(t,{Ay:()=>r,_z:()=>i,nl:()=>o,y1:()=>a}),function(e){e.Acquisition="Acquisition",e.AccountLink="AccountLink",e.Buy="Buy",e.BuyToOwn="BuyToOwn",e.Cart="Cart",e.CloudPlay="CloudPlay",e.EditionSelector="EditionSelector",e.Extend="Extend",e.Get="Get",e.Gift="Gift",e.Install="Install",e.Join="Join",e.Manage="Manage",e.NotSoldSeparately="NotSoldSeparately",e.OpenInStore="OpenInStore",e.RedeemACode="RedeemACode",e.Remove="Remove",e.SkuSelector="SkuSelector",e.Trial="Trial",e.Upsell="Upsell",e.View="View",e.Wishlist="Wishlist"}(r||(r={})),function(e){e[e.Desktop=0]="Desktop",e[e.Mobile=1]="Mobile",e[e.MobileStickyHeader=2]="MobileStickyHeader",e[e.Overflow=3]="Overflow",e[e.CondensedDesktop=4]="CondensedDesktop",e[e.CondensedMobile=5]="CondensedMobile"}(o||(o={})),function(e){e[e.PDP=0]="PDP",e[e.PDPPageBar=1]="PDPPageBar",e[e.ContextualStore=2]="ContextualStore"}(i||(i={}));const a={[r.CloudPlay]:800,[r.Manage]:801,[r.AccountLink]:850,[r.Install]:900,[r.Extend]:901,[r.Upsell]:1e3,[r.NotSoldSeparately]:1050,[r.Acquisition]:1100,[r.BuyToOwn]:1200,PrimaryActionPriorityCutoff:1200,[r.OpenInStore]:1201,[r.SkuSelector]:1250,[r.EditionSelector]:1300,[r.Trial]:1350,[r.Wishlist]:1400,[r.Cart]:1450,[r.Gift]:1500,[r.RedeemACode]:1600}},48841:(e,t,n)=>{"use strict";n.d(t,{G:()=>r,m:()=>a});var r,o=n(97871),i=n(60959);!function(e){e.GET_PRODUCT_DETAIL_START="@contextualStore/GET_PRODUCT_DETAIL_START",e.GET_PRODUCT_DETAIL_COMPLETE="@contextualStore/GET_PRODUCT_DETAIL_COMPLETE",e.GET_PRODUCT_DETAIL_ERROR="@contextualStore/GET_PRODUCT_DETAIL_ERROR",e.GET_BROWSE_PAGE_START="@contextualStore/GET_BROWSE_PAGE_START",e.GET_BROWSE_PAGE_COMPLETE="@contextualStore/GET_BROWSE_PAGE_COMPLETE",e.GET_BROWSE_PAGE_ERROR="@contextualStore/GET_BROWSE_PAGE_ERROR",e.GET_MORE_BROWSE_PAGE_START="@contextualStore/GET_MORE_BROWSE_PAGE_START",e.GET_MORE_BROWSE_PAGE_COMPLETE="@contextualStore/GET_MORE_BROWSE_PAGE_COMPLETE",e.GET_MORE_BROWSE_PAGE_ERROR="@contextualStore/GET_MORE_BROWSE_PAGE_ERROR",e.PURCHASE_COMPLETE="@contextualStore/PURCHASE_COMPLETE"}(r||(r={}));const a={getProductDetailById:(0,i.U)(o.H.ContextualStore,r.GET_PRODUCT_DETAIL_START,((e,t)=>({productId:e,onFailure:t})),r.GET_PRODUCT_DETAIL_COMPLETE,(e=>({productId:e})),r.GET_PRODUCT_DETAIL_ERROR,((e,t)=>({error:e,productId:t}))),getBrowsePageDataById:(0,i.U)(o.H.ContextualStore,r.GET_BROWSE_PAGE_START,((e,t,n,r)=>({productId:e,itemType:t,channelKey:n,onFailure:r})),r.GET_BROWSE_PAGE_COMPLETE,((e,t)=>({channelKey:e,continuationToken:t})),r.GET_BROWSE_PAGE_ERROR,((e,t)=>({channelKey:e,error:t}))),getMoreBrowsePageData:(0,i.U)(o.H.ContextualStore,r.GET_MORE_BROWSE_PAGE_START,((e,t,n,r,o,i)=>({productId:e,itemType:t,channelKey:n,continuationToken:r,onFailure:o,onSuccess:i})),r.GET_MORE_BROWSE_PAGE_COMPLETE,((e,t)=>({channelKey:e,continuationToken:t})),r.GET_MORE_BROWSE_PAGE_ERROR,((e,t)=>({channelKey:e,error:t}))),purchaseComplete:(0,i.A)(r.PURCHASE_COMPLETE,o.H.ContextualStore,(e=>({productId:e})))}},60959:(e,t,n)=>{"use strict";n.d(t,{A:()=>a,U:()=>i});var r=n(37509),o=n(72565);const i=(0,r.Ti)(o.QN),a=(0,r.lQ2)(o.QN)},83026:(e,t,n)=>{"use strict";n.d(t,{A:()=>r.A,U:()=>r.U});var r=n(60959)},37340:(e,t,n)=>{"use strict";n.d(t,{j:()=>r,n:()=>a});var r,o=n(97871),i=n(83026);!function(e){e.FETCH_DEVICES="@installActions/FETCH_DEVICES",e.FETCH_DEVICES_SUCCESS="@installActions/FETCH_DEVICES_SUCCESS",e.FETCH_DEVICES_ERROR="@installActions/FETCH_DEVICES_ERROR",e.QUEUE_INSTALL="@installActions/QUEUE_INSTALL",e.QUEUE_INSTALL_SUCCESS="@installActions/QUEUE_INSTALL_SUCCESS",e.QUEUE_INSTALL_ERROR="@installActions/QUEUE_INSTALL_ERROR",e.UPDATE_OPERATION_STATUS="@installActions/UPDATE_OPERATION_STATUS",e.CLEAR_OPERATION_STATUS="@installActions/CLEAR_OPERATION_STATUS"}(r||(r={}));const a={fetchDevices:(0,i.U)(o.H.Install,r.FETCH_DEVICES,(()=>({type:r.FETCH_DEVICES})),r.FETCH_DEVICES_SUCCESS,((e,t)=>({type:r.FETCH_DEVICES_SUCCESS,xboxDevices:e,pcDevices:t})),r.FETCH_DEVICES_ERROR,(e=>({type:r.FETCH_DEVICES_ERROR,error:e}))),queueInstall:(0,i.U)(o.H.Install,r.QUEUE_INSTALL,((e,t,n)=>({type:r.QUEUE_INSTALL,deviceId:e,productIds:t,isPcDevice:n})),r.QUEUE_INSTALL_SUCCESS,(e=>({type:r.QUEUE_INSTALL_SUCCESS,operationId:e})),r.QUEUE_INSTALL_ERROR,((e,t,n)=>({type:r.QUEUE_INSTALL_ERROR,error:e,deviceId:t,productIds:n}))),updateOperationStatus:(0,i.A)(r.UPDATE_OPERATION_STATUS,o.H.Install,((e,t)=>({type:r.UPDATE_OPERATION_STATUS,operation:e,newOperationStatus:t}))),clearOperationStatus:(0,i.A)(r.CLEAR_OPERATION_STATUS,o.H.Install,(e=>({type:r.CLEAR_OPERATION_STATUS,operation:e})))}},41281:(e,t,n)=>{"use strict";n.d(t,{i:()=>a,o:()=>r});var r,o=n(97871),i=n(83026);!function(e){e.ADD_TO_CART_START="@scds/ADD_TO_CART_START",e.ADD_TO_CART_SUCCESS="@scds/ADD_TO_CART_SUCCESS",e.ADD_TO_CART_ERROR="@scds/ADD_TO_CART_ERROR",e.UPDATE_CART="@scds/UPDATE_CART",e.FETCH_VECTOR_ID_START="@scds/FETCH_VECTOR_ID_START",e.FETCH_VECTOR_ID_SUCCESS="@scds/FETCH_VECTOR_ID_SUCCESS",e.FETCH_VECTOR_ID_ERROR="@scds/FETCH_VECTOR_ID_ERROR",e.CLEAR_VECTOR_ID="@scds/CLEAR_VECTOR_ID"}(r||(r={}));const a={addToCart:(0,i.U)(o.H.StoreCartService,r.ADD_TO_CART_START,((e,t,n)=>({itemsToAdd:e,onSuccess:t,onFailure:n})),r.ADD_TO_CART_SUCCESS,(e=>({itemsToAdd:e})),r.ADD_TO_CART_ERROR,((e,t,n)=>({itemsToAdd:e,failureReasons:t,error:n}))),updateCart:(0,i.A)(r.UPDATE_CART,o.H.StoreCartService,(e=>({lineItems:e}))),fetchVectorId:(0,i.U)(o.H.StoreCartService,r.FETCH_VECTOR_ID_START,(()=>{}),r.FETCH_VECTOR_ID_SUCCESS,(e=>({vectorId:e})),r.FETCH_VECTOR_ID_ERROR,(e=>({error:e}))),clearVectorId:(0,i.A)(r.CLEAR_VECTOR_ID,o.H.StoreCartService,(()=>({})))}},88512:(e,t,n)=>{"use strict";n.d(t,{v4:()=>r,GL:()=>s.G,LW:()=>g,jK:()=>l.j,UO:()=>d,HG:()=>o.H,oS:()=>f.o,Pk:()=>a,NA:()=>u,AR:()=>U.AR,JD:()=>U.JD,G6:()=>U.G6,MQ:()=>U.MQ,Xr:()=>U.Xr,mZ:()=>s.m,DS:()=>_,Ah:()=>i.A,Up:()=>i.U,$I:()=>O,I$:()=>N,xm:()=>M,DC:()=>U.DC,V2:()=>U.V2,HH:()=>V.HH,xR:()=>K.x,bR:()=>B,Q:()=>H.Q,$Y:()=>D,gA:()=>U.gA,Pm:()=>V.Pm,z4:()=>H.z4,bg:()=>K.b,vt:()=>V.vt,PW:()=>G,t7:()=>V.t7,KX:()=>F,Ct:()=>V.Ct,Ns:()=>V.Ns,y7:()=>V.y7,XM:()=>H.XM,YF:()=>q,fO:()=>j,h5:()=>V.h5,KJ:()=>V.rm,Mq:()=>V.Mq,g4:()=>V.g4,Eq:()=>V.Eq,qq:()=>V.qq,At:()=>z,Ok:()=>X,zP:()=>V.zP,Fm:()=>V.Fm,u6:()=>$,jg:()=>H.jg,nU:()=>l.n,CJ:()=>m,gK:()=>h,st:()=>c.st,sB:()=>c.sB,yt:()=>c.yt,iv:()=>f.i,Cq:()=>U.Cq});var r,o=n(97871),i=n(83026);!function(e){e.SISU_FLOW_START="@accountLink/SISU_FLOW_START",e.SISU_FLOW_COMPLETE="@accountLink/SISU_FLOW_COMPLETE",e.SISU_FLOW_ERROR="@accountLink/SISU_FLOW_ERROR",e.GET_LINK_STATUS_START="@accountLink/GET_LINK_STATUS_START",e.GET_LINK_STATUS_COMPLETE="@accountLink/GET_LINK_STATUS_COMPLETE",e.GET_LINK_STATUS_ERROR="@accountLink/GET_LINK_STATUS_ERROR",e.COMPLETE_LINK_START="@accountLink/COMPLETE_LINK_START",e.COMPLETE_LINK_COMPLETE="@accountLink/COMPLETE_LINK_COMPLETE",e.COMPLETE_LINK_ERROR="@accountLink/COMPLETE_LINK_ERROR",e.COMPLETE_LINK_RESET="@accountLink/COMPLETE_LINK_RESET"}(r||(r={}));const a={SISUFlow:(0,i.U)(o.H.AccountLink,r.SISU_FLOW_START,(e=>({networkName:e})),r.SISU_FLOW_COMPLETE,(e=>({networkName:e})),r.SISU_FLOW_ERROR,((e,t)=>({error:t,networkName:e}))),getLinkStatus:(0,i.U)(o.H.AccountLink,r.GET_LINK_STATUS_START,(e=>({networkName:e})),r.GET_LINK_STATUS_COMPLETE,((e,t,n)=>({networkName:e,status:t,userName:n})),r.GET_LINK_STATUS_ERROR,((e,t)=>({error:t,networkName:e}))),completeLink:(0,i.U)(o.H.AccountLink,r.COMPLETE_LINK_START,(e=>({networkName:e})),r.COMPLETE_LINK_COMPLETE,((e,t)=>({networkName:e,result:t})),r.COMPLETE_LINK_ERROR,((e,t)=>({error:t,networkName:e}))),completeLinkReset:(0,i.A)(r.COMPLETE_LINK_RESET,o.H.AccountLink,(e=>({networkName:e})))};var s=n(48841),l=n(37340),c=n(52228);const u=c.st.additionalInformationActions;c.st.availabilitySummaryActions;var d,p=n(60959);!function(e){e.CLEAR_PRODUCT_ACTIONS_FOR_PRODUCT="@productActions/CLEAR_PRODUCT_ACTIONS_FOR_PRODUCT",e.FETCH_PRODUCT_ACTIONS="@productActions/FETCH_PRODUCT_ACTIONS",e.FETCH_PRODUCT_ACTIONS_SUCCESS="@productActions/FETCH_PRODUCT_ACTIONS_SUCCESS",e.FETCH_PRODUCT_ACTIONS_ERROR="@productActions/FETCH_PRODUCT_ACTIONS_ERROR",e.UPDATE_PRODUCT_ACTIONS="@productActions/UPDATE_PRODUCT_ACTIONS"}(d||(d={}));const m={clearProductActionsForProduct:(0,p.A)(d.CLEAR_PRODUCT_ACTIONS_FOR_PRODUCT,o.H.ProductActions,(e=>({productId:e}))),updateProductActions:(0,p.A)(d.UPDATE_PRODUCT_ACTIONS,o.H.ProductActions,(e=>({productActions:e}))),fetchProductActions:(0,p.U)(o.H.ProductActions,d.FETCH_PRODUCT_ACTIONS,(e=>({type:d.FETCH_PRODUCT_ACTIONS,productId:e})),d.FETCH_PRODUCT_ACTIONS_SUCCESS,((e,t)=>({type:d.FETCH_PRODUCT_ACTIONS_SUCCESS,data:e,productId:t})),d.FETCH_PRODUCT_ACTIONS_ERROR,((e,t)=>({type:d.FETCH_PRODUCT_ACTIONS_ERROR,error:e,productId:t})))},h=c.st.productInfoActions;c.st.productSummaryActions,c.st.skuSummaryActions;var g,f=n(41281);!function(e){e.GET_DEFAULT_WISHLISTS_START="@wishlist/GET_DEFAULT_WISHLIST_START",e.ADD_WISHLIST_ITEM_START="@wishlist/ADD_WISHLIST_ITEM_START",e.ADD_WISHLIST_ITEM_COMPLETE="@wishlist/ADD_WISHLIST_ITEM_COMPLETE",e.ADD_WISHLIST_ITEM_ERROR="@wishlist/ADD_WISHLIST_ITEM_ERROR",e.REMOVE_WISHLIST_ITEM_START="@wishlist/REMOVE_WISHLIST_ITEM_START",e.REMOVE_WISHLIST_ITEM_COMPLETE="@wishlist/REMOVE_WISHLIST_ITEM_COMPLETE",e.REMOVE_WISHLIST_ITEM_ERROR="@wishlist/REMOVE_WISHLIST_ITEM_ERROR",e.SAVE_WISHLIST_SETTINGS_START="@wishlist/SAVE_SETTINGS_START",e.SAVE_WISHLIST_SETTINGS_COMPLETE="@wishlist/SAVE_SETTINGS_COMPLETE",e.SAVE_WISHLIST_SETTINGS_ERROR="@wishlist/SAVE_SETTINGS_ERROR"}(g||(g={}));const _={getDefaultWishlist:(0,p.A)(g.GET_DEFAULT_WISHLISTS_START,o.H.Wishlist,(e=>({onError:e}))),addWishListItem:(0,p.U)(o.H.Wishlist,g.ADD_WISHLIST_ITEM_START,((e,t,n,r,o)=>({wishListId:n,productId:r,skuId:o,onSuccess:e,onFailure:t})),g.ADD_WISHLIST_ITEM_COMPLETE,((e,t,n)=>({wishListId:e,productId:t,skuId:n})),g.ADD_WISHLIST_ITEM_ERROR,((e,t,n,r)=>({wishListId:t,productId:n,skuId:r,error:e}))),removeWishListItem:(0,p.U)(o.H.Wishlist,g.REMOVE_WISHLIST_ITEM_START,((e,t,n,r,o)=>({wishListId:n,productId:r,skuId:o,onSuccess:e,onFailure:t})),g.REMOVE_WISHLIST_ITEM_COMPLETE,((e,t,n)=>({wishListId:e,productId:t,skuId:n})),g.REMOVE_WISHLIST_ITEM_ERROR,((e,t,n,r)=>({wishListId:t,productId:n,skuId:r,error:e}))),saveWishlistSettings:(0,p.U)(o.H.Wishlist,g.SAVE_WISHLIST_SETTINGS_START,((e,t,n,r)=>({wishListId:n,settingsState:r,onSuccess:e,onFailure:t})),g.SAVE_WISHLIST_SETTINGS_COMPLETE,((e,t)=>({wishListId:e,settingsState:t})),g.SAVE_WISHLIST_SETTINGS_ERROR,((e,t)=>({wishListId:t,error:e})))};var v=n(37509);const y="Entitlement";var b=n(41506),S=n.n(b),E=(n(81045),n(55367),n(88262));const C={};n(97107);var T=n(12885),w=n(47283),I=n(88901),P=n(56630),A=n(49652);function k(e){const t=function(e){return function*(t){const{productIds:n}=t;if(0!==n.length)try{if(!(yield(0,A.select)(w.ct))){const t=new Error("Cannot fetch bulk entitlements for an anonymous user");return void(yield(0,A.put)(e.fetchEntitlements.error(n,t)))}const t=yield(0,A.select)(v.P6r),r=yield(0,P.Jl)(),o=yield(0,w.Y6)(),i=yield(0,A.call)(v.wRW),a=yield(0,A.call)(w.zG),s={dependencyName:P.Nz.EmeraldXbetService,dependencyOperationName:"GetBulkEntitlements"},l={addAuthorization:!0,isRequired:!0},c=yield(0,A.select)(v.pzA,v.WTf.StagingFD),u=yield(0,A.call)(I.YN,"entitlements/bulk",{ProductIds:n},l,r,o,i,a,s,c,void 0,void 0,{params:{locale:t.localeWithScript}});if(!(0,v.RJH)(u.status))throw new Error(u.statusText);yield(0,A.put)(e.fetchEntitlements.success(n,u.data.entitlements))}catch(r){const t=(0,T.toError)(r);yield(0,A.put)(e.fetchEntitlements.error(n,t))}else yield(0,A.put)(e.fetchEntitlements.success(n,{}))}}(e);return function*(){yield(0,A.takeEvery)((0,v.wuJ)(e.fetchEntitlements.start),t)}}var x=n(14102),R=n(68819);const{entitlementActions:O,entitlementReducer:N,entitlementSagas:M,entitlementSelectors:L}=function(e,t){const n=function(e){return{updateEntitlements:(0,v.VPN)("@entitlement/UPDATE_ENTITLEMENTS",y,e,(e=>({entitlements:e}))),fetchEntitlements:(0,v.mYQ)(y,e,"@entitlement/FETCH_ENTITLEMENTS",(e=>({productIds:e})),((e,t)=>({productIds:e,response:t})),((e,t)=>({productIds:e,error:t})))}}(e),r=function(e){return(0,v.v4G)([y],new v.sVo(C).on(e.updateEntitlements,(function(e,t){return t.entitlements.length?t.entitlements.reduce(((e,t)=>(t&&(e[(0,v.VMG)(t.productId)]=(0,E.lceContent)(t)),e)),S()({},e)):e})).on(e.fetchEntitlements.start,(function(e,t){return t.productIds.reduce(((t,n)=>{const r=(0,v.VMG)(n),o=e[r];return t[r]=(0,E.lceFetching)(o),t}),S()({},e))})).on(e.fetchEntitlements.success,(function(e,t){return t.productIds.reduce(((e,n)=>{const r=(0,v.VMG)(n);return e[r]=(0,E.lceContent)(t.response[r]||null),e}),S()({},e))})).on(e.fetchEntitlements.error,(function(e,t){return t.productIds.reduce(((n,r)=>{const o=(0,v.VMG)(r),i=e[o];return n[o]=(0,E.lceError)(t.error,i),n}),S()({},e))})).build())}(n),o=k(n),i=function(e){const t=(t,n)=>e(t)[(0,v.VMG)(n)]||(0,E.lceNotRequested)();return{getEntitlementByProductId:t,getOwnershipOrSatisfactionByProductId:(e,n)=>{const r=t(e,n);return(0,E.lceTransform)(r,(e=>!!e&&(e.isOwned||e.isSatisfyingEntitlement)))}}}(t);return{entitlementActions:n,entitlementReducer:r,entitlementSagas:o,entitlementSelectors:i}}(x.QN,(e=>(0,R.df)(e).entitlements)),D=L.getEntitlementByProductId,F=L.getOwnershipOrSatisfactionByProductId;var U=n(95215);const B=(e,t)=>{var n;return null===(n=(0,R.Wt)(e)[t])||void 0===n?void 0:n.continuationToken};var H=n(45910);const G=(e,t)=>(0,R.Ic)(e).messageSafetySettingsData[t]||(0,E.lceNotRequested)(),q=(e,t)=>(0,R.Ic)(e).privacySettingsData[t]||(0,E.lceNotRequested)(),j=(e,t)=>(e=>(0,R.df)(e).productActions)(e)[(0,v.XBe)(t)];var V=n(13468);const z=(e,t)=>(0,R.Ic)(e).safetySettingsData[t]||(0,E.lceNotRequested)();n(84915);const X=(e,t)=>(0,R.ub)(e)[t];var K=n(34754),W=(n(45950),n(72565));const $=(e,t)=>{let n=t;return t===W.s3&&(n=(e=>(0,R.pK)(e).defaultWishlistId)(e)||n),(0,R.pK)(e).wishlists[n]}},95215:(e,t,n)=>{"use strict";n.d(t,{AR:()=>a,Cq:()=>d,DC:()=>h,G6:()=>s,JD:()=>c,MQ:()=>u,Pb:()=>p,V2:()=>g,Xr:()=>l,gA:()=>_,r8:()=>m});var r=n(15956),o=n(14102),i=n(68819);const{channelsActions:a,channelsReducers:s,channelsSelectors:l,channelsHooks:c,channelsSagas:u}=(0,r.SF)(o.QN,i.F7),d=c.useChannelName,p=l.getChannelByChannelKey,m=(l.getChannelMetadata,l.getLCEChannelByChannelKey,l.getChannelProductIdentifiersByChannelProductKey),{filtersActions:h,filtersReducers:g,filtersSelectors:f}=(l.getChannelName,l.getChannelMetadataLCEByChannelId,l.getChannelVanityName,(0,r.NL)(o.QN,i.fY)),_=f.getFilters;f.getSortInfo},52228:(e,t,n)=>{"use strict";n.d(t,{Dt:()=>l,sB:()=>s,st:()=>a,yt:()=>c});var r=n(8378),o=n(14102),i=n(68819);const{productsActions:a,productsReducers:s,productsSelectors:l,productsSagas:c,productsHooks:u}=(0,r.IG)(o.QN,i.df)},97871:(e,t,n)=>{"use strict";var r;n.d(t,{H:()=>r}),function(e){e.AccountLink="AccountLink",e.AdditionalInformation="AdditionalInformation",e.AvailabilitySummary="AvailabilitySummary",e.ContextualStore="ContextualStore",e.Entitlement="Entitlement",e.Filters="Filters",e.Install="Install",e.Layout="Layout ",e.ProductActions="ProductActions",e.ProductSummary="ProductSummary",e.ServiceErrorMessage="ServiceErrorMessage",e.SkuSummary="SkuSummary",e.StoreCartService="StoreCartService",e.Wishlist="Wishlist",e.ProductInfo="ProductInfo",e.Search="Search",e.UserSettings="UserSettings"}(r||(r={}))},45910:(e,t,n)=>{"use strict";n.d(t,{Q:()=>l,XM:()=>a,jg:()=>s,z4:()=>c});n(81045),n(45950);var r=n(88262),o=n(37509),i=n(68819);const a=e=>(0,i.rm)(e).devices.pcDevices,s=e=>(0,i.rm)(e).devices.xboxDevices,l=(e,t)=>{const n=a(e);if((0,r.isContent)(n)){const e=n.data.find((e=>(0,o.JSV)(e.id,t)));return(null===e||void 0===e?void 0:e.name)||""}const i=s(e);if((0,r.isContent)(i)){const e=i.data.find((e=>(0,o.JSV)(e.id,t)));return(null===e||void 0===e?void 0:e.name)||""}return""},c=(e,t)=>(0,i.rm)(e).installOperationsByProductId[t]},13468:(e,t,n)=>{"use strict";n.d(t,{Ct:()=>f,Eq:()=>v,Fm:()=>o,HH:()=>u,Mq:()=>l,Ns:()=>g,Pm:()=>m,g4:()=>i,h5:()=>d,qq:()=>c,rm:()=>p,t7:()=>h,vt:()=>a,y7:()=>_,zP:()=>s});var r=n(52228);r.Dt.getProductSummaryState;const o=r.Dt.getSkuSummaryState,i=(r.Dt.getAvailabilitySummaryState,r.Dt.getAdditionalInformationState,r.Dt.productSummarySelectors.getProductSummary),a=r.Dt.productSummarySelectors.getLanguageSupportDetail,s=r.Dt.productSummarySelectors.getShowSupportedLanguageDisclaimer,l=r.Dt.productSummarySelectors.getProductIsComingSoon,c=(r.Dt.skuSummarySelectors.getSkuIdsByProductId,r.Dt.skuSummarySelectors.getSkuSummary,r.Dt.skuSummarySelectors.getSkuSummariesByProductId,r.Dt.skuSummarySelectors.getSkuSummaryStateForProductId,r.Dt.getPurchasableSkuSummariesWithDetailByProductId),u=(r.Dt.availabilitySummarySelectors.getAvailabilitySummary,r.Dt.availabilitySummarySelectors.getAvailabilitySummariesByProductId),d=(r.Dt.availabilitySummarySelectors.getAvailabilitySummariesByProductSkuId,r.Dt.additionalInformationSelectors.getProductAdditionalInformation),p=r.Dt.productInfoMetadataSelectors.getProductInfoMetadata,m=(r.Dt.productSummaryInfoSelectors.getFullOptimalProductSummaryInfo,r.Dt.productSummaryInfoSelectors.getFullOptimalProductSummaryInfos,r.Dt.productSummaryInfoSelectors.getFullProductSummaryInfo),h=(r.Dt.productSummaryInfoSelectors.getFullProductSummaryInfos,r.Dt.productSummaryInfoSelectors.getNullableProductSummaryInfo),g=(r.Dt.productSummaryInfoSelectors.getNullableProductSummaryInfos,r.Dt.productSummaryInfoSelectors.getPartialOptimalProductSummaryInfo,r.Dt.productSummaryInfoSelectors.getPartialOptimalProductSummaryInfos,r.Dt.productSummaryInfoSelectors.getPartialProductSummaryInfosWithOptimalAndPreferredFallbacks),f=r.Dt.productSummaryInfoSelectors.getPartialProductSummaryInfoWithOptimalAndPreferredFallbacks,_=r.Dt.productSummaryInfoSelectors.getPartialPurchasableProductSummaryInfoWithOptimalAndPreferredFallbacks,v=r.Dt.productSummaryInfoSelectors.getProductSummaryInfo},68819:(e,t,n)=>{"use strict";n.d(t,{F7:()=>u,Ic:()=>h,Wt:()=>d,YU:()=>a,df:()=>l,fY:()=>m,pK:()=>c,rm:()=>s,ub:()=>p});n(98376),n(91321);var r=n(37509),o=n(72565);const i=e=>(0,r.aMA)(e,o.QN),a=e=>i(e).cart,s=e=>i(e).install,l=e=>i(e).products,c=e=>i(e).wishlist,u=e=>i(e).channels,d=e=>i(e).contextualStore,p=e=>i(e).searchPromotions,m=e=>i(e).filters,h=e=>i(e).userSettings},34754:(e,t,n)=>{"use strict";n.d(t,{b:()=>i,x:()=>a});n(81045),n(45950);var r=n(37509),o=n(68819);const i=(e,t,n,i)=>!!(0,o.YU)(e).lineItems.find((e=>e&&(0,r.XBe)(e.productId)===(0,r.XBe)(t)&&(0,r.XBe)(e.skuId)===(0,r.XBe)(n)&&(0,r.XBe)(e.availabilityId)===(0,r.XBe)(i))),a=e=>(0,o.YU)(e).vectorId},79607:(e,t,n)=>{"use strict";n.d(t,{Q:()=>s});n(64727),n(47748);var r=n(37509),o=n(12885),i=n(8378),a=n(14102);var s;!function(e){e.trackGameInterest=(e,r)=>t()?!!n(e)&&(s(e)?(r.verbose("trackGameInterest:Success"),!0):(r.error("trackGameInterest:Storage Failed"),!1)):(r.warn("trackGameInterest:No Storage"),!1),e.getGameInterest=e=>{if(!t())return void e.warn("getGameInterest:No Storage");const n=localStorage.getItem(a.yG);if(null===n||""===n)return void e.warn("getGameInterest:Empty Storage");let r;try{r=JSON.parse(n)}catch(i){return void e.error("getGameInterest:Parse Error",(0,o.toError)(i))}if(void 0===r.productId||void 0===r.visitTime)return void e.error("getGameInterest:Schema Error");if(!(Math.abs((new Date).getTime()-r.visitTime)>=432e6))return e.verbose("getGameInterest:Success"),r.productId;e.warn("getGameInterest:Expired")};const t=()=>!(0,r.SHi)()&&(void 0!==window.consentCheckRequired&&void 0!==window.xbcUser&&(!window.consentCheckRequired||window.xbcUser.consentState.consentState.advertising)),n=e=>!i.Ix.includes(e.toUpperCase()),s=e=>{const t={productId:e,visitTime:(new Date).getTime()};try{return localStorage.setItem(a.yG,JSON.stringify(t)),!0}catch(n){return!1}}}(s||(s={}))},69701:(e,t,n)=>{"use strict";n(47748),n(81045),n(84915),Object.defineProperty(t,"__esModule",{value:!0}),t.buyNowUIUrlPath=t.purchaseUIUrlPath=void 0;var r=n(65518);t.purchaseUIUrlPath=function(e,t,n){return"ppe"===(null===e||void 0===e?void 0:e.selectEnv)||t&&t.length>0&&t.map((function(e){return e.toLowerCase()})).includes(r.ppeFlightName)||n&&n.length>0&&n.map((function(e){return e.toLowerCase()})).includes(r.ppeFlightName)?r.PPE_PURCHASEUI_URL:"int"===(null===e||void 0===e?void 0:e.selectEnv)||t&&t.length>0&&t.map((function(e){return e.toLowerCase()})).includes(r.intFlightName)||n&&n.length>0&&n.map((function(e){return e.toLowerCase()})).includes(r.intFlightName)?r.INT_PURCHASEUI_URL:"perf"===(null===e||void 0===e?void 0:e.selectEnv)||t&&t.length>0&&t.map((function(e){return e.toLowerCase()})).includes(r.perfFlightName)||n&&n.length>0&&n.map((function(e){return e.toLowerCase()})).includes(r.perfFlightName)?r.PERF_PURCHASEUI_URL:r.BASE_PURCHASEUI_URL};t.buyNowUIUrlPath=function(e,t,n){return"ppe"===(null===e||void 0===e?void 0:e.selectEnv)||t&&t.length>0&&t.map((function(e){return e.toLowerCase()})).includes(r.ppeFlightName)||n&&n.length>0&&n.map((function(e){return e.toLowerCase()})).includes(r.ppeFlightName)?r.PPE_BUYNOWUI_URL:"int"===(null===e||void 0===e?void 0:e.selectEnv)||t&&t.length>0&&t.map((function(e){return e.toLowerCase()})).includes(r.intFlightName)||n&&n.length>0&&n.map((function(e){return e.toLowerCase()})).includes(r.intFlightName)?r.INT_BUYNOWUI_URL:"perf"===(null===e||void 0===e?void 0:e.selectEnv)||t&&t.length>0&&t.map((function(e){return e.toLowerCase()})).includes(r.perfFlightName)||n&&n.length>0&&n.map((function(e){return e.toLowerCase()})).includes(r.perfFlightName)?r.PERF_BUYNOWUI_URL:r.BASE_BUYNOWUI_URL}},45893:(e,t,n)=>{"use strict";n(64727),n(98376),n(10568),n(14293),n(81045),n(5350),n(47010),n(34397),Object.defineProperty(t,"__esModule",{value:!0}),t.getPrefetchUrlByRoute=t.getPrefetchUrl=t.addingQueryParams=t.createInputForArray=t.createInput=void 0;var r=n(65518);t.createInput=function(e,t,n){var r=document.createElement("input");return r.name=e,r.type="hidden",r.value=t?JSON.stringify(t):null!==n&&void 0!==n?n:"",r};t.createInputForArray=function(e,n,r){if(e&&r&&(null===r||void 0===r?void 0:r.length)>0){var o=0;r.forEach((function(r){e.appendChild((0,t.createInput)(n+"["+o+"]",void 0,r)),o++}))}};t.addingQueryParams=function(e,t){return t&&t.length>0?(null===e||void 0===e?void 0:e.indexOf("?"))>-1?e+"&"+t:e+"?"+t:e};t.getPrefetchUrl=function(e,n){var r=new URLSearchParams;return n?(n.market&&r.append("market",n.market),n.locale&&r.append("locale",n.locale),n.clientType&&r.append("clientType",n.clientType),n.cssOverride&&r.append("cssOverride",n.cssOverride),n.optionalAssets&&r.append("optional",n.optionalAssets),(0,t.addingQueryParams)(e,r.toString())):e};t.getPrefetchUrlByRoute=function(e){return e.indexOf("cart")>-1||e.indexOf("checkout")>-1?r.prefetchURLTemplate.replace("{0}",r.purchaseUIAppName).replace("{1}",e):r.prefetchURLTemplate.replace("{0}",r.buyNowUIAppName).replace("{1}",e)}},8470:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getTimeToInvokeMarkFromArgsOrNewMetric=t.getTimeToInvokeMark=t.clearPerfMarks=void 0;var n=function(e){var t=function(e){return performance&&performance.getEntriesByName?performance.getEntriesByName(e):[]}(e);return t.length>0?t[0].startTime:-1};t.clearPerfMarks=function(){performance&&performance.clearMarks&&performance.clearMarks()};t.getTimeToInvokeMark=function(e){return function(e){performance&&performance.mark&&performance.mark(e)}(e),n(e)};t.getTimeToInvokeMarkFromArgsOrNewMetric=function(e,n){return n&&n>0?n:(0,t.getTimeToInvokeMark)(e)}},19556:function(e,t,n){"use strict";n(93510),n(97107),n(69375),n(87050),n(10865),n(47010);var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)},o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(t){i(t)}}function s(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.makeWindowListener=t.prefetchBuyNow=t.invokeBuyNowInFrame=void 0;var a=n(45893),s=n(8470),l=n(47751),c=n(65518),u=n(82718);t.invokeBuyNowInFrame=function(e,t){var n;return o(this,void 0,void 0,(function(){var o;return i(this,(function(i){switch(i.label){case 0:if(!e.name)throw new Error('purchase-sdk: target iframe must have unique "name" attribute set');return(o=document.createElement("form")).target=e.name,o.action=(0,u.constructBuyNowUrl)(t),o.method="post",(0,u.createInputForBuyNowUI)(o,r(r(r(r({market:t.market,cV:encodeURIComponent(t.cV),locale:t.locale,authToken:t.authToken,xToken:t.xToken,pageFormat:null!==(n=t.pageFormat)&&void 0!==n?n:"full",products:t.products},t.campaignOptions),{urlRef:document.referrer?document.referrer:window.location.href}),t.onBehalfOfOptions),{catalogClientType:t.catalogClientType,clientType:t.clientType,clientVersion:t.clientVersion,osVersion:t.osVersion,purchaseAppVersion:t.purchaseAppVersion,layout:t.layout,cssOverride:t.cssOverride,theme:t.theme,uuid:t.uuid,isAddAsyncPIFailed:t.isAddAsyncPIFailed,selectEnv:t.selectEnv,scenario:t.scenario||"",attachRecordId:t.attachRecordId,fulfillmentData:t.fulfillmentData,deviceContext:t.deviceContext,deviceSerialNumber:t.deviceSerialNumber,suppressGiftThankYouPage:t.suppressGiftThankYouPage,isTelemetryEnabled:t.isTelemetryEnabled,clientDebugInfo:t.clientDebugInfo,disableBuyNowFocusTrap:t.disableBuyNowFocusTrap,gifteeType:t.gifteeType,gifteeValue:t.gifteeValue,gamertagImageUrl:t.gamertagImageUrl,modernGamertag:t.modernGamertag,showProductImage:t.showProductImage,optionalAssets:t.optionalAssets,timeToInvokeIframe:(0,s.getTimeToInvokeMarkFromArgsOrNewMetric)("buyNowInvoke",t.timeToInvokeIframe),sdkVersion:l.LIB_VERSION,cartId:t.cartId,enablePrePurchaseHandshake:t.enablePrePurchaseHandshake,rewardsInfo:t.rewardsInfo})),t.frameAllow&&e.setAttribute("allow",t.frameAllow),e.appendChild(o),o.submit(),[4,(0,u.attachingMessageHandler)(o,t)];case 1:return i.sent(),[2,!0]}}))}))};t.prefetchBuyNow=function(e,t){e.src=(0,a.getPrefetchUrl)(c.BUYNOW_PREFETCH_URL,t)};t.makeWindowListener=function(e){return function(t){var n,r,o,i;if(t.origin===c.TARGET_ORIGIN){var a=t.data;switch(a.message){case"done":e.done(a);break;case"openUrl":e.openUrl?e.openUrl(a):window.location.href=a.url;break;case"stageChanged":null===(n=e.stageChanged)||void 0===n||n.call(e,a);break;case"status":null===(r=e.status)||void 0===r||r.call(e,a);break;case"sizeChanged":null===(o=e.sizeChanged)||void 0===o||o.call(e,a);break;case"pageMessage":null===(i=e.pageMessage)||void 0===i||i.call(e,a)}}}}},82718:(e,t,n)=>{"use strict";n(64727),n(10865),n(81045),n(5350),Object.defineProperty(t,"__esModule",{value:!0}),t.createInputForBuyNowUI=t.attachingMessageHandler=t.constructBuyNowUrl=void 0;var r=n(69701),o=n(45893),i=n(65518);t.constructBuyNowUrl=function(e){var t;return""+i.TARGET_ORIGIN+(0,r.buyNowUIUrlPath)(e,null===e||void 0===e?void 0:e.flights,null===(t=null===e||void 0===e?void 0:e.campaignOptions)||void 0===t?void 0:t.flights)+"/buynow?ms-cv="+encodeURIComponent(e.cV)+"&noCanonical=true&market="+e.market+"&locale="+e.locale+"&clientName="+e.clientType};t.attachingMessageHandler=function(e,t){return new Promise((function(t){return window.addEventListener("message",(function(n){n.origin===i.TARGET_ORIGIN&&("ReactPurchaseReadyToRender"===n.data&&t(),e&&e.remove())}),!0)}))};var a={usePurchaseSdk:!0};t.createInputForBuyNowUI=function(e,t){var n=Object.keys(t);e.appendChild((0,o.createInput)("data",void 0,JSON.stringify(a))),n.forEach((function(n){if(n&&t[n])if("authToken"===n)e.appendChild((0,o.createInput)("msaTicket",void 0,t.authToken));else if("xToken"===n)e.appendChild((0,o.createInput)("xToken",void 0,t.xToken));else if("flights"===n)(0,o.createInputForArray)(e,"flights",t.flights);else if("products"===n)e.appendChild((0,o.createInput)("products",t.products));else{var r=t[n];e.appendChild((0,o.createInput)(n,void 0,"object"===typeof r?JSON.stringify(r):r))}}))}},65518:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.appRoutes=t.perfFlightName=t.intFlightName=t.ppeFlightName=t.buyNowUIAppName=t.purchaseUIAppName=t.prefetchURLTemplate=t.GPC_DataSharingOptInKey=t.windowTargetCurrent=t.REDEEMNOW_PREFETCH_URL=t.BUYNOW_PREFETCH_URL=t.PERF_BUYNOWUI_URL=t.INT_BUYNOWUI_URL=t.PPE_BUYNOWUI_URL=t.PERF_PURCHASEUI_URL=t.INT_PURCHASEUI_URL=t.PPE_PURCHASEUI_URL=t.BASE_BUYNOWUI_URL=t.BASE_PURCHASEUI_URL=t.TARGET_ORIGIN=void 0,t.TARGET_ORIGIN="https://www.microsoft.com",t.BASE_PURCHASEUI_URL="/store/purchase/purchaseui/",t.BASE_BUYNOWUI_URL="/store/purchase/buynowui",t.PPE_PURCHASEUI_URL="/store/purchase/purchaseui-ppe/",t.INT_PURCHASEUI_URL="/store/purchase/purchaseui-int/",t.PERF_PURCHASEUI_URL="/store/purchase/purchaseui-perf/",t.PPE_BUYNOWUI_URL="/store/purchase/buynowui-ppe",t.INT_BUYNOWUI_URL="/store/purchase/buynowui-int",t.PERF_BUYNOWUI_URL="/store/purchase/buynowui-perf",t.BUYNOW_PREFETCH_URL="https://www.microsoft.com/store/purchase/buynowui/prefetch/buynow",t.REDEEMNOW_PREFETCH_URL="https://www.microsoft.com/store/purchase/buynowui/prefetch/redeemnow",t.windowTargetCurrent="current",t.GPC_DataSharingOptInKey="GPC_DataSharingOptIn",t.prefetchURLTemplate="https://www.microsoft.com/store/purchase/{0}/prefetch/{1}",t.purchaseUIAppName="purchaseui",t.buyNowUIAppName="buynowui",t.ppeFlightName="sc_cartppe",t.intFlightName="sc_cartint",t.perfFlightName="sc_cartperf",t.appRoutes={cart:"cart",checkout:"checkout",buyNow:"buynow",redeem:"redeem",deviceRepair:"device-repair",guestOrderLookup:"guest-order-lookup",aadSignIn:"aad-signin",commercialCheckout:"commercial-checkout"}},89936:function(e,t,n){"use strict";n(93510),n(97107),n(69375),n(87050),n(10865),n(47010);var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)},o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(t){i(t)}}function s(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.makeWindowListener=t.prefetchRedeem=t.invokeRedeemNowInFrame=void 0;var a=n(45893),s=n(8470),l=n(47751),c=n(65518),u=n(85058);t.invokeRedeemNowInFrame=function(e,t){var n;return o(this,void 0,void 0,(function(){var o;return i(this,(function(i){switch(i.label){case 0:if(!e.name)throw new Error('purchase-sdk: target iframe must have unique "name" attribute set');return(o=document.createElement("form")).target=e.name,o.action=(0,u.constructRedeemUrl)(t),o.method="post",(0,u.createInputForRedeemUI)(o,r(r({market:t.market,cV:encodeURIComponent(t.cV),locale:t.locale,authToken:t.authToken,xToken:t.xToken,pageFormat:null!==(n=t.pageFormat)&&void 0!==n?n:"full"},t.campaignOptions),{urlRef:document.referrer?document.referrer:window.location.href,isRedeem:!0,clientType:t.clientType,deviceFamily:t.deviceFamily,layout:t.layout,cssOverride:t.cssOverride,theme:t.theme,clientVersion:t.clientVersion,catalogClientType:t.catalogClientType,osVersion:t.osVersion,purchaseAppVersion:t.purchaseAppVersion,selectEnv:t.selectEnv,isTelemetryEnabled:t.isTelemetryEnabled,disableBuyNowFocusTrap:t.disableBuyNowFocusTrap,uuid:t.uuid,tokenString:t.tokenString,scenario:t.scenario,offerId:t.offerId,productMetadataList:t.productMetadataList,productId:t.productId,skuId:t.skuId,suppressRedeemThankYouPage:t.suppressRedeemThankYouPage,optionalAssets:t.optionalAssets,timeToInvokeIframe:(0,s.getTimeToInvokeMarkFromArgsOrNewMetric)("redeemInvoke",t.timeToInvokeIframe),sdkVersion:l.LIB_VERSION})),e.appendChild(o),o.submit(),[4,(0,u.attachingMessageHandler)(o,t)];case 1:return i.sent(),[2,!0]}}))}))};t.prefetchRedeem=function(e,t){e.src=(0,a.getPrefetchUrl)(c.REDEEMNOW_PREFETCH_URL,t)};t.makeWindowListener=function(e){return function(t){var n,r,o;if(t.origin===c.TARGET_ORIGIN){var i=t.data;switch(i.message){case"done":e.done(i);break;case"openUrl":e.openUrl?e.openUrl(i):window.location.href=i.url;break;case"stageChanged":null===(n=e.stageChanged)||void 0===n||n.call(e,i);break;case"status":null===(r=e.status)||void 0===r||r.call(e,i);break;case"sizeChanged":null===(o=e.sizeChanged)||void 0===o||o.call(e,i)}}}}},85058:(e,t,n)=>{"use strict";n(64727),n(10865),n(81045),n(5350),Object.defineProperty(t,"__esModule",{value:!0}),t.createInputForRedeemUI=t.attachingMessageHandler=t.constructRedeemUrl=void 0;var r=n(69701),o=n(45893),i=n(65518);t.constructRedeemUrl=function(e){var t;return""+i.TARGET_ORIGIN+(0,r.buyNowUIUrlPath)(e,null===e||void 0===e?void 0:e.flights,null===(t=null===e||void 0===e?void 0:e.campaignOptions)||void 0===t?void 0:t.flights)+"/redeemnow?ms-cv="+encodeURIComponent(e.cV)+"&market="+e.market+"&locale="+e.locale+"&clientName="+e.clientType};t.attachingMessageHandler=function(e,t){return new Promise((function(t){return window.addEventListener("message",(function(n){n.origin===i.TARGET_ORIGIN&&("ReactPurchaseReadyToRender"===n.data&&t(),e&&e.remove())}),!0)}))};var a={usePurchaseSdk:!0};t.createInputForRedeemUI=function(e,t){var n=Object.keys(t);e.appendChild((0,o.createInput)("data",void 0,JSON.stringify(a))),n.forEach((function(n){if(n&&t[n])if("authToken"===n)e.appendChild((0,o.createInput)("msaTicket",void 0,t.authToken));else if("xToken"===n)e.appendChild((0,o.createInput)("xToken",void 0,t.xToken));else if("flights"===n)(0,o.createInputForArray)(e,"flights",t.flights);else if("productMetadataList"==n)e.appendChild((0,o.createInput)("productMetadataList",t.productMetadataList));else{var r=t[n];e.appendChild((0,o.createInput)(n,void 0,r))}}))}},47751:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LIB_VERSION=void 0,t.LIB_VERSION="VERSION_PLACEHOLDER"},31693:(e,t,n)=>{"use strict";n.d(t,{s:()=>s});var r=n(53373),o=n.n(r),i=n(14041),a=n(58912);const s=e=>{let{show:t=!0}=e;return i.createElement(a.aF,{className:"LoadingPageOverlay-module__loadingDialog___ApR3f",show:t},i.createElement(a.aF.Body,{className:o()((0,a.YK)("padding","all",0))},i.createElement("div",{style:{display:"flex",flex:1,justifyContent:"center",alignItems:"center",height:"100%"}},i.createElement(a.L7,null))))}},25807:(e,t,n)=>{"use strict";n.d(t,{D:()=>o,G:()=>r});const r="XboxCom",o="xboxcomct"},73816:(e,t,n)=>{"use strict";n.d(t,{AI:()=>w,Af:()=>s,DM:()=>o,QR:()=>y,Vh:()=>b,X:()=>d,Xo:()=>g,ZF:()=>i,as:()=>P,cE:()=>m,dZ:()=>a,di:()=>c,ec:()=>v,hk:()=>S,l$:()=>l,lA:()=>u,m8:()=>f,qI:()=>I,qK:()=>p,ru:()=>A,sI:()=>h,t0:()=>T,vN:()=>E,x0:()=>C,xi:()=>_});n(97107);var r=n(37509);n(79824);const o="https://www.microsoft.com/{locale}/store/cart",i="https://www.microsoft.com/store/onerf/signin?EEL=False&pcexp=True&ru={returnUrl}",a="https://support.microsoft.com/{0}/account-billing/4ed126a4-5d46-413f-a28e-968bd4414a80",s="https://aka.ms/AAaqyo9",l="https://aka.ms/AA52irh",c="https://aka.ms/AAaqyop",u="https://xbox.com/photosensitive-seizure-warning",d="productDetails/{productId}",p="search",m="search/{tabKey}",h=()=>window.location.origin||r.jbi,g=e=>(0,r.tcg)("family/memberXuid({xuid})",{xuid:e}),f=(e,t)=>`${t?`/${t}`:""}/user/settings/privacy-and-safety${e?`/${e}`:""}`,_="https://social.xbox.com/changegamertag",v="https://account.live.com/Password/Change",y="http://go.microsoft.com/fwlink/?LinkID=532885",b="https://family.microsoft.com",S="https://account.microsoft.com/devices",E="https://account.microsoft.com/billing/orders",C="https://account.microsoft.com/services/",T="https://support.xbox.com/help/family-online-safety/online-safety/manage-app-privacy-settings-xbox-one",w="https://support.xbox.com/help/family-online-safety/online-safety/safety-settings-for-messages",I="https://ratingsedge.rnr.microsoft.com/v1.0/ratingsedge/content/product/{productId}/review/{reviewId}",P="https://apps.apple.com/app/xbox/id736179781",A="https://support.xbox.com/help/hardware-network/getting-started-set-up/complete-setup-in-mobile-app"},38164:(e,t,n)=>{"use strict";n.d(t,{A:()=>_e});n(10865),n(47010);var r=n(75205),o=(n(98376),n(39428),n(37509)),i=n(15028),a=n(86090),s=n(77740),l=n(14041),c=n(58912),u=n(26573);var d=n(13724),p=n(3462),m=(n(10568),n(83165),n(24541),n(34397),n(79824));const h=e=>{const t=(0,m.useSelector)(o.a5u),n=(0,a.tW)("/games/browse/:platformName?",{platformName:e});return new URL(`${t}${n}`,o.jbi).toString()};n(91321);var g,f,_=n(66784),v=n(62495),y=n(85908),b=(n(97107),n(53373)),S=n.n(b),E=n(47283),C=n(56630),T=n(31693);!function(e){e[e.None=0]="None",e[e.Loading=1]="Loading",e[e.Loaded=2]="Loaded",e[e.ErrorRetry=3]="ErrorRetry",e[e.Error=4]="Error"}(g||(g={})),function(e){e.Busy="busyState"}(f||(f={}));const w=e=>{const[t,n]=(0,l.useState)(!1);return(0,l.useEffect)((()=>{const t=t=>{var r;if(t.source===(null===(r=e.current)||void 0===r?void 0:r.contentWindow)&&t.data){const e=t.data;e.message===f.Busy&&n(e.isBusy)}};return window.addEventListener("message",t),()=>{window.removeEventListener("message",t)}}),[e,n]),t};var I;n(31759);!function(e){e.ShowCartRetry="ShowCartRetry",e.ShowCheckoutRetry="ShowCheckoutRetry",e.CartFallbackMsCom="CartFallbackMsCom",e.CheckoutFallbackMsCom="CheckoutFallbackMsCom",e.CheckoutSuccessful="CheckoutSuccessful",e.CheckoutError="CheckoutError",e.CartError="CartError"}(I||(I={}));const P=()=>{if(o.VTO.CART_CHECKOUT_TIMEOUT_MSEC){const e=parseInt(o.VTO.CART_CHECKOUT_TIMEOUT_MSEC,10);if(!isNaN(e))return e}return 35e3},A=e=>e===g.Loading||e===g.None,k=(e,t,n,r,o,i)=>{(0,l.useEffect)((()=>{if(A(e)){const e=()=>{t((e=>A(e)?r?(n.logAppAction({action:I.CartFallbackMsCom,pageName:C.g6.Cart}),i(),g.Error):(n.logAppAction({action:I.ShowCartRetry,pageName:C.g6.Cart}),g.ErrorRetry):e))},a=setTimeout(e,o);return()=>{clearTimeout(a)}}}),[r,e,o,t,n,i])};n(14293);var x=n(73816);const R=(e,t)=>{let n=(0,o.tcg)(x.DM,{locale:e});t&&(n=(0,o.tcg)(x.ZF,{returnUrl:encodeURIComponent(n)})),window.location.assign(n)},O=async(e,t)=>{let n;try{n=t?(0,E.xT)(t):await(async e=>{const t=await e.acquireTokenSilently(E.zW.MDollar);return t?(0,E.xT)(t):null})(e)}catch(r){n=null}return n};n(69375);var N=n(76858),M=n(88901);const L=(e,t)=>{t.current&&e.height&&(t.current.height=Math.round(e.height+1).toString())},D=e=>{e.url&&("current"===e.targetWindow||"_self"===e.targetWindow?window.location.assign(e.url):window.open(e.url))},F=(e,t,n,r,o,i)=>{(async()=>{if(await t.isAuthenticated())r.push({pathname:"/checkout",search:`?${M.kw.ThemeOverride}=${i.toLocaleLowerCase()}`,state:e});else{const t=new URLSearchParams;t.set(M.hV.orderIds,e.orderIds),e.billingMarket&&t.set(M.hV.billingMarket,e.billingMarket);const r=new URL(window.location.origin);r.pathname=`${o.locale}/checkout`,r.search=t.toString(),((e,t)=>{window.location.assign(e(t))})(n,r.toString())}})()},U=(e,t,n,r,i)=>{const s=(0,o.wwE)(),c=(0,a.W6)(),u=(0,l.useCallback)((e=>{F(e,t,s,c,n,r)}),[t,s,c,n,r]);(0,l.useEffect)((()=>{const t=(0,N.makeWindowListener)({checkout:e=>{const t={orderIds:e.checkoutOrderId||"",billingMarket:e.billingMarket,navigatedFromCart:!0};u(t)},done:e=>((e,t)=>{"error"===e.status&&t(g.Error)})(e,i),ready:()=>i(g.Loaded),resize:t=>L(t,e),openUrl:D});return window.addEventListener("message",t),()=>{window.removeEventListener("message",t)}}),[u,e,i])},B=()=>(0,m.useSelector)(o.j17)===o.Sxu.Light?"#FFFFFFFF":"#FF201f24";var H=n(25807);const G="isAveSuccess",q=async(e,t,n,r,i,a,s,c)=>{const u=(0,m.useSelector)(E.yn),d=B(),p=(0,o.mx0)().get(o._F7);(0,l.useEffect)((()=>{const l=(()=>{const e=window.location.href,t=new URL(e);t.searchParams.append(G,"true");const n=new URL(e);return n.searchParams.append(G,"false"),{successUri:t.toString(),failureUri:n.toString()}})(),m=(0,x.sI)();(async()=>{if(!e.current)return;const h=await O(r,u);i.current=!!h;if(!await(0,N.invokeCartInFrame)(e.current,{authToken:"",aveFailureRedirectUrl:l.failureUri,aveSuccessRedirectUrl:l.successUri,clientType:H.G,cssOverride:"XboxCom",cV:a.cv().get(),keepShoppingUrl:m,layout:"Inline",pageFormat:"full",locale:t.localeWithScript,market:t.market,theme:n===o.Sxu.Dark?"dark":"light",xToken:h||void 0,productImageBackgroundColorARGB:d,postBusyStateToParent:!0,muid:p,flights:c}))return a.logAppAction({action:I.CartError,pageName:C.g6.Cart}),void s(g.Error);s(g.Loading)})()}),[])},j=e=>{let{frameRef:t,frameName:n,loadState:r}=e;(0,C.qz)(C.ry.Cart,C.g6.Cart);const o=(0,u.FE)("cartPageTitle"),i=w(t);return l.createElement(c.a4,null,l.createElement(T.s,{show:i}),l.createElement("iframe",{ref:t,key:n,name:n,referrerPolicy:"strict-origin-when-cross-origin",sandbox:"allow-scripts allow-same-origin allow-forms allow-popups",allow:"payment *",seamless:!0,className:S()("CartPage-module__cartFrame___JYkdn",{[(0,c.R)()]:r!==g.Loaded}),"aria-label":o}))};var V=n(41506),z=n.n(V),X=n(45068);const K=(e,t,n,r,o)=>{(0,l.useEffect)((()=>{const i=(0,X.makeWindowListener)({done:e=>((e,t,n,r,o)=>{switch(e.status){case"success":t.logAppAction({action:I.CheckoutSuccessful,pageName:C.g6.Checkout}),r(!0);break;case"error":t.logAppAction({action:I.CheckoutError,pageName:C.g6.Checkout}),n(g.Error);break;case"cancel":o()}})(e,t,n,r,o),ready:()=>n(g.Loaded),resize:t=>L(t,e),openUrl:D});return window.addEventListener("message",i),()=>{window.removeEventListener("message",i)}}),[o,e,r,n,t])},W=e=>{const t=(e=>{const t=new URL(window.location.href);return t.searchParams.set(M.hV.orderIds,e.orderIds),e.billingMarket?t.searchParams.set(M.hV.billingMarket,e.billingMarket):t.searchParams.delete(M.hV.billingMarket),t})(e),n=`${M.hV.realReturnUrl}={realReturnUrl}`;return t.search=t.search+(t.search?"&":"?")+n,t.toString()},$=async(e,t,n,r,i,a,s,c,u,d)=>{const p=(0,m.useSelector)(E.yn),h=B(),f=(0,o.mx0)().get(o._F7),_=(e=>{var t,n;if(!e)return;const r=(null===e||void 0===e?void 0:e.realReturnUrl)?new URL(e.realReturnUrl):void 0;return r&&(null===(t=r.search)||void 0===t?void 0:t.indexOf("?"))>-1?null===(n=null===r||void 0===r?void 0:r.search)||void 0===n?void 0:n.slice(1):void 0})(r);(0,l.useEffect)((()=>{if(!r)return void u();const l=W(r),m=(0,x.sI)();(async()=>{if(!e.current)return;const r=await O(i,p);a.current=!!r;if(!await(0,X.invokeCheckoutInFrame)(e.current,{authToken:"",clientType:H.G,cssOverride:"XboxCom",cV:s.cv().get(),keepShoppingUrl:m,layout:"Inline",pageFormat:"full",locale:t.localeWithScript,market:t.market,postBusyStateToParent:!0,productImageBackgroundColorARGB:h,theme:n===o.Sxu.Dark?"dark":"light",xToken:r||void 0,hostRedirectReturnUrlTemplate:l,muid:f,flights:d,queryStringParams:_}))return s.logAppAction({action:I.CheckoutError,pageName:C.g6.Checkout}),void c(g.Error);c(g.Loading)})()}),[])},Y=e=>{let{isPurchaseComplete:t}=e;const{checkoutPageTitle:n,checkoutThankYouPageTitle:r}=(0,u.ot)("checkoutPageTitle","checkoutThankYouPageTitle"),o=t?r:n,i=[c.zP.NoIndex,c.zP.NoFollow];return l.createElement(c.xp,{title:o,robotsMetaTags:i})},Q=e=>{let{frameRef:t,frameName:n,show:r}=e;(0,C.qz)(C.ry.Checkout,C.g6.Checkout);const o=(0,u.FE)("checkoutPageTitle"),i=w(t);return l.createElement(c.a4,null,l.createElement(T.s,{show:i}),l.createElement("iframe",{ref:t,key:n,name:n,referrerPolicy:"strict-origin-when-cross-origin",sandbox:"allow-same-origin allow-scripts allow-forms",allow:"payment *",seamless:!0,className:S()("CheckoutPage-module__checkoutFrame___PcKMJ",{[(0,c.R)()]:r}),"aria-label":o}))};var J=n(46032),Z=n(61310),ee=n(86084),te=n(17696),ne=n(20849),re=n(33627),oe=n(92454),ie=n(15956);var ae=n(22830),se=n(25457),le=n(23383),ce=n(51404),ue=n(48227);const de=()=>{const e=(0,m.useSelector)(o.GYd).userAgent,t=new ue.P6(e),n=t.isIOS,r=t.isIPadOS,i=t.isAndroid;let s=x.ru;if(n||r)s=x.as;else if(i)return l.createElement(a.rd,{to:"/XboxSetupAndroid"});return l.createElement(c.cS,{to:s})};var pe=n(75603),me=n(43012);const he={"/search/results":{featureGate:o.WTf.EnableNewSearchExperience,redirect:"/search"}},ge=(0,i.gq)((()=>Promise.all([n.e(7828),n.e(1350),n.e(3223)]).then(n.bind(n,70301))),(e=>e.lazyRouteConfigs)),fe=[{key:"Wishlist",path:"/wishlist",component:ae.t,exact:!0,seoComponent:se.O,testConfig:{title:"Wishlist",testPath:"/wishlist"},lazyConfig:ge("Wishlist")},{key:"WishlistWithId",path:`/wishlist/:${o.pvY.WishlistId}`,component:ae.t,exact:!0,seoComponent:se.d,testConfig:{title:"Wishlist",testPath:"/wishlist/wishlistId"},lazyConfig:ge("WishlistWithId")},{key:"PrivacyAndSafetySettings",path:`/user/settings/privacy-and-safety/:${o.pvY.Xuid}?`,component:te.E,theme:o.Sxu.Light,testConfig:{title:"Privacy and Safety Settings Page",testPath:"/user/settings/privacy-and-safety"}},{key:"ContactPreferencesPage",path:"/user/settings/contact-preferences",component:ce.Q,theme:o.Sxu.Light,testConfig:{title:"Contact Preferences Page",testPath:"/user/settings/ContactPreferences"}},{key:"PrivacyAndSafetySettings",path:"/user/settings",component:te.E,theme:o.Sxu.Dark,testConfig:{title:"Privacy and Safety Settings via old path",testPath:"/user/settings"}},{key:"BrowsePageByCollection",path:`/games/browse/:${o.pvY.ChannelId}`,component:d.S,theme:o.Sxu.Light,seoComponent:p.A,lazyConfig:ge("BrowseChannel"),testConfig:{title:"Browse By Collection Page",testPath:[{path:"/games/browse/New",title:"New games collection"},{path:"/games/browse/TopPaid",title:"Top Paid collection"},{path:"/games/browse/TopFree",title:"Top Free collection"},{path:"/games/browse/BestRated",title:"Best Rated collection"},{path:"/games/browse/based-On-Books",title:"Games Based on books (Campsite) alias"},{path:"/games/browse/CampsiteChannel.Games.Primary.gamesbasedonbooks",title:"Games Based on books (Campsite)"},{path:"/games/browse/CampsiteChannel.Games.Sale.2023.Dealsunlocked0623",title:"Deals Unlocked June 2023 (Campsite)"}]}},{key:"OldBrowsePageRoutes",path:"/browse/games*",component:()=>{const e=(0,a.zy)(),t=e.pathname.toLowerCase().split("/browse/games"),n=`${t[0]}/games/browse${t[1]}${e.search}`;return l.createElement(a.rd,{to:n})},seoComponent:p.A,testConfig:{title:"Old Browse (Should redirect to new)",testPath:[{path:"/browse/games/New",title:"New games collection"},{path:"/browse/games/New?Genre=Action%20%26%20adventure",title:"Browse all new action & adventure"},{path:"/browse/games?Genre=Action%20%26%20adventure",title:"Browse all action & adventure"}]}},{key:"BrowseConsoleGames",path:"/games/all-games/console",component:d.S,theme:o.Sxu.Light,seoComponent:()=>{const e=(0,u.JX)("homePageBrowseAllGamesConsoleButtonLabel"),t=h("console");return l.createElement(c.xp,{title:e,canonicalUrl:t})},testConfig:{title:"Browse Console Games Page"},lazyConfig:ge("BrowseAll")},{key:"BrowsePCGames",path:"/games/all-games/pc",component:d.S,theme:o.Sxu.Light,seoComponent:()=>{const e=(0,u.JX)("homePageBrowseAllGamesPCButtonLabel"),t=h("pc");return l.createElement(c.xp,{title:e,canonicalUrl:t})},testConfig:{title:"Browse PC Games Page"},lazyConfig:ge("BrowseAll")},{key:"BrowseAllGames",path:"/games/browse",component:d.S,theme:o.Sxu.Light,seoComponent:()=>{const e=(0,u.JX)("homePageBrowseAllGamesModuleTitle"),t=h();return l.createElement(c.xp,{title:e,canonicalUrl:t})},testConfig:{title:"Browse Page",testPath:[{path:"/games/browse",title:"Default browse page"},{path:"/games/browse?Genre=Action%20%26%20adventure",title:"Action & adventure games"}]},lazyConfig:ge("BrowseAll")},{key:"RedeemHost",path:"/external/redeem-host",component:me.C,hideUHF:!0,uhfConfig:{headerMode:o.qon.Off,footerMode:o.oqV.Off},theme:o.Sxu.Dark,exact:!0,testConfig:{title:"Redeem Host Test"}},{key:"ContextualStoreHost",path:`/external/contextual-store-host/:${o.pvY.ProductId}/:${o.pvY.SkuId}?/:${o.pvY.AvailabilityId}?`,component:Z.q,hideUHF:!0,uhfConfig:{headerMode:o.qon.Off,footerMode:o.oqV.Off},testConfig:{title:"Contextual Store Host",testPath:[{path:"/external/contextual-store-host/91FRV8WPFK4C",title:"Xbox One X 1TB Console"},{path:"/external/contextual-store-host/C2KDNLT2H7DM",title:"Gears 5 (XPA)"},{path:"/external/contextual-store-host/9pk917v6pncb",title:"Gears 5 - 500 Coins"},{path:"/external/contextual-store-host/BVJLKDG2TX8H",title:"Overcooked 2 (Xbox)"},{path:"/external/contextual-store-host/9PNLMB2ZW603",title:"Product not found"},{path:"/external/contextual-store-host/C2KDNLT2H7DM?v=v2",title:"v2 - Gears 5 (XPA)"},{path:"/external/contextual-store-host/c2b3mcdf0c4l?v=v2",title:"v2 - Silver with Skus"},{path:"/external/contextual-store-host/CFQ7TTC0KHS0?v=v2",title:"v2 - Game Pass Ultimate"},{path:"/external/contextual-store-host/C2KDNLT2H7DM?v=v2&exp=Browse&it=Consumable,Durable",title:"v2 Marketplace - Gears 5 (XPA) "}]}},{key:"ContextualStoreModalLauncherTest",path:"/contextualStoreHostLauncherTest",component:ee.M,theme:o.Sxu.Dark,exact:!0,constraint:{featureGates:{[o.WTf.EnableTestPages]:e=>!0===e}},testConfig:{title:"Contextual Store Modal Launcher Test"}},{key:"BundleBuilderTest",path:"/configure/testProducts",component:y.t,theme:o.Sxu.Dark,exact:!0,enableXboxCart:!0,constraint:{featureGates:{[o.WTf.EnableTestPages]:e=>!0===e}},testConfig:{title:"Bundle Builder Test Products"}},{key:"BundleBuilder",path:`/configure/:${o.pvY.ProductId}`,component:_.f,exact:!0,enableXboxCart:!0,seoComponent:v.g,testConfig:{title:"Bundle Builder",testPath:[{path:"/configure/91FRV8WPFK4C",title:"Bundle Builder (Xbox One X)"},{path:"/configure/8S4SFBJC55TL",title:"Bundle Builder (Xbox One S)"},{path:"/configure/8NL3CQSH17X7",title:"Bundle Builder (Xbox One S (the other one))"},{path:"/configure/8WJ714N3RBTL",title:"Bundle Builder (X)"},{path:"/configure/942J774TP9JN",title:"Bundle Builder (S)"},{path:"/configure/8RPM8T9CK0P6",title:"Bundle Builder (New Console)"}]},lazyConfig:ge("BundleBuilder")},{key:"XboxCardApplyHost",path:`/:${o.pvY.Path}(xbox-mastercard)/apply`,component:le.L,theme:o.Sxu.Dark,uhfConfig:{headerMode:o.qon.None,footerMode:o.oqV.None},testConfig:{title:"xbox mastercard apply host",testPath:[{path:"/xbox-mastercard/apply",title:"Test Page for External Apply Flow"}]}},{key:"ProductDetailsPage",path:`/games/store/:${o.pvY.ProductName}/:${o.pvY.ProductId}/:${o.pvY.SkuId}?/:${o.pvY.AvailabilityId}?`,component:ne.x,requiresNewRequest:(e,t,n)=>{let r=!0;if(n){const i=(0,a.B6)(t.pathname,{path:e}),s=(0,a.B6)(n.pathname,{path:e});r=!(0,o.JSV)(null===i||void 0===i?void 0:i.params[o.pvY.ProductId],null===s||void 0===s?void 0:s.params[o.pvY.ProductId])}return r},formatPageId:(e,t)=>{var n;return`${t}/${((null===(n=null===e||void 0===e?void 0:e.match)||void 0===n?void 0:n.params[o.pvY.ProductId])||"").toUpperCase()}`},seoComponent:re.S,theme:o.Sxu.Dark,lazyConfig:ge("ProductDetailsPage"),testConfig:{title:"PDP",testPath:[{path:"/games/store/Gears-of-War-5/C2KDNLT2H7DM",title:"Gears 5 (XPA)"},{path:"/games/store/Game-Pass-Ultimate/CFQ7TTC0KHS0",title:"Game Pass Ultimate"},{path:"/games/store/Overcooked-2-Xbox/BVJLKDG2TX8H",title:"Overcooked 2 (Xbox)"},{path:"/games/store/Overcooked-2-PC/9PGB72NFG5JN",title:"Overcooked 2 (PC)"},{path:"/games/store/Forza-Horizon-4-Ultimate-Bundle/9P513P4MWC71",title:"Forza Horizon 4 Ultimate (Bundle)"},{path:"/games/store/Forza-Horizon-4-Car-Pass-DLC/9MZPP9XXP13L",title:"Forza Horizon 4 Car Pass (DLC)"},{path:"/games/store/Forza-Horizon-4/9PNQKHFLD2WQ",title:"Forza Horizon 4 (No Availability)"},{path:"/games/store/Destiny-2-Silver/c2b3mcdf0c4l",title:"Destiny 2 Silver"},{path:"/games/store/fallout-1st/cfq7ttc0l4dr",title:"Fallout 1st - 3PP & Sku Selector"},{path:"/games/store/ubisoft/CFQ7TTC0QH5H",title:"Ubisoft+"},{path:"/games/store/xbet-testing/9NVKC6TB0MKC",title:"Ubisoft+ - Test Product "},{path:"/games/store/assassins-creed-odyssey/BW9TWC8L4JCS",title:"Assassin's Creed Odyssey"},{path:"/games/store/wheel-of-fortune/BR76VBTV0NK0",title:"Wheel of Fortune"},{path:"/games/store/xbox-game-pass-standard/CFQ7TTC0P85B",title:"Game Pass Standard"},{path:"/games/store/p/9PG495V9BT52/0010",title:"Sonic Frontiers (Mauna Loa Product)"}]}},{key:"Cart",path:"/cart",component:()=>{const e=(0,l.useRef)(null),t=(0,m.useSelector)(o.P6r),n=(0,m.useSelector)(o.j17),r=(0,l.useRef)(!1),i=(0,E.jb)(),a=(0,C.Gb)(),s=P(),u=["sc_xboxredirection"],[d,p]=(0,l.useState)(g.None),[h,f]=(0,l.useState)(!1),_=`store-cart-frame_${n}_${h}`;return k(d,p,a,h,s,(()=>{R(t.locale,r.current)})),U(e,i,t,n,p),q(e,t,n,i,r,a,p,u),l.createElement(l.Fragment,null,l.createElement("div",{className:"CartPage-module__cartContainer___zpyiA"},(d===g.Loading||d===g.None)&&l.createElement(c.AV,null),d===g.ErrorRetry&&l.createElement(c.E,{retryAction:()=>{p(g.None),f(!0)}}),d===g.Error&&l.createElement(c.M,{error:new Error("Error while loading cart iframe")}),d!==g.Error&&d!==g.ErrorRetry&&l.createElement(j,{frameRef:e,frameName:_,loadState:d})))},exact:!0,enableXboxCart:!0,seoComponent:J.$},{key:"Checkout",path:"/checkout",component:()=>{const e=(0,l.useRef)(null),t=(0,E.jb)(),n=(0,l.useRef)(!1),r=(0,C.Gb)(),i=(0,m.useSelector)(o.P6r),s=(0,m.useSelector)(o.j17),u=(0,m.useDispatch)(),[d,p]=(0,l.useState)(g.None),[h,f]=(0,l.useState)(!1),[_,v]=(0,l.useState)(!1),y=P(),b=(0,a.W6)(),S=(()=>{const e=(0,a.zy)(),t=e.state,n=new URLSearchParams(e.search),[r,i,s]=(0,o.kQE)(n,M.hV.orderIds,M.hV.billingMarket,M.hV.realReturnUrl),c=(0,l.useRef)();if(null===c||void 0===c?void 0:c.current)return c.current;const u={orderId:(null===t||void 0===t?void 0:t.orderIds)||(null===r||void 0===r?void 0:r.value),billingMarket:(null===t||void 0===t?void 0:t.billingMarket)||(null===i||void 0===i?void 0:i.value),realReturnUrl:null===s||void 0===s?void 0:s.value,navigatedFromCart:!!(null===t||void 0===t?void 0:t.navigatedFromCart)},{orderId:d}=u,p=d?z()(z()({},u),{},{orderIds:d}):void 0;if(c.current=p||null,window.history&&window.history.replaceState){const e=new URL(window.location.href);e.search="",window.history.replaceState({},"",e.toString())}return p})(),T=["sc_xboxredirection"],w=()=>((e,t)=>{t.replace({pathname:"/cart"})})(i.locale,b),I=`store-checkout-frame_${s}_${h}`;return(0,l.useEffect)((()=>(u(o.Hde.setHeaderMode(o.qon.Minimal)),()=>{u(o.Hde.resetHeaderMode())})),[u]),k(d,p,r,h,y,(()=>{R(i.locale,n.current)})),K(e,r,p,v,w),$(e,i,s,S,t,n,r,p,w,T),l.createElement(l.Fragment,null,l.createElement(Y,{isPurchaseComplete:_}),l.createElement("div",{className:"CheckoutPage-module__checkoutContainer___V21dl"},(d===g.Loading||d===g.None)&&l.createElement(c.AV,null),d===g.ErrorRetry&&l.createElement(c.E,{retryAction:()=>{p(g.None),f(!0)}}),d===g.Error&&l.createElement(c.M,{error:new Error("Error while loading checkout iframe")}),d!==g.Error&&d!==g.ErrorRetry&&l.createElement(Q,{frameRef:e,frameName:I,show:d===g.Loading||d===g.None})))},exact:!0,enableXboxCart:!0,seoComponent:null},{key:"SearchPage",path:`/search/results/:${o.pvY.TabName}?`,component:oe.g,theme:o.Sxu.Light,constraint:{featureGates:{[o.WTf.EnableNewSearchExperience]:e=>!0===e}},experimentBasedRedirect:he["/search/results"],formatPageId:(e,t)=>`${t}/search/results`,seoComponent:()=>{const e=(0,a.zy)(),t=(0,ie.Qu)((0,ie.O9)(M.hV.searchQuery,e)),n=(0,u.JX)("searchTitleNoCount",{queryParam:t}),r=[c.zP.NoIndex,c.zP.NoFollow];return l.createElement(c.xp,{title:n,robotsMetaTags:r})},lazyConfig:ge("SearchPage"),testConfig:{title:"Search",testPath:[{title:"Halo",path:"/search/results?q=halo"},{title:"Forza",path:"/search/results?q=forza"},{title:"Forza Addons < $5",path:"/search/results/Addons?q=forza&Price=0.01To5"},{title:"Xbox",path:"/search/results?q=xbox"},{title:"Gears 5",path:"/search/results?q=gears%205"},{title:"Gears 5 Addons(Case Insensitive)",path:"/search/results/aDdoNS?q=gears%205"}]}},{key:"AccountLinkStart",path:`/connect/:${o.pvY.NetworkName}(ubisoft)/start-link`,component:s.r,exact:!0,seoComponent:()=>{const e=(0,u.JX)("accountLinkStartTitle"),t=[c.zP.NoIndex,c.zP.NoFollow];return l.createElement(c.xp,{title:e,robotsMetaTags:t})},lazyConfig:ge("AccountLinkStart"),theme:o.Sxu.Dark,testConfig:{title:"Ubisoft link start",testPath:"/connect/ubisoft/start-link"}},{key:"AccountLinkComplete",path:`/connect/:${o.pvY.NetworkName}(ubisoft)/complete-link`,component:s.I,exact:!0,seoComponent:()=>{const e=(0,u.JX)("accountLinkCompleteTitle"),t=[c.zP.NoIndex,c.zP.NoFollow];return l.createElement(c.xp,{title:e,robotsMetaTags:t})},theme:o.Sxu.Dark,testConfig:{title:"Ubisoft link complete",testPath:"/connect/ubisoft/complete-link"},lazyConfig:ge("AccountLinkComplete")},{key:"XboxSetupRedirect",path:"/XboxSetupRedirect",component:de,exact:!0,constraint:{featureGates:{[o.WTf.EnableXboxOneRFSetupRedirectPage]:e=>!0===e}},testConfig:{title:"Xbox redirect page based on the user agent",testPath:"/XboxSetupRedirect"}},{key:"XboxSetupAndroid",path:"/XboxSetupAndroid",component:pe.F,exact:!0,constraint:{featureGates:{[o.WTf.EnableXboxOneRFSetupRedirectPage]:e=>!0===e}},theme:o.Sxu.Dark,testConfig:{title:"Xbox setup android page",testPath:"/XboxSetupAndroid"}}],_e={partnerId:r.QNR,routes:fe,redirectExperimentsConfiguration:he,lazyConfig:()=>Promise.all([n.e(7828),n.e(1350),n.e(3223)]).then(n.bind(n,31040))}},26573:(e,t,n)=>{"use strict";n.d(t,{FE:()=>i,JX:()=>s,cG:()=>a,ot:()=>l,xZ:()=>c});n(47010);var r=n(75205),o=n(37509);const i=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return(0,o.FPK)(e,r.QNR,...n)},a=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,o.wDO)(r.QNR,...t)};function s(e,t){return(0,o.jLq)(r.QNR,e,t)}function l(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,o.eVg)(r.QNR,...t)}function c(e){return(0,o.tOg)(r.QNR,e)}},77740:(e,t,n)=>{"use strict";n.d(t,{I:()=>c,r:()=>l});var r=n(10865),o=n.n(r),i=n(47010),a=n.n(i),s=n(58912);const l=(0,s.EG)({resolved:{},chunkName:()=>"AccountLink",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>(0,s.Bi)(n.e(6164).then(n.bind(n,3724))),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 3724}}),c=(0,s.EG)({resolved:{},chunkName:()=>"AccountLink",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>(0,s.Bi)(n.e(6164).then(n.bind(n,65875))),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 65875}})},3462:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var r=n(10865),o=n.n(r),i=n(47010),a=n.n(i),s=n(58912),l=n(37509);const c=(0,s.sT)({resolved:{},chunkName:()=>"BrowsePageByCollection",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>(0,l.wjz)(s.M7,n.e(8327).then(n.bind(n,37971))),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 37971}})},13724:(e,t,n)=>{"use strict";n.d(t,{S:()=>l});var r=n(10865),o=n.n(r),i=n(47010),a=n.n(i),s=n(58912);const l=(0,s.EG)({resolved:{},chunkName:()=>"BrowsePage",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>(0,s.Bi)(Promise.all([n.e(5346),n.e(8435),n.e(7284)]).then(n.bind(n,37762))),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 37762}})},62495:(e,t,n)=>{"use strict";n.d(t,{g:()=>c});var r=n(10865),o=n.n(r),i=n(47010),a=n.n(i),s=n(58912),l=n(37509);const c=(0,s.sT)({resolved:{},chunkName:()=>"BundleBuilderPage",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>(0,l.wjz)(s.M7,Promise.all([n.e(2394),n.e(2524),n.e(6705)]).then(n.bind(n,51306))),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 51306}})},66784:(e,t,n)=>{"use strict";n.d(t,{f:()=>l});var r=n(10865),o=n.n(r),i=n(47010),a=n.n(i),s=n(58912);const l=(0,s.EG)({resolved:{},chunkName:()=>"BundleBuilderPage",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>(0,s.Bi)(Promise.all([n.e(2394),n.e(2524),n.e(6705)]).then(n.bind(n,8491))),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 8491}})},85908:(e,t,n)=>{"use strict";n.d(t,{t:()=>l});var r=n(10865),o=n.n(r),i=n(47010),a=n.n(i),s=n(58912);const l=(0,s.EG)({resolved:{},chunkName:()=>"BundleBuilderTestPage",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>(0,s.Bi)(Promise.all([n.e(1524),n.e(2394),n.e(5309),n.e(29)]).then(n.bind(n,75309))),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 75309}})},46032:(e,t,n)=>{"use strict";n.d(t,{$:()=>c});var r=n(10865),o=n.n(r),i=n(47010),a=n.n(i),s=n(58912),l=n(37509);const c=(0,s.sT)({resolved:{},chunkName:()=>"CartPage",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>(0,l.wjz)(s.M7,n.e(1196).then(n.bind(n,31822))),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 31822}})},51404:(e,t,n)=>{"use strict";n.d(t,{Q:()=>l});var r=n(10865),o=n.n(r),i=n(47010),a=n.n(i),s=n(58912);const l=(0,s.EG)({resolved:{},chunkName:()=>"ContactPreferencesPage",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>(0,s.Bi)(Promise.all([n.e(1524),n.e(6444),n.e(9212)]).then(n.bind(n,55581))),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 55581}})},61310:(e,t,n)=>{"use strict";n.d(t,{q:()=>l});var r=n(10865),o=n.n(r),i=n(47010),a=n.n(i),s=n(58912);const l=(0,s.EG)({resolved:{},chunkName:()=>"ContextualStoreHostPage",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>(0,s.Bi)(n.e(7558).then(n.bind(n,60323))),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 60323}})},86084:(e,t,n)=>{"use strict";n.d(t,{M:()=>l});var r=n(10865),o=n.n(r),i=n(47010),a=n.n(i),s=n(58912);const l=(0,s.EG)({resolved:{},chunkName:()=>"ContextualStoreModalLauncherTestPage",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>(0,s.Bi)(n.e(2445).then(n.bind(n,67581))),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 67581}})},17696:(e,t,n)=>{"use strict";n.d(t,{E:()=>l});var r=n(10865),o=n.n(r),i=n(47010),a=n.n(i),s=n(58912);const l=(0,s.EG)({resolved:{},chunkName:()=>"PrivacyAndSafetySettingsPage",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>(0,s.Bi)(Promise.all([n.e(7800),n.e(776)]).then(n.bind(n,97800))),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 97800}})},33627:(e,t,n)=>{"use strict";n.d(t,{S:()=>c});var r=n(10865),o=n.n(r),i=n(47010),a=n.n(i),s=n(58912),l=n(37509);const c=(0,s.sT)({resolved:{},chunkName:()=>"ProductDetailsPage",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>(0,l.wjz)(s.M7,Promise.all([n.e(1524),n.e(6444),n.e(5346),n.e(7907)]).then(n.bind(n,71462))),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 71462}})},20849:(e,t,n)=>{"use strict";n.d(t,{x:()=>l});var r=n(10865),o=n.n(r),i=n(47010),a=n.n(i),s=n(58912);const l=(0,s.EG)({resolved:{},chunkName:()=>"ProductDetailsPage",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>(0,s.Bi)(Promise.all([n.e(1524),n.e(6444),n.e(5346),n.e(7907)]).then(n.bind(n,57589))),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 57589}})},43012:(e,t,n)=>{"use strict";n.d(t,{C:()=>l});var r=n(10865),o=n.n(r),i=n(47010),a=n.n(i),s=n(58912);const l=(0,s.EG)({resolved:{},chunkName:()=>"RedeemHostPage",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>(0,s.Bi)(Promise.all([n.e(1524),n.e(1435)]).then(n.bind(n,70700))),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 70700}})},92454:(e,t,n)=>{"use strict";n.d(t,{g:()=>l});var r=n(10865),o=n.n(r),i=n(47010),a=n.n(i),s=n(58912);const l=(0,s.EG)({resolved:{},chunkName:()=>"SearchPage",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>(0,s.Bi)(Promise.all([n.e(5346),n.e(8435),n.e(7284)]).then(n.bind(n,70583))),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 70583}})},25457:(e,t,n)=>{"use strict";n.d(t,{O:()=>c,d:()=>u});var r=n(10865),o=n.n(r),i=n(47010),a=n.n(i),s=n(58912),l=n(37509);const c=(0,s.sT)({resolved:{},chunkName:()=>"WishlistPage",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>(0,l.wjz)(s.M7,Promise.all([n.e(6206),n.e(3595)]).then(n.bind(n,89072))),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 89072}}),u=(0,s.sT)({resolved:{},chunkName:()=>"WishlistPage",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>(0,l.wjz)(s.M7,Promise.all([n.e(6206),n.e(3595)]).then(n.bind(n,97231))),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 97231}})},22830:(e,t,n)=>{"use strict";n.d(t,{t:()=>l});var r=n(10865),o=n.n(r),i=n(47010),a=n.n(i),s=n(58912);const l=(0,s.EG)({resolved:{},chunkName:()=>"WishlistPage",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>(0,s.Bi)(Promise.all([n.e(6206),n.e(3595)]).then(n.bind(n,27185))),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 27185}})},23383:(e,t,n)=>{"use strict";n.d(t,{L:()=>l});var r=n(10865),o=n.n(r),i=n(47010),a=n.n(i),s=n(58912);const l=(0,s.EG)({resolved:{},chunkName:()=>"XboxCardApplyHostPage",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>(0,s.Bi)(n.e(6313).then(n.bind(n,20063))),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 20063}})},75603:(e,t,n)=>{"use strict";n.d(t,{F:()=>l});var r=n(10865),o=n.n(r),i=n(47010),a=n.n(i),s=n(58912);const l=(0,s.EG)({resolved:{},chunkName:()=>"XboxSetupAndroidPage",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>(0,s.Bi)(n.e(7077).then(n.bind(n,8245))),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 8245}})},8378:(e,t,n)=>{"use strict";n.d(t,{hM:()=>H,FO:()=>q,fd:()=>Y,gx:()=>j,KJ:()=>Q,j4:()=>de,pg:()=>ie,Xz:()=>te,Tw:()=>V,IT:()=>ee,RX:()=>ae,Ix:()=>he,Ff:()=>re,BO:()=>z,av:()=>ne,ei:()=>oe,y2:()=>ge,c6:()=>ke,mr:()=>Z,n_:()=>me,aF:()=>Qe,vn:()=>fe,_q:()=>f,hd:()=>K,i4:()=>se,gm:()=>Ye,z6:()=>$e,JF:()=>M,h9:()=>L,Y9:()=>Je,K8:()=>F,MB:()=>U,ax:()=>G,AB:()=>D,tt:()=>B,Es:()=>J,n8:()=>pe,gp:()=>ce,pA:()=>$,Oz:()=>ue,CZ:()=>W,TM:()=>le,ci:()=>Pe,qb:()=>we,b6:()=>X,sB:()=>N,mV:()=>I,Z3:()=>P,CQ:()=>A,B2:()=>Ne,uM:()=>Be,CS:()=>k,A5:()=>He,cH:()=>R,NO:()=>x,M3:()=>xe,ZR:()=>Re,wT:()=>Oe,Yj:()=>O,Kt:()=>Xe,Sk:()=>ft,tu:()=>qe,oX:()=>Ve,An:()=>je,sg:()=>Le,Vh:()=>_e,p$:()=>ct,IG:()=>Ft,qt:()=>Me,BR:()=>be,ww:()=>ye,i_:()=>ze,no:()=>De});var r=n(37509),o=n(17188),i=n(53373),a=n.n(i),s=n(14041),l=n(79824),c=n(70564),u="Price-module__afterPriceTextContainer___r7fdq",d="Price-module__gamePassInlineLogo___5MSlU",p="Price-module__lowestPriceText___QdS-y",m="Price-module__moreText___sNMVr",h="Price-module__priceBaseContaner___AUBVX",g="Price-module__ubisoftPlusHorizontalLogo___XPMTJ";const f=e=>{let{historicalLowestListPrice:t,className:n,containerClassName:i}=e;const u=(0,l.useSelector)(r.P6r),d=(0,o.FE)("lowestListPriceText"),{listPrice:m,currency:h}=t,g=(0,r.vv8)(m,h,u),f=(0,r.GPZ)(d,g);return s.createElement("div",{className:a()(c.Q,i)},s.createElement("span",{className:a()(p,n)},f))};var _=n(67996),v=n.n(_),y=n(41506),b=n.n(y),S=(n(10568),n(58912)),E=n(47566),C=n(85608);const T=function(e){var{title:t,titleId:n}=e,r=(0,C.__rest)(e,["title","titleId"]);return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 7363 2048",width:"1em",height:"1em","aria-labelledby":n},r),t?s.createElement("title",{id:n},t):null,s.createElement("path",{d:"M6600 1765q21 13 53 23t67 16 70 10 59 4q64 0 127-12t114-42 82-80 32-126q0-54-21-97t-56-79-78-63-87-49q-28-13-62-28t-65-34-50-46-21-65q0-37 19-61t48-38 62-20 64-6q55 0 108 13t99 45V875q-23-11-50-17t-55-10-57-5-54-1q-60 0-122 14t-112 45-83 80-32 120q0 56 19 97t50 74 70 56 81 44 81 40 71 40 50 48 19 60q0 41-18 66t-47 39-64 19-67 5q-28 0-62-6t-67-17-64-26-51-36v161zm-723 0q21 13 53 23t68 16 70 10 59 4q64 0 127-12t114-42 82-80 32-126q0-53-21-97t-56-79-78-63-87-49q-28-13-62-28t-65-34-51-46-21-65q0-37 19-61t48-38 63-20 63-6q55 0 108 12t99 46V875q-22-11-49-17t-57-10-57-5-53-1q-60 0-122 14t-112 45-83 80-32 120q0 74 32 124t82 85 106 62 107 53 81 57 33 78q0 41-18 66t-47 39-63 19-68 5q-28 0-62-6t-67-17-64-26-51-36v161zm-373-331h-289l130-377q5-14 8-29t5-30h3q2 14 4 29t8 30l131 377zm299 369l-351-945h-177l-354 945h171l82-241h372l85 241h172zM4499 987h114q42 0 78 8t61 28 40 52 15 78q0 48-16 82t-43 55-66 32-82 10h-101V987zm0 473h126q72 0 135-20t110-60 74-98 27-135q0-78-26-133t-73-89-109-51-133-16h-287v945h156v-343zm-671 343v-133h-373v-279h325v-133h-325V991h352V858h-509v945h530zm-751 0V858h-213l-253 626q-11 27-20 55t-19 56h-4q-6-28-16-55t-21-53l-248-629h-221v945h145v-704q0-46-5-92h3q5 24 10 47t15 47l282 702h108l283-707q8-21 14-43t11-46h3q-4 46-6 92t-3 92v612h155zm-1431-369h-289l130-377q5-14 7-29t6-30h2q3 14 5 29t8 30l131 377zm299 369l-352-945h-176l-354 945h171l82-241h372l85 241h172zm-968-65v-449H622v132h199v225q-39 20-82 28t-87 9q-78 0-136-27t-97-74-57-111-19-137q0-77 24-142t70-113 109-75 142-27q69 0 134 17t124 55V888q-63-27-130-36t-134-10q-110 0-202 36T320 981t-104 158-37 203q0 107 33 194t94 150 147 97 195 35q88 0 170-19t159-61zM0 575h7363v1473H0V575z"}))},w=(e,t)=>b()(b()({},e.images),null===t||void 0===t?void 0:t.skuImages),I=(e,t)=>w(e,t).boxArt,P=(e,t)=>{var n;return(null===(n=e.curatedEditionInformation)||void 0===n?void 0:n.upsellImages)&&e.curatedEditionInformation.upsellImages[0]?e.curatedEditionInformation.upsellImages[0]:A(e,t)},A=(e,t)=>w(e,t).superHeroArt,k=(e,t)=>w(e,t).poster,x=(e,t)=>I(e,t)||O(e,t),R=(e,t)=>w(e,t).screenshots,O=(e,t)=>w(e,t).tile;var N,M,L,D,F,U,B,H,G,q,j;n(47010);!function(e){e[e.Unknown=0]="Unknown",e[e.Differential=1]="Differential",e[e.UpgradedDifferentialOffer=2]="UpgradedDifferentialOffer"}(N||(N={})),function(e){e.None="None",e.Affirmation="Affirmation",e.Remediation="Remediation"}(M||(M={})),function(e){e.Unknown="Unknown",e.GamePass="GamePass",e.XboxLiveGold="XboxLiveGold",e.GamePassUltimate="GamepassUltimate",e.GamePassCore="GamePassCore",e.EAAccess="EAAccess",e.PCGamePass="PCGamePass",e.BundleRemediation="BundleRemediation",e.XPrice="XPrice",e.UbisoftPlus="UbisoftPlus"}(L||(L={})),function(e){e.Game="Game",e.Consumable="Consumable",e.Durable="Durable",e.UnmanagedConsumable="UnmanagedConsumable",e.Pass="Pass",e.Bundles="Bundles"}(D||(D={})),function(e){e.Subscription="Subscription",e.Passes="Passes",e.Games="Games",e.Device="Devices"}(F||(F={})),function(e){e.Application="dapp",e.Consumable="Consumable",e.Durable="Durable",e.Game="dgame",e.GameDemo="dgamedemo"}(U||(U={})),function(e){e.Business="Business",e.Individual="Individual",e.None="None"}(B||(B={})),function(e){e.Default="Default",e.Purchase="Purchase",e.Browse="Browse",e.Details="Details",e.Gift="Gift",e.Fulfill="Fulfill",e.Redeem="Redeem",e.Curate="Curate",e.Unknown="Unknown"}(H||(H={})),function(e){e.Application="Application",e.AvatarItem="AvatarItem",e.Bundles="Bundles",e.Consumable="Consumable",e.CSV="CSV",e.Devices="Devices",e.Durable="Durable",e.Game="Game",e.Movie="Movie",e.OperatingSystem="OperatingSystem",e.Pass="PASS",e.Physical="Physical",e.TVEpisode="TVEpisode",e.TVSeason="TVSeason",e.TVSeries="TVSeries",e.UnmanagedConsumable="UnmanagedConsumable"}(G||(G={})),function(e){e.Hololens="HoloLens",e.Hub="Hub",e.MobileDevice="MobileDevice",e.PC="PC",e.XboxOne="XboxOne",e.XboxSeriesX="XboxSeriesX",e.XCloud="XCloud"}(q||(q={})),function(e){e.xcloud="xcloud",e.geforcenow="geforcenow"}(j||(j={}));const V="CFQ7TTC0K5DJ",z="CFQ7TTC0P85B",X="CFQ7TTC0K6L8",K="CFQ7TTC0KGQ8",W="CFQ7TTC0KHS0",$="CFQ7TTC0HXBN",Y="CFQ7TTC0K63H",Q="CFQ7TTC0K5DH",J="CFQ7TTC0QH5H",Z="CFQ7TTC0HX8W",ee="Game Pass Core",te="Xbox Game Pass Core",ne="Game Pass Standard",re="Xbox Game Pass Standard",oe="Game Pass",ie="Xbox Game Pass",ae="Console",se="PC Game Pass",le="Game Pass Ultimate",ce="Xbox Game Pass Ultimate",ue="Friends & Family",de="EA Play",pe="Ubisoft+",me="GTA+",he=[X,K,W,$,V,z],ge=[X,V,z,K,W,Q];var fe;!function(e){e.CeroZ="CeroZ",e.CloudEnabled="CloudEnabled",e.CloudEnabledWithPurchase="CloudEnabledWithPurchase",e.DlcRequiresGame="DlcRequiresGame",e.HasFirstPartyIAP="HasFirstPartyIAP",e.HasThirdPartyIAP="HasThirdPartyIAP",e.InAppPurchase="InAppPurchase",e.PurchaseUnavailableOnWeb="PurchaseUnavailableOnWeb",e.SubscriptionDisclaimer="SubscriptionDisclaimer",e.SubscriptionDisclaimerUKOnly="SubscriptionDisclaimerUKOnly",e.UbisoftPlusSubscriptionDisclaimer="UbisoftPlusSubscriptionDisclaimer",e.XboxLiveGoldRequired="XboxLiveGoldRequired",e.XboxLiveGoldRequiredForOnline="XboxLiveGoldRequiredForOnline",e.UbisoftPCVersion="UbisoftPCVersion"}(fe||(fe={}));const _e=e=>!(!e||e.hasTrial||!e.duration||!e.initialDuration),ve=(e,t,n,o)=>e<=0?o:(0,r.vv8)(e,t,n),ye=(e,t)=>{const n=(0,l.useSelector)(r.P6r),[i,a,s,c]=(0,o.cG)("discountedPriceWithAfterTextAccessibilityTemplate","freeText","freePriceWithAfterTextAccessibilityTemplate","promoDurationOfferRecurringPriceAfter"),u=(()=>{const[e,t,n,i,a,s,l,c,u,d,p]=(0,o.cG)("dailyRecurrenceDisplayStringFormat","dailyRecurrenceAccessibilityLabelFormat","genericRecurrenceStringFormat","monthlyRecurrenceDisplayStringFormat","monthlyRecurrenceAccessibilityLabelFormat","priceForTimeStringFormat","quarterlyRecurrenceDisplayStringFormat","quarterlyRecurrenceAccessibilityLabelFormat","yearlyRecurrenceDisplayStringFormat","yearlyRecurrenceAccessibilityLabelFormat","freeText"),m=(0,S.ti)();return(o,h,g,f)=>{let _=o,v=o;if(g&&g.isRecurring){const y=h?g.initialDuration:g.duration;if(y&&y.unitType&&y.units)if(h){const e=m(y.units,y.unitType);e&&(_=(0,r.GPZ)(s,o,e),v=_)}else if("DAY"===y.unitType.toUpperCase()){if(1===y.units)v=(0,r.GPZ)(t,o),_=(0,r.GPZ)(e,o);else{const e=m(y.units,y.unitType);e&&(_=(0,r.GPZ)(n,o,e),v=_)}f&&(_=p)}else if("MONTH"===y.unitType.toUpperCase()){switch(y.units){case 1:_=(0,r.GPZ)(i,o),v=(0,r.GPZ)(a,o);break;case 3:_=(0,r.GPZ)(l,o),v=(0,r.GPZ)(c,o);break;case 12:_=(0,r.GPZ)(u,o),v=(0,r.GPZ)(d,o);break;default:{const e=m(y.units,y.unitType);e&&(_=(0,r.GPZ)(n,o,e),v=_)}}f&&(_=p)}}return{priceLabel:_,accessibilityLabel:v}}})(),d=(0,S.hE)(),p=(()=>{const[e,t,n,r,i,a,s,l]=(0,o.cG)("withEAPlayText","withGamePassText","withGamePassUltimateText","withPCGamePassText","withXboxLiveGoldText","withGamePassCoreText","withText","withUbisoftPlusText");return o=>{let c,u,d;switch(o){case"EAAccess":c=e;break;case"GamePass":c=t,u=S.c9.XboxGamepassInline,d=s;break;case"GamepassUltimate":c=n,u=S.c9.GamepassUltimateInline2,d=s;break;case"PCGamePass":c=r,u=S.c9.XboxGamepassInline,d=s;break;case"XboxLiveGold":c=i,u=S.c9.XboxGoldInline,d=s;break;case"GamePassCore":c=a,u=S.c9.XboxGamepassInline,d=s;break;case"UbisoftPlus":c=l,u=S.c9.UbisoftPlus,d=s}return{afterText:c,afterTextGlyph:u,afterTextPrefix:d}}})();if(!e)return;const{msrp:m,listPrice:h,currency:g,eligibilityInfo:f}=e;let _,v,y,b,E,C=ve(m,g,n,a),T=C,w=C;return(null===t||void 0===t?void 0:t.isRecurring)&&(({priceLabel:C,accessibilityLabel:T}=u(C,!1,t)),w=T),(h!==m||(null===t||void 0===t?void 0:t.initialDuration)&&(null===t||void 0===t?void 0:t.duration)&&(t.initialDuration.units!==t.duration.units||t.initialDuration.unitType!==t.duration.unitType))&&(_=C,v=T,C=ve(h,g,n,a),T=C,(null===t||void 0===t?void 0:t.isRecurring)&&({priceLabel:C,accessibilityLabel:T}=u(C,void 0!==t.initialDuration,t,h<=0)),f&&f.eligibility!==M.None&&(f.type===L.Unknown?f.eligibility===M.Remediation&&(C=_,T=v,_=void 0,v=void 0):({afterText:y,afterTextGlyph:b,afterTextPrefix:E}=p(f.type))),v&&(w=0===h&&y?(0,r.GPZ)(s,v||"",y):(0,r.GPZ)(i,v||"",T,y||""),(null===t||void 0===t?void 0:t.initialDuration)&&(w=d(w,(0,r.GPZ)(c,v))))),{originalPrice:_,lowestPrice:C,afterText:y,afterTextGlyph:b,afterTextPrefix:E,accessibilityText:w}},be=e=>{var t,n,i,a,s,c,u,d,p,m,h,g,f,_,v;const[y,b,E,C]=(0,o.cG)("freeText","priceForTimeStringFormat","promoDurationOffer","promoDurationOfferRecurringPriceAfter"),{sku:T,availability:w}=e,I=(0,l.useSelector)(r.P6r),P=ye(w.price,T.recurrencePolicySummary),A=(0,S.ti)(),k=A(null===(n=null===(t=T.recurrencePolicySummary)||void 0===t?void 0:t.initialDuration)||void 0===n?void 0:n.units,null===(a=null===(i=T.recurrencePolicySummary)||void 0===i?void 0:i.initialDuration)||void 0===a?void 0:a.unitType),x=A(null===(s=w.promotionalDuration)||void 0===s?void 0:s.units,null===(c=w.promotionalDuration)||void 0===c?void 0:c.unitType);let R,O,N,M;if(k&&(null===P||void 0===P?void 0:P.lowestPrice)){const{currency:e,listPrice:t,msrp:n}=w.price;M=ve(t,e,I,y);const o=null!==(u=P.originalPrice)&&void 0!==u?u:P.lowestPrice;x?(R=(0,r.GPZ)(E,k,M,x),O=R):(null===(p=null===(d=T.recurrencePolicySummary)||void 0===d?void 0:d.initialDuration)||void 0===p?void 0:p.units)===(null===(h=null===(m=T.recurrencePolicySummary)||void 0===m?void 0:m.duration)||void 0===h?void 0:h.units)&&(null===(f=null===(g=T.recurrencePolicySummary)||void 0===g?void 0:g.initialDuration)||void 0===f?void 0:f.unitType)===(null===(v=null===(_=T.recurrencePolicySummary)||void 0===_?void 0:_.duration)||void 0===v?void 0:v.unitType)&&t===n||(R=(0,r.GPZ)(b,M,k)),R&&(N=_e(T.recurrencePolicySummary)&&T.recurrencePolicySummary.isRecurring&&o?(0,r.GPZ)(C,o):void 0)}return{initialOfferText:R,conciseInitialOfferText:O,recurringPriceText:N,initialDurationPrice:M,initialDurationString:k}};n(81045),n(9925);var Se=n(38485);const Ee=function(e){var{title:t,titleId:n}=e,r=(0,C.__rest)(e,["title","titleId"]);return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 3392 2048",width:"1em",height:"1em","aria-labelledby":n},r),t?s.createElement("title",{id:n},t):null,s.createElement("path",{d:"M0 640h3392v768H0V640zm568 441V787h-82v290q0 28-5 53t-17 44-33 31-53 12q-33 0-55-11t-35-32-18-46-5-56V787h-82v301q0 96 44 148t144 52q102 0 149-54t48-153zm382 199v-69H759V787h-81v493h272zm339-423v-70H924v70h142v423h81V857h142zm150 423V787h-85v493h85zm644 0V787h-111q-39 97-79 192t-74 193h-1q-3-14-8-28t-11-29l-130-328h-115v493h75q0-61 1-122t1-122q0-43-1-85t-3-86h1q3 12 5 25t8 24l148 366h56l147-368q5-11 7-23t6-24h2q-2 24-3 48t-2 48v319h81zm520 0l-183-493h-92l-185 493h89l43-125h194l44 125h90zm-156-192h-151l68-197q2-8 3-15t4-16h1q2 8 3 15t4 16l68 197zm484-231v-70h-365v70h141v423h82V857h142zm342 423v-69h-195v-146h170v-69h-170V857h184v-70h-265v493h276z"}))};var Ce=n(95129);const Te=["title","titleId"],we=e=>{let{title:t,titleId:n}=e,r=v()(e,Te);return s.createElement("svg",b()({width:"48",height:"32",viewBox:"0 0 48 32",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":n},r),t?s.createElement("title",{id:n},t):null,s.createElement("path",{d:"M0 0V32H35.3067L48 0H0ZM22.08 18.1333C22.08 19.52 21.76 20.8 21.2267 21.8667C20.5867 22.9333 19.7333 23.7867 18.56 24.4267C17.3867 25.0667 16 25.3867 14.4 25.3867C12.8 25.3867 11.4133 25.0667 10.24 24.4267C9.06667 23.7867 8.21333 22.9333 7.57333 21.8667C6.93333 20.8 6.72 19.52 6.72 18.1333V7.68H10.6667V17.8133C10.6667 19.0933 10.9867 20.0533 11.6267 20.8C12.2667 21.44 13.12 21.8667 14.2933 21.8667C15.4667 21.8667 16.32 21.5467 16.96 20.8C17.6 20.16 17.92 19.0933 17.92 17.8133V7.68H22.08V18.1333ZM32.2133 15.36V19.9467H29.0133V15.36H24.32V12.2667H29.12V7.68H32.32V12.2667H37.6533L36.2667 15.36H32.2133Z"}))},Ie=["title","titleId","width"],Pe=e=>{let{title:t,titleId:n,width:r}=e,o=v()(e,Ie);return s.createElement("svg",b()({width:r||"191",height:"32",viewBox:"0 0 191 32",xmlns:"http://www.w3.org/2000/svg"},o),t?s.createElement("title",{id:n},t):null,s.createElement("path",{d:"M109.801 2.09836C107.39 0.691506 104.692 0 101.684 0C99.2722 0 97.028 0.405367 94.9747 1.2161C92.9215 2.02683 91.2741 3.05216 90.0326 4.31595L91.0831 5.36513C89.4835 6.70045 88.242 8.32191 87.3347 10.2772C86.4275 12.2325 85.9739 14.4739 85.9739 17.0015C85.9739 19.696 86.6424 22.1997 87.9555 24.4888C89.2925 26.7779 91.1309 28.5663 93.5184 29.9255C95.9059 31.2608 98.6276 31.9285 101.684 31.9285C104.692 31.9285 107.39 31.237 109.801 29.8301C112.213 28.4232 114.075 26.5156 115.412 24.0835C116.749 21.6513 117.417 18.9329 117.417 15.9523C117.417 12.9717 116.749 10.2772 115.412 7.84501C114.075 5.43666 112.213 3.50522 109.801 2.09836ZM109.515 20.9598C108.774 22.4143 107.724 23.5589 106.387 24.3696C105.026 25.2042 103.474 25.6095 101.707 25.6095C99.9169 25.6095 98.3411 25.2042 96.9802 24.4173C95.6194 23.6304 94.5927 22.5574 93.8765 21.2221C93.1602 19.8867 92.8021 18.4083 92.8021 16.8346C92.8021 15.2846 93.0886 13.9732 93.6377 12.924C94.1869 11.8748 94.9509 10.9687 95.882 10.158L94.8315 9.10879C95.5955 8.27422 96.5505 7.6304 97.7204 7.12966C98.8902 6.62891 100.227 6.39046 101.707 6.39046C103.474 6.39046 105.026 6.79583 106.387 7.6304C107.748 8.46498 108.798 9.58569 109.515 11.0402C110.255 12.4948 110.613 14.1401 110.613 16C110.613 17.8361 110.255 19.5052 109.515 20.9598Z"}),s.createElement("path",{d:"M71.0998 10.8018C72.0309 11.4456 73.6544 12.1848 76.018 13.0194C78.7875 13.9971 80.8408 15.1655 82.13 16.5962C83.4193 17.9553 84.0639 19.7914 84.0639 22.0805C84.0639 24.1312 83.5864 25.9196 82.6314 27.4218C81.6764 28.924 80.3872 30.0447 78.7637 30.8316C77.1402 31.6185 75.3495 32 73.3679 32C70.67 32 68.3303 31.4039 66.3964 30.2355C64.4387 29.0671 63.0539 27.3741 62.1944 25.2042L67.5424 21.2221C68.0199 22.5813 68.8078 23.6543 69.9299 24.4889C71.052 25.3234 72.2697 25.7288 73.5589 25.7288C74.681 25.7288 75.5883 25.4427 76.3045 24.8704C76.9969 24.2981 77.355 23.5351 77.355 22.5574C77.355 21.6036 76.9492 20.7929 76.1613 20.1252C75.3734 19.4337 73.8932 18.7184 71.7444 17.9553C69.0704 16.9777 67.0172 15.8093 65.5847 14.4024C64.1522 12.9956 63.4359 11.1118 63.4359 8.72731C63.4359 7.08201 63.8657 5.60361 64.7252 4.26829C65.5847 2.95682 66.7784 1.90764 68.3064 1.16844C69.8344 0.429249 71.5773 0.0477295 73.5112 0.0477295C75.8987 0.0477295 77.9758 0.52463 79.7187 1.47843C81.4854 2.43223 82.7747 3.83908 83.6342 5.699L78.2862 9.39497C77.2357 7.01047 75.5405 5.81822 73.2485 5.81822C72.2219 5.81822 71.3863 6.05667 70.7178 6.55742C70.0493 7.05816 69.715 7.70198 69.715 8.48886C69.715 9.37113 70.1687 10.1342 71.0998 10.8018Z"}),s.createElement("path",{d:"M47.9649 12.161C47.2486 13.2817 46.2459 14.0924 44.9805 14.617C48.6572 16 50.4956 18.5514 50.4718 22.2474C50.4718 24.0119 50.042 25.5857 49.1348 26.9926C48.2275 28.3994 46.9621 29.4724 45.3148 30.2593C43.6674 31.0462 41.7574 31.4277 39.537 31.4277H28.841V0.524597H39.1311C42.1394 0.524597 44.5508 1.19226 46.3414 2.52758C48.132 3.88674 49.0393 5.69896 49.0393 7.98808C49.0393 9.65723 48.6811 11.0641 47.9649 12.161ZM39.1073 6.462H35.5738V12.9955H39.1073C40.1578 12.9955 40.9934 12.7094 41.638 12.1371C42.2826 11.5648 42.593 10.7541 42.593 9.72877C42.593 8.70343 42.2826 7.8927 41.638 7.32042C41.0173 6.74814 40.1578 6.462 39.1073 6.462ZM39.2744 25.5142C40.7308 25.5142 41.829 25.1803 42.6169 24.5127C43.3809 23.8689 43.7868 22.8912 43.7868 21.6274C43.7868 20.3636 43.4048 19.4098 42.6169 18.7422C41.829 18.0745 40.7069 17.7407 39.2744 17.7407H35.5738V25.5142H39.2744Z"}),s.createElement("path",{d:"M17.2377 23.7735C18.2882 22.5574 18.8135 20.8167 18.8135 18.5514H18.8374V0.548462H25.5463V19.076C25.5463 21.5321 25.0449 23.7497 24.066 25.7049C23.0871 27.6602 21.6308 29.1863 19.6969 30.2832C17.763 31.3801 15.4471 31.9285 12.7731 31.9285C10.0753 31.9285 7.78325 31.3801 5.84938 30.2832C3.9155 29.1863 2.45912 27.6602 1.48025 25.7049C0.501374 23.7497 0 21.5559 0 19.076V0.548462H6.685V18.5514C6.685 20.8167 7.21025 22.5574 8.26075 23.7735C9.31125 24.9896 10.8154 25.6096 12.7492 25.6096C14.707 25.6096 16.1873 24.9896 17.2377 23.7735Z"}),s.createElement("path",{d:"M59.8069 0.548462H53.098V31.4277H59.8069V0.548462Z"}),s.createElement("path",{d:"M126.872 31.4277H120.163V0.548462H141.316V6.89123H126.872V13.997H140.003V19.1237H126.872V31.4277Z"}),s.createElement("path",{d:"M143.895 6.89123H152.585V31.4277H159.294V6.89123H167.961V0.548462H143.895V6.89123Z"}),s.createElement("path",{d:"M182.381 0.0238647V7.7258H191L188.803 12.924H182.381V20.6259H177.176V12.924H169.465V7.7258H177.176V0.0238647H182.381Z"}))},Ae=["title","titleId"],ke=e=>{let{title:t,titleId:n}=e,r=v()(e,Ae);return s.createElement("svg",b()({width:"48",height:"48",viewBox:"0 0 744 523",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":"GTATitle"},r),s.createElement("path",{d:"M635.55 6C653.89 6 668.8 20.92 668.8 39.25V74.88H704.43C722.77 74.88 737.68 89.8 737.68 108.13V156.22C737.68 174.56 722.76 189.47 704.43 189.47H668.8V225.1C668.8 243.44 653.88 258.35 635.55 258.35H584.17V445.4H431.59C429.11 445.4 416.34 445.1 402.93 439.69C398.12 437.75 393.73 435.35 389.79 432.54C385.86 435.35 381.47 437.76 376.68 439.7C363.27 445.13 350.51 445.46 348.09 445.47H260.08C257.66 445.46 244.91 445.11 231.51 439.68C229.09 438.7 226.78 437.6 224.58 436.39V456.57C224.57 460.28 223.93 473.23 216.03 486.61C209.52 497.64 193.54 516.15 159.71 516.15L6.00999 516.19L6.03 217.18C6.03 201.88 13.15 186.73 25.57 175.63C37.74 164.75 53.87 158.76 70.99 158.76H194.32L194.3 147.49H324.76L324.7 173.32H388.29C405.72 160.02 427.12 159.33 431.66 159.32H485.34V108.13C485.34 89.79 500.26 74.88 518.59 74.88H554.22V39.25C554.22 20.91 569.14 6 587.47 6H635.55ZM635.55 0H587.46C565.82 0 548.21 17.61 548.21 39.25V68.88H518.58C496.94 68.88 479.33 86.49 479.33 108.13V153.32H431.65C425.46 153.34 404.38 154.43 386.31 167.32H330.71L330.75 147.5C330.75 145.91 330.12 144.38 329 143.25C327.87 142.12 326.35 141.49 324.75 141.49H194.29C192.7 141.49 191.17 142.12 190.04 143.25C188.91 144.38 188.28 145.91 188.29 147.5L188.3 152.76H70.98C52.38 152.76 34.83 159.3 21.56 171.16C7.87 183.4 0.019989 200.18 0.019989 217.18L0 516.19C0 517.78 0.629995 519.31 1.75999 520.43C2.88999 521.55 4.41 522.19 6 522.19L159.7 522.15C196.51 522.15 214.02 501.79 221.19 489.66C229.86 474.97 230.56 460.63 230.57 456.58V445.76C244.48 451.1 257.5 451.45 260.03 451.47H348.07C350.71 451.46 364.49 451.1 378.91 445.26C382.74 443.71 386.38 441.86 389.77 439.75C393.17 441.86 396.82 443.71 400.67 445.26C415.1 451.08 428.94 451.4 431.57 451.4H584.17C587.48 451.4 590.17 448.71 590.17 445.4V264.35H635.55C657.19 264.35 674.8 246.74 674.8 225.1V195.47H704.43C726.07 195.47 743.68 177.86 743.68 156.22V108.13C743.68 86.49 726.07 68.88 704.43 68.88H674.8V39.25C674.8 17.61 657.19 0 635.55 0Z"}),s.createElement("path",{d:"M36.02 217.18L36 387.45C36 415.35 71.12 415.52 71.12 415.52H123.85V429.82H36.01V486.18L159.71 486.15C194.52 486.15 194.58 456.56 194.58 456.56V188.75H70.98C49.81 188.75 36.02 203.91 36.02 217.18ZM106.7 245.56H123.82V359.16H106.7V245.56ZM382.84 273.88H313.03V359.18H295.58V259.62H382.85V203.33H294.64L294.7 177.5H224.34L224.38 203.33H207.85V259.62H225.31V387.35C225.31 415.28 260.25 415.48 260.25 415.48H347.95C347.95 415.48 382.87 415.33 382.87 387.34H382.85V273.88H382.84ZM519.25 189.32H431.6C431.6 189.32 396.69 189.26 396.69 217.89V259.78H466.9V245.95H483.95V274.06H431.59C431.59 274.06 396.69 274.01 396.69 302.16V387.33C396.69 415.33 431.59 415.4 431.59 415.4H554.17V217.88C554.17 189.26 519.25 189.32 519.25 189.32ZM483.95 359.19H466.9V330.68H483.95V359.19Z"}),s.createElement("path",{d:"M704.43 104.88H638.8V39.25C638.8 37.45 637.34 36 635.55 36H587.46C585.66 36 584.21 37.46 584.21 39.25V104.88H518.58C516.78 104.88 515.33 106.34 515.33 108.13V156.22C515.33 158.02 516.79 159.47 518.58 159.47H584.21V225.1C584.21 226.9 585.67 228.35 587.46 228.35H635.55C637.35 228.35 638.8 226.89 638.8 225.1V159.47H704.43C706.23 159.47 707.68 158.01 707.68 156.22V108.13C707.68 106.34 706.22 104.88 704.43 104.88Z"}))},xe=e=>{switch((0,r.XBe)(e)){case X:case K:case V:case z:return S.c9.XboxGamepassInline;case W:return S.c9.GamepassUltimateInline2;default:return}},Re=e=>{switch((0,r.XBe)(e)){case X:case K:case V:case z:return Se.A;case W:return Ee;case Q:return Ce.A;case J:return we;case Z:return ke;default:return}},Oe=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];switch((0,r.XBe)(e)){case X:case K:return oe;case z:return ne;case W:return t?oe:le;case V:return ee;case Q:return de;case J:return pe;case Z:return me;default:return""}},Ne=(e,t)=>0!==e?Math.round(100*Math.abs(1-t/e)):0,Me=e=>{const{upsellProductId:t,isTrial:n,nonCatalogUpsellProductId:r,productEntitlement:i}=e,[a,s,l,c]=(0,o.cG)("upsellIncludedWithFormat","youOwnThisText","freeTrialUpsellFormat","freeTrial");let u,d=n?c:(null===i||void 0===i?void 0:i.isOwned)?s:"";return r?d=n?l:a:t&&(u=xe(t),d=n?l:a),{affordingText:d,upsellGlyph:u}},Le=e=>{if(!e.releaseDate)return!1;const t=new Date,n=new Date(e.releaseDate),r=new Date(n);return r.setDate(r.getDate()+30),n<t&&r>t},De=e=>{const t=(0,l.useSelector)((e=>(0,r.pzA)(e,r.WTf.EnableUbisoftPCVersionIncluded)));if(!e)return!1;const n=Ue(e);return t&&!n&&!!(null===e||void 0===e?void 0:e.hasUbisoftCrossEntitlementProduct)},Fe=(e,t)=>{var n;return!!(null===(n=null===e||void 0===e?void 0:e.availableOn)||void 0===n?void 0:n.some((e=>e===t)))},Ue=e=>Fe(e,q.PC);n(93510),n(47748);const Be=(e,t)=>(null===t||void 0===t?void 0:t.skuDescription)||e.description,He=(e,t)=>(null===t||void 0===t?void 0:t.skuTitle)||e.title,Ge=e=>{var t,n;return e.actions.includes(H.Purchase)&&e.actions.includes(H.Details)&&(null===(n=null===(t=e.price)||void 0===t?void 0:t.eligibilityInfo)||void 0===n?void 0:n.eligibility)!==M.Remediation},qe=e=>(0,r.JSV)(e,D.Consumable)||(0,r.JSV)(e,D.Durable)||(0,r.JSV)(e,D.UnmanagedConsumable),je=e=>(0,r.JSV)(e,G.Devices),Ve=e=>!!(e&&e.product&&e.sku&&e.availability),ze=e=>{var t;const[n,i,a]=(0,o.cG)("promoFreeDayWithPluralizationFormatRules","promoFreeMonthWithPluralizationFormatRules","promoFreeYearWithPluralizationFormatRules");if(!e||!e.units)return;let s;switch(null===(t=e.unitType)||void 0===t?void 0:t.toLowerCase()){case S.FP.Year:s=a;break;case S.FP.Month:s=i;break;case S.FP.Day:s=n}return s?(0,r.bvP)(s,e.units):void 0};n(69375),n(30163),n(55367);const Xe=e=>{var t;const n=[];return e.videos&&e.videos.length>0&&n.push(...e.videos.filter((e=>{var t;return null===(t=e.purpose)||void 0===t?void 0:t.toLowerCase().includes("trailer")}))),(null===(t=e.cmsVideos)||void 0===t?void 0:t.length)&&n.push(...e.cmsVideos.reduce(((e,t)=>{var n;return(null===(n=t.purpose)||void 0===n?void 0:n.toLowerCase().includes("trailer"))&&e.push(b()(b()({},t),{},{isCmsVideo:!0})),e}),[])),n},Ke=["satisfyingPassId"],We=["className","isPass","productInfo","productPrice","discountDetailClassName","historicalLowestListPrice","hideDiscountMessage"],$e=e=>{let{afterText:t,afterTextGlyph:n,afterTextPrefix:r,className:o,hasAddOns:i,listedPriceClassName:l,lowestPrice:c,originalPrice:u,useBrandStyling:d}=e;return s.createElement(s.Fragment,null,s.createElement("div",{className:a()(o,h)},!!u&&s.createElement("span",{"aria-hidden":"true",className:a()(d?"Price-module__brandOriginalPrice___ayJAn":"Price-module__originalPrice___XNCxs")},u),s.createElement("span",{className:a()("Price-module__boldText___1i2Li",m,l,{"Price-module__listedDiscountPrice___A-+d5":!d&&!!u})},`${c}${i?"+":""}`),s.createElement(et,{prefix:r,text:t,glyph:n})))},Ye=e=>{const t=ye(e.productPrice,e.recurrencePolicySummary);return t?s.createElement($e,b()(b()({},e),t)):null},Qe=e=>{let{satisfyingPassId:t}=e,n=v()(e,Ke);const i=(0,o.FE)("upsellIncludedWithFormat");if(t){const e=(0,r.XBe)(t),o=Oe(e,!1),l=xe(e),c=e===J,p=(0,r.GPZ)(i,l||c?"":o);return s.createElement("div",{className:a()(n.className,u)},s.createElement("span",null,p),l?l===S.c9.XboxGamepassInline?s.createElement(E.In,{title:o,iconSize:E.lK.Custom,"aria-label":o,className:d,icon:T}):s.createElement("span",{className:(0,S.f_)(S.Om.Prepend,l)}):c?s.createElement(Pe,{className:g}):"")}return s.createElement(Ye,b()({},n))},Je=e=>{let{className:t,isPass:n,productInfo:r,productPrice:o,discountDetailClassName:i,historicalLowestListPrice:l,hideDiscountMessage:c}=e,u=v()(e,We);const d=ye(o,u.recurrencePolicySummary);if(o&&d){const{afterText:e,afterTextGlyph:m,afterTextPrefix:g}=d;return s.createElement("div",{className:t},s.createElement($e,b()(b()(b()({},u),d),{},{afterText:void 0,afterTextPrefix:void 0,afterTextGlyph:void 0})),s.createElement("div",{className:a()(i,h)},n&&Ve(r)&&s.createElement(tt,{productInfo:r}),!c&&!n&&s.createElement(Ze,{productPrice:o}),s.createElement(et,{prefix:g,text:e,glyph:m}),!c&&!n&&s.createElement(nt,{productInfo:r}),l&&s.createElement(f,{historicalLowestListPrice:l,className:p})))}return null},Ze=e=>{let{productPrice:t}=e;const n=(0,o.FE)("pricePercentageOffTemplate"),{msrp:i,listPrice:a}=t;if(a>=i)return null;{const e=Math.round((i-a)/i*100),t=(0,r.GPZ)(n,e.toString());return s.createElement("span",null,t)}},et=e=>{let{glyph:t,prefix:n,text:r}=e;const i=(0,o.FE)("gamePassHomePageQuickLinksLabel");return r||t?s.createElement("span",{className:a()(m,u)},n&&s.createElement("span",null,n),t?((e,t)=>{if(!e)return null;switch(e){case S.c9.UbisoftPlus:return s.createElement(Pe,{className:g});case S.c9.XboxGamepassInline:return s.createElement(E.In,{title:t,iconSize:E.lK.Custom,"aria-label":t,className:d,icon:T});default:return s.createElement("span",{className:(0,S.f_)(S.Om.Prepend,e)})}})(t,i):s.createElement("span",null,r)):null},tt=e=>{let{productInfo:t}=e;const n=(0,S.hE)(),{conciseInitialOfferText:r,recurringPriceText:o}=be(t),i=n(r,o);return i?s.createElement("span",null,i):null},nt=e=>{let{productInfo:t,className:n}=e;var i;const l=(0,o.FE)("offerExpirationTemplate"),c=(0,S.U0)(null===(i=t.availability)||void 0===i?void 0:i.endDateUtc),{unit:u,unitType:d,durationString:p}=c;if(!u||!d||!p||d===S.FP.Month&&u>1||d===S.FP.Year)return null;{const e=(0,r.GPZ)(l,p);return s.createElement("span",{className:a()(m,"Price-module__discountExpiry___FMkkE",n)},e)}};var rt;function ot(e){return{updateAdditionalInformation:(0,r.VPN)("@productAdditionalInformation/UPDATE_PRODUCT_ADDITIONAL_INFORMATION",rt.AdditionalInformation,e,(e=>({additionalInfo:e})))}}function it(e){return{updateAvailabilitySummaries:(0,r.VPN)("@availabilitySummaries/UPDATE_AVAILABILITY_SUMMARIES",rt.AvailabilitySummary,e,(e=>({summaries:e})))}}function at(e){return{getProductInfo:(0,r.mYQ)(rt.ProductInfo,e,"@productInfoActions/GET_PRODUCT_INFO",(function(e){return{productId:e,onlyProductSummary:arguments.length>1&&void 0!==arguments[1]&&arguments[1]}}),(e=>({productId:e})),((e,t)=>({productId:e,error:t}))),getBulkProductInfo:(0,r.mYQ)(rt.ProductInfo,e,"@productInfoActions/GET_BULK_PRODUCT_INFO",(e=>({productIds:e})),(e=>({productIds:e})),((e,t)=>({productIds:e,error:t})))}}function st(e){return{updateProductSummaries:(0,r.VPN)("@productSummaries/UPDATE_PRODUCT_SUMMARIES",rt.ProductSummary,e,(e=>({summaries:e})))}}function lt(e){return{updateSkuSummaries:(0,r.VPN)("@skuSummaries/UPDATE_SKU_SUMMARIES",rt.SkuSummary,e,(e=>({summaries:e})))}}function ct(e){return{additionalInformationActions:ot(e),availabilitySummaryActions:it(e),productSummaryActions:st(e),productInfoActions:at(e),skuSummaryActions:lt(e)}}!function(e){e.AdditionalInformation="AdditionalInformation",e.AvailabilitySummary="AvailabilitySummary",e.ProductSummary="ProductSummary",e.SkuSummary="SkuSummary",e.ProductInfo="ProductInfo"}(rt||(rt={}));n(97107),n(34397);var ut=n(12885),dt=n(47283),pt=n(88901),mt=n(56630),ht=n(49652);const gt=(e,t)=>{const n=`products/${e}`,r=new URLSearchParams;return r.append(pt.hV.locale,t.localeWithScript),`${n}?${r.toString()}`};function*ft(e,t){t.availabilitySummaries&&Array.isArray(t.availabilitySummaries)&&(yield(0,ht.put)(e.availabilitySummaryActions.updateAvailabilitySummaries(t.availabilitySummaries))),t.skuSummaries&&Array.isArray(t.skuSummaries)&&(yield(0,ht.put)(e.skuSummaryActions.updateSkuSummaries(t.skuSummaries))),t.productSummaries&&Array.isArray(t.productSummaries)&&(yield(0,ht.put)(e.productSummaryActions.updateProductSummaries(t.productSummaries)))}function*_t(e,t,n){t.productSummaries&&Array.isArray(t.productSummaries)&&(yield(0,ht.put)(e.productSummaryActions.updateProductSummaries(t.productSummaries.filter((e=>(0,r.XBe)(e.productId)===(0,r.XBe)(n))))))}function*vt(e,t){const{productId:n,onlyProductSummary:o}=t;try{const t=yield(0,ht.select)(r.P6r),i=yield(0,mt.Jl)(),a=yield(0,dt.Y6)(),s=yield(0,ht.call)(r.wRW),l=yield(0,ht.call)(dt.zG),c={dependencyName:mt.Nz.EmeraldXbetService,dependencyOperationName:"GetProductInfo"},u={addAuthorization:!0,isRequired:!1},d=gt(n,t),p=yield(0,ht.select)(r.pzA,r.WTf.StagingFD),m=yield(0,ht.call)(pt.j9,d,u,i,a,s,l,c,p);if(!(0,r.RJH)(m.status)){throw new Error(m.statusText)}o?yield(0,ht.call)(_t,e,m.data,n):yield(0,ht.call)(ft,e,m.data),yield(0,ht.put)(e.productInfoActions.getProductInfo.success(n))}catch(i){const t=(0,ut.toError)(i);yield(0,ht.put)(e.productInfoActions.getProductInfo.error(n,t))}}function*yt(e,t){const{productIds:n}=t;try{const t=yield(0,ht.select)(r.P6r),o=yield(0,mt.Jl)(),i=yield(0,dt.Y6)(),a=yield(0,ht.call)(r.wRW),s=yield(0,ht.call)(dt.zG),l={dependencyName:mt.Nz.EmeraldXbetService,dependencyOperationName:"GetBulkProductInfo"},c={addAuthorization:!0,isRequired:!1},u=yield(0,ht.select)(r.pzA,r.WTf.StagingFD),d=yield(0,ht.call)(pt.YN,"products",{productIds:n},c,o,i,a,s,l,u,void 0,void 0,{params:{locale:t.localeWithScript}});if(!(0,r.RJH)(d.status)){throw new Error(d.statusText)}yield(0,ht.call)(ft,e,d.data),yield(0,ht.put)(e.productInfoActions.getBulkProductInfo.success(n))}catch(o){const t=(0,ut.toError)(o);yield(0,ht.put)(e.productInfoActions.getBulkProductInfo.error(n,t))}}const bt={};function St(e){return(0,r.v4G)(rt.AdditionalInformation,new r.sVo(bt).on(e.updateAdditionalInformation,((e,t)=>{if(!t.additionalInfo)return e;const n=(0,r.VMG)(t.additionalInfo.productId);return b()(b()({},e),{},{[n]:t.additionalInfo})})).build())}const Et={};function Ct(e){return(0,r.v4G)(rt.AvailabilitySummary,new r.sVo(Et).on(e.updateAvailabilitySummaries,((e,t)=>t.summaries.length?t.summaries.reduce(((e,t)=>{if(t){const n=(0,r.VMG)(t.productId),o=(0,r.VMG)(t.skuId),i=(0,r.VMG)(t.availabilityId);e[n]?e[n][o]?e[n][o][i]=t:e[n][o]=b()(b()({},e[n][o]),{},{[i]:t}):e[n]={[o]:{[i]:t}}}return e}),b()({},e)):e)).build())}const Tt={};function wt(e){return(0,r.v4G)(rt.ProductSummary,new r.sVo(Tt).on(e.updateProductSummaries,((e,t)=>t.summaries.length?t.summaries.reduce(((e,t)=>{if(t){e[(0,r.VMG)(t.productId)]=t}return e}),b()({},e)):e)).build())}const It={};function Pt(e){return(0,r.v4G)(rt.SkuSummary,new r.sVo(It).on(e.updateSkuSummaries,((e,t)=>t.summaries.length?t.summaries.reduce(((e,t)=>{if(t){const n=(0,r.VMG)(t.productId),o=(0,r.VMG)(t.skuId);e[n]?e[n][o]=t:e[n]={[o]:t}}return e}),b()({},e)):e)).build())}const At={},kt={isLoading:!1,hasContent:!1,error:void 0};function xt(e){return{additionalInformation:St(e.additionalInformationActions),availabilitySummaries:Ct(e.availabilitySummaryActions),productSummaries:wt(e.productSummaryActions),productInfoMetadata:(t=e.productInfoActions,(0,r.v4G)(rt.ProductInfo,new r.sVo(At).on(t.getProductInfo.start,(function(e,t){const n=(0,r.VMG)(t.productId),o=e[n]||kt;return b()(b()({},e),{},{[n]:b()(b()({},o),{},{isLoading:!0,error:void 0})})})).on(t.getProductInfo.success,(function(e,t){const n=(0,r.VMG)(t.productId);return b()(b()({},e),{},{[n]:{isLoading:!1,hasContent:!0,error:void 0}})})).on(t.getProductInfo.error,(function(e,t){const n=(0,r.VMG)(t.productId),o=e[n]||kt;return b()(b()({},e),{},{[n]:b()(b()({},o),{},{isLoading:!1,error:t.error})})})).on(t.getBulkProductInfo.start,(function(e,t){const n=b()({},e);for(const o of t.productIds){const t=(0,r.VMG)(o),i=e[t]||kt;n[t]=b()(b()({},i),{},{isLoading:!0,error:void 0})}return n})).on(t.getBulkProductInfo.success,(function(e,t){const n=b()({},e);for(const o of t.productIds)n[(0,r.VMG)(o)]={isLoading:!1,hasContent:!0,error:void 0};return n})).on(t.getBulkProductInfo.error,(function(e,t){const n=b()({},e);for(const o of t.productIds){const i=(0,r.VMG)(o),a=e[i]||kt;n[i]=b()(b()({},a),{},{isLoading:!1,error:t.error})}return n})).build())),skuSummaries:Pt(e.skuSummaryActions)};var t}n(5350);const Rt=e=>Object.values(e).reduce(((e,t)=>(Object.values(t).forEach((t=>{e.push(t)})),e)),[]);n(45950),n(84915);function Ot(e){const t=t=>e(t).additionalInformation,n=t=>e(t).availabilitySummaries,o=t=>e(t).productSummaries,i=t=>e(t).productInfoMetadata,a=t=>e(t).skuSummaries,s=function(e){return{getProductAdditionalInformation:(t,n)=>e(t)[(0,r.VMG)(n)]}}(t),l=function(e){const t=[];return{getAvailabilitySummary:(t,n,o,i)=>{var a,s;const l=(0,r.VMG)(n),c=(0,r.VMG)(o),u=(0,r.VMG)(i),d=e(t);return null===(s=null===(a=null===d||void 0===d?void 0:d[l])||void 0===a?void 0:a[c])||void 0===s?void 0:s[u]},getAvailabilitySummaryProductState:(t,n)=>e(t)[(0,r.VMG)(n)],getAvailabilitySummariesByProductId:(n,o)=>{const i=(0,r.VMG)(o),a=e(n)[i];return a?Rt(a):t},getAvailabilitySummariesByProductSkuId:(t,n,o)=>{var i,a;const s=(0,r.VMG)(n),l=null!==(a=null===(i=e(t)[s])||void 0===i?void 0:i[o])&&void 0!==a?a:{};return Object.values(l)}}}(n),c=function(e){const t=(t,n)=>e(t)[(0,r.VMG)(n)];return{getProductSummary:t,getLanguageSupportDetail:(e,n)=>{var r;return null===(r=t(e,n))||void 0===r?void 0:r.languagesSupported},getShowSupportedLanguageDisclaimer:(e,n)=>{var r;return null===(r=t(e,n))||void 0===r?void 0:r.showSupportedLanguageDisclaimer},getProductIsComingSoon:(e,n)=>{var r;const o=null===(r=t(e,n))||void 0===r?void 0:r.passMetadataByPassProductId;return!!o&&Object.values(o).some((e=>!!(null===e||void 0===e?void 0:e.entryDateUTC)&&new Date(e.entryDateUTC).toISOString()>(new Date).toISOString()))}}}(o),u=function(e){return{getProductInfoMetadata:(t,n)=>e(t)[(0,r.VMG)(n)]}}(i),d=function(e){const t=(t,n)=>e(t)[(0,r.VMG)(n)],n=[],o=[];return{getSkuSummary:(t,n,o)=>{const i=(0,r.VMG)(n),a=(0,r.VMG)(o),s=e(t)[i];return null===s||void 0===s?void 0:s[a]},getSkuSummaryStateForProductId:t,getSkuIdsByProductId:(e,r)=>{const o=t(e,r);return o?Object.keys(o):n},getSkuSummariesByProductId:(e,n)=>{const r=t(e,n);return r?Object.values(r):o}}}(a),p=function(e,t,n){const r=(r,o,i,a,s)=>{let l,c;const u=e.getProductSummary(r,o);if(u){const e=[i];for((null===s||void 0===s?void 0:s.useOptimalFallback)&&e.push(u.optimalSkuId),(null===s||void 0===s?void 0:s.usePreferredFallback)&&e.push(u.preferredSkuId);e.length;){const i=e.shift();if(i&&(l=t.getSkuSummary(r,o,i),l)){if((null===s||void 0===s?void 0:s.skipGamesWithGoldSku)&&l.isGamesWithGoldSku)l=void 0;else if(null===s||void 0===s?void 0:s.requirePurchaseableSku){const e=n.getAvailabilitySummariesByProductSkuId(r,o,l.skuId);(null===e||void 0===e?void 0:e.find((e=>e.actions.includes(H.Purchase))))||(l=void 0)}if(l)break}}}if(l){const e=[a];for((null===s||void 0===s?void 0:s.useOptimalFallback)&&e.push(l.optimalAvailabilityId),(null===s||void 0===s?void 0:s.usePreferredFallback)&&e.push(l.preferredAvailabilityId);e.length;){const t=e.shift();if(t&&(c=n.getAvailabilitySummary(r,o,l.skuId,t),c))break}}return u&&((null===s||void 0===s?void 0:s.allowPartial)||l&&c)?{product:u,sku:l,availability:c}:void 0},o=(e,r,o,i)=>{let{product:a,sku:s,availability:c}=l(e,r,o,i);return!o&&(null===a||void 0===a?void 0:a.preferredSkuId)&&(s=t.getSkuSummary(e,r,a.preferredSkuId)),!c&&(null===s||void 0===s?void 0:s.preferredAvailabilityId)&&(c=n.getAvailabilitySummary(e,r,s.skuId,s.preferredAvailabilityId)),a&&s&&c?{product:a,sku:s,availability:c}:void 0},i=(e,t,n,o)=>r(e,t,n,o,{allowPartial:!0,useOptimalFallback:!0,usePreferredFallback:!0}),a=(e,r,o,i)=>{let{product:a,sku:s,availability:c}=l(e,r,o,i);return!o&&(null===a||void 0===a?void 0:a.optimalSkuId)&&(s=t.getSkuSummary(e,r,a.optimalSkuId)),!c&&(null===s||void 0===s?void 0:s.optimalAvailabilityId)&&(c=n.getAvailabilitySummary(e,r,s.skuId,s.optimalAvailabilityId)),a&&s&&c?{product:a,sku:s,availability:c}:void 0},s=(e,r,o,i)=>{let{product:a,sku:s,availability:c}=l(e,r,o,i);return!o&&(null===a||void 0===a?void 0:a.optimalSkuId)&&(s=t.getSkuSummary(e,r,a.optimalSkuId)),!c&&(null===s||void 0===s?void 0:s.optimalAvailabilityId)&&(c=n.getAvailabilitySummary(e,r,s.skuId,s.optimalAvailabilityId)),a?{product:a,sku:s,availability:c}:void 0},l=(r,o,i,a)=>{const s=e.getProductSummary(r,o);let l,c;return s&&i&&(l=t.getSkuSummary(r,o,i),l&&a&&(c=n.getAvailabilitySummary(r,o,i,a))),{product:s,sku:l,availability:c}};return{getProductSummaryInfo:r,getFullProductSummaryInfo:o,getPartialProductSummaryInfoWithOptimalAndPreferredFallbacks:i,getPartialPurchasableProductSummaryInfoWithOptimalAndPreferredFallbacks:(r,o,i,a)=>{let s,l;const c=e.getProductSummary(r,o);if(c){const e=[i,c.optimalSkuId,c.preferredSkuId];for(const i of e)if(i&&(s=t.getSkuSummary(r,o,i),s)){const e=[a,s.optimalAvailabilityId,s.preferredAvailabilityId];for(const t of e)if(t){if(l=n.getAvailabilitySummary(r,o,s.skuId,t),l&&Ge(l))return{product:c,sku:s,availability:l};l=void 0}s=void 0}}return c?{product:c,sku:s,availability:l}:void 0},getFullOptimalProductSummaryInfo:a,getPartialOptimalProductSummaryInfo:s,getFullProductSummaryInfos:(e,t)=>t.map((t=>o(e,t.productId,t.skuId,t.availabilityId))).filter((e=>!!e)),getNullableProductSummaryInfo:l,getFullOptimalProductSummaryInfos:(e,t)=>t.map((t=>a(e,t.productId,t.skuId,t.availabilityId))).filter((e=>!!e)),getPartialOptimalProductSummaryInfos:(e,t)=>t.map((t=>s(e,t.productId,t.skuId,t.availabilityId))).filter((e=>!!e)),getNullableProductSummaryInfos:(e,t)=>t.map((t=>l(e,t.productId,t.skuId,t.skuId))),getPartialProductSummaryInfosWithOptimalAndPreferredFallbacks:(e,t)=>t.reduce(((t,n)=>{const r=i(e,n.productId,n.skuId,n.availabilityId);return r&&t.push(r),t}),[])}}(c,d,l);return{additionalInformationSelectors:s,availabilitySummarySelectors:l,productSummarySelectors:c,productSummaryInfoSelectors:p,productInfoMetadataSelectors:u,skuSummarySelectors:d,getAdditionalInformationState:t,getAvailabilitySummaryState:n,getProductSummaryState:o,getProductInfoMetadataState:i,getSkuSummaryState:a,getPurchasableSkuSummariesWithDetailByProductId:(e,t)=>{const n=d.getSkuSummariesByProductId(e,t);return 0===n.length?n:n.filter((n=>{const r=l.getAvailabilitySummariesByProductSkuId(e,t,n.skuId);if(!r)return!1;for(const e of r)return Ge(e);return!1}))}}}const Nt=[];const Mt=[],Lt=[];function Dt(e){const t=function(e){return{useGetSkuIdsByProductId:t=>{const n=(0,l.useSelector)((n=>e.getSkuSummaryStateForProductId(n,t)));return(0,s.useMemo)((()=>n?Object.keys(n):Mt),[n])},useGetSkuSummariesByProductId:t=>{const n=(0,l.useSelector)((n=>e.getSkuSummaryStateForProductId(n,t)));return(0,s.useMemo)((()=>n?Object.values(n):Lt),[n])}}}(e.skuSummarySelectors),n=function(e){return{useAvailabilitySummariesByProductId:function(t){const n=(0,l.useSelector)((n=>e.getAvailabilitySummaryProductState(n,t)));return(0,s.useMemo)((()=>n?Rt(n):Nt),[n])},useAvailabilitySummariesByProductSkuId:function(t,n){const r=(0,l.useSelector)((n=>e.getAvailabilitySummaryProductState(n,t))),o=null===r||void 0===r?void 0:r[n];return(0,s.useMemo)((()=>o?Object.values(o):Nt),[o])}}}(e.availabilitySummarySelectors);return{skuSummaryHooks:t,availabilitySummaryHooks:n}}function Ft(e,t){const n=ct(e),o=xt(n),i=Ot(t),a=function(e){return function*(){yield(0,ht.takeEvery)((0,r.wuJ)(e.productInfoActions.getProductInfo.start),vt,e),yield(0,ht.takeEvery)((0,r.wuJ)(e.productInfoActions.getBulkProductInfo.start),yt,e)}}(n);return{productsActions:n,productsReducers:o,productsSelectors:i,productsSagas:a,productsHooks:Dt(i)}}},25053:(e,t,n)=>{"use strict";n.d(t,{AZ:()=>g,tH:()=>h});var r=n(41506),o=n.n(r),i=n(67996),a=n.n(i),s=(n(12885),n(56630)),l=n(14041),c=n(41222);const u=["children"],d=e=>{let{renderChildren:t}=e;return l.createElement(l.Fragment,null,t())};class p extends l.Component{constructor(e){super(e),this.state={}}static getDerivedStateFromError(e){return{error:e}}componentDidCatch(e,t){const n=`Error while rendering content. \n OriginalMessage: ${e.message} \n ComponentStack: ${t.componentStack}`;this.props.logger?this.props.logger.error(n,e):console.error(n)}render(){return this.state.error?this.props.renderError(this.state.error):l.createElement(l.Fragment,null,this.props.children)}}const m=e=>{let{children:t}=e,n=a()(e,u);return l.createElement(p,o()({},n),l.createElement(d,{renderChildren:t}))},h=e=>{const t=(0,s.jr)(),n=e.renderError||(e=>l.createElement(c.M,{error:e}));return l.createElement(m,o()(o()({},e),{},{renderError:n,logger:t}))},g=e=>{const t=`Error code: ${e.cV}`,n=e.renderError||(e=>l.createElement(c.jC,{title:"We are sorry, the page you requested cannot be found.",error:e,errorCodeDisplayString:t,subtitle:"The URL may be misspelled or the page you're looking for is no longer available."}));return l.createElement(m,o()(o()({},e),{},{renderError:n}))}},41222:(e,t,n)=>{"use strict";n.d(t,{M:()=>w,jC:()=>I,FP:()=>A});var r=n(41506),o=n.n(r),i=(n(47010),n(88901)),a=n(37509),s=n(17188),l=n(56630),c=n(14041),u=n(86090),d=n(79824),p=n(22469),m=n(54761);const h=n.p+"static/media/error-hero-01.156ff95c.jpg";var g=n(6409),f=n(72178);const _=n.p+"static/media/error-page-tile-games.bc4d4d57.jpg",v=n.p+"static/media/error-page-tile-consoles.726e67f4.jpg",y=n.p+"static/media/error-page-tile-support.94a896fe.svg";var b="ErrorPageTile-module__errorPageTileLink___w5I0z";const S=()=>{const[e,t,n]=(0,s.cG)("errorPageTileXboxGamesHeader","errorPageTileXboxGamesBody","errorPageTileXboxGamesLinkText"),r=(0,d.useSelector)(a.a5u),o=(0,a.tcg)("https://www.xbox.com/{locale}/games/browse",{locale:r});return c.createElement(T,{imgSrc:_,header:e,body:t,linkText:n,href:o})},E=()=>{const[e,t,n]=(0,s.cG)("errorPageTileXboxConsolesHeader","errorPageTileXboxConsolesBody","errorPageTileXboxConsolesLinkText"),r=(0,d.useSelector)(a.a5u),o=(0,a.tcg)("https://www.xbox.com/{locale}/consoles/all-consoles",{locale:r});return c.createElement(T,{imgSrc:v,header:e,body:t,linkText:n,href:o})},C=()=>{const[e,t,n]=(0,s.cG)("errorPageTileXboxSupportHeader","errorPageTileXboxSupportBody","errorPageTileXboxSupportLinkText"),r=(0,d.useSelector)(a.a5u),o=(0,a.tcg)("https://support.xbox.com/{locale}/",{locale:r});return c.createElement(T,{imgSrc:y,header:e,body:t,linkText:n,href:o})},T=e=>{let{imgSrc:t,header:n,body:r,href:o,linkText:i}=e;const[l]=(0,s.cG)("errorPageTileImageAltText");return c.createElement("div",{className:"ErrorPageTile-module__errorPageTileContainer___j5UjR"},c.createElement("img",{src:t,alt:(0,a.GPZ)(l,n),className:"ErrorPageTile-module__errorPageTileImg___lIJLE"}),c.createElement("h3",{className:"ErrorPageTile-module__errorPageTileHeader___4PTry"},n),c.createElement("p",{className:"ErrorPageTile-module__errorPageTileText___Vea9y"},r),c.createElement("div",null,c.createElement(g.a,{as:"a",href:o,buttonType:f.VQ.Tertiary,target:"_blank",rel:"noopener noreferrer",className:b,"aria-label":i},c.createElement("span",{className:b},i))))},w=e=>{const[t,n,r,u,d]=(0,s.cG)("errorPageMessage","errorPageSubMessage","errorCodeTemplate","errorPageNotFoundMessage","errorPageNotFoundSubMessage"),h=(0,l.Gb)(),g=(0,a.GPZ)(r,h.cv().get());return(0,l.qz)(l.ry.Error,p.g.Error,{additionalRerunParameter:e.error.name,data:(0,a.HRB)({errorName:e.error.name,errorMessage:e.error.message,errorStack:e.error.stack})}),c.createElement(m.L,{status:e.statusCode||i.kG.InternalServerError},c.createElement(I,o()({errorCodeDisplayString:g,title:e.statusCode===i.kG.NotFound?u:t,subtitle:e.statusCode===i.kG.NotFound?d:n},e)))},I=e=>{let{errorCodeDisplayString:t,error:n,subtitle:r,title:o,children:i}=e;const[a]=(0,s.cG)("errorPageBackgroundImageAltText");return c.createElement("div",null,c.createElement("div",{className:"ErrorPage-module__errorContainer___DRsEx"},c.createElement("div",{className:"ErrorPage-module__errorBanner___S0570"},c.createElement("img",{src:h,alt:a,className:"ErrorPage-module__errorHeroImg___M9K2S"}),c.createElement("div",{className:"ErrorPage-module__errorTextContainer___ToMfx"},c.createElement("h2",{className:"ErrorPage-module__errorTextTitle___a62Tu"},o),!!r&&c.createElement("p",{className:"ErrorPage-module__errorTextSubTitle___ZAgaO"},r),t&&c.createElement("p",{className:"ErrorPage-module__errorCode___d0nu4"},t),c.createElement(P,{error:n}),i))),c.createElement("div",{className:"ErrorPage-module__errorTileContainer___fesUi"},c.createElement(S,null),c.createElement(E,null),c.createElement(C,null)))},P=e=>{let{error:t}=e;return(0,d.useSelector)((e=>(0,a.pzA)(e,a.WTf.ShowStackOnError)))?c.createElement("p",null,t.stack):null},A=e=>{let{messageOverride:t}=e;const n=(0,s.FE)("genericErrorMessage"),r=(0,u.W6)(),o=r.createHref(r.location);return(0,l.qz)(l.ry.GenericError,p.g.Error,{data:(0,a.HRB)({errorMessage:t||n,pageHref:o})}),c.createElement("div",null,c.createElement("h3",null,t||n))}},70830:(e,t,n)=>{"use strict";n.d(t,{L$:()=>i,Sy:()=>a,Jf:()=>s});n(81045),n(5350);var r=n(14041);const o=(0,r.createContext)({});function i(){const e=(0,r.useContext)(o);return(0,r.useCallback)(((t,n)=>{Object.keys(e).forEach((t=>delete e[t]));const r=e;r.type="RawResponse",r.raw=t,r.contentType=n}),[e])}function a(){const e=(0,r.useContext)(o);return(0,r.useCallback)(((t,n)=>{Object.keys(e).forEach((t=>delete e[t]));const r=e;r.type="Redirect",r.url=t,r.statusCode=n}),[e])}function s(){const e=(0,r.useContext)(o);return(0,r.useCallback)((t=>{Object.keys(e).forEach((t=>delete e[t]));const n=e;n.type="StatusCode",n.statusCode=t}),[e])}},34263:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(14041),o=n(46258);const i=e=>{let{className:t}=e;return r.createElement("div",{className:"LoadingPage-module__loadingContainer___+FuMz"},r.createElement(o.L,{className:t}))}},29210:(e,t,n)=>{"use strict";var r=n(10865),o=n.n(r),i=n(47010),a=n.n(i),s=n(42760);const l=(0,s.EG)({resolved:{},chunkName:()=>"PageNotFoundErrorPage",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>(0,s.Bi)(n.e(4902).then(n.bind(n,19327))),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 19327}})},54761:(e,t,n)=>{"use strict";n.d(t,{L:()=>i});var r=n(14041),o=n(70830);const i=e=>{let{status:t,children:n}=e;return(0,o.Jf)()(t),r.createElement(r.Fragment,null,n)}},42760:(e,t,n)=>{"use strict";n.d(t,{sT:()=>m,EG:()=>g,M7:()=>a,Bi:()=>s});var r=n(95692),o=n.n(r),i=n(37509);const a=15e3,s=e=>(0,i.wjz)(a,o()(e,200));var l=n(41506),c=n.n(l),u=(n(87050),n(14041)),d=n(20774),p=n(25053);function m(e){const t=(0,d.Ay)(e);return Object.assign((e=>u.createElement(p.tH,{renderError:()=>null},(()=>u.createElement(t,c()({},e))))),{preload:t.preload.bind(t),load:t.load.bind(t)})}var h=n(34263);function g(e,t){return(0,d.Ay)(e,{fallback:null!==t&&void 0!==t?t:u.createElement(h.A,null)})}},46258:(e,t,n)=>{"use strict";n.d(t,{L:()=>d});var r=n(14041),o=n(79824),i=n(53373),a=n.n(i),s=n(37509),l=n(17188);const c=n.p+"static/media/loading-xenon-dark-theme.7093517a.svg",u=n.p+"static/media/loading-xenon-light-theme.c616a483.svg";const d=e=>{let{className:t}=e;const n=(0,o.useSelector)(s.j17),i=(0,l.FE)("loadingText"),d=n===s.Sxu.Dark?c:u;return r.createElement("div",{className:a()("XboxSpinner-module__spinnerContainer___tyosA",t)},r.createElement("img",{className:"XboxSpinner-module__xenonFilter___lbfRN","aria-live":"assertive",alt:i,role:"alert",src:d,tabIndex:-1,width:"100%",height:"100%"}))}},22469:(e,t,n)=>{"use strict";var r;n.d(t,{g:()=>r}),function(e){e.Retry="RetryPage",e.Error="ErrorPage"}(r||(r={}))},58912:(e,t,n)=>{"use strict";n.d(t,{Ze:()=>p,Fc:()=>Ev,NY:()=>dv,Ez:()=>iI,VP:()=>NC,mc:()=>LC,AZ:()=>ob.AZ,_S:()=>LS,z8:()=>tb,FP:()=>ky,tH:()=>ob.tH,M:()=>ib.M,jC:()=>ib.jC,wO:()=>DC,Je:()=>Oy,W4:()=>Ny,mo:()=>zy,Gr:()=>db,cS:()=>mb,t$:()=>Xy,Y:()=>ib.FP,c9:()=>h,Om:()=>m,_V:()=>QS,Qr:()=>RS,EJ:()=>fb,NO:()=>vb,AV:()=>bb.A,Cz:()=>Ib,aF:()=>eI,XY:()=>IS,IL:()=>xS,L_:()=>NS,as:()=>rE,Zv:()=>oE,qJ:()=>sE,Fy:()=>gb,a4:()=>gE,E:()=>dE,fI:()=>nI,D9:()=>hE,G$:()=>bE,xp:()=>vE,zP:()=>fE,DB:()=>JS,JP:()=>My,L7:()=>rI.L,cn:()=>Ty,aC:()=>eb,f_:()=>Ht,aS:()=>Zy,R:()=>lv,Xf:()=>cv,sT:()=>yb.sT,EG:()=>yb.EG,M7:()=>yb.M7,sz:()=>Py,ve:()=>fr,YK:()=>n_,Gp:()=>Gy,T8:()=>jy,R5:()=>qy,Pd:()=>Vy,hE:()=>Ky,ti:()=>xy,U0:()=>Ry,L$:()=>pb.L$,i5:()=>Fy,d8:()=>sv,bz:()=>uv,Bi:()=>yb.Bi});var r={};n.r(r),n.d(r,{glyphAppend:()=>b,glyphAppendAccept:()=>S,glyphAppendAdd:()=>E,glyphAppendAddfriend:()=>C,glyphAppendBack:()=>T,glyphAppendCancel:()=>w,glyphAppendCellphone:()=>I,glyphAppendCheckMark:()=>P,glyphAppendCheckbox:()=>A,glyphAppendCheckboxComposite:()=>k,glyphAppendCheckboxIndeterminate:()=>x,glyphAppendChevronDown:()=>R,glyphAppendChevronLeft:()=>O,glyphAppendChevronRight:()=>N,glyphAppendChevronUp:()=>M,glyphAppendCirclePlus:()=>L,glyphAppendClear:()=>D,glyphAppendDevices2:()=>F,glyphAppendDevices3:()=>U,glyphAppendDownload:()=>B,glyphAppendFavoriteStar:()=>H,glyphAppendFavoriteStarFill:()=>G,glyphAppendForward:()=>q,glyphAppendGamePassUltimateInline2:()=>j,glyphAppendGlobalNavButton:()=>V,glyphAppendHeart:()=>z,glyphAppendHololens:()=>X,glyphAppendHololens2:()=>K,glyphAppendIndicatorDotFilled:()=>W,glyphAppendIndicatorDotOutline:()=>$,glyphAppendInfo:()=>Y,glyphAppendLarge:()=>Q,glyphAppendLeftDoubleQuote:()=>J,glyphAppendMobileTablet:()=>Z,glyphAppendMore:()=>ee,glyphAppendOutlineHalfStarLeft:()=>te,glyphAppendPc1:()=>ne,glyphAppendPhoto2:()=>re,glyphAppendPhotoCollection:()=>oe,glyphAppendPlay:()=>ie,glyphAppendPlayButton:()=>ae,glyphAppendPlayButtonLarge:()=>se,glyphAppendRemoveFrom:()=>le,glyphAppendRightDoubleQuote:()=>ce,glyphAppendSearch:()=>ue,glyphAppendShare:()=>de,glyphAppendShoppingCart:()=>pe,glyphAppendSystem:()=>me,glyphAppendTvMonitor:()=>he,glyphAppendUnknown:()=>ge,glyphAppendUp:()=>fe,glyphAppendView:()=>_e,glyphAppendWarning:()=>ve,glyphAppendWorld:()=>ye,glyphAppendXbox360:()=>be,glyphAppendXboxController:()=>Se,glyphAppendXboxGamePassInline:()=>Ee,glyphAppendXboxGoldInline:()=>Ce,glyphAppendXboxOneConsole:()=>Te,glyphPrepend:()=>we,glyphPrependAccept:()=>Ie,glyphPrependAdd:()=>Pe,glyphPrependAddfriend:()=>Ae,glyphPrependBack:()=>ke,glyphPrependCancel:()=>xe,glyphPrependCellphone:()=>Re,glyphPrependCheckMark:()=>Oe,glyphPrependCheckbox:()=>Ne,glyphPrependCheckboxComposite:()=>Me,glyphPrependCheckboxIndeterminate:()=>Le,glyphPrependChevronDown:()=>De,glyphPrependChevronLeft:()=>Fe,glyphPrependChevronRight:()=>Ue,glyphPrependChevronUp:()=>Be,glyphPrependCirclePlus:()=>He,glyphPrependClear:()=>Ge,glyphPrependDevices2:()=>qe,glyphPrependDevices3:()=>je,glyphPrependDownload:()=>Ve,glyphPrependEdit:()=>ze,glyphPrependFavoriteStar:()=>Xe,glyphPrependFavoriteStarFill:()=>Ke,glyphPrependForward:()=>We,glyphPrependGamePassUltimateInline2:()=>$e,glyphPrependGlobalNavButton:()=>Ye,glyphPrependHeart:()=>Qe,glyphPrependHololens:()=>Je,glyphPrependHololens2:()=>Ze,glyphPrependIndicatorDotFilled:()=>et,glyphPrependIndicatorDotOutline:()=>tt,glyphPrependInfo:()=>nt,glyphPrependLarge:()=>rt,glyphPrependLeftDoubleQuote:()=>ot,glyphPrependLeftNavButton:()=>it,glyphPrependLock:()=>at,glyphPrependMobileTablet:()=>st,glyphPrependMore:()=>lt,glyphPrependOutlineHalfStarLeft:()=>ct,glyphPrependPc1:()=>ut,glyphPrependPhoto2:()=>dt,glyphPrependPhotoCollection:()=>pt,glyphPrependPlay:()=>mt,glyphPrependPlayButton:()=>ht,glyphPrependPlayButtonLarge:()=>gt,glyphPrependRefresh:()=>ft,glyphPrependRemoveFrom:()=>_t,glyphPrependRightDoubleQuote:()=>vt,glyphPrependRightNavButton:()=>yt,glyphPrependSearch:()=>bt,glyphPrependSettings:()=>St,glyphPrependShare:()=>Et,glyphPrependShoppingCart:()=>Ct,glyphPrependSystem:()=>Tt,glyphPrependTvMonitor:()=>wt,glyphPrependUnknown:()=>It,glyphPrependUp:()=>Pt,glyphPrependView:()=>At,glyphPrependWarning:()=>kt,glyphPrependWorld:()=>xt,glyphPrependXbox360:()=>Rt,glyphPrependXboxController:()=>Ot,glyphPrependXboxGamePassInline:()=>Nt,glyphPrependXboxGoldInline:()=>Mt,glyphPrependXboxLogo:()=>Lt,glyphPrependXboxOneConsole:()=>Dt,iconDark:()=>Ft,iconLight:()=>Ut,themeDark:()=>Bt});var o={};n.r(o),n.d(o,{h100:()=>Gt,h25:()=>qt,h50:()=>jt,h75:()=>Vt,hAuto:()=>zt,mh100:()=>Xt,minVh100:()=>Kt,minVw100:()=>Wt,mw100:()=>$t,vh100:()=>Yt,vw100:()=>Qt,w1:()=>Jt,w10:()=>Zt,w100:()=>en,w11:()=>tn,w12:()=>nn,w2:()=>rn,w25:()=>on,w3:()=>an,w4:()=>sn,w5:()=>ln,w50:()=>cn,w6:()=>un,w7:()=>dn,w75:()=>pn,w8:()=>mn,w9:()=>hn,wAuto:()=>gn,wLg1:()=>fn,wLg10:()=>_n,wLg11:()=>vn,wLg12:()=>yn,wLg2:()=>bn,wLg3:()=>Sn,wLg4:()=>En,wLg5:()=>Cn,wLg6:()=>Tn,wLg7:()=>wn,wLg8:()=>In,wLg9:()=>Pn,wLgAuto:()=>An,wMd1:()=>kn,wMd10:()=>xn,wMd11:()=>Rn,wMd12:()=>On,wMd2:()=>Nn,wMd3:()=>Mn,wMd4:()=>Ln,wMd5:()=>Dn,wMd6:()=>Fn,wMd7:()=>Un,wMd8:()=>Bn,wMd9:()=>Hn,wMdAuto:()=>Gn,wSm1:()=>qn,wSm10:()=>jn,wSm11:()=>Vn,wSm12:()=>zn,wSm2:()=>Xn,wSm3:()=>Kn,wSm4:()=>Wn,wSm5:()=>$n,wSm6:()=>Yn,wSm7:()=>Qn,wSm8:()=>Jn,wSm9:()=>Zn,wSmAuto:()=>er,wXl1:()=>tr,wXl10:()=>nr,wXl11:()=>rr,wXl12:()=>or,wXl2:()=>ir,wXl3:()=>ar,wXl4:()=>sr,wXl5:()=>lr,wXl6:()=>cr,wXl7:()=>ur,wXl8:()=>dr,wXl9:()=>pr,wXlAuto:()=>mr});var i={};n.r(i),n.d(i,{m0:()=>_r,m1:()=>vr,m2:()=>yr,m3:()=>br,m4:()=>Sr,m5:()=>Er,mAuto:()=>Cr,mG:()=>Tr,mLg0:()=>wr,mLg1:()=>Ir,mLg2:()=>Pr,mLg3:()=>Ar,mLg4:()=>kr,mLg5:()=>xr,mLgAuto:()=>Rr,mLgG:()=>Or,mLgN1:()=>Nr,mLgN2:()=>Mr,mLgN3:()=>Lr,mLgN4:()=>Dr,mLgN5:()=>Fr,mLgNg:()=>Ur,mMd0:()=>Br,mMd1:()=>Hr,mMd2:()=>Gr,mMd3:()=>qr,mMd4:()=>jr,mMd5:()=>Vr,mMdAuto:()=>zr,mMdG:()=>Xr,mMdN1:()=>Kr,mMdN2:()=>Wr,mMdN3:()=>$r,mMdN4:()=>Yr,mMdN5:()=>Qr,mMdNg:()=>Jr,mN1:()=>Zr,mN2:()=>eo,mN3:()=>to,mN4:()=>no,mN5:()=>ro,mNg:()=>oo,mSm0:()=>io,mSm1:()=>ao,mSm2:()=>so,mSm3:()=>lo,mSm4:()=>co,mSm5:()=>uo,mSmAuto:()=>po,mSmG:()=>mo,mSmN1:()=>ho,mSmN2:()=>go,mSmN3:()=>fo,mSmN4:()=>_o,mSmN5:()=>vo,mSmNg:()=>yo,mXl0:()=>bo,mXl1:()=>So,mXl2:()=>Eo,mXl3:()=>Co,mXl4:()=>To,mXl5:()=>wo,mXlAuto:()=>Io,mXlG:()=>Po,mXlN1:()=>Ao,mXlN2:()=>ko,mXlN3:()=>xo,mXlN4:()=>Ro,mXlN5:()=>Oo,mXlNg:()=>No,mb0:()=>Mo,mb1:()=>Lo,mb2:()=>Do,mb3:()=>Fo,mb4:()=>Uo,mb5:()=>Bo,mbAuto:()=>Ho,mbG:()=>Go,mbLg0:()=>qo,mbLg1:()=>jo,mbLg2:()=>Vo,mbLg3:()=>zo,mbLg4:()=>Xo,mbLg5:()=>Ko,mbLgAuto:()=>Wo,mbLgG:()=>$o,mbLgN1:()=>Yo,mbLgN2:()=>Qo,mbLgN3:()=>Jo,mbLgN4:()=>Zo,mbLgN5:()=>ei,mbLgNg:()=>ti,mbMd0:()=>ni,mbMd1:()=>ri,mbMd2:()=>oi,mbMd3:()=>ii,mbMd4:()=>ai,mbMd5:()=>si,mbMdAuto:()=>li,mbMdG:()=>ci,mbMdN1:()=>ui,mbMdN2:()=>di,mbMdN3:()=>pi,mbMdN4:()=>mi,mbMdN5:()=>hi,mbMdNg:()=>gi,mbN1:()=>fi,mbN2:()=>_i,mbN3:()=>vi,mbN4:()=>yi,mbN5:()=>bi,mbNg:()=>Si,mbSm0:()=>Ei,mbSm1:()=>Ci,mbSm2:()=>Ti,mbSm3:()=>wi,mbSm4:()=>Ii,mbSm5:()=>Pi,mbSmAuto:()=>Ai,mbSmG:()=>ki,mbSmN1:()=>xi,mbSmN2:()=>Ri,mbSmN3:()=>Oi,mbSmN4:()=>Ni,mbSmN5:()=>Mi,mbSmNg:()=>Li,mbXl0:()=>Di,mbXl1:()=>Fi,mbXl2:()=>Ui,mbXl3:()=>Bi,mbXl4:()=>Hi,mbXl5:()=>Gi,mbXlAuto:()=>qi,mbXlG:()=>ji,mbXlN1:()=>Vi,mbXlN2:()=>zi,mbXlN3:()=>Xi,mbXlN4:()=>Ki,mbXlN5:()=>Wi,mbXlNg:()=>$i,ml0:()=>Yi,ml1:()=>Qi,ml2:()=>Ji,ml3:()=>Zi,ml4:()=>ea,ml5:()=>ta,mlAuto:()=>na,mlG:()=>ra,mlLg0:()=>oa,mlLg1:()=>ia,mlLg2:()=>aa,mlLg3:()=>sa,mlLg4:()=>la,mlLg5:()=>ca,mlLgAuto:()=>ua,mlLgG:()=>da,mlLgN1:()=>pa,mlLgN2:()=>ma,mlLgN3:()=>ha,mlLgN4:()=>ga,mlLgN5:()=>fa,mlLgNg:()=>_a,mlMd0:()=>va,mlMd1:()=>ya,mlMd2:()=>ba,mlMd3:()=>Sa,mlMd4:()=>Ea,mlMd5:()=>Ca,mlMdAuto:()=>Ta,mlMdG:()=>wa,mlMdN1:()=>Ia,mlMdN2:()=>Pa,mlMdN3:()=>Aa,mlMdN4:()=>ka,mlMdN5:()=>xa,mlMdNg:()=>Ra,mlN1:()=>Oa,mlN2:()=>Na,mlN3:()=>Ma,mlN4:()=>La,mlN5:()=>Da,mlNg:()=>Fa,mlSm0:()=>Ua,mlSm1:()=>Ba,mlSm2:()=>Ha,mlSm3:()=>Ga,mlSm4:()=>qa,mlSm5:()=>ja,mlSmAuto:()=>Va,mlSmG:()=>za,mlSmN1:()=>Xa,mlSmN2:()=>Ka,mlSmN3:()=>Wa,mlSmN4:()=>$a,mlSmN5:()=>Ya,mlSmNg:()=>Qa,mlXl0:()=>Ja,mlXl1:()=>Za,mlXl2:()=>es,mlXl3:()=>ts,mlXl4:()=>ns,mlXl5:()=>rs,mlXlAuto:()=>os,mlXlG:()=>is,mlXlN1:()=>as,mlXlN2:()=>ss,mlXlN3:()=>ls,mlXlN4:()=>cs,mlXlN5:()=>us,mlXlNg:()=>ds,mr0:()=>ps,mr1:()=>ms,mr2:()=>hs,mr3:()=>gs,mr4:()=>fs,mr5:()=>_s,mrAuto:()=>vs,mrG:()=>ys,mrLg0:()=>bs,mrLg1:()=>Ss,mrLg2:()=>Es,mrLg3:()=>Cs,mrLg4:()=>Ts,mrLg5:()=>ws,mrLgAuto:()=>Is,mrLgG:()=>Ps,mrLgN1:()=>As,mrLgN2:()=>ks,mrLgN3:()=>xs,mrLgN4:()=>Rs,mrLgN5:()=>Os,mrLgNg:()=>Ns,mrMd0:()=>Ms,mrMd1:()=>Ls,mrMd2:()=>Ds,mrMd3:()=>Fs,mrMd4:()=>Us,mrMd5:()=>Bs,mrMdAuto:()=>Hs,mrMdG:()=>Gs,mrMdN1:()=>qs,mrMdN2:()=>js,mrMdN3:()=>Vs,mrMdN4:()=>zs,mrMdN5:()=>Xs,mrMdNg:()=>Ks,mrN1:()=>Ws,mrN2:()=>$s,mrN3:()=>Ys,mrN4:()=>Qs,mrN5:()=>Js,mrNg:()=>Zs,mrSm0:()=>el,mrSm1:()=>tl,mrSm2:()=>nl,mrSm3:()=>rl,mrSm4:()=>ol,mrSm5:()=>il,mrSmAuto:()=>al,mrSmG:()=>sl,mrSmN1:()=>ll,mrSmN2:()=>cl,mrSmN3:()=>ul,mrSmN4:()=>dl,mrSmN5:()=>pl,mrSmNg:()=>ml,mrXl0:()=>hl,mrXl1:()=>gl,mrXl2:()=>fl,mrXl3:()=>_l,mrXl4:()=>vl,mrXl5:()=>yl,mrXlAuto:()=>bl,mrXlG:()=>Sl,mrXlN1:()=>El,mrXlN2:()=>Cl,mrXlN3:()=>Tl,mrXlN4:()=>wl,mrXlN5:()=>Il,mrXlNg:()=>Pl,mt0:()=>Al,mt1:()=>kl,mt2:()=>xl,mt3:()=>Rl,mt4:()=>Ol,mt5:()=>Nl,mtAuto:()=>Ml,mtG:()=>Ll,mtLg0:()=>Dl,mtLg1:()=>Fl,mtLg2:()=>Ul,mtLg3:()=>Bl,mtLg4:()=>Hl,mtLg5:()=>Gl,mtLgAuto:()=>ql,mtLgG:()=>jl,mtLgN1:()=>Vl,mtLgN2:()=>zl,mtLgN3:()=>Xl,mtLgN4:()=>Kl,mtLgN5:()=>Wl,mtLgNg:()=>$l,mtMd0:()=>Yl,mtMd1:()=>Ql,mtMd2:()=>Jl,mtMd3:()=>Zl,mtMd4:()=>ec,mtMd5:()=>tc,mtMdAuto:()=>nc,mtMdG:()=>rc,mtMdN1:()=>oc,mtMdN2:()=>ic,mtMdN3:()=>ac,mtMdN4:()=>sc,mtMdN5:()=>lc,mtMdNg:()=>cc,mtN1:()=>uc,mtN2:()=>dc,mtN3:()=>pc,mtN4:()=>mc,mtN5:()=>hc,mtNg:()=>gc,mtSm0:()=>fc,mtSm1:()=>_c,mtSm2:()=>vc,mtSm3:()=>yc,mtSm4:()=>bc,mtSm5:()=>Sc,mtSmAuto:()=>Ec,mtSmG:()=>Cc,mtSmN1:()=>Tc,mtSmN2:()=>wc,mtSmN3:()=>Ic,mtSmN4:()=>Pc,mtSmN5:()=>Ac,mtSmNg:()=>kc,mtXl0:()=>xc,mtXl1:()=>Rc,mtXl2:()=>Oc,mtXl3:()=>Nc,mtXl4:()=>Mc,mtXl5:()=>Lc,mtXlAuto:()=>Dc,mtXlG:()=>Fc,mtXlN1:()=>Uc,mtXlN2:()=>Bc,mtXlN3:()=>Hc,mtXlN4:()=>Gc,mtXlN5:()=>qc,mtXlNg:()=>jc,mx0:()=>Vc,mx1:()=>zc,mx2:()=>Xc,mx3:()=>Kc,mx4:()=>Wc,mx5:()=>$c,mxAuto:()=>Yc,mxG:()=>Qc,mxLg0:()=>Jc,mxLg1:()=>Zc,mxLg2:()=>eu,mxLg3:()=>tu,mxLg4:()=>nu,mxLg5:()=>ru,mxLgAuto:()=>ou,mxLgG:()=>iu,mxLgN1:()=>au,mxLgN2:()=>su,mxLgN3:()=>lu,mxLgN4:()=>cu,mxLgN5:()=>uu,mxLgNg:()=>du,mxMd0:()=>pu,mxMd1:()=>mu,mxMd2:()=>hu,mxMd3:()=>gu,mxMd4:()=>fu,mxMd5:()=>_u,mxMdAuto:()=>vu,mxMdG:()=>yu,mxMdN1:()=>bu,mxMdN2:()=>Su,mxMdN3:()=>Eu,mxMdN4:()=>Cu,mxMdN5:()=>Tu,mxMdNg:()=>wu,mxN1:()=>Iu,mxN2:()=>Pu,mxN3:()=>Au,mxN4:()=>ku,mxN5:()=>xu,mxNg:()=>Ru,mxSm0:()=>Ou,mxSm1:()=>Nu,mxSm2:()=>Mu,mxSm3:()=>Lu,mxSm4:()=>Du,mxSm5:()=>Fu,mxSmAuto:()=>Uu,mxSmG:()=>Bu,mxSmN1:()=>Hu,mxSmN2:()=>Gu,mxSmN3:()=>qu,mxSmN4:()=>ju,mxSmN5:()=>Vu,mxSmNg:()=>zu,mxXl0:()=>Xu,mxXl1:()=>Ku,mxXl2:()=>Wu,mxXl3:()=>$u,mxXl4:()=>Yu,mxXl5:()=>Qu,mxXlAuto:()=>Ju,mxXlG:()=>Zu,mxXlN1:()=>ed,mxXlN2:()=>td,mxXlN3:()=>nd,mxXlN4:()=>rd,mxXlN5:()=>od,mxXlNg:()=>id,my0:()=>ad,my1:()=>sd,my2:()=>ld,my3:()=>cd,my4:()=>ud,my5:()=>dd,myAuto:()=>pd,myG:()=>md,myLg0:()=>hd,myLg1:()=>gd,myLg2:()=>fd,myLg3:()=>_d,myLg4:()=>vd,myLg5:()=>yd,myLgAuto:()=>bd,myLgG:()=>Sd,myLgN1:()=>Ed,myLgN2:()=>Cd,myLgN3:()=>Td,myLgN4:()=>wd,myLgN5:()=>Id,myLgNg:()=>Pd,myMd0:()=>Ad,myMd1:()=>kd,myMd2:()=>xd,myMd3:()=>Rd,myMd4:()=>Od,myMd5:()=>Nd,myMdAuto:()=>Md,myMdG:()=>Ld,myMdN1:()=>Dd,myMdN2:()=>Fd,myMdN3:()=>Ud,myMdN4:()=>Bd,myMdN5:()=>Hd,myMdNg:()=>Gd,myN1:()=>qd,myN2:()=>jd,myN3:()=>Vd,myN4:()=>zd,myN5:()=>Xd,myNg:()=>Kd,mySm0:()=>Wd,mySm1:()=>$d,mySm2:()=>Yd,mySm3:()=>Qd,mySm4:()=>Jd,mySm5:()=>Zd,mySmAuto:()=>ep,mySmG:()=>tp,mySmN1:()=>np,mySmN2:()=>rp,mySmN3:()=>op,mySmN4:()=>ip,mySmN5:()=>ap,mySmNg:()=>sp,myXl0:()=>lp,myXl1:()=>cp,myXl2:()=>up,myXl3:()=>dp,myXl4:()=>pp,myXl5:()=>mp,myXlAuto:()=>hp,myXlG:()=>gp,myXlN1:()=>fp,myXlN2:()=>_p,myXlN3:()=>vp,myXlN4:()=>yp,myXlN5:()=>bp,myXlNg:()=>Sp,p0:()=>Ep,p1:()=>Cp,p2:()=>Tp,p3:()=>wp,p4:()=>Ip,p5:()=>Pp,pG:()=>Ap,pLg0:()=>kp,pLg1:()=>xp,pLg2:()=>Rp,pLg3:()=>Op,pLg4:()=>Np,pLg5:()=>Mp,pLgG:()=>Lp,pMd0:()=>Dp,pMd1:()=>Fp,pMd2:()=>Up,pMd3:()=>Bp,pMd4:()=>Hp,pMd5:()=>Gp,pMdG:()=>qp,pSm0:()=>jp,pSm1:()=>Vp,pSm2:()=>zp,pSm3:()=>Xp,pSm4:()=>Kp,pSm5:()=>Wp,pSmG:()=>$p,pXl0:()=>Yp,pXl1:()=>Qp,pXl2:()=>Jp,pXl3:()=>Zp,pXl4:()=>em,pXl5:()=>tm,pXlG:()=>nm,pb0:()=>rm,pb1:()=>om,pb2:()=>im,pb3:()=>am,pb4:()=>sm,pb5:()=>lm,pbG:()=>cm,pbLg0:()=>um,pbLg1:()=>dm,pbLg2:()=>pm,pbLg3:()=>mm,pbLg4:()=>hm,pbLg5:()=>gm,pbLgG:()=>fm,pbMd0:()=>_m,pbMd1:()=>vm,pbMd2:()=>ym,pbMd3:()=>bm,pbMd4:()=>Sm,pbMd5:()=>Em,pbMdG:()=>Cm,pbSm0:()=>Tm,pbSm1:()=>wm,pbSm2:()=>Im,pbSm3:()=>Pm,pbSm4:()=>Am,pbSm5:()=>km,pbSmG:()=>xm,pbXl0:()=>Rm,pbXl1:()=>Om,pbXl2:()=>Nm,pbXl3:()=>Mm,pbXl4:()=>Lm,pbXl5:()=>Dm,pbXlG:()=>Fm,pl0:()=>Um,pl1:()=>Bm,pl2:()=>Hm,pl3:()=>Gm,pl4:()=>qm,pl5:()=>jm,plG:()=>Vm,plLg0:()=>zm,plLg1:()=>Xm,plLg2:()=>Km,plLg3:()=>Wm,plLg4:()=>$m,plLg5:()=>Ym,plLgG:()=>Qm,plMd0:()=>Jm,plMd1:()=>Zm,plMd2:()=>eh,plMd3:()=>th,plMd4:()=>nh,plMd5:()=>rh,plMdG:()=>oh,plSm0:()=>ih,plSm1:()=>ah,plSm2:()=>sh,plSm3:()=>lh,plSm4:()=>ch,plSm5:()=>uh,plSmG:()=>dh,plXl0:()=>ph,plXl1:()=>mh,plXl2:()=>hh,plXl3:()=>gh,plXl4:()=>fh,plXl5:()=>_h,plXlG:()=>vh,pr0:()=>yh,pr1:()=>bh,pr2:()=>Sh,pr3:()=>Eh,pr4:()=>Ch,pr5:()=>Th,prG:()=>wh,prLg0:()=>Ih,prLg1:()=>Ph,prLg2:()=>Ah,prLg3:()=>kh,prLg4:()=>xh,prLg5:()=>Rh,prLgG:()=>Oh,prMd0:()=>Nh,prMd1:()=>Mh,prMd2:()=>Lh,prMd3:()=>Dh,prMd4:()=>Fh,prMd5:()=>Uh,prMdG:()=>Bh,prSm0:()=>Hh,prSm1:()=>Gh,prSm2:()=>qh,prSm3:()=>jh,prSm4:()=>Vh,prSm5:()=>zh,prSmG:()=>Xh,prXl0:()=>Kh,prXl1:()=>Wh,prXl2:()=>$h,prXl3:()=>Yh,prXl4:()=>Qh,prXl5:()=>Jh,prXlG:()=>Zh,pt0:()=>eg,pt1:()=>tg,pt2:()=>ng,pt3:()=>rg,pt4:()=>og,pt5:()=>ig,ptG:()=>ag,ptLg0:()=>sg,ptLg1:()=>lg,ptLg2:()=>cg,ptLg3:()=>ug,ptLg4:()=>dg,ptLg5:()=>pg,ptLgG:()=>mg,ptMd0:()=>hg,ptMd1:()=>gg,ptMd2:()=>fg,ptMd3:()=>_g,ptMd4:()=>vg,ptMd5:()=>yg,ptMdG:()=>bg,ptSm0:()=>Sg,ptSm1:()=>Eg,ptSm2:()=>Cg,ptSm3:()=>Tg,ptSm4:()=>wg,ptSm5:()=>Ig,ptSmG:()=>Pg,ptXl0:()=>Ag,ptXl1:()=>kg,ptXl2:()=>xg,ptXl3:()=>Rg,ptXl4:()=>Og,ptXl5:()=>Ng,ptXlG:()=>Mg,px0:()=>Lg,px1:()=>Dg,px2:()=>Fg,px3:()=>Ug,px4:()=>Bg,px5:()=>Hg,pxG:()=>Gg,pxLg0:()=>qg,pxLg1:()=>jg,pxLg2:()=>Vg,pxLg3:()=>zg,pxLg4:()=>Xg,pxLg5:()=>Kg,pxLgG:()=>Wg,pxMd0:()=>$g,pxMd1:()=>Yg,pxMd2:()=>Qg,pxMd3:()=>Jg,pxMd4:()=>Zg,pxMd5:()=>ef,pxMdG:()=>tf,pxSm0:()=>nf,pxSm1:()=>rf,pxSm2:()=>of,pxSm3:()=>af,pxSm4:()=>sf,pxSm5:()=>lf,pxSmG:()=>cf,pxXl0:()=>uf,pxXl1:()=>df,pxXl2:()=>pf,pxXl3:()=>mf,pxXl4:()=>hf,pxXl5:()=>gf,pxXlG:()=>ff,py0:()=>_f,py1:()=>vf,py2:()=>yf,py3:()=>bf,py4:()=>Sf,py5:()=>Ef,pyG:()=>Cf,pyLg0:()=>Tf,pyLg1:()=>wf,pyLg2:()=>If,pyLg3:()=>Pf,pyLg4:()=>Af,pyLg5:()=>kf,pyLgG:()=>xf,pyMd0:()=>Rf,pyMd1:()=>Of,pyMd2:()=>Nf,pyMd3:()=>Mf,pyMd4:()=>Lf,pyMd5:()=>Df,pyMdG:()=>Ff,pySm0:()=>Uf,pySm1:()=>Bf,pySm2:()=>Hf,pySm3:()=>Gf,pySm4:()=>qf,pySm5:()=>jf,pySmG:()=>Vf,pyXl0:()=>zf,pyXl1:()=>Xf,pyXl2:()=>Kf,pyXl3:()=>Wf,pyXl4:()=>$f,pyXl5:()=>Yf,pyXlG:()=>Qf});var a={};n.r(a),n.d(a,{dBlock:()=>r_,dFlex:()=>o_,dInline:()=>i_,dInlineBlock:()=>a_,dInlineFlex:()=>s_,dLgBlock:()=>l_,dLgFlex:()=>c_,dLgInline:()=>u_,dLgInlineBlock:()=>d_,dLgInlineFlex:()=>p_,dLgNone:()=>m_,dLgTable:()=>h_,dLgTableCell:()=>g_,dLgTableRow:()=>f_,dMdBlock:()=>__,dMdFlex:()=>v_,dMdInline:()=>y_,dMdInlineBlock:()=>b_,dMdInlineFlex:()=>S_,dMdNone:()=>E_,dMdTable:()=>C_,dMdTableCell:()=>T_,dMdTableRow:()=>w_,dNone:()=>I_,dPrintBlock:()=>P_,dPrintFlex:()=>A_,dPrintInline:()=>k_,dPrintInlineBlock:()=>x_,dPrintInlineFlex:()=>R_,dPrintNone:()=>O_,dPrintTable:()=>N_,dPrintTableCell:()=>M_,dPrintTableRow:()=>L_,dSmBlock:()=>D_,dSmFlex:()=>F_,dSmInline:()=>U_,dSmInlineBlock:()=>B_,dSmInlineFlex:()=>H_,dSmNone:()=>G_,dSmTable:()=>q_,dSmTableCell:()=>j_,dSmTableRow:()=>V_,dTable:()=>z_,dTableCell:()=>X_,dTableRow:()=>K_,dXlBlock:()=>W_,dXlFlex:()=>$_,dXlInline:()=>Y_,dXlInlineBlock:()=>Q_,dXlInlineFlex:()=>J_,dXlNone:()=>Z_,dXlTable:()=>ev,dXlTableCell:()=>tv,dXlTableRow:()=>nv});var s={};n.r(s),n.d(s,{alertContainer:()=>pv,alertContent:()=>mv,alertLink:()=>hv,backgroundBlack:()=>gv,closeButton:()=>fv,danger:()=>_v,info:()=>vv,warning:()=>yv});var l={};n.r(l),n.d(l,{col:()=>Pb,col1:()=>Ab,col10:()=>kb,col11:()=>xb,col12:()=>Rb,col2:()=>Ob,col3:()=>Nb,col4:()=>Mb,col5:()=>Lb,col6:()=>Db,col7:()=>Fb,col8:()=>Ub,col9:()=>Bb,colLg1:()=>Hb,colLg10:()=>Gb,colLg11:()=>qb,colLg12:()=>jb,colLg2:()=>Vb,colLg3:()=>zb,colLg4:()=>Xb,colLg5:()=>Kb,colLg6:()=>Wb,colLg7:()=>$b,colLg8:()=>Yb,colLg9:()=>Qb,colMd1:()=>Jb,colMd10:()=>Zb,colMd11:()=>eS,colMd12:()=>tS,colMd2:()=>nS,colMd3:()=>rS,colMd4:()=>oS,colMd5:()=>iS,colMd6:()=>aS,colMd7:()=>sS,colMd8:()=>lS,colMd9:()=>cS,colSm1:()=>uS,colSm10:()=>dS,colSm11:()=>pS,colSm12:()=>mS,colSm2:()=>hS,colSm3:()=>gS,colSm4:()=>fS,colSm5:()=>_S,colSm6:()=>vS,colSm7:()=>yS,colSm8:()=>bS,colSm9:()=>SS,large:()=>ES,medium:()=>CS,small:()=>TS});var c={};n.r(c),n.d(c,{col:()=>SE,col1:()=>EE,col10:()=>CE,col11:()=>TE,col12:()=>wE,col2:()=>IE,col3:()=>PE,col4:()=>AE,col5:()=>kE,col6:()=>xE,col7:()=>RE,col8:()=>OE,col9:()=>NE,colLg1:()=>ME,colLg10:()=>LE,colLg11:()=>DE,colLg12:()=>FE,colLg2:()=>UE,colLg3:()=>BE,colLg4:()=>HE,colLg5:()=>GE,colLg6:()=>qE,colLg7:()=>jE,colLg8:()=>VE,colLg9:()=>zE,colMd1:()=>XE,colMd10:()=>KE,colMd11:()=>WE,colMd12:()=>$E,colMd2:()=>YE,colMd3:()=>QE,colMd4:()=>JE,colMd5:()=>ZE,colMd6:()=>eC,colMd7:()=>tC,colMd8:()=>nC,colMd9:()=>rC,colSm1:()=>oC,colSm10:()=>iC,colSm11:()=>aC,colSm12:()=>sC,colSm2:()=>lC,colSm3:()=>cC,colSm4:()=>uC,colSm5:()=>dC,colSm6:()=>pC,colSm7:()=>mC,colSm8:()=>hC,colSm9:()=>gC,colXl1:()=>fC,colXl10:()=>_C,colXl11:()=>vC,colXl12:()=>yC,colXl2:()=>bC,colXl3:()=>SC,colXl4:()=>EC,colXl5:()=>CC,colXl6:()=>TC,colXl7:()=>wC,colXl8:()=>IC,colXl9:()=>PC,large:()=>AC,medium:()=>kC,small:()=>xC,xLarge:()=>RC});n(47010);var u=n(14041),d=n(37509);const p=()=>{const e=(0,u.useRef)(null),[t,n]=(0,u.useState)(!1),r=(0,d.mx0)();(0,u.useEffect)((()=>{const e=e=>{if("https://www.microsoft.com"===e.origin&&e.data.id&&"AdsOptOutSyncSuccess"===e.data.id){const t=r.get(d.WyR),n=e.data.adsOptOut;t===n||"0"!==n&&"1"!==n||r.set(d.WyR,n,{sameSite:"lax",path:"/",secure:!0,domain:".xbox.com",essential:!0})}};return window.addEventListener("message",e),n(!0),()=>window.removeEventListener("message",e)}),[r]);const o=(0,u.useCallback)((()=>{var t;(null===(t=e.current)||void 0===t?void 0:t.contentWindow)&&e.current.contentWindow.postMessage({id:"AdsOptOutSyncStart"},"https://www.microsoft.com")}),[e]);return t?u.createElement("iframe",{ref:e,onLoad:o,key:"adsOptOut-sync-iframe",name:"adsOptOut-sync-iframe",referrerPolicy:"strict-origin",sandbox:"allow-scripts allow-same-origin",src:"https://www.microsoft.com/store/XboxComMsCom3PAdsOptOutCookieSync.html",width:"0",height:"0",className:"AdsOptOutSync-module__syncFrame___vfV8q"}):null};var m,h,g=n(41506),f=n.n(g),_=(n(81045),n(84915),n(56630)),v=n(53373),y=n.n(v),b="glyphs-module__glyph-append___OI+uT",S="glyphs-module__glyph-append-accept___rCNBE",E="glyphs-module__glyph-append-add___jKL9C",C="glyphs-module__glyph-append-addfriend___AMG1w",T="glyphs-module__glyph-append-back___5p0Jf",w="glyphs-module__glyph-append-cancel___YMnQ5",I="glyphs-module__glyph-append-cellphone___oTSFI",P="glyphs-module__glyph-append-check-mark___V5VWG",A="glyphs-module__glyph-append-checkbox___8nls1",k="glyphs-module__glyph-append-checkbox-composite___iHp0x",x="glyphs-module__glyph-append-checkbox-indeterminate___T-ulf",R="glyphs-module__glyph-append-chevron-down___9K3SH",O="glyphs-module__glyph-append-chevron-left___dO4Uf",N="glyphs-module__glyph-append-chevron-right___5yfs4",M="glyphs-module__glyph-append-chevron-up___d6dWj",L="glyphs-module__glyph-append-circle-plus___jQcuH",D="glyphs-module__glyph-append-clear___ET1XX",F="glyphs-module__glyph-append-devices2___4Ez4E",U="glyphs-module__glyph-append-devices3___7aL1m",B="glyphs-module__glyph-append-download___tOBO6",H="glyphs-module__glyph-append-favorite-star___zJZ6z",G="glyphs-module__glyph-append-favorite-star-fill___a8-nP",q="glyphs-module__glyph-append-forward___P5wkG",j="glyphs-module__glyph-append-game-pass-ultimate-inline2___YKEag",V="glyphs-module__glyph-append-global-nav-button___eloPe",z="glyphs-module__glyph-append-heart___PkuLy",X="glyphs-module__glyph-append-hololens___H8zbf",K="glyphs-module__glyph-append-hololens2___Cu99N",W="glyphs-module__glyph-append-indicator-dot-filled___l1hQ6",$="glyphs-module__glyph-append-indicator-dot-outline___jxyrP",Y="glyphs-module__glyph-append-info___slXyG",Q="glyphs-module__glyph-append-large___P+7BY",J="glyphs-module__glyph-append-left-double-quote___ZF02V",Z="glyphs-module__glyph-append-mobile-tablet___xDncc",ee="glyphs-module__glyph-append-more___w3xct",te="glyphs-module__glyph-append-outline-half-star-left___meELd",ne="glyphs-module__glyph-append-pc1___fz7wo",re="glyphs-module__glyph-append-photo-2___+vjWQ",oe="glyphs-module__glyph-append-photo-collection___aDoib",ie="glyphs-module__glyph-append-play___-TeDo",ae="glyphs-module__glyph-append-play-button___QNG5U",se="glyphs-module__glyph-append-play-button-large___BaqkA",le="glyphs-module__glyph-append-remove-from___dHrn5",ce="glyphs-module__glyph-append-right-double-quote___Fpuvp",ue="glyphs-module__glyph-append-search___34t-v",de="glyphs-module__glyph-append-share___uDYVJ",pe="glyphs-module__glyph-append-shopping-cart___UaK2t",me="glyphs-module__glyph-append-system___Xy-K5",he="glyphs-module__glyph-append-tv-monitor___0m9ZZ",ge="glyphs-module__glyph-append-unknown___pYAW8",fe="glyphs-module__glyph-append-up___y5-yo",_e="glyphs-module__glyph-append-view___KSbZz",ve="glyphs-module__glyph-append-warning___gAzlm",ye="glyphs-module__glyph-append-world___2HBIp",be="glyphs-module__glyph-append-xbox-360___nvQNQ",Se="glyphs-module__glyph-append-xbox-controller___XK3L-",Ee="glyphs-module__glyph-append-xbox-game-pass-inline___06jyD",Ce="glyphs-module__glyph-append-xbox-gold-inline___o4enR",Te="glyphs-module__glyph-append-xbox-one-console___SyaZF",we="glyphs-module__glyph-prepend___3JVuT",Ie="glyphs-module__glyph-prepend-accept___+kcpP",Pe="glyphs-module__glyph-prepend-add___mM12g",Ae="glyphs-module__glyph-prepend-addfriend___MG44h",ke="glyphs-module__glyph-prepend-back___Qwp6G",xe="glyphs-module__glyph-prepend-cancel___y7FpY",Re="glyphs-module__glyph-prepend-cellphone___yQzl1",Oe="glyphs-module__glyph-prepend-check-mark___rNbY6",Ne="glyphs-module__glyph-prepend-checkbox___aJLma",Me="glyphs-module__glyph-prepend-checkbox-composite___hJdBX",Le="glyphs-module__glyph-prepend-checkbox-indeterminate___TZ7qv",De="glyphs-module__glyph-prepend-chevron-down___HaWoo",Fe="glyphs-module__glyph-prepend-chevron-left___wCh07",Ue="glyphs-module__glyph-prepend-chevron-right___i5kNz",Be="glyphs-module__glyph-prepend-chevron-up___MwQU+",He="glyphs-module__glyph-prepend-circle-plus___1K0B3",Ge="glyphs-module__glyph-prepend-clear___HtP-q",qe="glyphs-module__glyph-prepend-devices2___iRrCE",je="glyphs-module__glyph-prepend-devices3___BtI7Q",Ve="glyphs-module__glyph-prepend-download___WyDOy",ze="glyphs-module__glyph-prepend-edit___h8cF9",Xe="glyphs-module__glyph-prepend-favorite-star___c96kR",Ke="glyphs-module__glyph-prepend-favorite-star-fill___1qrFe",We="glyphs-module__glyph-prepend-forward___ajA84",$e="glyphs-module__glyph-prepend-game-pass-ultimate-inline2___+Sgth",Ye="glyphs-module__glyph-prepend-global-nav-button___E7zhT",Qe="glyphs-module__glyph-prepend-heart___P5PWA",Je="glyphs-module__glyph-prepend-hololens___HzDfu",Ze="glyphs-module__glyph-prepend-hololens2___QJgN2",et="glyphs-module__glyph-prepend-indicator-dot-filled___oEvZi",tt="glyphs-module__glyph-prepend-indicator-dot-outline___oH4ZI",nt="glyphs-module__glyph-prepend-info___-f4L5",rt="glyphs-module__glyph-prepend-large___Djlca",ot="glyphs-module__glyph-prepend-left-double-quote___Bd1Ng",it="glyphs-module__glyph-prepend-left-nav-button___CuF3q",at="glyphs-module__glyph-prepend-lock___qBoOt",st="glyphs-module__glyph-prepend-mobile-tablet___6FxOx",lt="glyphs-module__glyph-prepend-more___fQ+ek",ct="glyphs-module__glyph-prepend-outline-half-star-left___iHSRF",ut="glyphs-module__glyph-prepend-pc1___vD0Mq",dt="glyphs-module__glyph-prepend-photo-2___B3T0c",pt="glyphs-module__glyph-prepend-photo-collection___AHssK",mt="glyphs-module__glyph-prepend-play___Z2fUg",ht="glyphs-module__glyph-prepend-play-button___DFam9",gt="glyphs-module__glyph-prepend-play-button-large___-jFsI",ft="glyphs-module__glyph-prepend-refresh___pPI6R",_t="glyphs-module__glyph-prepend-remove-from___dHWhB",vt="glyphs-module__glyph-prepend-right-double-quote___cOPzG",yt="glyphs-module__glyph-prepend-right-nav-button___pHrjs",bt="glyphs-module__glyph-prepend-search___48bPS",St="glyphs-module__glyph-prepend-settings___9VaES",Et="glyphs-module__glyph-prepend-share___2lgcL",Ct="glyphs-module__glyph-prepend-shopping-cart___A2rV2",Tt="glyphs-module__glyph-prepend-system___U3sme",wt="glyphs-module__glyph-prepend-tv-monitor___Vt8cR",It="glyphs-module__glyph-prepend-unknown___3+MpP",Pt="glyphs-module__glyph-prepend-up___9NO-H",At="glyphs-module__glyph-prepend-view___eN79I",kt="glyphs-module__glyph-prepend-warning___qrsAg",xt="glyphs-module__glyph-prepend-world___TDqcl",Rt="glyphs-module__glyph-prepend-xbox-360___8jXhX",Ot="glyphs-module__glyph-prepend-xbox-controller___zE3hU",Nt="glyphs-module__glyph-prepend-xbox-game-pass-inline___nMaw+",Mt="glyphs-module__glyph-prepend-xbox-gold-inline___rnfNz",Lt="glyphs-module__glyph-prepend-xbox-logo___UPYDx",Dt="glyphs-module__glyph-prepend-xbox-one-console___gguBl",Ft="#303030",Ut="#ffffff",Bt="glyphs-module__theme-dark___kLjEq";!function(e){e.Prepend="Prepend",e.Append="Append"}(m||(m={})),function(e){e.Accept="Accept",e.Add="Add",e.AddFriend="Addfriend",e.Back="Back",e.Cellphone="Cellphone",e.Cancel="Cancel",e.Checkbox="Checkbox",e.CheckboxComposite="CheckboxComposite",e.CheckBoxIndeterminate="CheckboxIndeterminate",e.CheckMark="CheckMark",e.ChevronDown="ChevronDown",e.ChevronLeft="ChevronLeft",e.ChevronRight="ChevronRight",e.ChevronUp="ChevronUp",e.CirclePlus="CirclePlus",e.Clear="Clear",e.Edit="Edit",e.Devices2="Devices2",e.Devices3="Devices3",e.Download="Download",e.FavoriteStar="FavoriteStar",e.FavoriteStarFill="FavoriteStarFill",e.Forward="Forward",e.GamepassUltimateInline2="GamePassUltimateInline2",e.GlobalNavButton="GlobalNavButton",e.Heart="Heart",e.Hololens="Hololens",e.Hololens2="Hololens2",e.IndicatorDotFilled="IndicatorDotFilled",e.IndicatorDotOutline="IndicatorDotOutline",e.Info="Info",e.LeftDoubleQuote="LeftDoubleQuote",e.Lock="Lock",e.MobileTablet="MobileTablet",e.More="More",e.OutlineHalfStarLeft="OutlineHalfStarLeft",e.Pc1="Pc1",e.Photo2="Photo2",e.PhotoCollection="PhotoCollection",e.Play="Play",e.PlayButton="PlayButton",e.PlayButtonLarge="PlayButtonLarge",e.RemoveFrom="RemoveFrom",e.RightDoubleQuote="RightDoubleQuote",e.LeftNavButton="LeftNavButton",e.RightNavButton="RightNavButton",e.Refresh="Refresh",e.Search="Search",e.Settings="Settings",e.Share="Share",e.ShoppingCart="ShoppingCart",e.System="System",e.TvMonitor="TvMonitor",e.UbisoftPlus="UbisoftPlus",e.Unknown="Unknown",e.Up="Up",e.View="View",e.Warning="Warning",e.World="World",e.XboxController="XboxController",e.XboxGamepassInline="XboxGamePassInline",e.XboxGoldInline="XboxGoldInline",e.XboxOneConsole="XboxOneConsole",e.XboxLogo="XboxLogo"}(h||(h={}));const Ht=(e,t)=>y()([r[`glyph${e}`],r[`glyph${e}${t}`]]);var Gt="sizing-module__h-100___hbGg3",qt="sizing-module__h-25___+fgec",jt="sizing-module__h-50___Q8Uaj",Vt="sizing-module__h-75___lYtx8",zt="sizing-module__h-auto___e02C5",Xt="sizing-module__mh-100___XAP+5",Kt="sizing-module__min-vh-100___UtdDJ",Wt="sizing-module__min-vw-100___8qcpo",$t="sizing-module__mw-100___agpZp",Yt="sizing-module__vh-100___irx-C",Qt="sizing-module__vw-100___UWQUD",Jt="sizing-module__w-1___hx-So",Zt="sizing-module__w-10___8FYIB",en="sizing-module__w-100___YGXeV",tn="sizing-module__w-11___RSUlR",nn="sizing-module__w-12___ix3ui",rn="sizing-module__w-2___xUUNY",on="sizing-module__w-25___G08Rh",an="sizing-module__w-3___9EiNz",sn="sizing-module__w-4___Z9p7K",ln="sizing-module__w-5___2DMTT",cn="sizing-module__w-50___aOkxS",un="sizing-module__w-6___i1guF",dn="sizing-module__w-7___GC7ed",pn="sizing-module__w-75___Ss5Fo",mn="sizing-module__w-8___yq8+L",hn="sizing-module__w-9___l1nHX",gn="sizing-module__w-auto___8INfF",fn="sizing-module__w-lg-1___fr9aW",_n="sizing-module__w-lg-10___IoR84",vn="sizing-module__w-lg-11___CJ7Sm",yn="sizing-module__w-lg-12___QOyQw",bn="sizing-module__w-lg-2___k5-NW",Sn="sizing-module__w-lg-3___pWJNf",En="sizing-module__w-lg-4___vzgZT",Cn="sizing-module__w-lg-5___bmHzE",Tn="sizing-module__w-lg-6___OyDlR",wn="sizing-module__w-lg-7___4lqZH",In="sizing-module__w-lg-8___hBdn-",Pn="sizing-module__w-lg-9___6w3k8",An="sizing-module__w-lg-auto___o-Fa1",kn="sizing-module__w-md-1___dCBYs",xn="sizing-module__w-md-10___auuz9",Rn="sizing-module__w-md-11___ALh25",On="sizing-module__w-md-12___Ayzn3",Nn="sizing-module__w-md-2___QDAjt",Mn="sizing-module__w-md-3___y49Lo",Ln="sizing-module__w-md-4___DThtN",Dn="sizing-module__w-md-5___Vsif8",Fn="sizing-module__w-md-6___rX6LM",Un="sizing-module__w-md-7___nrXHn",Bn="sizing-module__w-md-8___A2HGb",Hn="sizing-module__w-md-9___J4Sa3",Gn="sizing-module__w-md-auto___A79jd",qn="sizing-module__w-sm-1___Ah5gq",jn="sizing-module__w-sm-10___-ZCF3",Vn="sizing-module__w-sm-11___4vcNB",zn="sizing-module__w-sm-12___DSYAn",Xn="sizing-module__w-sm-2___TyicB",Kn="sizing-module__w-sm-3___pIHUP",Wn="sizing-module__w-sm-4___5CA86",$n="sizing-module__w-sm-5___ymknT",Yn="sizing-module__w-sm-6___Yctan",Qn="sizing-module__w-sm-7___Zqvue",Jn="sizing-module__w-sm-8___wv77I",Zn="sizing-module__w-sm-9___cruxe",er="sizing-module__w-sm-auto___BGNZK",tr="sizing-module__w-xl-1___Qg3QS",nr="sizing-module__w-xl-10___h3V29",rr="sizing-module__w-xl-11___-kaHt",or="sizing-module__w-xl-12___AbXkG",ir="sizing-module__w-xl-2___0bU9Z",ar="sizing-module__w-xl-3___U8Rmb",sr="sizing-module__w-xl-4___MQVF1",lr="sizing-module__w-xl-5___FBSwE",cr="sizing-module__w-xl-6___m2zyF",ur="sizing-module__w-xl-7___oYcrE",dr="sizing-module__w-xl-8___nzPza",pr="sizing-module__w-xl-9___E185x",mr="sizing-module__w-xl-auto___tSvGJ";const hr={width:"w",height:"h",maxWidth:"mw",maxHeight:"mh"},gr={25:"25",50:"50",75:"75",100:"100",auto:"Auto"},fr=(e,t)=>o[`${hr[e]}${gr[t]}`];var _r="spacing-module__m-0___ha7DA",vr="spacing-module__m-1___EJOEj",yr="spacing-module__m-2___yuRwB",br="spacing-module__m-3___ENbiz",Sr="spacing-module__m-4___umOnF",Er="spacing-module__m-5___QU+Pk",Cr="spacing-module__m-auto___EGU8Q",Tr="spacing-module__m-g___viBEL",wr="spacing-module__m-lg-0___go-iE",Ir="spacing-module__m-lg-1___1kDxy",Pr="spacing-module__m-lg-2___XcGk3",Ar="spacing-module__m-lg-3___D9qR6",kr="spacing-module__m-lg-4___VHvxi",xr="spacing-module__m-lg-5___Wuojx",Rr="spacing-module__m-lg-auto___IEgE6",Or="spacing-module__m-lg-g___GMV34",Nr="spacing-module__m-lg-n1___5+doG",Mr="spacing-module__m-lg-n2___3THdJ",Lr="spacing-module__m-lg-n3___WU6kc",Dr="spacing-module__m-lg-n4___Qw0NX",Fr="spacing-module__m-lg-n5___HoPlg",Ur="spacing-module__m-lg-ng___SMyys",Br="spacing-module__m-md-0___F63Qy",Hr="spacing-module__m-md-1___NwNYv",Gr="spacing-module__m-md-2___T+x0z",qr="spacing-module__m-md-3___Yp-oy",jr="spacing-module__m-md-4___-LCuk",Vr="spacing-module__m-md-5___yUYMi",zr="spacing-module__m-md-auto___oO4k2",Xr="spacing-module__m-md-g___+eJh1",Kr="spacing-module__m-md-n1___OBqbY",Wr="spacing-module__m-md-n2___NySlX",$r="spacing-module__m-md-n3___0I2v1",Yr="spacing-module__m-md-n4___DXui+",Qr="spacing-module__m-md-n5___GieSx",Jr="spacing-module__m-md-ng___6DWAF",Zr="spacing-module__m-n1___Q3R8H",eo="spacing-module__m-n2___IEW6n",to="spacing-module__m-n3___N1Nnr",no="spacing-module__m-n4___iElxb",ro="spacing-module__m-n5___+cQdb",oo="spacing-module__m-ng___eAtGx",io="spacing-module__m-sm-0___HbmY7",ao="spacing-module__m-sm-1___l-udw",so="spacing-module__m-sm-2___pAqSi",lo="spacing-module__m-sm-3___P3jbg",co="spacing-module__m-sm-4___+p7tr",uo="spacing-module__m-sm-5___Oy0gJ",po="spacing-module__m-sm-auto___iXbkd",mo="spacing-module__m-sm-g___dbp6d",ho="spacing-module__m-sm-n1___aBSNn",go="spacing-module__m-sm-n2___kd2+x",fo="spacing-module__m-sm-n3___RebhK",_o="spacing-module__m-sm-n4___ePFYN",vo="spacing-module__m-sm-n5___gt8NH",yo="spacing-module__m-sm-ng___eKVlR",bo="spacing-module__m-xl-0___T9PXs",So="spacing-module__m-xl-1___8pzOk",Eo="spacing-module__m-xl-2___xJhBH",Co="spacing-module__m-xl-3___3rbM3",To="spacing-module__m-xl-4___ePraC",wo="spacing-module__m-xl-5___PSU82",Io="spacing-module__m-xl-auto___Bk+uG",Po="spacing-module__m-xl-g___XCUnn",Ao="spacing-module__m-xl-n1___v1ufa",ko="spacing-module__m-xl-n2___0qZYR",xo="spacing-module__m-xl-n3___JVnHo",Ro="spacing-module__m-xl-n4___7WuWC",Oo="spacing-module__m-xl-n5___9WQv7",No="spacing-module__m-xl-ng___bNBPw",Mo="spacing-module__mb-0___nWclj",Lo="spacing-module__mb-1___Fp5hy",Do="spacing-module__mb-2___LVAji",Fo="spacing-module__mb-3___t4US+",Uo="spacing-module__mb-4___dh5WK",Bo="spacing-module__mb-5___txAt8",Ho="spacing-module__mb-auto___xQPN-",Go="spacing-module__mb-g___AZ9d0",qo="spacing-module__mb-lg-0___2-mhj",jo="spacing-module__mb-lg-1___f+3RU",Vo="spacing-module__mb-lg-2___G5FUy",zo="spacing-module__mb-lg-3___Vq783",Xo="spacing-module__mb-lg-4___zwdhT",Ko="spacing-module__mb-lg-5___5ztVY",Wo="spacing-module__mb-lg-auto___eNhcc",$o="spacing-module__mb-lg-g___D+J0G",Yo="spacing-module__mb-lg-n1___ejM6K",Qo="spacing-module__mb-lg-n2___y8lLy",Jo="spacing-module__mb-lg-n3___TyhOM",Zo="spacing-module__mb-lg-n4___wg1bd",ei="spacing-module__mb-lg-n5___ICgHT",ti="spacing-module__mb-lg-ng___VbXpS",ni="spacing-module__mb-md-0___Jn5+9",ri="spacing-module__mb-md-1___mpbXP",oi="spacing-module__mb-md-2___tok6u",ii="spacing-module__mb-md-3___xSDtt",ai="spacing-module__mb-md-4___FOw4G",si="spacing-module__mb-md-5___71O1Y",li="spacing-module__mb-md-auto___tl5kR",ci="spacing-module__mb-md-g___y6aVi",ui="spacing-module__mb-md-n1___V365R",di="spacing-module__mb-md-n2___f5bj8",pi="spacing-module__mb-md-n3___SmlQU",mi="spacing-module__mb-md-n4___b4E-A",hi="spacing-module__mb-md-n5___5AIZz",gi="spacing-module__mb-md-ng___OCSMu",fi="spacing-module__mb-n1___wUBO9",_i="spacing-module__mb-n2___qe1MP",vi="spacing-module__mb-n3___kGvGD",yi="spacing-module__mb-n4___aPfB3",bi="spacing-module__mb-n5___lXagh",Si="spacing-module__mb-ng___9AKuz",Ei="spacing-module__mb-sm-0___9vb8g",Ci="spacing-module__mb-sm-1___xs249",Ti="spacing-module__mb-sm-2___1q3M1",wi="spacing-module__mb-sm-3___6zCai",Ii="spacing-module__mb-sm-4___fMJu3",Pi="spacing-module__mb-sm-5___MhU1K",Ai="spacing-module__mb-sm-auto___w5Kmc",ki="spacing-module__mb-sm-g___EOrBN",xi="spacing-module__mb-sm-n1___hlXVc",Ri="spacing-module__mb-sm-n2___mtkNB",Oi="spacing-module__mb-sm-n3___PUsRn",Ni="spacing-module__mb-sm-n4___cifLT",Mi="spacing-module__mb-sm-n5___Jjnc6",Li="spacing-module__mb-sm-ng___hEboG",Di="spacing-module__mb-xl-0___Z-+Qx",Fi="spacing-module__mb-xl-1___5ofZ-",Ui="spacing-module__mb-xl-2___Az-tB",Bi="spacing-module__mb-xl-3___5CtO1",Hi="spacing-module__mb-xl-4___U2KJ8",Gi="spacing-module__mb-xl-5___q+H-V",qi="spacing-module__mb-xl-auto___+2pzo",ji="spacing-module__mb-xl-g___mlyBU",Vi="spacing-module__mb-xl-n1___2gpZF",zi="spacing-module__mb-xl-n2___PXrJf",Xi="spacing-module__mb-xl-n3___+J6RC",Ki="spacing-module__mb-xl-n4___Tvhr1",Wi="spacing-module__mb-xl-n5___IaCVt",$i="spacing-module__mb-xl-ng___aoH7x",Yi="spacing-module__ml-0___f85Qi",Qi="spacing-module__ml-1___6sftr",Ji="spacing-module__ml-2___Ugqvs",Zi="spacing-module__ml-3___5T7f1",ea="spacing-module__ml-4___Y-Eu2",ta="spacing-module__ml-5___uFJt3",na="spacing-module__ml-auto___eRZI3",ra="spacing-module__ml-g___Im0Cj",oa="spacing-module__ml-lg-0___4ORDD",ia="spacing-module__ml-lg-1___HGfmE",aa="spacing-module__ml-lg-2___gQDmm",sa="spacing-module__ml-lg-3___MEuSM",la="spacing-module__ml-lg-4___AICmK",ca="spacing-module__ml-lg-5___yQFE4",ua="spacing-module__ml-lg-auto___nqhRx",da="spacing-module__ml-lg-g___usycT",pa="spacing-module__ml-lg-n1___3tQdk",ma="spacing-module__ml-lg-n2___+lBUU",ha="spacing-module__ml-lg-n3___tykEd",ga="spacing-module__ml-lg-n4___ETWUk",fa="spacing-module__ml-lg-n5___Gg-wS",_a="spacing-module__ml-lg-ng___E3UMV",va="spacing-module__ml-md-0___DMmF5",ya="spacing-module__ml-md-1___HXPI2",ba="spacing-module__ml-md-2___43lU0",Sa="spacing-module__ml-md-3___9a8XU",Ea="spacing-module__ml-md-4___RlsyC",Ca="spacing-module__ml-md-5___tMlez",Ta="spacing-module__ml-md-auto___ECloj",wa="spacing-module__ml-md-g___N0i1I",Ia="spacing-module__ml-md-n1___BoC3M",Pa="spacing-module__ml-md-n2___7lKV4",Aa="spacing-module__ml-md-n3___a3LI9",ka="spacing-module__ml-md-n4___+tCvE",xa="spacing-module__ml-md-n5___+H6L5",Ra="spacing-module__ml-md-ng___gJkfL",Oa="spacing-module__ml-n1___Pp7Pp",Na="spacing-module__ml-n2___cTaLe",Ma="spacing-module__ml-n3___BvuJZ",La="spacing-module__ml-n4___JAJl5",Da="spacing-module__ml-n5___SCK80",Fa="spacing-module__ml-ng___ucu+d",Ua="spacing-module__ml-sm-0___qPA+U",Ba="spacing-module__ml-sm-1___DhHez",Ha="spacing-module__ml-sm-2___0wzct",Ga="spacing-module__ml-sm-3___rxz3d",qa="spacing-module__ml-sm-4___fvbgY",ja="spacing-module__ml-sm-5___qTMeh",Va="spacing-module__ml-sm-auto___FNUbn",za="spacing-module__ml-sm-g___Yf8Vv",Xa="spacing-module__ml-sm-n1___Oj3Ay",Ka="spacing-module__ml-sm-n2___gRgby",Wa="spacing-module__ml-sm-n3___KmQMY",$a="spacing-module__ml-sm-n4___7dkQo",Ya="spacing-module__ml-sm-n5___usDF2",Qa="spacing-module__ml-sm-ng___lYDy5",Ja="spacing-module__ml-xl-0___tFDXn",Za="spacing-module__ml-xl-1___k8O+U",es="spacing-module__ml-xl-2___aMAkl",ts="spacing-module__ml-xl-3___Q5Fly",ns="spacing-module__ml-xl-4___7diq6",rs="spacing-module__ml-xl-5___5b8SK",os="spacing-module__ml-xl-auto___W5+N7",is="spacing-module__ml-xl-g___oTfhA",as="spacing-module__ml-xl-n1___6ZoR9",ss="spacing-module__ml-xl-n2___bann9",ls="spacing-module__ml-xl-n3___-Sa1G",cs="spacing-module__ml-xl-n4___K0M3k",us="spacing-module__ml-xl-n5___raLU7",ds="spacing-module__ml-xl-ng___ST85a",ps="spacing-module__mr-0___CJ3Yj",ms="spacing-module__mr-1___dyHJR",hs="spacing-module__mr-2___Rg6RR",gs="spacing-module__mr-3___hlcd2",fs="spacing-module__mr-4___rl9Om",_s="spacing-module__mr-5___Dr-Dj",vs="spacing-module__mr-auto___H7h9n",ys="spacing-module__mr-g___dAcG3",bs="spacing-module__mr-lg-0___Ryuh6",Ss="spacing-module__mr-lg-1___XerwS",Es="spacing-module__mr-lg-2___D7KX-",Cs="spacing-module__mr-lg-3___e-9yZ",Ts="spacing-module__mr-lg-4___B0HLU",ws="spacing-module__mr-lg-5___tAf6U",Is="spacing-module__mr-lg-auto___zEREi",Ps="spacing-module__mr-lg-g___PmaSv",As="spacing-module__mr-lg-n1___889-s",ks="spacing-module__mr-lg-n2___8SZFA",xs="spacing-module__mr-lg-n3___5H8MK",Rs="spacing-module__mr-lg-n4___00iSQ",Os="spacing-module__mr-lg-n5___ZaE3z",Ns="spacing-module__mr-lg-ng___YNW9O",Ms="spacing-module__mr-md-0___lipux",Ls="spacing-module__mr-md-1___bcFzz",Ds="spacing-module__mr-md-2___o-9V1",Fs="spacing-module__mr-md-3___oJ0v-",Us="spacing-module__mr-md-4___YTQPH",Bs="spacing-module__mr-md-5___IPj5z",Hs="spacing-module__mr-md-auto___pY1yu",Gs="spacing-module__mr-md-g___oEH6v",qs="spacing-module__mr-md-n1___-PueI",js="spacing-module__mr-md-n2___UDPx6",Vs="spacing-module__mr-md-n3___7bm4f",zs="spacing-module__mr-md-n4___KAbyJ",Xs="spacing-module__mr-md-n5___rstvR",Ks="spacing-module__mr-md-ng___w6pkB",Ws="spacing-module__mr-n1___QxnYm",$s="spacing-module__mr-n2___Xshlu",Ys="spacing-module__mr-n3___qhNxD",Qs="spacing-module__mr-n4___47C5i",Js="spacing-module__mr-n5___9bUIe",Zs="spacing-module__mr-ng___W6sxo",el="spacing-module__mr-sm-0___z1XsV",tl="spacing-module__mr-sm-1___LJ-r-",nl="spacing-module__mr-sm-2___6XYWZ",rl="spacing-module__mr-sm-3___qlBCe",ol="spacing-module__mr-sm-4___bZhEz",il="spacing-module__mr-sm-5___nLXfP",al="spacing-module__mr-sm-auto___Fs-QR",sl="spacing-module__mr-sm-g___0hPQC",ll="spacing-module__mr-sm-n1___eBF4W",cl="spacing-module__mr-sm-n2___AXgwT",ul="spacing-module__mr-sm-n3___ifTGH",dl="spacing-module__mr-sm-n4___CyEgn",pl="spacing-module__mr-sm-n5___ForM1",ml="spacing-module__mr-sm-ng___kIaH1",hl="spacing-module__mr-xl-0___Dv67m",gl="spacing-module__mr-xl-1___4MQVB",fl="spacing-module__mr-xl-2___0F5-I",_l="spacing-module__mr-xl-3___NqNOK",vl="spacing-module__mr-xl-4___4V5Up",yl="spacing-module__mr-xl-5___R4rg6",bl="spacing-module__mr-xl-auto___Ixd9o",Sl="spacing-module__mr-xl-g___2Qv6l",El="spacing-module__mr-xl-n1___Dq849",Cl="spacing-module__mr-xl-n2___a3c++",Tl="spacing-module__mr-xl-n3___z1Nws",wl="spacing-module__mr-xl-n4___MUQm+",Il="spacing-module__mr-xl-n5___2gVVx",Pl="spacing-module__mr-xl-ng___5vaOH",Al="spacing-module__mt-0___pa41w",kl="spacing-module__mt-1___Royge",xl="spacing-module__mt-2___FhecV",Rl="spacing-module__mt-3___jZREt",Ol="spacing-module__mt-4___zg0D8",Nl="spacing-module__mt-5___SMF8m",Ml="spacing-module__mt-auto___fqH3-",Ll="spacing-module__mt-g___aJFvV",Dl="spacing-module__mt-lg-0___Kmlrp",Fl="spacing-module__mt-lg-1___NnPR1",Ul="spacing-module__mt-lg-2___uVxMu",Bl="spacing-module__mt-lg-3___vwTIy",Hl="spacing-module__mt-lg-4___wSwaR",Gl="spacing-module__mt-lg-5___MNvRA",ql="spacing-module__mt-lg-auto___GQAvL",jl="spacing-module__mt-lg-g___dXDR7",Vl="spacing-module__mt-lg-n1___5U54D",zl="spacing-module__mt-lg-n2___RLFmg",Xl="spacing-module__mt-lg-n3___54Adj",Kl="spacing-module__mt-lg-n4___mjeP6",Wl="spacing-module__mt-lg-n5___VF-Vu",$l="spacing-module__mt-lg-ng___F3Ddy",Yl="spacing-module__mt-md-0___B47SZ",Ql="spacing-module__mt-md-1___B6OVL",Jl="spacing-module__mt-md-2___GVmK+",Zl="spacing-module__mt-md-3___oMp4W",ec="spacing-module__mt-md-4___gRbyR",tc="spacing-module__mt-md-5___5xSr5",nc="spacing-module__mt-md-auto___xyiZV",rc="spacing-module__mt-md-g___f1O9Y",oc="spacing-module__mt-md-n1___gTIDd",ic="spacing-module__mt-md-n2___Z5Nfy",ac="spacing-module__mt-md-n3___Ocs71",sc="spacing-module__mt-md-n4___MEmYE",lc="spacing-module__mt-md-n5___H5CLF",cc="spacing-module__mt-md-ng___SLMQT",uc="spacing-module__mt-n1___ZsOx7",dc="spacing-module__mt-n2___gvXmb",pc="spacing-module__mt-n3___NOb4P",mc="spacing-module__mt-n4___PaJi+",hc="spacing-module__mt-n5___Hg+zJ",gc="spacing-module__mt-ng___5fRrr",fc="spacing-module__mt-sm-0___wY5vV",_c="spacing-module__mt-sm-1___g7mve",vc="spacing-module__mt-sm-2___9AhgD",yc="spacing-module__mt-sm-3___AUMBN",bc="spacing-module__mt-sm-4___Gxw-i",Sc="spacing-module__mt-sm-5___HIVTv",Ec="spacing-module__mt-sm-auto___0Hygd",Cc="spacing-module__mt-sm-g___u4K7o",Tc="spacing-module__mt-sm-n1___a2cfl",wc="spacing-module__mt-sm-n2___omHVa",Ic="spacing-module__mt-sm-n3___9DVW3",Pc="spacing-module__mt-sm-n4___S4902",Ac="spacing-module__mt-sm-n5___4iNyW",kc="spacing-module__mt-sm-ng___dJNpQ",xc="spacing-module__mt-xl-0___Peab+",Rc="spacing-module__mt-xl-1___LMvfu",Oc="spacing-module__mt-xl-2___yoe1u",Nc="spacing-module__mt-xl-3___SwfhS",Mc="spacing-module__mt-xl-4___d9ZNp",Lc="spacing-module__mt-xl-5___HSzQc",Dc="spacing-module__mt-xl-auto___-wZpi",Fc="spacing-module__mt-xl-g___+7Lm+",Uc="spacing-module__mt-xl-n1___fmePK",Bc="spacing-module__mt-xl-n2___lUozT",Hc="spacing-module__mt-xl-n3___V3GfE",Gc="spacing-module__mt-xl-n4___+ENiP",qc="spacing-module__mt-xl-n5___wZ01S",jc="spacing-module__mt-xl-ng___jeUvq",Vc="spacing-module__mx-0___6ZHfm",zc="spacing-module__mx-1___tA+qn",Xc="spacing-module__mx-2___E9uhm",Kc="spacing-module__mx-3___sQkbD",Wc="spacing-module__mx-4___8PSua",$c="spacing-module__mx-5___CFit0",Yc="spacing-module__mx-auto___diREC",Qc="spacing-module__mx-g___eGPyr",Jc="spacing-module__mx-lg-0___VcL97",Zc="spacing-module__mx-lg-1___8V4Vd",eu="spacing-module__mx-lg-2___fQhNr",tu="spacing-module__mx-lg-3___OoCFJ",nu="spacing-module__mx-lg-4___vY5bi",ru="spacing-module__mx-lg-5___yrsOg",ou="spacing-module__mx-lg-auto___2dQ7a",iu="spacing-module__mx-lg-g___xJJeC",au="spacing-module__mx-lg-n1___FxLpr",su="spacing-module__mx-lg-n2___MuDSn",lu="spacing-module__mx-lg-n3___MNfqP",cu="spacing-module__mx-lg-n4___3KZCj",uu="spacing-module__mx-lg-n5___yGU+A",du="spacing-module__mx-lg-ng___1AUxz",pu="spacing-module__mx-md-0___l1tSU",mu="spacing-module__mx-md-1___djEFE",hu="spacing-module__mx-md-2___Vf34Q",gu="spacing-module__mx-md-3___5i1AD",fu="spacing-module__mx-md-4___VKnV6",_u="spacing-module__mx-md-5___LKgXN",vu="spacing-module__mx-md-auto___tH4f-",yu="spacing-module__mx-md-g___PkXuI",bu="spacing-module__mx-md-n1___UkZFa",Su="spacing-module__mx-md-n2___EuvBe",Eu="spacing-module__mx-md-n3___d-gCa",Cu="spacing-module__mx-md-n4___Lgy0E",Tu="spacing-module__mx-md-n5___lUkU1",wu="spacing-module__mx-md-ng___sUmol",Iu="spacing-module__mx-n1___FlSxM",Pu="spacing-module__mx-n2___CRizG",Au="spacing-module__mx-n3___cKjIp",ku="spacing-module__mx-n4___1Gh4e",xu="spacing-module__mx-n5___brAj8",Ru="spacing-module__mx-ng___u4iUs",Ou="spacing-module__mx-sm-0___LYrbi",Nu="spacing-module__mx-sm-1___Wtleo",Mu="spacing-module__mx-sm-2___hheWC",Lu="spacing-module__mx-sm-3___C4pI-",Du="spacing-module__mx-sm-4___Lefbr",Fu="spacing-module__mx-sm-5___+Fa9S",Uu="spacing-module__mx-sm-auto___veMf6",Bu="spacing-module__mx-sm-g___F-0Ri",Hu="spacing-module__mx-sm-n1___bn5kb",Gu="spacing-module__mx-sm-n2___N4KJZ",qu="spacing-module__mx-sm-n3___6NX-I",ju="spacing-module__mx-sm-n4___sEnsm",Vu="spacing-module__mx-sm-n5___qWp8v",zu="spacing-module__mx-sm-ng___zvbk+",Xu="spacing-module__mx-xl-0___8Gntk",Ku="spacing-module__mx-xl-1___8U1g+",Wu="spacing-module__mx-xl-2___fXT-S",$u="spacing-module__mx-xl-3___f9Qd6",Yu="spacing-module__mx-xl-4___2Snjn",Qu="spacing-module__mx-xl-5___hbFsp",Ju="spacing-module__mx-xl-auto___VcAuy",Zu="spacing-module__mx-xl-g___BDDh6",ed="spacing-module__mx-xl-n1___GZV4e",td="spacing-module__mx-xl-n2___v6bIW",nd="spacing-module__mx-xl-n3___OUD2M",rd="spacing-module__mx-xl-n4___zNV3y",od="spacing-module__mx-xl-n5___QNyD4",id="spacing-module__mx-xl-ng___neArX",ad="spacing-module__my-0___XX+M2",sd="spacing-module__my-1___QG-4c",ld="spacing-module__my-2___k6c-n",cd="spacing-module__my-3___EFF3D",ud="spacing-module__my-4___TiBnG",dd="spacing-module__my-5___+fxcN",pd="spacing-module__my-auto___gGe2H",md="spacing-module__my-g___xPbdE",hd="spacing-module__my-lg-0___e4sfq",gd="spacing-module__my-lg-1___hREqc",fd="spacing-module__my-lg-2___Z++go",_d="spacing-module__my-lg-3___SvMim",vd="spacing-module__my-lg-4___Dmszm",yd="spacing-module__my-lg-5___eZ+mk",bd="spacing-module__my-lg-auto___7nDBZ",Sd="spacing-module__my-lg-g___hoYLs",Ed="spacing-module__my-lg-n1___EHjj1",Cd="spacing-module__my-lg-n2___H6w9H",Td="spacing-module__my-lg-n3___RIgoA",wd="spacing-module__my-lg-n4___Jf85O",Id="spacing-module__my-lg-n5___Tt7A5",Pd="spacing-module__my-lg-ng___m7n9u",Ad="spacing-module__my-md-0___EVDek",kd="spacing-module__my-md-1___olQoW",xd="spacing-module__my-md-2___uj0Kr",Rd="spacing-module__my-md-3___N6i7Y",Od="spacing-module__my-md-4___Bem7d",Nd="spacing-module__my-md-5___hXRLQ",Md="spacing-module__my-md-auto___jDqlL",Ld="spacing-module__my-md-g___t-yqy",Dd="spacing-module__my-md-n1___bqgSD",Fd="spacing-module__my-md-n2___z4PdA",Ud="spacing-module__my-md-n3___pVP8I",Bd="spacing-module__my-md-n4___HDM2V",Hd="spacing-module__my-md-n5___820Tx",Gd="spacing-module__my-md-ng___cwA6M",qd="spacing-module__my-n1___0owA2",jd="spacing-module__my-n2___uOnDp",Vd="spacing-module__my-n3___kFqrC",zd="spacing-module__my-n4___g52la",Xd="spacing-module__my-n5___QpaKa",Kd="spacing-module__my-ng___r13CQ",Wd="spacing-module__my-sm-0___icAL0",$d="spacing-module__my-sm-1___kAtJp",Yd="spacing-module__my-sm-2___emeAQ",Qd="spacing-module__my-sm-3___qZiVr",Jd="spacing-module__my-sm-4___TCbxb",Zd="spacing-module__my-sm-5___8HWQD",ep="spacing-module__my-sm-auto___ffKzT",tp="spacing-module__my-sm-g___IxhNA",np="spacing-module__my-sm-n1___A95vw",rp="spacing-module__my-sm-n2___539xM",op="spacing-module__my-sm-n3___lOvfe",ip="spacing-module__my-sm-n4___sY7-3",ap="spacing-module__my-sm-n5___yYQci",sp="spacing-module__my-sm-ng___iSkgV",lp="spacing-module__my-xl-0___NglWB",cp="spacing-module__my-xl-1___LSMip",up="spacing-module__my-xl-2___u0ruo",dp="spacing-module__my-xl-3___ahR3v",pp="spacing-module__my-xl-4___j9AZw",mp="spacing-module__my-xl-5___LExBg",hp="spacing-module__my-xl-auto___pbG7Z",gp="spacing-module__my-xl-g___AbrBi",fp="spacing-module__my-xl-n1___jDQec",_p="spacing-module__my-xl-n2___Bt9J7",vp="spacing-module__my-xl-n3___gRyRB",yp="spacing-module__my-xl-n4___Yklys",bp="spacing-module__my-xl-n5___lTObn",Sp="spacing-module__my-xl-ng___G2Cap",Ep="spacing-module__p-0___GRuXh",Cp="spacing-module__p-1___MGhrK",Tp="spacing-module__p-2___FZ02h",wp="spacing-module__p-3___-zL5c",Ip="spacing-module__p-4___u5vaU",Pp="spacing-module__p-5___+I4B5",Ap="spacing-module__p-g___Je6WW",kp="spacing-module__p-lg-0___604RR",xp="spacing-module__p-lg-1___AhrP2",Rp="spacing-module__p-lg-2___oaJ15",Op="spacing-module__p-lg-3___g5w5Z",Np="spacing-module__p-lg-4___pfEfH",Mp="spacing-module__p-lg-5___O1pML",Lp="spacing-module__p-lg-g___vptO5",Dp="spacing-module__p-md-0___KuQtn",Fp="spacing-module__p-md-1___EXSnE",Up="spacing-module__p-md-2___CLtBi",Bp="spacing-module__p-md-3___wD7sh",Hp="spacing-module__p-md-4___V2mMC",Gp="spacing-module__p-md-5___DMpbQ",qp="spacing-module__p-md-g___HT7Uk",jp="spacing-module__p-sm-0___VglWT",Vp="spacing-module__p-sm-1___o28rS",zp="spacing-module__p-sm-2___ECwPj",Xp="spacing-module__p-sm-3___w6wtR",Kp="spacing-module__p-sm-4___tItFj",Wp="spacing-module__p-sm-5___XSr5J",$p="spacing-module__p-sm-g___8kPzj",Yp="spacing-module__p-xl-0___DMo+V",Qp="spacing-module__p-xl-1___I8wWl",Jp="spacing-module__p-xl-2___NVsuK",Zp="spacing-module__p-xl-3___f1tbU",em="spacing-module__p-xl-4___REJiB",tm="spacing-module__p-xl-5___x3ITQ",nm="spacing-module__p-xl-g___ymrhN",rm="spacing-module__pb-0___QnEMD",om="spacing-module__pb-1___+fDJX",im="spacing-module__pb-2___sQiJ6",am="spacing-module__pb-3___646nn",sm="spacing-module__pb-4___yaM7D",lm="spacing-module__pb-5___2SqqN",cm="spacing-module__pb-g___0G0xB",um="spacing-module__pb-lg-0___uDazB",dm="spacing-module__pb-lg-1___WKlLh",pm="spacing-module__pb-lg-2___WIYQX",mm="spacing-module__pb-lg-3___O0rF6",hm="spacing-module__pb-lg-4___Z3zZY",gm="spacing-module__pb-lg-5___uCJCi",fm="spacing-module__pb-lg-g___HEW63",_m="spacing-module__pb-md-0___Aqt1B",vm="spacing-module__pb-md-1___Rmhga",ym="spacing-module__pb-md-2___AM-0k",bm="spacing-module__pb-md-3___cYCOK",Sm="spacing-module__pb-md-4___UnkRH",Em="spacing-module__pb-md-5___EiRhJ",Cm="spacing-module__pb-md-g___Z-s2W",Tm="spacing-module__pb-sm-0___axlq-",wm="spacing-module__pb-sm-1___HZg7r",Im="spacing-module__pb-sm-2___itU-E",Pm="spacing-module__pb-sm-3___oMk2L",Am="spacing-module__pb-sm-4___TgmHT",km="spacing-module__pb-sm-5___3Yjh7",xm="spacing-module__pb-sm-g___00HsR",Rm="spacing-module__pb-xl-0___A+qlV",Om="spacing-module__pb-xl-1___Bq9Dc",Nm="spacing-module__pb-xl-2___MpaX4",Mm="spacing-module__pb-xl-3___gCyJJ",Lm="spacing-module__pb-xl-4___jpE8x",Dm="spacing-module__pb-xl-5___ZsqA7",Fm="spacing-module__pb-xl-g___SHiuK",Um="spacing-module__pl-0___ZWR3u",Bm="spacing-module__pl-1___a+pM9",Hm="spacing-module__pl-2___QGhFc",Gm="spacing-module__pl-3___ZIHOy",qm="spacing-module__pl-4___1eqwJ",jm="spacing-module__pl-5___GVb6q",Vm="spacing-module__pl-g___-V0sM",zm="spacing-module__pl-lg-0___2VrMS",Xm="spacing-module__pl-lg-1___5Q5Ti",Km="spacing-module__pl-lg-2___RdGny",Wm="spacing-module__pl-lg-3___PmECS",$m="spacing-module__pl-lg-4___mbbld",Ym="spacing-module__pl-lg-5___VRHYn",Qm="spacing-module__pl-lg-g___WJZFQ",Jm="spacing-module__pl-md-0___GR7XL",Zm="spacing-module__pl-md-1___NzE25",eh="spacing-module__pl-md-2___aouE8",th="spacing-module__pl-md-3___39l7Q",nh="spacing-module__pl-md-4___92-XW",rh="spacing-module__pl-md-5___I4F24",oh="spacing-module__pl-md-g___XT+R-",ih="spacing-module__pl-sm-0___S4Ku7",ah="spacing-module__pl-sm-1___Ke3NJ",sh="spacing-module__pl-sm-2___pxu1n",lh="spacing-module__pl-sm-3___+YMAZ",ch="spacing-module__pl-sm-4___LXipP",uh="spacing-module__pl-sm-5___N66+j",dh="spacing-module__pl-sm-g___bNotW",ph="spacing-module__pl-xl-0___40TzQ",mh="spacing-module__pl-xl-1___2t18K",hh="spacing-module__pl-xl-2___GSoG2",gh="spacing-module__pl-xl-3___CvtLR",fh="spacing-module__pl-xl-4___EFwtl",_h="spacing-module__pl-xl-5___L+DYk",vh="spacing-module__pl-xl-g___+pSpC",yh="spacing-module__pr-0___2Gqx7",bh="spacing-module__pr-1___KRzX3",Sh="spacing-module__pr-2___EZDhs",Eh="spacing-module__pr-3___MM2or",Ch="spacing-module__pr-4___TUXfX",Th="spacing-module__pr-5___S-Pmm",wh="spacing-module__pr-g___oe3Ir",Ih="spacing-module__pr-lg-0___3DCUs",Ph="spacing-module__pr-lg-1___u2--G",Ah="spacing-module__pr-lg-2___kql8Q",kh="spacing-module__pr-lg-3___-xYzN",xh="spacing-module__pr-lg-4___DG6L7",Rh="spacing-module__pr-lg-5___pR8+O",Oh="spacing-module__pr-lg-g___3hCnS",Nh="spacing-module__pr-md-0___Md-IW",Mh="spacing-module__pr-md-1___TFV71",Lh="spacing-module__pr-md-2___Cd6H2",Dh="spacing-module__pr-md-3___RBCyO",Fh="spacing-module__pr-md-4___bvcMQ",Uh="spacing-module__pr-md-5___vb0wx",Bh="spacing-module__pr-md-g___ZFQT-",Hh="spacing-module__pr-sm-0___SLpgv",Gh="spacing-module__pr-sm-1___5EuHo",qh="spacing-module__pr-sm-2___Zj7T6",jh="spacing-module__pr-sm-3___b0vIo",Vh="spacing-module__pr-sm-4___JeAWs",zh="spacing-module__pr-sm-5___5BcOC",Xh="spacing-module__pr-sm-g___zn7Gj",Kh="spacing-module__pr-xl-0___wuLWT",Wh="spacing-module__pr-xl-1___vL7ZF",$h="spacing-module__pr-xl-2___lqDYV",Yh="spacing-module__pr-xl-3___dqLMV",Qh="spacing-module__pr-xl-4___zxta9",Jh="spacing-module__pr-xl-5___DqXZm",Zh="spacing-module__pr-xl-g___p9uDL",eg="spacing-module__pt-0___aNWEu",tg="spacing-module__pt-1___LYexO",ng="spacing-module__pt-2___65BTD",rg="spacing-module__pt-3___VHEvy",og="spacing-module__pt-4___eLZT5",ig="spacing-module__pt-5___ZCM8n",ag="spacing-module__pt-g___r7cRX",sg="spacing-module__pt-lg-0___kHV-r",lg="spacing-module__pt-lg-1___Aas2K",cg="spacing-module__pt-lg-2___zs+Z9",ug="spacing-module__pt-lg-3___Th8wO",dg="spacing-module__pt-lg-4___RNH77",pg="spacing-module__pt-lg-5___m8wAL",mg="spacing-module__pt-lg-g___3bANB",hg="spacing-module__pt-md-0___CkukA",gg="spacing-module__pt-md-1___oP6rc",fg="spacing-module__pt-md-2___44dGC",_g="spacing-module__pt-md-3___MN4s3",vg="spacing-module__pt-md-4___IJdrp",yg="spacing-module__pt-md-5___l980J",bg="spacing-module__pt-md-g___DTxxp",Sg="spacing-module__pt-sm-0___KTEm3",Eg="spacing-module__pt-sm-1___464MS",Cg="spacing-module__pt-sm-2___H2gzE",Tg="spacing-module__pt-sm-3___1uOwC",wg="spacing-module__pt-sm-4___ecvLn",Ig="spacing-module__pt-sm-5___hFni3",Pg="spacing-module__pt-sm-g___WJbqq",Ag="spacing-module__pt-xl-0___AhCDs",kg="spacing-module__pt-xl-1___m3Ics",xg="spacing-module__pt-xl-2___7WP-u",Rg="spacing-module__pt-xl-3___ubDYK",Og="spacing-module__pt-xl-4___Bzm-d",Ng="spacing-module__pt-xl-5___iCDpx",Mg="spacing-module__pt-xl-g___jOT4A",Lg="spacing-module__px-0___7tBoR",Dg="spacing-module__px-1___Mx0bF",Fg="spacing-module__px-2___jhdl+",Ug="spacing-module__px-3___tBJTD",Bg="spacing-module__px-4___W3vyV",Hg="spacing-module__px-5___B3Ti9",Gg="spacing-module__px-g___cvjuK",qg="spacing-module__px-lg-0___lB-He",jg="spacing-module__px-lg-1___wexUU",Vg="spacing-module__px-lg-2___GwbJM",zg="spacing-module__px-lg-3___Vdz48",Xg="spacing-module__px-lg-4___VhvSu",Kg="spacing-module__px-lg-5___8LuVT",Wg="spacing-module__px-lg-g___zziSj",$g="spacing-module__px-md-0___Nhi3f",Yg="spacing-module__px-md-1___cJmSl",Qg="spacing-module__px-md-2___8K40k",Jg="spacing-module__px-md-3___FhIGn",Zg="spacing-module__px-md-4___MglGJ",ef="spacing-module__px-md-5___ffChZ",tf="spacing-module__px-md-g___ovQsz",nf="spacing-module__px-sm-0___UYTTR",rf="spacing-module__px-sm-1___vIz1b",of="spacing-module__px-sm-2___5tEbz",af="spacing-module__px-sm-3___uWnso",sf="spacing-module__px-sm-4___zV-m4",lf="spacing-module__px-sm-5___oqmhS",cf="spacing-module__px-sm-g___JNFnO",uf="spacing-module__px-xl-0___-K5WM",df="spacing-module__px-xl-1___EKCvK",pf="spacing-module__px-xl-2___p2L5g",mf="spacing-module__px-xl-3___w+HHv",hf="spacing-module__px-xl-4___-uUNh",gf="spacing-module__px-xl-5___YKyzd",ff="spacing-module__px-xl-g___9rMYx",_f="spacing-module__py-0___6pqoz",vf="spacing-module__py-1___lDCW2",yf="spacing-module__py-2___o6tLf",bf="spacing-module__py-3___qAaK6",Sf="spacing-module__py-4___RWzzE",Ef="spacing-module__py-5___mI3Ev",Cf="spacing-module__py-g___GO6SW",Tf="spacing-module__py-lg-0___KG8Ju",wf="spacing-module__py-lg-1___9XRcB",If="spacing-module__py-lg-2___LeY8p",Pf="spacing-module__py-lg-3___ca46y",Af="spacing-module__py-lg-4___cU-F1",kf="spacing-module__py-lg-5___CQY8p",xf="spacing-module__py-lg-g___Sr-uK",Rf="spacing-module__py-md-0___t1JZa",Of="spacing-module__py-md-1___R6733",Nf="spacing-module__py-md-2___b013I",Mf="spacing-module__py-md-3___VYT4Y",Lf="spacing-module__py-md-4___aEba9",Df="spacing-module__py-md-5___OFrRS",Ff="spacing-module__py-md-g___sTqln",Uf="spacing-module__py-sm-0___WKkjC",Bf="spacing-module__py-sm-1___mE8YQ",Hf="spacing-module__py-sm-2___azy3E",Gf="spacing-module__py-sm-3___VG7o0",qf="spacing-module__py-sm-4___EJqyv",jf="spacing-module__py-sm-5___XVbDk",Vf="spacing-module__py-sm-g___1A24r",zf="spacing-module__py-xl-0___awB5N",Xf="spacing-module__py-xl-1___7e1mB",Kf="spacing-module__py-xl-2___AN8AA",Wf="spacing-module__py-xl-3___gIeY2",$f="spacing-module__py-xl-4___B4zDc",Yf="spacing-module__py-xl-5___y2iv5",Qf="spacing-module__py-xl-g___rNOmw";const Jf={margin:"m",padding:"p"},Zf={top:"t",bottom:"b",left:"l",right:"r",leftRight:"x",topBottom:"y",all:""},e_={0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",auto:"Auto"},t_={extraSmall:"Xs",small:"Sm",medium:"Md",large:"Lg"},n_=(e,t,n,r)=>{const o=Jf[e],a=Zf[t],s=e_[n];if(r&&"extraSmall"!==r){return i[`${o}${a}${t_[r]}${s}`]}return i[`${o}${a}${s}`]};var r_="display-module__d-block___fSHqy",o_="display-module__d-flex___8Saxm",i_="display-module__d-inline___C8B-2",a_="display-module__d-inline-block___JRVpL",s_="display-module__d-inline-flex___HBUSp",l_="display-module__d-lg-block___q+Mk0",c_="display-module__d-lg-flex___mpjOO",u_="display-module__d-lg-inline___+uWXc",d_="display-module__d-lg-inline-block___s-a81",p_="display-module__d-lg-inline-flex___Vye37",m_="display-module__d-lg-none___qHkBS",h_="display-module__d-lg-table___jedIg",g_="display-module__d-lg-table-cell___NEkb3",f_="display-module__d-lg-table-row___oFECu",__="display-module__d-md-block___8pEr8",v_="display-module__d-md-flex___fEpdb",y_="display-module__d-md-inline___ghtRW",b_="display-module__d-md-inline-block___3ikKc",S_="display-module__d-md-inline-flex___bpPi4",E_="display-module__d-md-none___Enq1h",C_="display-module__d-md-table___ER8-b",T_="display-module__d-md-table-cell___-wRlo",w_="display-module__d-md-table-row___lnx14",I_="display-module__d-none___ljAK6",P_="display-module__d-print-block___YhSFS",A_="display-module__d-print-flex___U3xl4",k_="display-module__d-print-inline___R6RdM",x_="display-module__d-print-inline-block___xDEXI",R_="display-module__d-print-inline-flex___W+zT4",O_="display-module__d-print-none___jbI0E",N_="display-module__d-print-table___Z0C9g",M_="display-module__d-print-table-cell___Qve13",L_="display-module__d-print-table-row___derdo",D_="display-module__d-sm-block___5kUGp",F_="display-module__d-sm-flex___ur7Yp",U_="display-module__d-sm-inline___VnTBS",B_="display-module__d-sm-inline-block___h8xwl",H_="display-module__d-sm-inline-flex___0pB9B",G_="display-module__d-sm-none___9SVT2",q_="display-module__d-sm-table___bJECH",j_="display-module__d-sm-table-cell___6QaNi",V_="display-module__d-sm-table-row___iWm-S",z_="display-module__d-table___-St8q",X_="display-module__d-table-cell___n8sBU",K_="display-module__d-table-row___Mn7Hx",W_="display-module__d-xl-block___0vBvJ",$_="display-module__d-xl-flex___9O-eu",Y_="display-module__d-xl-inline___PAGCk",Q_="display-module__d-xl-inline-block___jlRgk",J_="display-module__d-xl-inline-flex___3LY6b",Z_="display-module__d-xl-none___jFIPw",ev="display-module__d-xl-table___kUrXR",tv="display-module__d-xl-table-cell___cQXT0",nv="display-module__d-xl-table-row___upLgJ";const rv={xs:"Xs",sm:"Sm",md:"Md",lg:"Lg",xl:"Xl"},ov=["xs","sm","md","lg","xl",void 0],iv=e=>ov[ov.indexOf(e)+1],av=e=>e&&"xs"!==e?a[`d${rv[e]}None`]:I_,sv=e=>e&&"xs"!==e?y()([av(),a[`d${rv[e]}Block`]]):r_,lv=e=>e&&iv(e)?y()([av(e),sv(iv(e))]):av(e),cv=e=>e&&iv(e)?sv(iv(e)):lv(),uv=e=>e&&iv(e)?av(iv(e)):(e=>e&&iv(e)?y()([sv(e),av(iv(e))]):sv(e))();var dv,pv="Alert-module__alertContainer___SvSXM",mv="Alert-module__alertContent___pr1fW",hv="Alert-module__alertLink___iaM+w",gv="#000000",fv="Alert-module__closeButton___Wg1vP",_v="Alert-module__danger___i5C9q",vv="Alert-module__info___ufhmC",yv="Alert-module__warning___9PBYf";!function(e){e[e.Information=0]="Information",e[e.Warning=1]="Warning",e[e.Error=2]="Error"}(dv||(dv={}));const bv={[dv.Warning]:h.Warning,[dv.Information]:h.Warning,[dv.Error]:h.Warning},Sv=e=>{const t=e.link||"#",n=e.link?void 0:e.onClick;return u.createElement("a",{key:e.text,"aria-label":e.text,href:t,onClick:n,className:y()([hv])},e.text)},Ev=e=>{const{text:t,actions:n,closeAction:r,level:o=dv.Information,contentTelemetry:i={}}=e,a=bv[o],l=!!a&&Ht(m.Prepend,a),c=(0,_.nO)(i,{contentName:"Alert",templateName:"AlertComponent"}),d=(e=>{switch(e){case dv.Warning:return"warning";case dv.Error:return"danger";default:return"info"}})(o);return u.createElement("div",f()({className:y()([pv,l,{"alert-dismissible":r},s[d]])},(0,_.vj)(c)),u.createElement("div",{className:mv},t,n&&n.map(Sv)),r&&(p=r,u.createElement("button",{className:y()([fv]),"aria-label":p.text,"data-dismiss":"alert",onClick:p.onClick},u.createElement("div",{className:Ht(m.Prepend,h.Cancel)}))));var p};var Cv=n(85608),Tv=n(39731),wv=n(34843),Iv=n(43342),Pv=n(72178),Av=(0,u.memo)((function(e){var t=e.className,n=e.textClassName,r=e.onPress,o=e.index,i=e.selected,a=e.label,s=(0,u.useRef)(null);return(0,u.useEffect)((function(){var e;i&&(null===(e=s.current)||void 0===e||e.focus())}),[i]),u.createElement("button",{className:y()(t,"Picker-module__pickerItem___VyecJ",n),ref:s,role:"option","aria-selected":i,"data-auto-focus":i,onClick:function(){return null===r||void 0===r?void 0:r(o)},onKeyPress:function(e){"Enter"===e.key&&(null===r||void 0===r||r(o))}},a)}));var kv=(0,u.memo)((function(e){var t=e.className,n=e.data,r=e.selectedValue,o=e.visibleItems,i=void 0===o?4:o,a=e.onFocus,s=e.onBlur,l=e.onValueChange,c=e.onClose,d=e.openPickerClassName,p=e.itemTextClassName,m=e.selectedItemTextClassName,h=e.isOpen,g=e.setIsOpen,f=e.showFloatingLabel,_=e.buttonClassName,v=e.labelAndValueContainerClassName,b=e.floatingLabelContainerClassName,S=e.floatingValueContainerClassName,E=e.buttonHtmlAttributes,C=(0,Cv.__rest)(e,["className","data","selectedValue","visibleItems","onFocus","onBlur","onValueChange","onClose","openPickerClassName","itemTextClassName","selectedItemTextClassName","isOpen","setIsOpen","showFloatingLabel","buttonClassName","labelAndValueContainerClassName","floatingLabelContainerClassName","floatingValueContainerClassName","buttonHtmlAttributes"]),T=(0,u.useState)(),w=T[0],I=T[1],P=C["aria-labelledby"],A=(0,u.useRef)(null),k=(0,u.useRef)(null),x=(0,u.useMemo)((function(){return Math.min(n.length,i)}),[n,i]),R=(0,u.useMemo)((function(){var e;return null===(e=n[0])||void 0===e?void 0:e.label}),[n]),O=(0,u.useMemo)((function(){return n.findIndex((function(e,t){return null!==e&&r===n[t].value}))}),[n,r]),N=(0,u.useMemo)((function(){return n.length>0&&-1!==O?n[O].label:" "}),[n,O]),M=(0,u.useState)(0),L=M[0],D=M[1];(0,u.useEffect)((function(){if(A.current){var e=getComputedStyle(A.current).getPropertyValue("--height").trim(),t=parseInt(e.replace("px",""),10);D(t)}}),[A]);var F=(0,u.useCallback)((function(){var e,t,r,o;if(n.length){var i,a=L*x+(x>=n.length?0:2),s=null===(e=A.current)||void 0===e?void 0:e.getBoundingClientRect(),l=(null!==(t=null===s||void 0===s?void 0:s.top)&&void 0!==t?t:0)+window.pageYOffset;l+a>window.innerHeight&&(i="translateY(".concat(-(l+a-window.innerHeight),"px)")),I({size:{width:null!==(r=null===s||void 0===s?void 0:s.width)&&void 0!==r?r:0,height:a},location:{left:null===(o=A.current)||void 0===o?void 0:o.offsetLeft,transform:i}}),null===g||void 0===g||g(!0)}}),[n.length,x,g,L]),U=(0,u.useCallback)((function(){I(void 0),null===g||void 0===g||g(!1)}),[g]),B=(0,u.useCallback)((function(){var e;U(),null===(e=null===k||void 0===k?void 0:k.current)||void 0===e||e.focus(),null===c||void 0===c||c()}),[c,U]),H=function(e){B(),null===l||void 0===l||l(n[e].value)};return(0,u.useEffect)((function(){h?w||F():void 0!==h&&w&&B()}),[h,F,B,w]),(0,Tv.useBackHandler)((0,u.useCallback)((function(){return void 0!==w&&(B(),!0)}),[B,w])),u.createElement("div",{className:y()("Picker-module__pickerContainer___ec-tx",t)},u.createElement("div",{className:"Picker-module__refContainer___XCfTg",ref:A},u.createElement(Iv.T,(0,Cv.__assign)({"aria-expanded":void 0!==w,"aria-haspopup":!0,"aria-labelledby":P,as:"button",buttonType:Pv.VQ.Primary,className:_,icon:wv.A,onBlur:s,onClick:F,onFocus:a,ref:k,role:"combobox"},E),f&&O>0?u.createElement("div",{className:y()("Picker-module__labelAndValueContainer___CaXKe",v)},u.createElement("span",{className:b},R),u.createElement("span",{className:y()("Picker-module__floatingValueContainer___78ffj",S)},N)):u.createElement(u.Fragment,null,N))),w&&u.createElement("div",(0,Cv.__assign)({role:"listbox"},C),u.createElement("div",{className:"Picker-module__dismissSurface___OB0n8",onMouseDown:function(){return U()},onTouchStart:function(){return U()},onKeyDown:function(){return U()}}),u.createElement(Tv.FocusContainer,{className:y()("Picker-module__openPicker___xKcqC",null!==d&&void 0!==d?d:""),style:(0,Cv.__assign)((0,Cv.__assign)({},null===w||void 0===w?void 0:w.location),null===w||void 0===w?void 0:w.size),autoFocusContainer:!0},u.createElement(Tv.GamepadScrollable,{className:"Picker-module__gamepadScrollable___3rdHv",scrollAlignment:"align-to-next",stopScrollPropagation:!0,scrollOffsets:2},n.map((function(e,t){var n;return u.createElement(Av,{key:t,className:"Picker-module__pickerHeight___xe8cz",textClassName:y()("Picker-module__itemText___1dWtt",(n={},n["Picker-module__selected___q-8Ea"]=e.value===r,n[null!==p&&void 0!==p?p:""]=e.value!==r,n[null!==m&&void 0!==m?m:""]=e.value===r,n)),index:t,selected:e.value===r,onPress:H,label:e.label})}))))))})),xv=n(54357);const Rv=e=>{const t=Lv(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:e=>{const n=e.split("-");return""===n[0]&&1!==n.length&&n.shift(),Ov(n,t)||Mv(e)},getConflictingClassGroupIds:(e,t)=>{const o=n[e]||[];return t&&r[e]?[...o,...r[e]]:o}}},Ov=(e,t)=>{if(0===e.length)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),o=r?Ov(e.slice(1),r):void 0;if(o)return o;if(0===t.validators.length)return;const i=e.join("-");return t.validators.find((({validator:e})=>e(i)))?.classGroupId},Nv=/^\[(.+)\]$/,Mv=e=>{if(Nv.test(e)){const t=Nv.exec(e)[1],n=t?.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},Lv=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return Bv(Object.entries(e.classGroups),n).forEach((([e,n])=>{Dv(n,r,e,t)})),r},Dv=(e,t,n,r)=>{e.forEach((e=>{if("string"!==typeof e){if("function"===typeof e)return Uv(e)?void Dv(e(r),t,n,r):void t.validators.push({validator:e,classGroupId:n});Object.entries(e).forEach((([e,o])=>{Dv(o,Fv(t,e),n,r)}))}else{(""===e?t:Fv(t,e)).classGroupId=n}}))},Fv=(e,t)=>{let n=e;return t.split("-").forEach((e=>{n.nextPart.has(e)||n.nextPart.set(e,{nextPart:new Map,validators:[]}),n=n.nextPart.get(e)})),n},Uv=e=>e.isThemeGetter,Bv=(e,t)=>t?e.map((([e,n])=>[e,n.map((e=>"string"===typeof e?t+e:"object"===typeof e?Object.fromEntries(Object.entries(e).map((([e,n])=>[t+e,n]))):e))])):e,Hv=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const o=(o,i)=>{n.set(o,i),t++,t>e&&(t=0,r=n,n=new Map)};return{get(e){let t=n.get(e);return void 0!==t?t:void 0!==(t=r.get(e))?(o(e,t),t):void 0},set(e,t){n.has(e)?n.set(e,t):o(e,t)}}},Gv=e=>{const{separator:t,experimentalParseClassName:n}=e,r=1===t.length,o=t[0],i=t.length,a=e=>{const n=[];let a,s=0,l=0;for(let d=0;d<e.length;d++){let c=e[d];if(0===s){if(c===o&&(r||e.slice(d,d+i)===t)){n.push(e.slice(l,d)),l=d+i;continue}if("/"===c){a=d;continue}}"["===c?s++:"]"===c&&s--}const c=0===n.length?e:e.substring(l),u=c.startsWith("!");return{modifiers:n,hasImportantModifier:u,baseClassName:u?c.substring(1):c,maybePostfixModifierPosition:a&&a>l?a-l:void 0}};return n?e=>n({className:e,parseClassName:a}):a},qv=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach((e=>{"["===e[0]?(t.push(...n.sort(),e),n=[]):n.push(e)})),t.push(...n.sort()),t},jv=/\s+/;function Vv(){let e,t,n=0,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=zv(e))&&(r&&(r+=" "),r+=t);return r}const zv=e=>{if("string"===typeof e)return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=zv(e[r]))&&(n&&(n+=" "),n+=t);return n};function Xv(e,...t){let n,r,o,i=function(s){const l=t.reduce(((e,t)=>t(e)),e());return n=(e=>({cache:Hv(e.cacheSize),parseClassName:Gv(e),...Rv(e)}))(l),r=n.cache.get,o=n.cache.set,i=a,a(s)};function a(e){const t=r(e);if(t)return t;const i=((e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:o}=t,i=[],a=e.trim().split(jv);let s="";for(let l=a.length-1;l>=0;l-=1){const e=a[l],{modifiers:t,hasImportantModifier:c,baseClassName:u,maybePostfixModifierPosition:d}=n(e);let p=Boolean(d),m=r(p?u.substring(0,d):u);if(!m){if(!p){s=e+(s.length>0?" "+s:s);continue}if(m=r(u),!m){s=e+(s.length>0?" "+s:s);continue}p=!1}const h=qv(t).join(":"),g=c?h+"!":h,f=g+m;if(i.includes(f))continue;i.push(f);const _=o(m,p);for(let n=0;n<_.length;++n){const e=_[n];i.push(g+e)}s=e+(s.length>0?" "+s:s)}return s})(e,n);return o(e,i),i}return function(){return i(Vv.apply(null,arguments))}}const Kv=e=>{const t=t=>t[e]||[];return t.isThemeGetter=!0,t},Wv=/^\[(?:([a-z-]+):)?(.+)\]$/i,$v=/^\d+\/\d+$/,Yv=new Set(["px","full","screen"]),Qv=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Jv=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Zv=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,ey=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,ty=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ny=e=>oy(e)||Yv.has(e)||$v.test(e),ry=e=>_y(e,"length",vy),oy=e=>Boolean(e)&&!Number.isNaN(Number(e)),iy=e=>_y(e,"number",oy),ay=e=>Boolean(e)&&Number.isInteger(Number(e)),sy=e=>e.endsWith("%")&&oy(e.slice(0,-1)),ly=e=>Wv.test(e),cy=e=>Qv.test(e),uy=new Set(["length","size","percentage"]),dy=e=>_y(e,uy,yy),py=e=>_y(e,"position",yy),my=new Set(["image","url"]),hy=e=>_y(e,my,Sy),gy=e=>_y(e,"",by),fy=()=>!0,_y=(e,t,n)=>{const r=Wv.exec(e);return!!r&&(r[1]?"string"===typeof t?r[1]===t:t.has(r[1]):n(r[2]))},vy=e=>Jv.test(e)&&!Zv.test(e),yy=()=>!1,by=e=>ey.test(e),Sy=e=>ty.test(e),Ey=(Symbol.toStringTag,()=>{const e=Kv("colors"),t=Kv("spacing"),n=Kv("blur"),r=Kv("brightness"),o=Kv("borderColor"),i=Kv("borderRadius"),a=Kv("borderSpacing"),s=Kv("borderWidth"),l=Kv("contrast"),c=Kv("grayscale"),u=Kv("hueRotate"),d=Kv("invert"),p=Kv("gap"),m=Kv("gradientColorStops"),h=Kv("gradientColorStopPositions"),g=Kv("inset"),f=Kv("margin"),_=Kv("opacity"),v=Kv("padding"),y=Kv("saturate"),b=Kv("scale"),S=Kv("sepia"),E=Kv("skew"),C=Kv("space"),T=Kv("translate"),w=()=>["auto",ly,t],I=()=>[ly,t],P=()=>["",ny,ry],A=()=>["auto",oy,ly],k=()=>["","0",ly],x=()=>[oy,ly];return{cacheSize:500,separator:":",theme:{colors:[fy],spacing:[ny,ry],blur:["none","",cy,ly],brightness:x(),borderColor:[e],borderRadius:["none","","full",cy,ly],borderSpacing:I(),borderWidth:P(),contrast:x(),grayscale:k(),hueRotate:x(),invert:k(),gap:I(),gradientColorStops:[e],gradientColorStopPositions:[sy,ry],inset:w(),margin:w(),opacity:x(),padding:I(),saturate:x(),scale:x(),sepia:k(),skew:x(),space:I(),translate:I()},classGroups:{aspect:[{aspect:["auto","square","video",ly]}],container:["container"],columns:[{columns:[cy]}],"break-after":[{"break-after":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-before":[{"break-before":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top",ly]}],overflow:[{overflow:["auto","hidden","clip","visible","scroll"]}],"overflow-x":[{"overflow-x":["auto","hidden","clip","visible","scroll"]}],"overflow-y":[{"overflow-y":["auto","hidden","clip","visible","scroll"]}],overscroll:[{overscroll:["auto","contain","none"]}],"overscroll-x":[{"overscroll-x":["auto","contain","none"]}],"overscroll-y":[{"overscroll-y":["auto","contain","none"]}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ay,ly]}],basis:[{basis:w()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ly]}],grow:[{grow:k()}],shrink:[{shrink:k()}],order:[{order:["first","last","none",ay,ly]}],"grid-cols":[{"grid-cols":[fy]}],"col-start-end":[{col:["auto",{span:["full",ay,ly]},ly]}],"col-start":[{"col-start":A()}],"col-end":[{"col-end":A()}],"grid-rows":[{"grid-rows":[fy]}],"row-start-end":[{row:["auto",{span:[ay,ly]},ly]}],"row-start":[{"row-start":A()}],"row-end":[{"row-end":A()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ly]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ly]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal","start","end","center","between","around","evenly","stretch"]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal","start","end","center","between","around","evenly","stretch","baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":["start","end","center","between","around","evenly","stretch","baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[f]}],mx:[{mx:[f]}],my:[{my:[f]}],ms:[{ms:[f]}],me:[{me:[f]}],mt:[{mt:[f]}],mr:[{mr:[f]}],mb:[{mb:[f]}],ml:[{ml:[f]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ly,t]}],"min-w":[{"min-w":[ly,t,"min","max","fit"]}],"max-w":[{"max-w":[ly,t,"none","full","min","max","fit","prose",{screen:[cy]},cy]}],h:[{h:[ly,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ly,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ly,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ly,t,"auto","min","max","fit"]}],"font-size":[{text:["base",cy,ry]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",iy]}],"font-family":[{font:[fy]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ly]}],"line-clamp":[{"line-clamp":["none",oy,iy]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ny,ly]}],"list-image":[{"list-image":["none",ly]}],"list-style-type":[{list:["none","disc","decimal",ly]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[_]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[_]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:["solid","dashed","dotted","double","none","wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ny,ry]}],"underline-offset":[{"underline-offset":["auto",ny,ly]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ly]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ly]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[_]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top",py]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",dy]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},hy]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[h]}],"gradient-via-pos":[{via:[h]}],"gradient-to-pos":[{to:[h]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[s]}],"border-w-x":[{"border-x":[s]}],"border-w-y":[{"border-y":[s]}],"border-w-s":[{"border-s":[s]}],"border-w-e":[{"border-e":[s]}],"border-w-t":[{"border-t":[s]}],"border-w-r":[{"border-r":[s]}],"border-w-b":[{"border-b":[s]}],"border-w-l":[{"border-l":[s]}],"border-opacity":[{"border-opacity":[_]}],"border-style":[{border:["solid","dashed","dotted","double","none","hidden"]}],"divide-x":[{"divide-x":[s]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[s]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[_]}],"divide-style":[{divide:["solid","dashed","dotted","double","none"]}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-s":[{"border-s":[o]}],"border-color-e":[{"border-e":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:["","solid","dashed","dotted","double","none"]}],"outline-offset":[{"outline-offset":[ny,ly]}],"outline-w":[{outline:[ny,ry]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:P()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[_]}],"ring-offset-w":[{"ring-offset":[ny,ry]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",cy,gy]}],"shadow-color":[{shadow:[fy]}],opacity:[{opacity:[_]}],"mix-blend":[{"mix-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",cy,ly]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[d]}],saturate:[{saturate:[y]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[_]}],"backdrop-saturate":[{"backdrop-saturate":[y]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ly]}],duration:[{duration:x()}],ease:[{ease:["linear","in","out","in-out",ly]}],delay:[{delay:x()}],animate:[{animate:["none","spin","ping","pulse","bounce",ly]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[b]}],"scale-x":[{"scale-x":[b]}],"scale-y":[{"scale-y":[b]}],rotate:[{rotate:[ay,ly]}],"translate-x":[{"translate-x":[T]}],"translate-y":[{"translate-y":[T]}],"skew-x":[{"skew-x":[E]}],"skew-y":[{"skew-y":[E]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ly]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ly]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ly]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[ny,ry,iy]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}),Cy=Xv(Ey);function Ty(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Cy((0,xv.$)(t))}n(10865);var wy=n(17188);const Iy=2.592*Math.pow(10,9),Py=8.64*Math.pow(10,7),Ay=3.6*Math.pow(10,6);var ky;!function(e){e.Day="day",e.Hour="hour",e.Minute="minute",e.Month="month",e.Year="year",e.Unknown="unknown"}(ky||(ky={}));const xy=()=>{const[e,t,n,r]=(0,wy.cG)("monthWithPluralizationFormatRules","dayWithPluralizationFormatRules","hourWithPluralizationFormatRules","minuteWithPluralizationFormatRules");return(o,i)=>{if(!o||!i)return;let a;switch(i.toLowerCase()){case ky.Month:a=e;break;case ky.Day:a=t;break;case ky.Hour:a=n;break;case ky.Minute:a=r;break;default:return}return(0,d.bvP)(a,o)}},Ry=e=>{let t,n=0;const r=xy();if(e){const r=new Date,o=(e=>{let t=e;const n=Math.floor(t/Iy);t-=Math.max(0,n*Iy);const r=Math.floor(t/Py);t-=Math.max(0,r*Py);const o=Math.floor(t/Ay);t-=Math.max(0,o*Ay);const i=Math.floor(t/6e4);return t-=Math.max(0,6e4*i),{month:n,day:r,hour:o,minute:i}})(new Date(e).getTime()-r.getTime());o.month>0?(n=o.month,t=ky.Month):o.day>0?(n=o.day,t=ky.Day):o.hour>0?(n=o.hour,t=ky.Hour):o.minute>0&&(n=o.minute,t=ky.Minute)}return{unit:n,unitType:t,durationString:r(n,t)}};var Oy;!function(e){e[e.None=0]="None",e[e.Desktop=1]="Desktop",e[e.MobilePortrait=2]="MobilePortrait",e[e.MobileLandscape=3]="MobileLandscape"}(Oy||(Oy={}));const Ny=(0,u.createContext)({currentExperience:Oy.None});var My,Ly=n(79824),Dy=n(48227);!function(e){e[e.XXS=0]="XXS",e[e.XS=1]="XS",e[e.SM=2]="SM",e[e.MD=3]="MD",e[e.LG=4]="LG",e[e.XL=5]="XL"}(My||(My={}));const Fy={[My.XXS]:400,[My.XS]:540,[My.SM]:860,[My.MD]:1084,[My.LG]:1400,[My.XL]:Number.MAX_SAFE_INTEGER},Uy=[{minWidth:0,viewPort:My.XXS},{minWidth:400,viewPort:My.XS},{minWidth:540,viewPort:My.SM},{minWidth:860,viewPort:My.MD},{minWidth:1084,viewPort:My.LG},{minWidth:1400,viewPort:My.XL}],By=Fy[My.LG],Hy=()=>document.documentElement.clientWidth||document.body.clientWidth,Gy=e=>{const t=(0,u.useContext)(Ny),{currentExperience:n}=t;switch(n){case Oy.Desktop:return e.desktopComponent;case Oy.MobilePortrait:return e.mobilePortraitComponent;case Oy.MobileLandscape:return e.mobileLandscapeComponent;default:return null}},qy=()=>{const e=(()=>{const e=(0,Ly.useSelector)(d.sjg),t=(0,Ly.useSelector)(d.GYd).userAgent,n=(0,u.useMemo)((()=>new Dy.P6(t)),[t]);return e?t?n.isMobile?Fy[My.XS]:n.isTablet?Fy[My.MD]:By:By:Hy()})(),[t,n]=(0,u.useState)(e);return((e,t)=>{const n=(0,Ly.useSelector)(d.sjg);(0,u.useEffect)((()=>{if(!n)return e()}),[...t,n])})((()=>{const e=((e,t)=>{let n;return function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return new Promise((r=>{n&&clearTimeout(n),n=setTimeout((()=>r(e(...o))),t)}))}})((()=>{n(Hy())}),150);return n(Hy()),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[]),t},jy=()=>{const e=qy();let t=My.XL;for(const n of Uy){if(!(e>=n.minWidth))break;t=n.viewPort}return t},Vy=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"0px";const[n,r]=(0,u.useState)(null);return(0,u.useEffect)((()=>{const o=new IntersectionObserver((e=>{let[t]=e;t.isIntersecting!==n&&r(t.isIntersecting)}),{rootMargin:t});e.current&&o.observe(e.current);const i=e.current;return()=>{o.unobserve(i)}}),[e,t]),n},zy=e=>{let{children:t,initialExperience:n=Oy.None}=e;const[r,o]=(0,u.useState)(n);(0,u.useEffect)((()=>{const e=e=>{let t;t=e?window.innerHeight<=Fy[My.XS]?Oy.MobileLandscape:Oy.Desktop:window.innerWidth<=Fy[My.XS]?Oy.MobilePortrait:Oy.Desktop,o(t)},t=window.matchMedia("(orientation: landscape)"),n=t=>{e(t.matches)},r=()=>{e(t.matches)};return window.addEventListener("resize",r),t.addEventListener("change",n),e(t.matches),()=>{t.removeEventListener("change",n),window.removeEventListener("resize",r)}}),[]);const i={currentExperience:r};return u.createElement(Ny.Provider,{value:i},t)},Xy=()=>((0,Tv.useRequestNavigationKeys)([Tv.NavigationKey.ArrowUp,Tv.NavigationKey.ArrowDown,Tv.NavigationKey.Tab]),null),Ky=()=>{const e=(0,wy.FE)("periodSeparatorTemplate");return(t,n)=>t&&n?(0,d.GPZ)(e,t,n):t||(n||"")};n(10568),n(47748),n(5350),n(83165),n(24541),n(34397);const Wy={};var $y;!function(e){e[e.CMS=1]="CMS",e[e.EDS=2]="EDS",e[e.DSC=3]="DSC",e[e.Bing=4]="Bing"}($y||($y={}));const Yy={"images-eds":$y.EDS,"store-images":$y.DSC,cms:$y.CMS,"img-s-msn-com":$y.CMS,"bing.com":$y.Bing},Qy=[34,38,40,43,44,46,50,52,56,60,64,68,72,75,80,84,85,86,95,99,100,105,107,108,110,112,120,124,128,131,132,135,136,138,144,145,147,148,150,151,152,154,156,160,164,170,172,173,175,177,178,180,181,200,207,208,210,213,215,219,224,230,234,235,237,240,243,245,248,253,258,260,262,265,267,270,275,278,280,282,285,288,290,296,300,307,310,313,316,318,320,327,329,336,343,347,361,366,367,370,380,395,400,402,420,423,424,426,430,441,448,464,467,470,480,496,518,526,540,553,556,562,576,580,584,588,592,594,598,640,648,666,672,720,724,725,754,756,770,788,789,796,800,810,818,853,854,864,896,934,935,938,980,981,1012,1021,1024,1051,1066,1067,1080,1138,1190,1191,1206,1276,1277,1280,1315,1350,1351,1366,1440,1499,1501,1561,1562,1593,1793,1795,1830,1831,1919,1920,2020,2021,2048,2100,2398,2399,2470,2471,2560],Jy=e=>{let t=0,n=Qy.length,r=0,o=0;for(;;){if(t>n){const e=Qy[t],r=Qy[n];return e?r?Math.max(e,r):e:r}if(r=Math.floor((n+t)/2),o=Qy[r],o===e)return o;o<e?t=r+1:n=r-1}},Zy=(e,t,n,r,o,i,a,s)=>{if(0===t&&0===n||!e)return e;const l=o||"90",c=a,u=new URL(e),d=u.hostname||u.pathname;let p;Object.keys(Yy).forEach((e=>{e&&d.includes(e)&&Yy[e]&&(p=Yy[e])}));let m=Wy[t];m||(m=Jy(t),Wy[t]=m);let h=Wy[n];h||(h=Jy(n),Wy[n]=h);let g=new URL(e);if(d&&p){switch(p){case $y.CMS:g=((e,t,n,r,o,i)=>(e.searchParams.set("q",t),e.searchParams.set("o","f"),n&&e.searchParams.set("m",n),r&&e.searchParams.set("f",r),n&&"0"!==n&&e.searchParams.set("m",n),i&&"jpg"===r&&e.searchParams.set("b",i),o&&e.searchParams.set("p",o),e))(g,l,c,r,null===s||void 0===s?void 0:s.toString(),i);break;case $y.EDS:h=m=Math.max(h,m),g=((e,t)=>(t&&e.searchParams.set("format",t),e))(g,r);break;case $y.DSC:g=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"90",n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;return e.searchParams.set("q",t),n&&e.searchParams.set("format",n),o&&"jpg"===n&&e.searchParams.set("background",o),r&&e.searchParams.set("padding",r),e}(g,l,r,null===s||void 0===s?void 0:s.toString(),i);break;case $y.Bing:g=((e,t,n)=>(e.searchParams.set("w",t.toString()),e.searchParams.set("h",n.toString()),e.searchParams.set("c","1"),e))(g,t,n)}g.searchParams.set("w",m.toString()),g.searchParams.set("h",h.toString())}return g.toString()};n(27968);function eb(e,t,n){const r=e.current;if(!r)return;const o=window.getComputedStyle(r).getPropertyValue("line-height"),i=parseFloat(o),a=r.offsetHeight;t(Math.ceil(a/i)>n)}const tb=function(e){const[t,n]=(0,u.useState)(!1);return u.createElement("div",{onKeyDown:e=>{(0,d.JSV)(e.key,"escape")&&t&&(n(!1),e.stopPropagation(),e.preventDefault())}},u.createElement(Xy,null),u.createElement(kv,f()(f()({},e),{},{isOpen:t,setIsOpen:n})))};var nb=n(67996),rb=n.n(nb);n(97107);var ob=n(25053),ib=n(41222),ab=n(6409),sb=n(47566),lb=n(58810),cb="linkCommonStyles-module__linkButton___yK8-x",ub="linkCommonStyles-module__linkIconOverrides___OYA+9";const db=e=>{const{innerTextAriaLabelOverride:t,href:n,linkClassName:r,linkIconClassName:o,linkIconSize:i,linkText:a,linkTextClassName:s,telemetryProps:l}=e,c=(0,_.vj)((0,_.nO)({behavior:_.nS.NAVIGATIONFORWARD,contentName:a,id:"ExternalLink"},l)),[p,m]=(0,wy.cG)("buttonWithStateAccessibilityTemplate","openInNewTabLinkLabel"),h=(0,d.GPZ)(p,t||a,m);return u.createElement(ab.a,f()({"aria-label":h,as:"a",buttonType:Pv.VQ.Tertiary,className:y()(cb,r),href:n,rel:"noopener noreferrer",target:"_blank"},c),u.createElement("span",{className:s},a),u.createElement(sb.In,{icon:lb.A,iconSize:null!==i&&void 0!==i?i:sb.lK.XXSmall,className:y()(ub,o)}))};n(98376),n(14293);var pb=n(70830);const mb=e=>{let{to:t,status:n=302}=e;(0,pb.Sy)();return window.location.replace(t),null},hb=["title","titleId"],gb=e=>{let{title:t,titleId:n}=e,r=rb()(e,hb);return u.createElement("svg",f()({width:"64px",height:"64px",viewBox:"0 0 64 64",version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink","aria-labelledby":n},r),t?u.createElement("title",{id:n},t):null,u.createElement("g",{id:"PC",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},u.createElement("polygon",{stroke:"#FFFFFF",strokeLinejoin:"round",fill:"none",points:"55.61 18.67 39.88 27.76 24.13 18.67 8.39 9.59 24.13 0.5 39.88 9.59 55.61 18.67"}),u.createElement("polygon",{stroke:"#FFFFFF",strokeLinejoin:"round",fill:"none",points:"39.88 27.76 39.88 63.5 24.13 54.41 8.39 45.32 8.39 9.59 24.13 18.67 39.88 27.76"}),u.createElement("polygon",{stroke:"#FFFFFF",strokeLinejoin:"round",fill:"none",points:"55.61 18.67 55.61 54.41 42.5 61.98 39.88 63.5 39.88 27.76 55.61 18.67"}),u.createElement("polygon",{stroke:"#FFFFFF",strokeLinejoin:"round",fill:"none",points:"53.33 48.36 53.33 52.73 44.02 58.1 42.16 59.18 42.16 54.82 53.33 48.36"}),u.createElement("polygon",{stroke:"#FFFFFF",strokeLinejoin:"round",fill:"none",points:"53.33 41.5 53.33 45.87 44.02 51.24 42.16 52.32 42.16 47.96 53.33 41.5"}),u.createElement("polygon",{stroke:"#FFFFFF",strokeLinejoin:"round",fill:"none",points:"53.33 23.16 53.33 27.52 44.02 32.89 42.16 33.97 42.16 29.61 53.33 23.16"}),u.createElement("ellipse",{fill:"#FFFFFF",cx:"48.18",cy:"38.08",rx:"2.59",ry:"1.49",transform:"translate(-8.89 60.77) rotate(-60)"})))},fb=e=>{const{href:t,linkClassName:n,linkText:r,linkTextClassName:o}=e;return u.createElement(ab.a,{"aria-label":r,as:"a",buttonType:Pv.VQ.Tertiary,className:y()(cb,n),href:t},u.createElement("span",{className:o},r))};n(91321),n(54761);var _b=n(93285);const vb=()=>u.createElement(_b.m,null,u.createElement("body",{className:"legacyBackground"}));var yb=n(42760),bb=n(34263);const Sb=5e3,Eb=()=>u.createElement(bb.A,null),Cb=e=>u.createElement(ib.M,{error:e}),Tb=e=>{const{timeoutInMilliseconds:t=Sb,renderLoading:n=Eb,renderError:r=Cb}=e,[o,i]=(0,u.useState)(!1);return(0,u.useEffect)((()=>{const e=setTimeout((()=>i(!0)),t);return()=>clearTimeout(e)}),[]),o?r(new Error(`Loading Page timed out. Timeout: ${t} ms`)):n()};var wb=n(86090);const Ib=e=>{const t=(0,wb.W6)(),n=(0,wb.zy)(),r=(0,Ly.useDispatch)(),o=(0,Ly.useSelector)(d.sjg),i=(0,u.useRef)();(0,u.useEffect)((()=>{i.current===n||o||r(d.YOM.navigateToPath(n,i.current)),i.current=n}),[n,r,o]);const a=(0,u.useRef)(),s=(0,u.useRef)({direction:d.kVq.New});let l,c;if(n===a.current)c=s.current;else{if(a.current)switch(t.action){case"PUSH":l=d.kVq.Forward;break;case"POP":l=d.kVq.Back;break;case"REPLACE":l=d.kVq.Replace}else l=d.kVq.New;c={location:a.current,direction:l},a.current=n,s.current=c}return u.createElement(d.ff4.Provider,{value:c},e.children)};n(69375);var Pb="ModuleColumn-module__col___StJzB",Ab="ModuleColumn-module__col1___9CP2u",kb="ModuleColumn-module__col10___TX1Lb",xb="ModuleColumn-module__col11___rbXSV",Rb="ModuleColumn-module__col12___A-hSt",Ob="ModuleColumn-module__col2___+utbQ",Nb="ModuleColumn-module__col3___OU8x+",Mb="ModuleColumn-module__col4___ZaRrg",Lb="ModuleColumn-module__col5___TL7I1",Db="ModuleColumn-module__col6___ArD0N",Fb="ModuleColumn-module__col7___XCnrm",Ub="ModuleColumn-module__col8___yCVp5",Bb="ModuleColumn-module__col9___K8Gw9",Hb="ModuleColumn-module__colLg1___LYmyz",Gb="ModuleColumn-module__colLg10___5d7-E",qb="ModuleColumn-module__colLg11___gRE3U",jb="ModuleColumn-module__colLg12___NygNf",Vb="ModuleColumn-module__colLg2___JJuMl",zb="ModuleColumn-module__colLg3___UTVTa",Xb="ModuleColumn-module__colLg4___dTHnc",Kb="ModuleColumn-module__colLg5___-hnQ+",Wb="ModuleColumn-module__colLg6___rr8Po",$b="ModuleColumn-module__colLg7___BVit9",Yb="ModuleColumn-module__colLg8___d2TZv",Qb="ModuleColumn-module__colLg9___IlWd5",Jb="ModuleColumn-module__colMd1___bXH3p",Zb="ModuleColumn-module__colMd10___gg77z",eS="ModuleColumn-module__colMd11___uATnk",tS="ModuleColumn-module__colMd12___TNRxj",nS="ModuleColumn-module__colMd2___f0ZrV",rS="ModuleColumn-module__colMd3___M8p2g",oS="ModuleColumn-module__colMd4___+BB+4",iS="ModuleColumn-module__colMd5___w7599",aS="ModuleColumn-module__colMd6___BTAdb",sS="ModuleColumn-module__colMd7___MoAAG",lS="ModuleColumn-module__colMd8___LTRxa",cS="ModuleColumn-module__colMd9___RMntd",uS="ModuleColumn-module__colSm1___CR0--",dS="ModuleColumn-module__colSm10___lxTzQ",pS="ModuleColumn-module__colSm11___txDMG",mS="ModuleColumn-module__colSm12___K5Kqp",hS="ModuleColumn-module__colSm2___tcLDV",gS="ModuleColumn-module__colSm3___O-F8K",fS="ModuleColumn-module__colSm4___H5Viy",_S="ModuleColumn-module__colSm5___LkfGI",vS="ModuleColumn-module__colSm6___0g1hF",yS="ModuleColumn-module__colSm7___hiK+f",bS="ModuleColumn-module__colSm8___GXtwd",SS="ModuleColumn-module__colSm9___PjjRH",ES="1084px",CS="860px",TS="540px";const wS=["className","children","xs","sm","md","lg"],IS=e=>{const{className:t,children:n,xs:r,sm:o,md:i,lg:a}=e,s=rb()(e,wS),c=[];return r&&c.push(l[`col${r}`]),o&&c.push(l[`colSm${o}`]),i&&c.push(l[`colMd${i}`]),a&&c.push(l[`colLg${a}`]),c.length<1&&c.push(Pb),u.createElement("div",f()({className:y()(c,t)},s),n)};var PS="ModuleContainer-module__container___pkhPl";const AS=["className","children","as"],kS=["className","children","as"],xS=e=>{const{className:t,children:n,as:r="div"}=e,o=rb()(e,AS);return u.createElement(r,f()({className:y()(PS,t)},o),n)},RS=u.forwardRef(((e,t)=>{const{className:n,children:r,as:o="div"}=e,i=rb()(e,kS);return u.createElement(o,f()({className:y()("ModuleContainer-module__sectionBackground___1iE6r",PS,"ModuleContainer-module__informationModuleContainer___nGoBj",n),ref:t},i),r)}));const OS=["className","children"],NS=e=>{const{className:t,children:n}=e,r=rb()(e,OS);return u.createElement("div",f()({className:y()("ModuleRow-module__row___N1V3E",t)},r),n)};var MS=n(36843);const LS=e=>u.createElement("ul",{className:"CustomAccordion-module__accordion___VlnWA"},e.children);LS.Collapse=e=>{const[t,n]=(0,u.useState)(!e.defaultCollapsed),r=e.customClassName||y()("CustomAccordion-module__accordion-header___T-O6V",n_("margin","left",2)),o=e.eventKey?`accordion-${e.eventKey}`:void 0;return u.createElement("li",null,u.createElement("h2",{className:r},u.createElement("button",{"aria-controls":o,"aria-expanded":t,className:y()([MS.HM,MS.mK,"CustomAccordion-module__btn-collapse___bYwuN","CustomAccordion-module__accordionToggle___7kDa8"]),onClick:()=>{n(!t)},tabIndex:e.tabIndex},e.title)),u.createElement("div",{className:y()(["CustomAccordion-module__collapseContent___UnhJ1",t?"CustomAccordion-module__expanded___HmgK5":"CustomAccordion-module__collapsed___Lw-gB",{"CustomAccordion-module__scrollable___J1se1":e.isScrollable}])},u.createElement("div",{id:o,className:y()(["CustomAccordion-module__accordion-body___eKCwR",n_("padding","left",0)])},e.children)))};const DS=["className","src","alt","sources"],FS=(0,u.forwardRef)(((e,t)=>{let{className:n,src:r,alt:o,sources:i}=e,a=rb()(e,DS);const s=u.createElement("img",f()({ref:t,className:n,src:r,alt:o},a));return i?u.createElement("picture",null,u.createElement(u.Fragment,null,i),s):s})),US=(0,u.memo)(FS);var BS="WrappedResponsiveImage-module__content___z0-cY",HS="WrappedResponsiveImage-module__image___QvkuN",GS="WrappedResponsiveImage-module__imageFluid___dK6C4",qS="WrappedResponsiveImage-module__imageWrapper___-Wdm7";const jS=["containerProps","children","contentClassName","className","fluid"],VS=["className"],zS=(0,u.forwardRef)(((e,t)=>{let{containerProps:n,children:r,contentClassName:o,className:i,fluid:a}=e,s=rb()(e,jS);const l=null!==n&&void 0!==n?n:{},{className:c}=l,d=rb()(l,VS);return r?u.createElement("div",f()({ref:t,className:y()(qS,c)},d),u.createElement(US,f()({className:y()([HS,a?GS:void 0,i])},s)),u.createElement("div",{className:y()(BS,o)},r)):u.createElement(US,f()({className:y()([HS,a?GS:void 0,i])},s))})),XS=(0,u.memo)(zS),KS=n.p+"static/media/PlaceholderImage.7ebed917.svg",WS=["fallbackImage","containerProps","contentClassName","onError"],$S=e=>{let{fallbackImage:t,containerProps:n,contentClassName:r,onError:o}=e,i=rb()(e,WS);const a=i.src||i.sources||i.srcSet,[s,l]=(0,u.useState)(!1),c=(0,u.useRef)(null),d=(0,u.useCallback)((()=>{l(!0)}),[]);(0,u.useEffect)((()=>{var e;const t=null===(e=c.current)||void 0===e?void 0:e.querySelectorAll("img");t&&0!==t.length&&t.forEach((e=>{e.complete&&0===e.naturalWidth&&0===e.naturalHeight&&d()}))}),[d]);const p=(0,u.useCallback)((e=>{null===o||void 0===o||o(e),d()}),[o,d]),m=(0,u.useMemo)((()=>f()(f()({},n),{},{className:y()(null===n||void 0===n?void 0:n.className)})),[n]);return u.createElement(u.Fragment,null,s||!a?"string"===typeof t?u.createElement(XS,f()(f()({},i),{},{className:y()(i.className),src:t||KS,srcSet:void 0,sources:void 0,onError:o,contentClassName:r,containerProps:m})):u.createElement("div",f()(f()({},n),{},{className:y()(qS,null===n||void 0===n?void 0:n.className)}),t,i.children&&u.createElement("div",{className:y()(BS,r)},i.children)):u.createElement(XS,f()(f()({ref:c,containerProps:n,contentClassName:r},i),{},{onError:p})))};const YS=["width","height","className","src","background","format","resizeMode","quality","padding","customBackupSrc","hideShadow","alt","ariaHidden"],QS=e=>{const{width:t,height:n,className:r,src:o,background:i,format:a,resizeMode:s,quality:l,padding:c,customBackupSrc:d,hideShadow:p,alt:g,ariaHidden:_}=e,v=rb()(e,YS);let b=o&&Zy(o,t,n,a,l,i,s,c)||d;b&&0===b.indexOf("http://")&&(b=b.replace("http://","https://"));const S=(0,wy.FE)("noCaptionAvailableAltText"),E=((e,t,n,r)=>{const o={width:e,height:t};return u.createElement("div",{className:y()(n,"Image-module__imageBackground___fwLda",{"Image-module__imageShadow___3io3A":!r}),style:o},u.createElement("div",{className:y()("d-flex","justify-content-center","align-items-center",fr("width",100),fr("height",100))},u.createElement("p",{className:y()([Ht(m.Prepend,h.XboxLogo),"text-center",n_("margin","bottom",0),"Image-module__xboxLogoGlyphIcon___M8Rlv"])})))})(t,n,r,p);return u.createElement($S,f()({alt:g||S,"aria-hidden":_,className:r,src:b,fallbackImage:E},v))};const JS=e=>{const{text:t,className:n}=e,[r,o]=(0,u.useState)(!1),[i,a]=(0,u.useState)(!1),{moreText:s,lessText:l,moreTextAccessibilityLabel:c,lessTextAccessibilityLabel:d}=(0,wy.ot)("moreText","lessText","moreTextAccessibilityLabel","lessTextAccessibilityLabel"),p=(0,u.useRef)(null),g=(0,u.useRef)(null),f=qy();(0,u.useEffect)((()=>{eb(p,a,5)}),[f]);const _=r?h.RemoveFrom:h.CirclePlus,v=r?"ShowMoreShowLess-module__more___oXPB7":"ShowMoreShowLess-module__less___gikrN";return u.createElement(u.Fragment,null,u.createElement("div",{className:y()("ShowMoreShowLess-module__withLineBreak___r04p2",n,"ShowMoreShowLess-module__container___CyBM4",v)},u.createElement("p",{ref:g,className:y()("ShowMoreShowLess-module__text___jt826",v)},t),u.createElement("p",{ref:p,className:"ShowMoreShowLess-module__baseLineText___OTuYW"},t)),i&&u.createElement("button",{role:"link",tabIndex:0,"aria-label":r?d:c,className:y()(["ShowMoreShowLess-module__link___K7wez",Ht(m.Prepend,_)]),onClick:()=>o(!r)},r?l:s))};let ZS,eE=0;const tE=e=>{e===eE?nE():console.warn("Attempt to hide a different banner blocked")},nE=()=>{ZS?(ZS((()=>null)),eE=0):console.warn("Attempt to hide a banner before PageBanner component is mounted")},rE=()=>{const[e,t]=(0,u.useState)((()=>()=>null));ZS=e=>t((()=>e));const n=e();return u.createElement("div",{id:"pageBannerContainer",className:y()("PageBanner-module__bannerContainer___YuHV3",{"PageBanner-module__hidden___MkKJW":!n},{"PageBanner-module__visible___Q3bC3":!!n})},n&&u.createElement("div",f()({},(0,_.vj)({contentName:"Page Banner Container",templateName:"PageBannerComponent",contentType:"Banner"})),n))},oE={displayBanner:e=>{if(ZS){eE&&console.warn("Double rendering banner. Another banner is already visible."),ZS(e);const t=(0,d.MnC)(1e3);return eE=t,()=>tE(t)}return console.warn("Attempt to display a banner before PageBanner component is mounted"),()=>{}},hideAllBanners:nE};var iE=n(88901);const aE=e=>(0,iE.nT)(e&&(0,iE.Cv)(e)),sE=e=>{const t=(0,wb.zy)(),n=(0,d.Y2m)(t),r=(0,Ly.useSelector)(d.hbT),o=(0,d.B1M)(r),i=(0,Ly.useSelector)((0,u.useCallback)((e=>{let t=(0,d.lDW)(e,n);return t===d.JBw&&"/"===n&&(t=(0,d.lDW)(e,o)),t}),[n,o]));let a;return i.hasContent?(i.isLoading,a=e.children||(()=>null)):a=i.isLoading?()=>(e=>e.renderLoadingOverride?e.renderLoadingOverride():u.createElement(bb.A,null))(e):i.error?()=>((e,t)=>t.renderErrorOverride?t.renderErrorOverride(e):u.createElement(ib.M,{error:e,statusCode:aE(e)}))(i.error,e):()=>u.createElement(Tb,null),u.createElement(u.Fragment,null,a())};n(29210);var lE=n(17915),cE=n(39288),uE=n(22469);const dE=e=>{let{retryAction:t}=e;const{genericErrorMessage:n,tryAgainText:r}=(0,wy.ot)("genericErrorMessage","tryAgainText"),o=(0,wb.W6)(),i=o.createHref(o.location);return(0,_.qz)(_.ry.Retry,uE.g.Retry,{data:{pageHref:i}}),u.createElement("div",{className:"RetryPage-module__retryContainer___0s7DP"},u.createElement("h3",null,n),u.createElement(cE.m,f()({as:"button","aria-label":r,className:"RetryPage-module__retryButton___iuv6I",iconClassName:y()("RetryPage-module__retryIcon___4Kokq","align-middle"),icon:lE.A,iconSize:sb.lK.Medium,onClick:t},(0,_.vj)({id:"RetryButton",contentName:r}))))},pE=u.createContext({}),mE=e=>e.key||`${e.pathname}${e.search}${e.hash}`,hE=e=>{let{children:t}=e;const n=(0,d.Igx)(),r=(0,u.useRef)(),o=(0,u.useRef)({});if(n.location!==r.current){if(n.location){const e=mE(n.location);o.current[e]={x:window.scrollX,y:window.scrollY}}r.current=n.location}return u.createElement(pE.Provider,{value:o.current},t)},gE=e=>{let{children:t,onNewNavigationOnly:n=!1,ignoreHash:r=!0,ignoreSearch:o=!0}=e;const i=(()=>{const e=(0,wb.zy)();return(0,u.useContext)(pE)[mE(e)]})(),a=(0,wb.zy)(),{location:s}=(0,d.Igx)();return(0,u.useEffect)((()=>{const e=null!=s&&s.pathname===a.pathname&&(r||s.hash===a.hash)&&(o||s.search===a.search);if(!a.hash&&!e)if(n)i||window.scrollTo(0,0);else{const e=i||{x:0,y:0};requestAnimationFrame((()=>requestAnimationFrame((()=>window.scrollTo(e.x,e.y)))))}}),[a]),t?u.createElement(u.Fragment,null,t):null};var fE;n(93510);!function(e){e.None="none",e.Follow="follow",e.Index="index",e.NoFollow="nofollow",e.NoIndex="noindex",e.NoImageIndex="noimageindex",e.NoArchive="noarchive",e.NoCache="nocache",e.NoSnippet="nosnippet"}(fE||(fE={}));const _E=e=>Array.isArray(e)?e.join(","):e,vE=e=>{let{title:t,keywords:n,description:r,robotsMetaTags:o,canonicalUrl:i}=e;const[a,s]=(0,wy.cG)("pageTitleTemplate","defaultPageTitle"),l=(0,d.GPZ)(a,"%s"),c=(e=>{const t=(0,wb.zy)(),n=(0,Ly.useSelector)(d.a5u);return e||new URL(`${n}${t.pathname}`.toLowerCase(),d.jbi).toString()})(i);return u.createElement(_b.m,{titleTemplate:l,defaultTitle:s,title:t||void 0},r&&u.createElement("meta",{name:"description",content:r}),n&&u.createElement("meta",{name:"keywords",content:n}),o&&u.createElement("meta",{name:"robots",content:_E(o)}),u.createElement("link",{rel:"canonical",href:c}))},yE=()=>{const e=(0,wb.zy)(),t=(0,d.mNY)(e);return t?u.createElement(vE,{title:t.title,description:t.description,robotsMetaTags:t.robots,keywords:t.keywords,canonicalUrl:t.canonicalUrl}):u.createElement(vE,{title:void 0})},bE=()=>{const e=(0,d.VRc)();return e?e.seoComponent?u.createElement(wb.qh,f()({},e),u.createElement(e.seoComponent,null)):null===e.seoComponent?null:u.createElement(yE,null):u.createElement(yE,null)};var SE="Column-module__col___mOeNS",EE="Column-module__col1___XXcI0",CE="Column-module__col10___s964a",TE="Column-module__col11___Uh7+X",wE="Column-module__col12___sxfOP",IE="Column-module__col2___OlEJ-",PE="Column-module__col3___IFvIt",AE="Column-module__col4___-t5gI",kE="Column-module__col5___nSfBH",xE="Column-module__col6___keGm9",RE="Column-module__col7___fhwYq",OE="Column-module__col8___pUvtU",NE="Column-module__col9___kKhk6",ME="Column-module__colLg1___QuGQm",LE="Column-module__colLg10___dXcqn",DE="Column-module__colLg11___oicvM",FE="Column-module__colLg12___YOWIg",UE="Column-module__colLg2___I+Joj",BE="Column-module__colLg3___ztYKR",HE="Column-module__colLg4___LWebc",GE="Column-module__colLg5___3UaUR",qE="Column-module__colLg6___Y1blc",jE="Column-module__colLg7___mLOMs",VE="Column-module__colLg8___5Xh-h",zE="Column-module__colLg9___6uDDw",XE="Column-module__colMd1___CUOzo",KE="Column-module__colMd10___UCb5m",WE="Column-module__colMd11___TV+Ag",$E="Column-module__colMd12___ZtPH5",YE="Column-module__colMd2___G-H1w",QE="Column-module__colMd3___ScYa2",JE="Column-module__colMd4___1igtZ",ZE="Column-module__colMd5___YP72R",eC="Column-module__colMd6___STeQo",tC="Column-module__colMd7___JtRxR",nC="Column-module__colMd8___krfS1",rC="Column-module__colMd9___xAbEe",oC="Column-module__colSm1___r7nek",iC="Column-module__colSm10___7hEDc",aC="Column-module__colSm11___q0sV0",sC="Column-module__colSm12___8QJif",lC="Column-module__colSm2___CYTvw",cC="Column-module__colSm3___+5hFq",uC="Column-module__colSm4___yJPHf",dC="Column-module__colSm5___mIATz",pC="Column-module__colSm6___hvA0z",mC="Column-module__colSm7___FQC4X",hC="Column-module__colSm8___F57F2",gC="Column-module__colSm9___+O4yq",fC="Column-module__colXl1___6+t+g",_C="Column-module__colXl10___P+klB",vC="Column-module__colXl11___avtXX",yC="Column-module__colXl12___NpkIG",bC="Column-module__colXl2___RpBZz",SC="Column-module__colXl3___LQvlk",EC="Column-module__colXl4___nPfLK",CC="Column-module__colXl5___gjax7",TC="Column-module__colXl6___h3OZ3",wC="Column-module__colXl7___aEAhp",IC="Column-module__colXl8___HqxD8",PC="Column-module__colXl9___oOfI2",AC="1084px",kC="860px",xC="540px",RC="1400px";const OC=["className","children","xs","sm","md","lg","xl"],NC=e=>{const{className:t,children:n,xs:r,sm:o,md:i,lg:a,xl:s}=e,l=rb()(e,OC),d=[];return r&&d.push(c[`col${r}`]),o&&d.push(c[`colSm${o}`]),i&&d.push(c[`colMd${i}`]),a&&d.push(c[`colLg${a}`]),s&&d.push(c[`colXl${s}`]),d.length<1&&d.push(SE),u.createElement("div",f()({className:y()(d,t)},l),n)};const MC=["className","children"],LC=e=>{const{className:t,children:n}=e,r=rb()(e,MC);return u.createElement("div",f()({className:y()("Container-module__container___YTczU",t)},r),n)};const DC=e=>{const{children:t,contentTelemetry:n,displayedChildrenCountWhenCollapsed:r,footer:o,innerContainer:i="div"}=e,{showMore:a,showLess:s}=(0,wy.ot)("showMore","showLess"),[l,c]=(0,u.useState)(!0),d=t.slice(0,r),p=t.slice(r),m=l?a:s,h=(0,_.nO)({behavior:l?_.nS.EXPAND:_.nS.REDUCE,contentName:m,contentType:_.cM.Button,id:"expandingListButton"},n);return u.createElement("div",null,u.createElement("div",{className:"ExpandingListContainer-module__contentArea___XxGhi"},u.createElement(i,null,d,u.createElement("div",{className:"ExpandingListContainer-module__expandSeparator___eln3F"}),!l&&p)),o&&u.createElement("div",{className:"ExpandingListContainer-module__footer___blbJp"},o),u.Children.count(p)>0&&u.createElement(ab.a,f()({as:"button",className:"ExpandingListContainer-module__moreButton___leR3H",buttonSize:Pv.Mp.Medium,buttonType:Pv.VQ.Primary,overlayMode:Pv.w9.Solid,onClick:()=>{c(!l)}},(0,_.vj)(h)),m))};var FC=n(92488);function UC(){return!(!window.document||!window.document.createElement)}var BC=UC()?u.useLayoutEffect:u.useEffect;var HC=n(43144),GC=function(e){var t=e.children,n=e.type,r=void 0===n?"reach-portal":n,o=e.containerRef,i=(0,u.useRef)(null),a=(0,u.useRef)(null),s=function(){var e=(0,u.useState)(Object.create(null))[1];return(0,u.useCallback)((function(){e(Object.create(null))}),[])}();return BC((function(){if(i.current){var e=i.current.ownerDocument,t=(null==o?void 0:o.current)||e.body;return a.current=null==e?void 0:e.createElement(r),t.appendChild(a.current),s(),function(){a.current&&t&&t.removeChild(a.current)}}}),[r,s,o]),a.current?(0,HC.createPortal)(t,a.current):(0,u.createElement)("span",{ref:i})};function qC(e){return UC()?e?e.ownerDocument:document:null}function jC(){}function VC(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function zC(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"===typeof e)return VC(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?VC(e,t):void 0}}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e[Symbol.iterator]()).next.bind(n)}function XC(e,t){if(null!=e)if(function(e){return!(!e||"[object Function]"!={}.toString.call(e))}(e))e(t);else try{e.current=t}catch(n){throw new Error('Cannot assign value "'+t+'" to ref "'+e+'"')}}function KC(e,t){return function(n){if(e&&e(n),!n.defaultPrevented)return t(n)}}var WC=n(17502),$C=n(89575),YC="data-focus-lock",QC="data-focus-lock-disabled";function JC(e,t){return function(e,t){var n=(0,u.useState)((function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(e){var t=n.value;t!==e&&(n.value=e,n.callback(e,t))}}}}))[0];return n.callback=t,n.facade}(t,(function(t){return e.forEach((function(e){return function(e,t){return"function"===typeof e?e(t):e&&(e.current=t),e}(e,t)}))}))}var ZC={width:"1px",height:"0px",padding:0,overflow:"hidden",position:"fixed",top:"1px",left:"1px"},eT=function(e){var t=e.children;return u.createElement(u.Fragment,null,u.createElement("div",{key:"guard-first","data-focus-guard":!0,"data-focus-auto-guard":!0,style:ZC}),t,t&&u.createElement("div",{key:"guard-last","data-focus-guard":!0,"data-focus-auto-guard":!0,style:ZC}))};eT.propTypes={},eT.defaultProps={children:null};var tT=function(){return tT=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},tT.apply(this,arguments)};function nT(e){return e}function rT(e,t){void 0===t&&(t=nT);var n=[],r=!1;return{read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(e){var o=t(e,r);return n.push(o),function(){n=n.filter((function(e){return e!==o}))}},assignSyncMedium:function(e){for(r=!0;n.length;){var t=n;n=[],t.forEach(e)}n={push:function(t){return e(t)},filter:function(){return n}}},assignMedium:function(e){r=!0;var t=[];if(n.length){var o=n;n=[],o.forEach(e),t=n}var i=function(){var n=t;t=[],n.forEach(e)},a=function(){return Promise.resolve().then(i)};a(),n={push:function(e){t.push(e),a()},filter:function(e){return t=t.filter(e),n}}}}}function oT(e,t){return void 0===t&&(t=nT),rT(e,t)}function iT(e){void 0===e&&(e={});var t=rT(null);return t.options=tT({async:!0,ssr:!1},e),t}var aT=oT({},(function(e){return{target:e.target,currentTarget:e.currentTarget}})),sT=oT(),lT=oT(),cT=iT({async:!0}),uT=[],dT=u.forwardRef((function(e,t){var n,r=u.useState(),o=r[0],i=r[1],a=u.useRef(),s=u.useRef(!1),l=u.useRef(null),c=e.children,d=e.disabled,p=e.noFocusGuards,m=e.persistentFocus,h=e.crossFrame,g=e.autoFocus,f=(e.allowTextSelection,e.group),_=e.className,v=e.whiteList,y=e.shards,b=void 0===y?uT:y,S=e.as,E=void 0===S?"div":S,C=e.lockProps,T=void 0===C?{}:C,w=e.sideCar,I=e.returnFocus,P=e.focusOptions,A=e.onActivation,k=e.onDeactivation,x=u.useState({})[0],R=u.useCallback((function(){l.current=l.current||document&&document.activeElement,a.current&&A&&A(a.current),s.current=!0}),[A]),O=u.useCallback((function(){s.current=!1,k&&k(a.current)}),[k]);(0,u.useEffect)((function(){d||(l.current=null)}),[]);var N=u.useCallback((function(e){var t=l.current;if(t&&t.focus){var n="function"===typeof I?I(t):I;if(Boolean(n)){var r="object"===typeof n?n:void 0;l.current=null,e?Promise.resolve().then((function(){return t.focus(r)})):t.focus(r)}}}),[I]),M=u.useCallback((function(e){s.current&&aT.useMedium(e)}),[]),L=sT.useMedium,D=u.useCallback((function(e){a.current!==e&&(a.current=e,i(e))}),[]);var F=(0,$C.A)(((n={})[QC]=d&&"disabled",n[YC]=f,n),T),U=!0!==p,B=U&&"tail"!==p,H=JC([t,D]);return u.createElement(u.Fragment,null,U&&[u.createElement("div",{key:"guard-first","data-focus-guard":!0,tabIndex:d?-1:0,style:ZC}),u.createElement("div",{key:"guard-nearest","data-focus-guard":!0,tabIndex:d?-1:1,style:ZC})],!d&&u.createElement(w,{id:x,sideCar:cT,observed:o,disabled:d,persistentFocus:m,crossFrame:h,autoFocus:g,whiteList:v,shards:b,onActivation:R,onDeactivation:O,returnFocus:N,focusOptions:P}),u.createElement(E,(0,$C.A)({ref:H},F,{className:_,onBlur:L,onFocus:M}),c),B&&u.createElement("div",{"data-focus-guard":!0,tabIndex:d?-1:0,style:ZC}))}));dT.propTypes={},dT.defaultProps={children:void 0,disabled:!1,returnFocus:!1,focusOptions:void 0,noFocusGuards:!1,autoFocus:!0,persistentFocus:!1,crossFrame:!0,allowTextSelection:void 0,group:void 0,className:void 0,whiteList:void 0,shards:void 0,as:"div",lockProps:{},onActivation:void 0,onDeactivation:void 0};const pT=dT;var mT=n(50701),hT=n(98158);const gT=function(e,t){return function(n){var r,o=[];function i(){r=e(o.map((function(e){return e.props}))),t(r)}var a=function(e){function t(){return e.apply(this,arguments)||this}(0,mT.A)(t,e),t.peek=function(){return r};var a=t.prototype;return a.componentDidMount=function(){o.push(this),i()},a.componentDidUpdate=function(){i()},a.componentWillUnmount=function(){var e=o.indexOf(this);o.splice(e,1),i()},a.render=function(){return u.createElement(n,this.props)},t}(u.PureComponent);return(0,hT.A)(a,"displayName","SideEffect("+function(e){return e.displayName||e.name||"Component"}(n)+")"),a}};var fT=function(e){for(var t=Array(e.length),n=0;n<e.length;++n)t[n]=e[n];return t},_T=function(e){return Array.isArray(e)?e:[e]},vT=function(e){return e.parentNode?vT(e.parentNode):e},yT=function(e){return _T(e).filter(Boolean).reduce((function(e,t){var n=t.getAttribute(YC);return e.push.apply(e,n?function(e){for(var t=new Set,n=e.length,r=0;r<n;r+=1)for(var o=r+1;o<n;o+=1){var i=e[r].compareDocumentPosition(e[o]);(i&Node.DOCUMENT_POSITION_CONTAINED_BY)>0&&t.add(o),(i&Node.DOCUMENT_POSITION_CONTAINS)>0&&t.add(r)}return e.filter((function(e,n){return!t.has(n)}))}(fT(vT(t).querySelectorAll("["+YC+'="'+n+'"]:not(['+QC+'="disabled"])'))):[t]),e}),[])},bT=function(e){return Boolean(fT(e.querySelectorAll("iframe")).some((function(e){return e===document.activeElement})))},ST=function(e){var t=document&&document.activeElement;return!(!t||t.dataset&&t.dataset.focusGuard)&&yT(e).reduce((function(e,n){return e||n.contains(t)||bT(n)}),!1)},ET=function(e){return"INPUT"===e.tagName&&"radio"===e.type},CT=function(e,t){return ET(e)&&e.name?function(e,t){return t.filter(ET).filter((function(t){return t.name===e.name})).filter((function(e){return e.checked}))[0]||e}(e,t):e},TT=function(e){return e[0]&&e.length>1?CT(e[0],e):e[0]},wT=function(e,t){return e.length>1?e.indexOf(CT(e[t],e)):t},IT=function(e,t){return!e||e===document||e&&e.nodeType===Node.DOCUMENT_NODE||!function(e){if(e.nodeType!==Node.ELEMENT_NODE)return!1;var t=window.getComputedStyle(e,null);return!(!t||!t.getPropertyValue)&&("none"===t.getPropertyValue("display")||"hidden"===t.getPropertyValue("visibility"))}(e)&&t(e.parentNode&&e.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE?e.parentNode.host:e.parentNode)},PT=function(e,t){var n=e.get(t);if(void 0!==n)return n;var r=IT(t,PT.bind(void 0,e));return e.set(t,r),r},AT=function(e){return Boolean(e&&e.dataset&&e.dataset.focusGuard)},kT=function(e){return!AT(e)},xT=function(e){return Boolean(e)},RT="NEW_FOCUS",OT=function(e,t,n,r){var o=e.length,i=e[0],a=e[o-1],s=AT(n);if(!(e.indexOf(n)>=0)){var l=t.indexOf(n),c=r?t.indexOf(r):l,u=r?e.indexOf(r):-1,d=l-c,p=t.indexOf(i),m=t.indexOf(a),h=function(e){var t=new Set;return e.forEach((function(n){return t.add(CT(n,e))})),e.filter((function(e){return t.has(e)}))}(t),g=h.indexOf(n)-(r?h.indexOf(r):l),f=wT(e,0),_=wT(e,o-1);return-1===l||-1===u?RT:!d&&u>=0?u:l<=p&&s&&Math.abs(d)>1?_:l>=m&&s&&Math.abs(d)>1?f:d&&Math.abs(g)>1?u:l<=p?_:l>m?f:d?Math.abs(d)>1?u:(o+u+d)%o:void 0}},NT=function(e,t){var n=e.tabIndex-t.tabIndex,r=e.index-t.index;if(n){if(!e.tabIndex)return 1;if(!t.tabIndex)return-1}return n||r},MT=function(e,t,n){return fT(e).map((function(e,t){return{node:e,index:t,tabIndex:n&&-1===e.tabIndex?(e.dataset||{}).focusGuard?0:-1:e.tabIndex}})).filter((function(e){return!t||e.tabIndex>=0})).sort(NT)},LT=["button:enabled","select:enabled","textarea:enabled","input:enabled","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[tabindex]","[contenteditable]","[autofocus]"].join(","),DT=LT+", [data-focus-guard]",FT=function(e,t){return e.reduce((function(e,n){return e.concat(fT(n.querySelectorAll(t?DT:LT)),n.parentNode?fT(n.parentNode.querySelectorAll(LT)).filter((function(e){return e===n})):[])}),[])},UT=function(e,t){return fT(e).filter((function(e){return PT(t,e)})).filter((function(e){return function(e){return!(("INPUT"===e.tagName||"BUTTON"===e.tagName)&&("hidden"===e.type||e.disabled))}(e)}))},BT=function(e,t,n){return MT(UT(FT(e,n),t),!0,n)},HT=function(e,t){return MT(UT(FT(e),t),!1)},GT=function(e,t){return UT(function(e){var t=e.querySelectorAll("[data-autofocus-inside]");return fT(t).map((function(e){return FT([e])})).reduce((function(e,t){return e.concat(t)}),[])}(e),t)},qT=function(e,t){return void 0===t&&(t=[]),t.push(e),e.parentNode&&qT(e.parentNode,t),t},jT=function(e,t){for(var n=qT(e),r=qT(t),o=0;o<n.length;o+=1){var i=n[o];if(r.indexOf(i)>=0)return i}return!1},VT=function(e,t,n){var r=_T(e),o=_T(t),i=r[0],a=!1;return o.filter(Boolean).forEach((function(e){a=jT(a||e,e)||a,n.filter(Boolean).forEach((function(e){var t=jT(i,e);t&&(a=!a||t.contains(a)?t:jT(t,a))}))})),a},zT=function(e,t){var n=document&&document.activeElement,r=yT(e).filter(kT),o=VT(n||e,e,r),i=new Map,a=HT(r,i),s=BT(r,i).filter((function(e){var t=e.node;return kT(t)}));if(s[0]||(s=a)[0]){var l,c=HT([o],i).map((function(e){return e.node})),u=function(e,t){var n=new Map;return t.forEach((function(e){return n.set(e.node,e)})),e.map((function(e){return n.get(e)})).filter(xT)}(c,s),d=u.map((function(e){return e.node})),p=OT(d,c,n,t);if(p===RT){var m=a.map((function(e){return e.node})).filter((l=function(e,t){return e.reduce((function(e,n){return e.concat(GT(n,t))}),[])}(r,i),function(e){return e.autofocus||e.dataset&&!!e.dataset.autofocus||l.indexOf(e)>=0}));return{node:m&&m.length?TT(m):TT(d)}}return void 0===p?p:u[p]}},XT=0,KT=!1;const WT=function(e,t,n){void 0===n&&(n={});var r,o,i=zT(e,t);if(!KT&&i){if(XT>2)return console.error("FocusLock: focus-fighting detected. Only one focus management system could be active. See https://github.com/theKashey/focus-lock/#focus-fighting"),KT=!0,void setTimeout((function(){KT=!1}),1);XT++,r=i.node,o=n.focusOptions,r.focus(o),"contentWindow"in r&&r.contentWindow&&r.contentWindow.focus(),XT--}};function $T(e){var t=window.setImmediate;"undefined"!==typeof t?t(e):setTimeout(e,1)}var YT=function(){return document&&document.activeElement===document.body||document&&fT(document.querySelectorAll("[data-no-focus-lock]")).some((function(e){return e.contains(document.activeElement)}))},QT=null,JT=null,ZT=null,ew=!1,tw=function(){return!0};function nw(e,t,n,r){var o=null,i=e;do{var a=r[i];if(a.guard)a.node.dataset.focusAutoGuard&&(o=a);else{if(!a.lockItem)break;if(i!==e)return;o=null}}while((i+=n)!==t);o&&(o.node.tabIndex=0)}var rw=function(e){return e&&"current"in e?e.current:e},ow=function(){var e,t=!1;if(QT){var n=QT,r=n.observed,o=n.persistentFocus,i=n.autoFocus,a=n.shards,s=n.crossFrame,l=n.focusOptions,c=r||ZT&&ZT.portaledElement,u=document&&document.activeElement;if(c){var d=[c].concat(a.map(rw).filter(Boolean));if(u&&!function(e){return(QT.whiteList||tw)(e)}(u)||(o||(s?Boolean(ew):"meanwhile"===ew)||!YT()||!JT&&i)&&(!c||ST(d)||(e=u,ZT&&ZT.portaledElement===e)||(document&&!JT&&u&&!i?(u.blur&&u.blur(),document.body.focus()):(t=WT(d,JT,{focusOptions:l}),ZT={})),ew=!1,JT=document&&document.activeElement),document){var p=document&&document.activeElement,m=function(e){var t=yT(e).filter(kT),n=VT(e,e,t),r=new Map,o=BT([n],r,!0),i=BT(t,r).filter((function(e){var t=e.node;return kT(t)})).map((function(e){return e.node}));return o.map((function(e){var t=e.node;return{node:t,index:e.index,lockItem:i.indexOf(t)>=0,guard:AT(t)}}))}(d),h=m.map((function(e){return e.node})).indexOf(p);h>-1&&(m.filter((function(e){var t=e.guard,n=e.node;return t&&n.dataset.focusAutoGuard})).forEach((function(e){return e.node.removeAttribute("tabIndex")})),nw(h,m.length,1,m),nw(h,-1,-1,m))}}}return t},iw=function(e){ow()&&e&&(e.stopPropagation(),e.preventDefault())},aw=function(){return $T(ow)},sw=function(e){var t=e.target,n=e.currentTarget;n.contains(t)||(ZT={observerNode:n,portaledElement:t})},lw=function(){ew="just",setTimeout((function(){ew="meanwhile"}),0)};aT.assignSyncMedium(sw),sT.assignMedium(aw),lT.assignMedium((function(e){return e({moveFocusInside:WT,focusInside:ST})}));const cw=gT((function(e){return e.filter((function(e){return!e.disabled}))}),(function(e){var t=e.slice(-1)[0];t&&!QT&&(document.addEventListener("focusin",iw),document.addEventListener("focusout",aw),window.addEventListener("blur",lw));var n=QT,r=n&&t&&t.id===n.id;QT=t,n&&!r&&(n.onDeactivation(),e.filter((function(e){return e.id===n.id})).length||n.returnFocus(!t)),t?(JT=null,r&&n.observed===t.observed||t.onActivation(),ow(),$T(ow)):(document.removeEventListener("focusin",iw),document.removeEventListener("focusout",aw),window.removeEventListener("blur",lw),JT=null)}))((function(){return null}));var uw=u.forwardRef((function(e,t){return u.createElement(pT,(0,$C.A)({sideCar:cw,ref:t},e))})),dw=pT.propTypes||{};dw.sideCar,(0,WC.A)(dw,["sideCar"]);uw.propTypes={};const pw=uw;var mw=function(){return mw=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},mw.apply(this,arguments)};var hw="right-scroll-bar-position",gw="width-before-scroll-bar",fw=iT(),_w=function(){},vw=u.forwardRef((function(e,t){var n=u.useRef(null),r=u.useState({onScrollCapture:_w,onWheelCapture:_w,onTouchMoveCapture:_w}),o=r[0],i=r[1],a=e.forwardProps,s=e.children,l=e.className,c=e.removeScrollBar,d=e.enabled,p=e.shards,m=e.sideCar,h=e.noIsolation,g=e.inert,f=e.allowPinchZoom,_=e.as,v=void 0===_?"div":_,y=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),b=m,S=JC([n,t]),E=mw({},y,o);return u.createElement(u.Fragment,null,d&&u.createElement(b,{sideCar:fw,removeScrollBar:c,shards:p,noIsolation:h,inert:g,setCallbacks:i,allowPinchZoom:!!f,lockRef:n}),a?u.cloneElement(u.Children.only(s),mw({},E,{ref:S})):u.createElement(v,mw({},E,{className:l,ref:S}),s))}));vw.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},vw.classNames={fullWidth:gw,zeroRight:hw};var yw,bw=function(e){var t=e.sideCar,n=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return u.createElement(r,tT({},n))};bw.isSideCarExport=!0;function Sw(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=yw||n.nc;return t&&e.setAttribute("nonce",t),e}var Ew=function(){var e=0,t=null;return{add:function(n){var r,o;0==e&&(t=Sw())&&(o=n,(r=t).styleSheet?r.styleSheet.cssText=o:r.appendChild(document.createTextNode(o)),function(e){(document.head||document.getElementsByTagName("head")[0]).appendChild(e)}(t)),e++},remove:function(){! --e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Cw=function(){var e=function(){var e=Ew();return function(t){u.useEffect((function(){return e.add(t),function(){e.remove()}}),[])}}();return function(t){var n=t.styles;return e(n),null}},Tw=function(e){return parseInt(e||"",10)||0},ww=function(e){void 0===e&&(e="margin");var t=function(e){var t=window.getComputedStyle(document.body),n=t["padding"===e?"paddingLeft":"marginLeft"],r=t["padding"===e?"paddingTop":"marginTop"],o=t["padding"===e?"paddingRight":"marginRight"];return[Tw(n),Tw(r),Tw(o)]}(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},Iw=Cw(),Pw=function(e,t,n,r){var o=e.left,i=e.top,a=e.right,s=e.gap;return void 0===n&&(n="margin"),"\n  .with-scroll-bars-hidden {\n   overflow: hidden "+r+";\n   padding-right: "+s+"px "+r+";\n  }\n  body {\n    overflow: hidden "+r+";\n    "+[t&&"position: relative "+r+";","margin"===n&&"\n    padding-left: "+o+"px;\n    padding-top: "+i+"px;\n    padding-right: "+a+"px;\n    margin-left:0;\n    margin-top:0;\n    margin-right: "+s+"px "+r+";\n    ","padding"===n&&"padding-right: "+s+"px "+r+";"].filter(Boolean).join("")+"\n  }\n  \n  ."+hw+" {\n    right: "+s+"px "+r+";\n  }\n  \n  ."+gw+" {\n    margin-right: "+s+"px "+r+";\n  }\n  \n  ."+hw+" ."+hw+" {\n    right: 0 "+r+";\n  }\n  \n  ."+gw+" ."+gw+" {\n    margin-right: 0 "+r+";\n  }\n  \n  body {\n    --removed-body-scroll-bar-size: "+s+"px;\n  }\n"},Aw=function(e){var t=u.useState(ww(e.gapMode)),n=t[0],r=t[1];u.useEffect((function(){r(ww(e.gapMode))}),[e.gapMode]);var o=e.noRelative,i=e.noImportant,a=e.gapMode,s=void 0===a?"margin":a;return u.createElement(Iw,{styles:Pw(n,!o,s,i?"":"!important")})},kw=function(e,t){var n=t;do{if("undefined"!==typeof ShadowRoot&&n instanceof ShadowRoot&&(n=n.host),xw(e,n)){var r=Rw(e,n);if(r[1]>r[2])return!0}n=n.parentNode}while(n&&n!==document.body);return!1},xw=function(e,t){return"v"===e?function(e){var t=window.getComputedStyle(e);return"hidden"!==t.overflowY&&!(t.overflowY===t.overflowX&&"visible"===t.overflowY)}(t):function(e){var t=window.getComputedStyle(e);return"range"===e.type||"hidden"!==t.overflowX&&!(t.overflowY===t.overflowX&&"visible"===t.overflowX)}(t)},Rw=function(e,t){return"v"===e?[(n=t).scrollTop,n.scrollHeight,n.clientHeight]:function(e){return[e.scrollLeft,e.scrollWidth,e.clientWidth]}(t);var n},Ow=!1;try{var Nw=Object.defineProperty({},"passive",{get:function(){return Ow=!0,!0}});window.addEventListener("test",Nw,Nw),window.removeEventListener("test",Nw,Nw)}catch(aI){Ow=!1}var Mw=!!Ow&&{passive:!1},Lw=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Dw=function(e){return[e.deltaX,e.deltaY]},Fw=function(e){return e&&"current"in e?e.current:e},Uw=function(e){return"\n  .block-interactivity-"+e+" {pointer-events: none;}\n  .allow-interactivity-"+e+" {pointer-events: all;}\n"},Bw=0,Hw=[];const Gw=function(e,t){return e.useMedium(t),bw}(fw,(function(e){var t=u.useRef([]),n=u.useRef([0,0]),r=u.useRef(),o=u.useState(Bw++)[0],i=u.useState((function(){return Cw()}))[0],a=u.useRef(e);u.useEffect((function(){a.current=e}),[e]),u.useEffect((function(){if(e.inert){document.body.classList.add("block-interactivity-"+o);var t=[e.lockRef.current].concat((e.shards||[]).map(Fw)).filter(Boolean);return t.forEach((function(e){return e.classList.add("allow-interactivity-"+o)})),function(){document.body.classList.remove("block-interactivity-"+o),t.forEach((function(e){return e.classList.remove("allow-interactivity-"+o)}))}}}),[e.inert,e.lockRef.current,e.shards]);var s=u.useCallback((function(e,t){if("touches"in e&&2===e.touches.length)return!a.current.allowPinchZoom;var o,i=Lw(e),s=n.current,l="deltaX"in e?e.deltaX:s[0]-i[0],c="deltaY"in e?e.deltaY:s[1]-i[1],u=e.target,d=Math.abs(l)>Math.abs(c)?"h":"v",p=kw(d,u);if(!p)return!0;if(p?o=d:(o="v"===d?"h":"v",p=kw(d,u)),!p)return!1;if(!r.current&&"changedTouches"in e&&(l||c)&&(r.current=o),!o)return!0;var m=r.current||o;return function(e,t,n,r,o){var i=r,a=n.target,s=t.contains(a),l=!1,c=i>0,u=0,d=0;do{var p=Rw(e,a),m=p[0],h=p[1]-p[2]-m;(m||h)&&xw(e,a)&&(u+=h,d+=m),a=a.parentNode}while(!s&&a!==document.body||s&&(t.contains(a)||t===a));return(c&&(o&&0===u||!o&&i>u)||!c&&(o&&0===d||!o&&-i>d))&&(l=!0),l}(m,t,e,"h"===m?l:c,!0)}),[]),l=u.useCallback((function(e){var n=e;if(Hw.length&&Hw[Hw.length-1]===i){var r="deltaY"in n?Dw(n):Lw(n),o=t.current.filter((function(e){return e.name===n.type&&e.target===n.target&&(t=e.delta,o=r,t[0]===o[0]&&t[1]===o[1]);var t,o}))[0];if(o&&o.should)n.preventDefault();else if(!o){var l=(a.current.shards||[]).map(Fw).filter(Boolean).filter((function(e){return e.contains(n.target)}));(l.length>0?s(n,l[0]):!a.current.noIsolation)&&n.preventDefault()}}}),[]),c=u.useCallback((function(e,n,r,o){var i={name:e,delta:n,target:r,should:o};t.current.push(i),setTimeout((function(){t.current=t.current.filter((function(e){return e!==i}))}),1)}),[]),d=u.useCallback((function(e){n.current=Lw(e),r.current=void 0}),[]),p=u.useCallback((function(t){c(t.type,Dw(t),t.target,s(t,e.lockRef.current))}),[]),m=u.useCallback((function(t){c(t.type,Lw(t),t.target,s(t,e.lockRef.current))}),[]);u.useEffect((function(){return Hw.push(i),e.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:m}),document.addEventListener("wheel",l,Mw),document.addEventListener("touchmove",l,Mw),document.addEventListener("touchstart",d,Mw),function(){Hw=Hw.filter((function(e){return e!==i})),document.removeEventListener("wheel",l,Mw),document.removeEventListener("touchmove",l,Mw),document.removeEventListener("touchstart",d,Mw)}}),[]);var h=e.removeScrollBar,g=e.inert;return u.createElement(u.Fragment,null,g?u.createElement(i,{styles:Uw(o)}):null,h?u.createElement(Aw,{gapMode:"margin"}):null)}));var qw=u.forwardRef((function(e,t){return u.createElement(vw,mw({},e,{ref:t,sideCar:Gw}))}));qw.classNames=vw.classNames;const jw=qw;var Vw=n(39067),zw=n.n(Vw);function Xw(){return Xw=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xw.apply(this,arguments)}function Kw(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}var Ww=["as","isOpen"],$w=["allowPinchZoom","as","dangerouslyBypassFocusLock","dangerouslyBypassScrollLock","initialFocusRef","onClick","onDismiss","onKeyDown","onMouseDown","unstable_lockFocusAcrossFrames"],Yw=["as","onClick","onKeyDown"],Qw=(zw().bool,zw().bool,zw().bool,zw().func,(0,u.forwardRef)((function(e,t){var n=e.as,r=void 0===n?"div":n,o=e.isOpen,i=void 0===o||o,a=Kw(e,Ww);return(0,u.useEffect)((function(){i?window.__REACH_DISABLE_TOOLTIPS=!0:window.requestAnimationFrame((function(){window.__REACH_DISABLE_TOOLTIPS=!1}))}),[i]),i?(0,u.createElement)(GC,{"data-reach-dialog-wrapper":""},(0,u.createElement)(Jw,Xw({ref:t,as:r},a))):null})));var Jw=(0,u.forwardRef)((function(e,t){var n=e.allowPinchZoom,r=e.as,o=void 0===r?"div":r,i=e.dangerouslyBypassFocusLock,a=void 0!==i&&i,s=e.dangerouslyBypassScrollLock,l=void 0!==s&&s,c=e.initialFocusRef,d=e.onClick,p=e.onDismiss,m=void 0===p?jC:p,h=e.onKeyDown,g=e.onMouseDown,f=e.unstable_lockFocusAcrossFrames,_=Kw(e,$w);var v=(0,u.useRef)(null),y=(0,u.useRef)(null),b=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,u.useCallback)((function(e){for(var n,r=zC(t);!(n=r()).done;)XC(n.value,e)}),t)}(y,t),S=(0,u.useCallback)((function(){c&&c.current&&c.current.focus()}),[c]);return(0,u.useEffect)((function(){return y.current?function(e){var t=[],n=[],r=qC(e);if(!e)return jC;return Array.prototype.forEach.call(r.querySelectorAll("body > *"),(function(r){var o,i;if(r!==(null==(o=e.parentNode)||null==(i=o.parentNode)?void 0:i.parentNode)){var a=r.getAttribute("aria-hidden");null!==a&&"false"!==a||(t.push(a),n.push(r),r.setAttribute("aria-hidden","true"))}})),function(){n.forEach((function(e,n){var r=t[n];null===r?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",r)}))}}(y.current):void 0}),[]),(0,u.createElement)(pw,{autoFocus:!0,returnFocus:!0,onActivation:S,disabled:a,crossFrame:null==f||f},(0,u.createElement)(jw,{allowPinchZoom:n,enabled:!l},(0,u.createElement)(o,Xw({},_,{ref:b,"data-reach-dialog-overlay":"",onClick:KC(d,(function(e){v.current===e.target&&(e.stopPropagation(),m(e))})),onKeyDown:KC(h,(function(e){"Escape"===e.key&&(e.stopPropagation(),m(e))})),onMouseDown:KC(g,(function(e){v.current=e.target}))}))))}));var Zw=(0,u.forwardRef)((function(e,t){var n=e.as,r=void 0===n?"div":n,o=e.onClick;e.onKeyDown;var i=Kw(e,Yw);return(0,u.createElement)(r,Xw({"aria-modal":"true",role:"dialog",tabIndex:-1},i,{ref:t,"data-reach-dialog-content":"",onClick:KC(o,(function(e){e.stopPropagation()}))}))}));const eI=e=>{let{ariaLabel:t,ariaLabelledBy:n,children:r,className:o,closeable:i,initialFocusRef:a,fullscreenOnMobile:s,onCloseBtnClick:l,onHide:c,overlayClassName:p,closeContainerClassName:m,closeButtonClassName:h,show:g}=e;const{closeButtonText:f}=(0,wy.ot)("closeButtonText"),_=(0,Ly.useSelector)((e=>(0,d.pzA)(e,d.WTf.EnableXboxSmallPurchaseDialog)));return u.createElement(Qw,{className:y()("Modal-module__xgpResetStyle___+7xaa","Modal-module__modalOverlay___YKbWD",p),isOpen:g,initialFocusRef:a,onDismiss:c},u.createElement(Zw,{"aria-label":t,"aria-labelledby":n,className:y()("Modal-module__modalDialog___-Mw6H",s?"Modal-module__mobileFullScreenModalDialog___09hRt":void 0)},u.createElement("div",{className:y()("Modal-module__modalContent___0R0rF",_&&"Modal-module__smallContextualStoreModal___j9BCu",s?"Modal-module__mobileFullScreenModalContent___hEoxJ":void 0,o)},r,i&&u.createElement("div",{className:y()("Modal-module__closeContainer___kCjh7",m)},u.createElement(cE.m,{as:"button","aria-label":f,className:h,icon:FC.A,buttonType:Pv.VQ.Tertiary,onClick:null!==l&&void 0!==l?l:c,title:f})))))};eI.Header=e=>{let{className:t,children:n}=e;return u.createElement("div",{className:y()(t,"Modal-module__modalHeader___S7yfg")},n)},eI.Body=e=>{let{className:t,children:n}=e;return u.createElement("div",{className:y()(t,"Modal-module__modalBody___+Kkbo")},n)};const tI=["className","children"],nI=e=>{const{className:t,children:n}=e,r=rb()(e,tI);return u.createElement("div",f()({className:y()("Row-module__row___iFfSz",t)},r),n)};var rI=n(46258),oI=n(56764);const iI=e=>{const{innerTextAriaLabelOverride:t,href:n,linkClassName:r,linkIconClassName:o,linkIconSize:i,linkText:a,linkTextClassName:s,telemetryProps:l}=e,c=(0,_.vj)((0,_.nO)({behavior:_.nS.NAVIGATIONFORWARD,contentName:a,id:"ExternalLink"},l)),d=t||a;return u.createElement(ab.a,f()({"aria-label":d,as:"a",buttonType:Pv.VQ.Tertiary,className:y()(cb,r),href:n,rel:"noopener noreferrer"},c),u.createElement("span",{className:s},a),u.createElement(sb.In,{icon:oI.A,iconSize:null!==i&&void 0!==i?i:sb.lK.XXSmall,className:y()(ub,o)}))}},79401:(e,t,n)=>{"use strict";n.d(t,{J:()=>r});const r={gamepassPC:"e5ada363-6ac5-4c74-bc19-d8ed821aa5fd"}},15975:(e,t,n)=>{"use strict";n.d(t,{m1:()=>c,V1:()=>r,hT:()=>i,H_:()=>a,Sx:()=>s,zi:()=>l,$h:()=>o});var r;n(79401);!function(e){e.Unknown="Unknown",e.AppLoad="AppLoad",e.InteractiveSignIn="InteractiveSignIn",e.DeviceCodeSignIn="DeviceCodeSignIn",e.SilentSignIn="SilentSignIn",e.SignInUnavailable="SignInUnavailable",e.ConsentValuesUpdated="ConsentValuesUpdated"}(r||(r={}));const o=["AR","HE"],i={telemetry:"telemetry",authentication:"authentication",cookies:"cookies",session:"session",partners:"partners"};var a,s;!function(e){e[e.Undefined=0]="Undefined",e[e.Unknown=1]="Unknown",e[e.Other=2]="Other",e[e.Success=3]="Success",e[e.CallerError=4]="CallerError",e[e.TransportError=5]="TransportError",e[e.ServiceError=6]="ServiceError"}(a||(a={})),function(e){e.Light="Light",e.Dark="Dark",e.DarkHeader="DarkHeader"}(s||(s={}));const l="x-theme",c="/{locale}/games/browse/{collection}"},55552:(e,t,n)=>{"use strict";n.d(t,{B1:()=>l,GV:()=>s,UV:()=>c,iD:()=>d,xJ:()=>u});n(98376),n(47748),n(14293),n(81045),n(30163),n(84915),n(55367);var r=n(79824),o=n(32841),i=n(8278),a=n(77278);const s=(e,t)=>`${e}-${t}`,l=e=>{const t=(0,r.useSelector)(o.a5);return(0,a.a)(e,t)},c=e=>e.map((e=>e.replace(/ /g,"\xa0"))),u=(e,t)=>0===t.length?"":t.reduce(((t,n,r)=>r?(0,i.GP)(e,t,n):n),""),d=e=>{var t;return null!==(t=null===e||void 0===e?void 0:e.filter((e=>e.toLowerCase().includes("adobe-"))).join("|"))&&void 0!==t?t:""}},3023:(e,t,n)=>{"use strict";n.d(t,{Wy:()=>G,_F:()=>q,ff:()=>he,uE:()=>g,yD:()=>f,jN:()=>j,e2:()=>V,kV:()=>me,qg:()=>Ce,Pd:()=>y,K1:()=>v,Lz:()=>b,jb:()=>_,JS:()=>r,VM:()=>ue,GV:()=>ie.GV,aw:()=>xe,ic:()=>U,Yj:()=>Y,GP:()=>m.GP,iD:()=>ie.iD,vv:()=>ee,Oz:()=>m.Oz,l_:()=>c,kQ:()=>u,Oe:()=>ke,x6:()=>ye,at:()=>Ie.a,Uq:()=>le,cs:()=>Pe,PT:()=>Ae,SH:()=>p,RJ:()=>se,b0:()=>re.b,X2:()=>F,PE:()=>Ie.P,VT:()=>ne,j4:()=>pe,B:()=>P,CH:()=>x,d6:()=>B,xJ:()=>ie.xJ,tc:()=>m.tc,td:()=>m.td,XB:()=>ce,q3:()=>oe,r7:()=>fe.r7,q6:()=>m.q6,bv:()=>m.bv,Mn:()=>Ee,HR:()=>fe.HR,UV:()=>ie.UV,TV:()=>W,Q_:()=>k,xd:()=>O,_W:()=>N,m$:()=>I,ww:()=>A,xr:()=>R,Az:()=>H,Y2:()=>be,Ig:()=>ge,IT:()=>d,nW:()=>we,B1:()=>ie.B1,YO:()=>fe.YO,wj:()=>Se,VO:()=>K});const r=(e,t)=>(null===e||void 0===e?void 0:e.toLowerCase())===(null===t||void 0===t?void 0:t.toLowerCase());var o=n(14041),i=n(79401),a=(n(97107),n(98376),n(10568),n(91321),n(47010),n(83165),n(24541),n(34397),n(79824)),s=n(86090),l=n(32841);n(81045),n(5350),n(84915);const c=(e,t)=>{let n;const r=t.toLowerCase();return e.forEach(((e,t)=>{n||r!==t.toLowerCase()||(n={value:e,originalKey:t})})),n},u=function(e){const t={};e.forEach(((e,n)=>t[n.toLowerCase()]={value:e,originalKey:n}));for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return r.map((e=>t[e.toLowerCase()]))},d=e=>{var t;const n=(0,s.zy)(),r=new URLSearchParams(n.search);return null===(t=c(r,e))||void 0===t?void 0:t.value},p=()=>!1;var m=n(8278);const h="https://account.xbox.com",g="https://account.microsoft.com/billing/orders",f="https://www.microsoft.com",_="https://www.xbox.com",v="XboxInstaller.exe",y="https://aka.ms/XboxInstaller",b=`https://dlassets-ssl.xboxlive.com/public/content/XboxInstaller/${v}?productId={0}`,S="sandboxId",E=e=>{let t=e;let n=0;for(;n<10;){let e;try{e=decodeURIComponent(t)}catch(r){break}if(e===t)break;t=e,n++}return encodeURIComponent(t)},C=e=>function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(0,m.tc)("/auth/msa?action=logIn&returnUrl={returnUrl}",{returnUrl:E(t)});const{coBrandEnable:o,coBrandId:i,sandboxId:a,prompt:s}=n;return o&&i&&(r+=`&cobrandid=${i}`),a&&(r+=`&${S}=${a}`),s&&(r+=`&prompt=${s}`),e?`/${e}${r}`:r},T=e=>(t,n)=>{let r=(0,m.tc)("/auth/msa?action=logOut&returnUrl={returnUrl}",{returnUrl:E(t)});return n&&(r+=`&${S}=${n}`),e?`/${e}${r}`:r},w=e=>(t,n)=>C(e)(t,{sandboxId:n}),I=()=>{const e=(0,s.zy)(),t=(0,a.useSelector)(l.a5),n=(0,a.useSelector)(l.GY).origin;if(!p())return window.location.href;const r=new URL(`/${t}${e.pathname}`,n);return r.search=e.search,r.toString()},P=e=>C(e),A=()=>{const e=(0,a.useSelector)(l.a5);return P(e)},k=e=>{const t=I(),n=d(S),r=(0,a.useSelector)(l.a5);return P(r)(e||t,{sandboxId:n})},x=e=>T(e),R=()=>{const e=(0,a.useSelector)(l.a5);return x(e)},O=e=>{const t=I(),n=d(S),r=(0,a.useSelector)(l.a5);return x(r)(e||t,n)},N=e=>{const t=I(),n=d(S),r=(e=>w(e))((0,a.useSelector)(l.a5));return r(e||t,n)},M="/account/signin",L="/account/signout",D="/accountcreation";function F(e){return e.origin===h&&[M,L,D].includes(e.pathname.toLowerCase())}function U(e,t){var n,r;if(!F(e))throw new Error("URL is not a V1 auth URL.");const o=e.pathname.toLowerCase(),i=null!==(n=e.searchParams.get("sbx"))&&void 0!==n?n:void 0,a=null!==(r=e.searchParams.get("cobrandid"))&&void 0!==r?r:void 0,s=window.location.href;if(o===M)return C(t)(s,{sandboxId:i,coBrandId:a,coBrandEnable:void 0!==a});if(o===L)return T(t)(s,i);if(o===D)return w(t)(s,i);throw new Error(`Unexpected path name: "${o}"`)}const B=e=>{const t=P(e);return e=>t(e,{sandboxId:void 0,coBrandEnable:!0,coBrandId:i.J.gamepassPC})},H=()=>{const e=A();return(0,o.useCallback)((t=>e(t,{sandboxId:void 0,coBrandEnable:!0,coBrandId:i.J.gamepassPC})),[e])};n(86741),n(45950),n(9925);const G="3PAdsOptOut",q="cartMuid",j="MSCC",V="MUID",z=45,X=e=>{const t=new Date;return t.setDate(t.getDay()+(e||z)),t},K=".xbox.com";function W(e){let{name:t,value:n,expires:r,path:o,domain:i,secure:a,sameSite:s,sessionCookie:l}=e;const c=r instanceof Date?r:X(z),u=null!==o&&void 0!==o?o:"/",d=null===a||void 0===a||a,p=null!==i&&void 0!==i?i:window.location.hostname;let m=`${t}=${n}`;!0!==l&&(m+=`; expires=${c.toUTCString()}`),m+=`; path=${u}`,m+=`; domain=${p}`,d&&(m+="; secure"),s&&(m+=`; samesite=${s}`),document.cookie=m}const $=";expires=Thu, 01 Jan 1970 00:00:00 GMT";function Y(e,t,n){(function(e){return document.cookie.split("; ").some((t=>t.startsWith(`${e}=`)))})(e)&&(document.cookie=`${e}=${t?`;path=${t}`:""}${n?`;domain=${n}`:""}${$}`)}n(17403),n(14293);const Q=JSON.parse('{"usd~en-us~us":["$",",",".","2",""],"eur~de-de~de":["",".",",","2"," \u20ac"],"gbp~en-gb~gb":["\xa3",",",".","2",""],"brl~pt-br~br":["R$",".",",","2",""],"eur~fr-fr~fr":["","\xa0",",","2"," \u20ac"],"eur~it-it~it":["",".",",","2"," \u20ac"],"mxn~es-mx~mx":["$",",",".","2",""],"jpy~ja~jp":["\xa5",",","","0",""],"rub~ru~ru":["","\xa0",",","2"," \u20bd"],"aud~en-au~au":["$",",",".","2",""],"cad~en-ca~ca":["$",",",".","2",""],"eur~es-es~es":["",".",",","2"," \u20ac"],"cny~zh-hans-cn~cn":["\xa5",",",".","2",""],"eur~nl-nl~nl":["\u20ac ",".",",","2",""],"pln~pl~pl":["","\xa0",",","2"," z\u0142"],"chf~de-ch~ch":["CHF ","\'",".","2",""],"try~tr~tr":["",".",",","2"," \u20ba"],"ars~es-ar~ar":["$ ",".",",","2",""],"cad~en-us~ca":["$",",",".","2",""],"cny~zh-cn~cn":["\xa5",",",".","2",""],"vnd~vi~vn":["",".",",","2"," \u20ab"],"czk~cs~cz":["","\xa0",",","2"," K\u010d"],"inr~en-in~in":["\u20b9 ",",",".","2",""],"cad~fr-ca~ca":["","\xa0",",","2"," $"],"sek~sv-se~se":["",".",",","2"," kr"],"dkk~da~dk":["",".",",","2"," kr."],"eur~pt-pt~pt":["","\xa0",",","2"," \u20ac"],"gbp~en-us~gb":["\xa3",",",".","2",""],"eur~de-at~at":["\u20ac ",".",",","2",""],"krw~ko~kr":["\u20a9",",","","0",""],"eur~nl-be~be":["\u20ac ",".",",","2",""],"nok~nb~no":["kr ","\xa0",",","2",""],"mxn~es-es~mx":["$",",",".","2",""],"huf~hu~hu":["","\xa0",",","2"," HUF"],"aud~en-us~au":["$",",",".","2",""],"eur~fr-be~be":["",".",",","2"," \u20ac"],"eur~fi~fi":["","\xa0",",","2"," \u20ac"],"cop~es-co~co":["$",".","","0",""],"clp~es-cl~cl":["$",".","","0",""],"nzd~en-nz~nz":["$",",",".","2",""],"chf~fr-ch~ch":["CHF ","\xa0",".","2",""],"twd~zh-hant-tw~tw":["NT$",",",".","2",""],"ars~es-es~ar":["$ ",".",",","2",""],"usd~en-gb~us":["$",",",".","2",""],"pen~es-pe~pe":["S/.",",",".","2",""],"idr~id~id":["Rp",".","","0",""],"eur~en-ie~ie":["\u20ac",",",".","2",""],"eur~el~gr":["",".",",","2"," \u20ac"],"eur~de-de~at":["\u20ac ",".",",","2",""],"inr~en-us~in":["\u20b9 ",",",".","2",""],"idr~en-us~id":["Rp",".","","0",""],"eur~sk~sk":["","\xa0",",","2"," \u20ac"],"zar~en-za~za":["R","\xa0",",","2",""],"vnd~en-us~vn":["\u20ab",",",".","2",""],"php~en-ph~ph":["\u20b1",",",".","2",""],"ils~he~il":["\u202a\u20aa\u200e",",",".","2","\u202c"],"sar~ar-sa~sa":["\u202a\u0631.\u0633.\u200f\u200e",",",".","2","\u202c"],"ron~ro-ro~ro":["",".",",","2"," RON"],"usd~en-ca~us":["$",",",".","2",""],"uah~ru~ua":["","\xa0",",","2"," \u20b4"],"hkd~zh-hant-hk~hk":["HK$",",",".","2",""],"usd~es-ec~ec":["$",".",",","2",""],"thb~th~th":["\u0e3f",",",".","2",""],"sgd~en-sg~sg":["SG$",",",".","2",""],"mxn~en-us~mx":["$",",",".","2",""],"uah~es-es~ua":["","\xa0",",","2"," \u20b4"],"rub~en-us~ru":["","\xa0",",","2"," \u20bd"],"usd~pt-br~us":["",".",",","2"," $"],"chf~de-de~ch":["CHF ","\'",".","2",""],"usd~en-in~us":["$",",",".","2",""],"crc~es-cr~cr":["\u20a1",".","","0",""],"eur~es-mx~es":["",".",",","2"," \u20ac"],"cny~en-us~cn":["\xa5",",",".","2",""],"hrk~hr-hr~hr":["",".",",","2"," kn"],"usd~ru~us":["",".",",","2"," $"],"cad~fr-fr~ca":["","\xa0",",","2"," $"],"brl~en-us~br":["R$",".",",","2",""],"egp~ar-eg~eg":["\u202a\u062c.\u0645.\u200f\u200e",",",".","3","\u202c"],"eur~en-us~nl":["\u20ac ",".",",","2",""],"eur~en-us~de":["",".",",","2"," \u20ac"],"eur~sl~si":["",".",",","2"," \u20ac"],"eur~de-at~de":["",".",",","2"," \u20ac"],"nzd~en-us~nz":["$",",",".","2",""],"twd~zh-tw~tw":["NT$",",",".","2",""],"usd~zh-cn~us":["",".",",","2"," $"],"aud~en-gb~au":["$",",",".","2",""],"usd~es-us~us":["$",",",".","2",""],"cop~es-es~co":["$",".","","0",""],"myr~en-my~my":["RM",",",".","2",""],"eur~fr-fr~be":["",".",",","2"," \u20ac"],"uah~en-us~ua":["","\xa0",",","2"," \u20b4"],"eur~nl-nl~be":["\u20ac ",".",",","2",""],"idr~en-id~id":["Rp",".","","0",""],"gbp~pl~gb":["\xa3",",",".","2",""],"usd~en-us~ae":["$",",",".","2",""],"usd~es-mx~us":["",".",",","2"," $"],"eur~en-us~gr":["",".",",","2"," \u20ac"],"uah~ko~ua":["","\xa0",",","2"," \u20b4"],"uah~uk~ua":["","\xa0",",","2"," \u20b4"],"usd~ko~us":["",".",",","2"," $"],"bgn~bg~bg":["","\xa0",",","2"," \u043b\u0432."],"zar~en-us~za":["R","\xa0",",","2",""],"inr~en-gb~in":["\u20b9 ",",",".","2",""],"usd~es-ve~ve":["$",",",".","2",""],"ils~en-us~il":["\u20aa",",",".","2",""],"clp~es-es~cl":["$",".","","0",""],"eur~en-my~de":["",".",",","2"," \u20ac"],"nok~nb-no~no":["kr ","\xa0",",","2",""],"ron~en-us~ro":["",".",",","2"," RON"],"usd~vi~us":["",".",",","2"," $"],"usd~de-de~us":["",".",",","2"," $"],"php~en-us~ph":["\u20b1",",",".","2",""],"rsd~sr-latn-rs~rs":["",".","","0"," RSD"],"eur~fi-fi~fi":["","\xa0",",","2"," \u20ac"],"usd~en-au~us":["$",",",".","2",""],"usd~es-es~ve":["$",",",".","2",""],"eur~en-gb~de":["",".",",","2"," \u20ac"],"eur~en-us~fr":["","\xa0",",","2"," \u20ac"],"usd~es-es~us":["",".",",","2"," $"],"eur~et~ee":["","\xa0",",","2"," \u20ac"],"jpy~en-us~jp":["\xa5",",","","0",""],"eur~lt~lt":["","\xa0",",","2"," \u20ac"],"pen~es-es~pe":["S/.",",",".","2",""],"pkr~en-us~pk":["Rs",",","","0",""],"usd~ar-sa~us":["",".",",","2"," $"],"usd~es-gt~gt":["$",",",".","2",""],"jpy~ja-jp~jp":["\xa5",",","","0",""],"sek~en-us~se":["","\xa0",",","2"," kr"],"eur~en-us~it":["",".",",","2"," \u20ac"],"eur~en-us~ie":["\u20ac",",",".","2",""],"usd~ru~by":["$",",",".","2",""],"usd~es-uy~uy":["$",",",".","2",""],"usd~es-es~ec":["$",".",",","2",""],"eur~de-ch~de":["",".",",","2"," \u20ac"],"vnd~pt-br~vn":["\u20ab",",",".","2",""],"chf~en-us~ch":["CHF ",".",",","2",""],"usd~fa~us":["",".",",","2"," $"],"chf~it-ch~ch":["CHF ","\'",".","2",""],"jod~ar-jo~jo":["\u202a\u062f.\u0627.\u200f\u200e",",",".","3","\u202c"],"usd~es-do~do":["$",",",".","2",""],"uah~ru-ua~ua":["","\xa0",",","2"," \u20b4"],"usd~ar-kw~us":["",".",",","2"," $"],"eur~en-us~be":["",".",",","2"," \u20ac"],"jpy~zh-hans-cn~jp":["\xa5",",","","0",""],"myr~en-us~my":["RM",",",".","2",""],"dkk~da-dk~dk":["",".",",","2"," kr."],"iqd~ar-iq~iq":["\u202a\u062f.\u0639.\u200f\u200e",",",".","2","\u202c"],"nok~en-us~no":["kr ","\xa0",",","2",""],"usd~ja~us":["",".",",","2"," $"],"eur~en-gb~ie":["\u20ac",",",".","2",""],"gbp~en-in~gb":["\xa3",",",".","2",""],"eur~en-gb~nl":["\u20ac ",".",",","2",""],"dkk~en-us~dk":["",".",",","2"," kr."],"kwd~en-us~kw":["\u202a\u062f.\u0643.\u200f\u200e",",",".","3","\u202c"],"rsd~en-us~rs":["",".",",","2"," \u0434\u0438\u043d."],"usd~id~us":["",".",",","2"," $"],"dzd~fr-fr~dz":["","\xa0",",","2"," DA"],"eur~en-us~es":["",".",",","2"," \u20ac"],"kzt~ru~kz":["","\xa0",",","2"," \u20b8"],"bdt~en-us~bd":["",",",".","2","\u09f3"],"chf~fr-fr~ch":["CHF ","\xa0",".","2",""],"iqd~en-us~iq":["\u202a\u062f.\u0639.\u200f\u200e",",",".","2","\u202c"],"eur~en-gb~fr":["","\xa0",",","2"," \u20ac"],"bgn~en-us~bg":["","\xa0",",","2"," \u043b\u0432."],"eur~es-co~es":["",".",",","2"," \u20ac"],"pln~en-us~pl":["","\xa0",",","2"," z\u0142"],"usd~en-id~us":["$",",",".","2",""],"ars~es-419~ar":["$ ",".",",","2",""],"huf~it-it~hu":["","\xa0",",","2"," HUF"],"usd~es-sv~sv":["$",",",".","2",""],"mad~fr-fr~ma":["",".",",","2"," DH"],"rub~zh-cn~ru":["","\xa0",",","2"," \u20bd"],"ttd~en-tt~tt":["$",",",".","2",""],"eur~en-us~lt":["","\xa0",",","2"," \u20ac"],"usd~en-ph~us":["$",",",".","2",""],"usd~sv-se~us":["",".",",","2"," $"],"zar~en-gb~za":["R","\xa0",",","2",""],"eur~en-gb~es":["",".",",","2"," \u20ac"],"usd~nl-nl~us":["",".",",","2"," $"],"eur~nl-be~nl":["\u20ac ",".",",","2",""],"hrk~en-us~hr":["",".",",","2"," kn"],"nzd~en-au~nz":["$",",",".","2",""],"usd~es-es~uy":["$",",",".","2",""],"usd~ru-by~by":["$",",",".","2",""],"usd~en-us~ke":["$",",",".","2",""],"usd~es-ec~us":["",".",",","2"," $"],"eur~en-gb~pt":["","\xa0",",","2"," \u20ac"],"pkr~en-gb~pk":["Rs",",","","0",""],"pkr~en-pk~pk":["Rs",",","","0",""],"rub~ru-ru~ru":["","\xa0",",","2"," \u20bd"],"twd~en-us~tw":["NT$",",",".","2",""],"usd~zh-hans-cn~us":["",".",",","2"," $"],"czk~en-us~cz":["","\xa0",",","2"," K\u010d"],"eur~en-gb~it":["",".",",","2"," \u20ac"],"eur~en-us~pt":["","\xa0",",","2"," \u20ac"],"sek~en-gb~se":["","\xa0",",","2"," kr"],"usd~en-gb~ae":["$",",",".","2",""],"usd~en-us~lk":["$",",",".","2",""],"usd~es-pa~pa":["$",",",".","2",""],"eur~fr-ch~fr":["","\xa0",",","2"," \u20ac"],"usd~en-gb~ng":["$",",",".","2",""],"eur~en-gb~be":["",".",",","2"," \u20ac"],"eur~en-us~fi":["","\xa0",",","2"," \u20ac"],"eur~ru~de":["",".",",","2"," \u20ac"],"jod~en-us~jo":["\u202a\u062f.\u0627.\u200f\u200e",",",".","3","\u202c"],"pln~en-gb~pl":["","\xa0",",","2"," z\u0142"],"pln~pl-pl~pl":["","\xa0",",","2"," z\u0142"],"usd~fr-fr~re":["$",",",".","2",""],"omr~ar-sa~om":["\u0631.\u0639.\u200f\u200e ",",",".","3",""],"usd~ko-us~us":["",".",",","2"," $"],"kzt~kk-kz~kz":[""," ",",","2"," \u20b8"],"eur~de-de~lu":["",".",",","2"," \u20ac"],"uah~ru-ru~ua":[""," ",",","2"," \u20b4"],"kzt~ru-kz~kz":[""," ",",","2"," \u20b8"],"jod~ar-sa~jo":["\u202a\u062f.\u0627.\u200f\u200e",",",".","3","\u202c"],"eur~en-us~me":["",".",",","2"," \u20ac"],"eur~en-us~si":["",".",",","2"," \u20ac"],"rub~en-us~by":[""," ",",","2"," \u20bd"],"crc~es-es~cr":["\u20a1",".","","0",""],"eur~tr-tr~cy":["",".",",","2"," \u20ac"],"usd~fa-us~us":["",".",",","2"," $"],"ils~he-il~il":["\u202a\u20aa\u200e",",",".","2","\u202c"],"eur~hr-hr~hr":["",".",",","2"," \u20ac"],"mad~ar-sa~ma":["\u062f.\u0645.\u200f\u200e ",",",".","2",""],"try~tr-tr~tr":["",".",",","2"," \u20ba"],"uah~uk-ua~ua":[""," ",",","2"," \u20b4"],"eur~en-us~mt":["\u20ac",",",".","2",""],"eur~sk-sk~sk":[""," ",",","2"," \u20ac"],"qar~en-us~qa":["QAR",",",".","2",""],"eur~ru-de~de":["",".",",","2"," \u20ac"],"bgn~bg-bg~bg":[""," ",",","2"," \u043b\u0432."],"eur~en-us~sk":[""," ",",","2"," \u20ac"],"eur~en-us~ee":[""," ",",","2"," \u20ac"],"eur~el-gr~gr":["",".",",","2"," \u20ac"],"bhd~ar-sa~bh":["\u202aBD \u200f\u200e",",",".","3","\u202c"],"eur~sr-latn-rs~me":["",".",",","2"," \u20ac"],"usd~id-us~us":["",".",",","2"," $"],"eur~el-gr~cy":["",".",",","2"," \u20ac"],"krw~ko-kr~kr":["\u20a9",",","","0",""],"usd~vi-us~us":["",".",",","2"," $"],"eur~lv-lv~lv":[""," ",",","2"," \u20ac"],"uah~ko-ua~ua":[""," ",",","2"," \u20b4"],"gtq~es-es~gt":["Q",",",".","2",""],"ttd~en-us~tt":["TT$",",",".","2",""],"isk~en-us~is":["kr.",",",".","2",""],"omr~en-us~om":["",",",".","3","\u0631.\u0639."],"thb~th-th~th":["\u0e3f",",",".","2",""],"myr~ms-my~my":["RM",",",".","2",""],"mkd~en-us~mk":["\u0434\u0435\u043d ",".",",","2",""],"mkd~bg-bg~mk":["\u0434\u0435\u043d ",".",",","2",""],"tnd~fr-fr~tn":[""," ",",","3"," DT"],"usd~ja-us~us":["",".",",","2"," $"],"eur~fr-fr~lu":["",".",",","2"," \u20ac"],"krw~en-us~kr":["\u20a9",",","","0",""],"gbp~pl-gb~gb":["\xa3",",",".","2",""],"uyu~es-es~uy":["$U ",".",",","2",""],"ils~ar-sa~il":["\u20aa\u200e ",",",".","2","\u202c"],"tnd~ar-sa~tn":["\u062f.\u062a.\u200f\u200e ",",",".","3",""],"eur~sv-se~fi":[""," ",",","2"," \u20ac"],"czk~cs-cz~cz":[""," ",",","2"," K\u010d"],"vnd~vi-vn~vn":["",".",",","2"," \u20ab"],"lkr~en-us~lk":["\u0dbb\u0dd4.",",",".","2",""],"bhd~en-us~bh":["BD",",",".","3",""],"huf~hu-hu~hu":[""," ",",","2"," HUF"],"kwd~ar-sa~kw":["\u202a\u062f.\u0643.\u200f\u200e",",",".","3","\u202c"],"inr~hi-in~in":["\u20b9",",",".","2",""],"pyg~es-es~py":["\u20b2 ",".","","0",""],"usd~ru-us~us":["",".",",","2"," $"],"idr~id-id~id":["Rp",".","","0",""],"mkd~sr-latn-rs~mk":["\u0434\u0435\u043d ",".",",","2",""],"eur~et-ee~ee":[""," ",",","2"," \u20ac"],"kes~en-us~ke":["Ksh",",",".","2",""],"eur~en-us~lv":[""," ",",","2"," \u20ac"],"rub~ru-ru~by":[""," ",",","2"," \u20bd"],"eur~en-us~cy":["\u20ac",",",".","2",""],"eur~lt-lt~lt":[""," ",",","2"," \u20ac"],"eur~sl-si~si":["",".",",","2"," \u20ac"],"try~en-us~tr":["",".",",","2"," \u20ba"],"kzt~ru-ru~kz":[""," ",",","2"," \u20b8"],"eur~es-es~pa":["",".",",","2"," \u20ac"],"gtq~es-gt~gt":["Q",",",".","2",""],"ngn~en-us~ng":["\u20a6",",",".","2",""],"dzd~ar-sa~dz":["\u062f.\u062c.\u200f\u200e ",",",".","2",""],"qar~ar-sa~qa":["\u0631.\u0642.\u200f\u200e ",",",".","2",""],"eur~en-us~hr":["",".",",","2"," \u20ac"]}'),J={AUD:"AU",NZD:"NZ",TWD:"TW"},Z={USD:["$",",",".","2",""],CHF:["CHF ","'",".","2",""],NZD:["$",",",".","2",""],SAR:["\u202a\u0631.\u0633.\u200f\u200e",",",".","2",""],EGP:["\u202a\u062c.\u0645.\u200f\u200e",",",".","3",""],THB:["\u0e3f",",",".","2",""],SGD:["SG$",",",".","2",""],HKD:["HK$",",",".","2",""]},ee=(e,t,n)=>{if(isNaN(e))throw new Error(`Invalid price passed to format currency: ${e}`);const r=te(t,n);if(r){const t=e.toFixed(r.precision).replace(".",r.separator).replace(/\B(?=(\d{3})+(?!\d))/g,r.thousandSeparator);return r.beforePrice+t+r.afterPrice}return Intl?new Intl.NumberFormat(n.localeWithScript,{style:"currency",currency:t}).format(e):`${t} ${e}`},te=(e,t)=>{let{market:n,language:r,locale:o}=t;const i=Q[`${e.toLowerCase()}~${o.toLowerCase()}~${n.toLowerCase()}`]||Q[`${e.toLowerCase()}~${r.toLowerCase()}~${n.toLowerCase()}`]||Z[e.toUpperCase()];if(i){if("US"!==n.toUpperCase()&&"CL"!==n.toUpperCase()){const t=J[e.toUpperCase()]||e.toUpperCase();if("USD"===t&&"$"===i[0])i[0]="USD$";else if("USD"===t&&" $"===i[4])i[4]=" $USD";else if("$"===i[0]||"$ "===i[0]){const e="CAD"===t;i[0]=t+(e?" ":"")+i[0]}else" $"===i[4]&&(i[4]=` $${t}`)}return{beforePrice:i[0],thousandSeparator:i[1],separator:i[2],precision:i[3],afterPrice:i[4]}}},ne=window.env;var re=n(55496);function oe(e){return!(0,re.b)(e)}var ie=n(55552),ae=n(15975);const se=e=>e>=200&&e<400,le=e=>{let t=ae.H_.Undefined;return t=(0,re.b)(e)?ae.H_.Unknown:0===e?ae.H_.TransportError:e>=100&&e<200?ae.H_.Other:e>=200&&e<400?ae.H_.Success:e>=400&&e<500?ae.H_.CallerError:e>=500?ae.H_.ServiceError:ae.H_.Unknown,t},ce=e=>e?e.trim().toUpperCase():"",ue=(e,t,n)=>{let r=ce(e);return t&&(r+=`/${ce(t)}`,n&&(r+=`/${ce(n)}`)),r};n(42042),n(30163);var de=n(88262);const pe=(e,t)=>{let n;return e.every((e=>(0,de.isNotRequested)(e)))?n=t.isNotRequested?t.isNotRequested(e):void 0:e.find((e=>(0,de.isFetching)(e)))?n=t.isFetching?t.isFetching(e.filter((e=>(0,de.isFetching)(e)))):void 0:e.find((e=>(0,de.isError)(e)))?n=t.error?t.error(e.filter((e=>(0,de.isError)(e)))):void 0:e.every((e=>(0,de.isContent)(e)))&&(n=t.content?t.content(e):void 0),n||(n=t.default?t.default(e):void 0),n};var me;!function(e){e[e.New=0]="New",e[e.Forward=1]="Forward",e[e.Replace=2]="Replace",e[e.Back=3]="Back"}(me||(me={}));const he=(0,o.createContext)({direction:me.New}),ge=()=>(0,o.useContext)(he);var fe=n(3528),_e=(n(39428),n(63002)),ve=n(55808);const ye=(e,t)=>{var n;return e.formatPageId?e.formatPageId(e,t):(null===(n=e.match)||void 0===n?void 0:n.url)||"/"},be=e=>{const t=(0,a.useSelector)(_e.Fu),n=(0,a.useSelector)(l.a5);let r;try{r=(0,ve.a_)(e.pathname,t,void 0,n)}catch(o){}return void 0!==r?ye(r,n):e.pathname||"/"};n(10865),n(7212);const Se=(e,t)=>{let n;const r=new Promise(((t,r)=>{n=setTimeout((()=>{r(new Error(`Promise timed out in ${e} ms.`))}),e)}));return Promise.race([t,r]).finally((()=>{n&&clearTimeout(n)}))},Ee=e=>Math.floor(Math.random()*e);var Ce;!function(e){e.Idle="idle",e.Loading="loading",e.Ready="ready",e.Error="error"}(Ce||(Ce={}));const Te=e=>{const t=document.querySelector(`script[src="${e}"]`);t&&t.remove()},we=(e,t)=>{const[n,r]=(0,o.useState)(e?Ce.Loading:Ce.Idle);return(0,o.useEffect)((()=>{if(!e)return void r(Ce.Idle);let n=document.querySelector(`script[src="${e}"]`);if(n)r(n.getAttribute("data-status"));else{n=((e,t)=>{(null===t||void 0===t?void 0:t.removeOldScriptIfFound)&&Te(e);const n=document.createElement("script");return n.src=e,n.async=!!(null===t||void 0===t?void 0:t.async),(null===t||void 0===t?void 0:t.isModule)&&(n.type="module"),(null===t||void 0===t?void 0:t.addLoadingStatus)&&n.setAttribute("data-status","loading"),document.body.appendChild(n),n})(e,{async:!0,addLoadingStatus:!0,isModule:t});const r=e=>{null===n||void 0===n||n.setAttribute("data-status","load"===e.type?Ce.Ready:Ce.Error)};n.addEventListener("load",r),n.addEventListener("error",r)}const o=t=>{r("load"===t.type?Ce.Ready:Ce.Error),"load"!==t.type&&(console.log(`${e} script failed to load`),document.body.removeChild(n))};return n.addEventListener("load",o),n.addEventListener("error",o),()=>{n&&(n.removeEventListener("load",o),n.removeEventListener("error",o))}}),[e,t]),n};var Ie=n(77278);n(47748);const Pe=()=>null===window||void 0===window?void 0:window.navigator.userAgent.toLowerCase().includes("windows"),Ae=()=>{const e=null===window||void 0===window?void 0:window.navigator.userAgent.toLowerCase();return e.includes("windows 10")||e.includes("windows nt 10")||e.includes("windows 11")||e.includes("windows nt 11")},ke=function(e){const t={isConsentRequired:!0,consentState:{analytics:!1,socialMedia:!1,advertising:!1}};if(e){const n=e.toLowerCase();t.isConsentRequired="nr"!==n,t.consentState.analytics=n.includes("c1=2")||!t.isConsentRequired,t.consentState.socialMedia=n.includes("c2=2")||!t.isConsentRequired,t.consentState.advertising=n.includes("c3=2")||!t.isConsentRequired}return t},xe=(e,t)=>{const n=!!(null===t||void 0===t?void 0:t.every((t=>e.consentState[t])));return!e.isConsentRequired||n}},3528:(e,t,n)=>{"use strict";n.d(t,{CJ:()=>u,HR:()=>l,YO:()=>c,r7:()=>d});var r=n(67996),o=n.n(r),i=n(56347),a=n.n(i),s=(n(81045),n(84915),n(55367),n(55496));const l=e=>Object.keys(e).reduce(((t,n)=>{const r=e[n];return(0,s.b)(r)||(t[n]=r),t}),{}),c=e=>Object.keys(e).reduce(((t,n)=>(t[n.toLowerCase()]=e[n],t)),{}),u=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),d=(e,t)=>{const{[t]:n}=e;return o()(e,[t].map(a()))}},8278:(e,t,n)=>{"use strict";n.d(t,{GP:()=>a,Oz:()=>s,bv:()=>c,q6:()=>o,tc:()=>i,td:()=>l});n(97107),n(69375),n(31759),n(8697),n(8096),n(98376),n(10568),n(39428),n(14293),n(63805),n(81045),n(5350);var r=n(14041);const o=e=>{try{return!!(e&&JSON.parse(e.toLowerCase()))}catch(t){return!1}},i=(e,t)=>{let n=e;return t&&Object.keys(t).forEach((e=>{const r=new RegExp(`\\{${e}\\}`,"gi");n=n.replace(r,t[e]||"")})),n},a=function(e){let t=e;for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return r.forEach(((e,n)=>{t=t.replace(new RegExp(`\\{${n}\\}`,"g"),e)})),t},s=function(e){const t=/{(\d+)}/g;let n,o=0;const i=[];let a=0;for(var s=arguments.length,l=new Array(s>1?s-1:0),c=1;c<s;c++)l[c-1]=arguments[c];for(;null!==(n=t.exec(e));){i.push(r.createElement(r.Fragment,null,e.substring(o,n.index)));if(void 0===l[parseInt(n[1],10)])throw new Error("Number of input params is lesser than the format string params");i.push(l[parseInt(n[1],10)]),o=t.lastIndex,a++}if(a!==l.length)throw new Error("Number of input params is greater than the format string params");return i.push(r.createElement(r.Fragment,null,e.substring(o))),i},l=(e,t)=>{const n=[];let o,i=0;const a=[];Object.keys(t).forEach((e=>{a.push(`\\{${e}\\}`)}));const s=new RegExp(a.join("|"),"gi");for(;null!==(o=s.exec(e));){n.push(r.createElement(r.Fragment,null,e.substring(i,o.index)));const a=t[o[0].substring(1,o[0].length-1)];n.push(a),i=s.lastIndex}return n.push(r.createElement(r.Fragment,null,e.substring(i))),n},c=(e,t)=>{const n=new RegExp("(?:\\[\\[([0-9\\*]+)\\]([^\\]]*?)\\])"),r=new RegExp("\\[\\[\\*\\]([^\\]]*?)\\]");if(!e.match(n))return a(e,t.toString());const o=new RegExp(`\\[\\[${t}\\]([^\\]]*?)\\]`);let i=e.match(o);return i||(i=e.match(r)),i?a(i[1],t.toString()):void 0}},77278:(e,t,n)=>{"use strict";n.d(t,{P:()=>o,a:()=>r});n(8697),n(8096),n(98376),n(10568),n(39428);const r=(e,t)=>{if(e===`/${t}`)return"/";const n=new RegExp(`^(/${t})?(/.*)$`,"i"),r=e.match(n);return r?r[2]:e},o=e=>!e||"www.xbox.com"===e||e===window.location.host},55496:(e,t,n)=>{"use strict";n.d(t,{b:()=>r});const r=e=>"undefined"===typeof e},37509:(e,t,n)=>{"use strict";n.d(t,{WyR:()=>d.Wy,P2Z:()=>T.P2,wii:()=>w.wi,Kd8:()=>T.Kd,_et:()=>T._e,m11:()=>o.m1,_F7:()=>d._F,jcx:()=>c,VI1:()=>w.VI,V1B:()=>o.V1,WTf:()=>T.WT,ff4:()=>d.ff,uEI:()=>d.uE,yDV:()=>d.yD,jNz:()=>d.jN,e2:()=>d.e2,yV4:()=>w.yV,kVq:()=>d.kV,sVo:()=>w.sV,pvY:()=>I.pv,hTd:()=>o.hT,HGh:()=>w.HG,qg8:()=>d.qg,X9e:()=>w.X9,H_O:()=>o.H_,Sxu:()=>o.Sx,BW6:()=>w.BW,ziD:()=>o.zi,VoS:()=>w.Vo,oqV:()=>T.oq,qon:()=>T.qo,PdN:()=>d.Pd,K1N:()=>d.K1,LzF:()=>d.Lz,jbi:()=>d.jb,Em_:()=>w.Em,JSV:()=>d.JS,VMG:()=>d.VM,GVe:()=>d.GV,_9l:()=>w._9,OXv:()=>w.OX,awk:()=>d.aw,ich:()=>d.ic,VPN:()=>w.VP,lQ2:()=>w.lQ,vR$:()=>w.vR,Ti:()=>w.Ti,mYQ:()=>w.mY,JBw:()=>w.JB,Yj7:()=>d.Yj,Q94:()=>I.Q9,VsB:()=>w.Vs,GPZ:()=>d.GP,iDY:()=>d.iD,vv8:()=>d.vv,OzX:()=>d.Oz,aiy:()=>w.ai,wRW:()=>w.wR,N8_:()=>w.N8,pzA:()=>w.pz,DQt:()=>w.DQ,HlM:()=>w.Hl,w$7:()=>w.w$,ccC:()=>w.cc,l_d:()=>d.l_,kQE:()=>d.kQ,OeX:()=>d.Oe,V79:()=>s,j17:()=>w.j1,IPJ:()=>w.IP,Egx:()=>w.Eg,MDy:()=>w.MD,vP3:()=>w.vP,XKG:()=>w.XK,xxW:()=>w.xx,Fu$:()=>w.Fu,JKP:()=>w.JK,a5u:()=>w.a5,P6r:()=>w.P6,a_R:()=>I.a_,nDP:()=>I.nD,Mjw:()=>w.Mj,F8Q:()=>w.F8,x6f:()=>d.x6,lDW:()=>w.lD,aMA:()=>w.aM,atP:()=>d.at,GYd:()=>w.GY,hbT:()=>w.hb,Uqy:()=>d.Uq,X5v:()=>I.X5,_cZ:()=>w._c,oKs:()=>w.oK,rPt:()=>w.rP,l7K:()=>w.l7,ugf:()=>w.ug,fTk:()=>w.fT,_bi:()=>w._b,vth:()=>w.vt,TPS:()=>w.TP,ILr:()=>w.IL,sjg:()=>w.sj,csy:()=>d.cs,PTb:()=>d.PT,SHi:()=>d.SH,RJH:()=>d.RJ,b07:()=>d.b0,X2U:()=>d.X2,PE5:()=>d.PE,VTO:()=>d.VT,j4E:()=>d.j4,BaY:()=>d.B,CH1:()=>d.CH,d6Y:()=>d.d6,xJ$:()=>d.xJ,wuJ:()=>w.wu,tcg:()=>d.tc,tdF:()=>d.td,YOM:()=>w.YO,XBe:()=>d.XB,$hu:()=>o.$h,q3w:()=>d.q3,r7Z:()=>d.r7,q6B:()=>d.q6,bvP:()=>d.bv,MnC:()=>d.Mn,HRB:()=>d.HR,UVo:()=>d.UV,LF_:()=>w.LF,TVt:()=>d.TV,F6E:()=>w.F6,Hde:()=>w.Hd,uzW:()=>I.uz,Q_y:()=>d.Q_,xdo:()=>d.xd,_Wy:()=>d._W,mx0:()=>u,m$W:()=>d.m$,wwE:()=>d.ww,xrK:()=>d.xr,AzV:()=>d.Az,VRc:()=>I.VR,Y2m:()=>d.Y2,mNY:()=>w.mN,jLq:()=>E,tOg:()=>S,eVg:()=>C,FPK:()=>_,tPb:()=>b,wDO:()=>v,Igx:()=>d.Ig,ITZ:()=>d.IT,mzJ:()=>I.mz,nWU:()=>d.nW,B1M:()=>d.B1,YOX:()=>d.YO,v4G:()=>w.v4,wjz:()=>d.wj,VOK:()=>d.VO});var r,o=n(15975);!function(e){e.Analytics="analytics",e.Advertising="advertising",e.SocialMedia="socialMedia"}(r||(r={}));var i=n(49652);function*a(){return yield(0,i.getContext)(o.hT.cookies)}function s(){return(0,i.call)(a)}var l=n(14041);const c=(0,l.createContext)({}),u=()=>(0,l.useContext)(c);var d=n(3023);n(98376),n(58225),n(81045),n(5350),n(84915),n(47010);function p(e,t){if(e)for(let n=0;n<t.length;++n){if("object"!==typeof e)return;if(void 0===(e=e[t[n]]))return}return e}function m(e,t){return e?Array.isArray(e)?e:t?e.split(t):[e]:[]}function h(e,t,n){const{locales:r,messages:o,onError:i,pathSep:a}=e,s=null==n?r:Array.isArray(n)?n:[n],l=m(t,a);for(let c=0;c<s.length;++c){const e=p(o[s[c]],l);if(void 0!==e)return e}return i?i(l,"ENOMSG"):void 0}var g=n(36647);const f=Array.from({length:9},((e,t)=>`{${t}}`)),_=function(e,t){const n=h((0,l.useContext)(g.N),[t,e]);for(var r=arguments.length,o=new Array(r>2?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i];return n(o.length>0?o:f)},v=function(e){const t=(0,l.useContext)(g.N);for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return r.map((n=>h(t,[e,n])(f)))};function y(e,t){let n=e;if(n)for(const r of t){if("object"!==typeof n)return;if(n=n[r],void 0===n)return}return n}function b(e,t,n){const r=(0,l.useContext)(g.N),{locales:o,messages:i,pathSep:a}=r,s=function(e,t){return Array.isArray(e)?e:t?e.split(t):[e]}([e,t],a);for(var c=arguments.length,u=new Array(c>3?c-3:0),p=3;p<c;p++)u[p-3]=arguments[p];for(const l of o){const e=y(i[l],s);if(void 0!==e&&"function"===typeof e)return e(u)}return n?(0,d.GP)(n,...u):void 0}function S(e,t){return h((0,l.useContext)(g.N),[e,t])}function E(e,t,n){return S(e,t)(n)}function C(e){const t=(0,l.useContext)(g.N),n={};for(var r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];return o.forEach((r=>{const o=h(t,[e,r]);n[r]="function"===typeof o?o():o})),n}var T=n(92187),w=n(18540),I=n(55808)},92187:(e,t,n)=>{"use strict";var r,o,i,a,s,l,c;n.d(t,{P2:()=>c,Kd:()=>r,_e:()=>o,WT:()=>a,oq:()=>l,qo:()=>s}),function(e){e[e.None=0]="None",e[e.Msa=1]="Msa",e[e.MsaAndXbox=2]="MsaAndXbox"}(r||(r={})),function(e){e[e.None=0]="None",e[e.SignedIn=1]="SignedIn"}(o||(o={})),function(e){e.Child="Child",e.Admin="Admin"}(i||(i={})),function(e){e.EnableTestNav="EnableTestNav",e.EnableTestTools="EnableTestTools",e.EnableTestPages="EnableTestPages",e.EnableCookieSourceDebugConsole="EnableCookieSourceDebugConsole",e.ShowStackOnError="ShowStackOnError",e.StagingFD="StagingFD",e.TestBuyNowFlights="TestBuyNowFlights",e.BuyNowExpIdTestFeatureGate="BuyNowExpIdTestFeatureGate",e.UglyUhf="UglyUhf",e.SiteThemeOverride="SiteThemeOverride",e.DisableUhfXboxCart="DisableUhfXboxCart",e.EnableUhfCache="EnableUhfCache",e.DisableUhfWcp="DisableUhfWcp",e.EnableAllLocales="EnableAllLocales",e.EnableGatedLocales="EnableGatedLocales",e.ClientErrorSampleRate="ClientErrorSampleRate",e.ServiceErrorSampleRate="ServiceErrorSampleRate",e.SentryTransactionSampleRate="SentryTransactionSampleRate",e.MCWSSentryClientSampleRate="MCWSSentryClientSampleRate",e.MCWSSentryServiceSampleRate="MCWSSentryServiceSampleRate",e.MCWSSentryTransactionSampleRate="MCWSSentryTransactionSampleRate",e.EnableServerSideUserFeatureAssignments="EnableServerSideUserFeatureAssignments",e.EnableSisuUcsSupport="EnableSisuUcsSupport",e.EnableContentPreviewTools="EnableContentPreviewTools",e.EnableAAMScript="EnableAAMScript",e.EnableBundleBuilderAdobeLaunch="EnableBundleBuilderAdobeLaunch",e.CartPreview="CartPreview",e.CheckoutPreview="CheckoutPreview",e.StorePPE="StorePPE",e.DisableErrorMessageService="DisableErrorMessageService",e.browseScoringTreatment="browseScoringTreatment",e.EnableNewSearchExperience="EnableNewSearchExperience",e.EnableNewSearchGeneralTab="EnableNewSearchGeneralTab",e.EnableStickyDesktopHeader="EnableStickyDesktopHeader",e.EnableStickyMobileHeader="EnableStickyMobileHeader",e.searchScoringTreatment="searchScoringTreatment",e.EnableBuyNowHoverButton="EnableBuyNowHoverButton",e.EnableDealXPriceText="EnableDealXPriceText",e.EnableMultiUpsellButton="EnableMultiUpsellButton",e.EnableReactCheckout="EnableReactCheckout",e.DisableGamepadNavigationOnPurchase="DisableGamepadNavigationOnPurchase",e.EnableBuyNowXboxUiExp="EnableBuyNowXboxUiExp",e.EnableBuyNowFCRedeemWithTax="EnableBuyNowFCRedeemWithTax",e.UsePostMessageHelper="UsePostMessageHelper",e.EnablePIDLTestHeader="EnablePIDLTestHeader",e.EnablePIDLStandarizedForms="EnablePIDLStandarizedForms",e.EnableV2MeControl="EnableV2MeControl",e.EnableWishlistGifting="EnableWishlistGifting",e.WishlistV2Menu="WishlistV2Menu",e.OsWishlistSharing="OsWishlistSharing",e.PIGroupingExpId="PIGroupingExpId",e.PIGroupingFlightId="PIGroupingFlightId",e.EnableRedeemCodeModal="EnableRedeemCodeModal",e.EnablePrivacyControls="EnablePrivacyControls",e.EnableLaunchpad="EnableLaunchpad",e.EnableLaunchpadDownload="EnableLaunchpadDownload",e.EnableYearInReview="EnableYearInReview",e.EnableYearInReviewMarketing="EnableYearInReviewMarketing",e.EnableRemoteInstallToPc="EnableRemoteInstallToPc",e.EnableEditionUpgradeOffer="EnableEditionUpgradeOffer",e.PurchaseSdkCartCheckout="PurchaseSdkCartCheckout",e.SkipXTokenCookies="SkipXTokenCookies",e.SkipRedirectCounter="SkipRedirectCounter",e.EnableSkipActivateStoreExp="EnableSkipActivateStoreExp",e.EnableFranchisePageLink="EnableFranchisePageLink",e.EnablePurchaseLaunchOnLogin="EnablePurchaseLaunchOnLogin",e.EnableMultiCloudPlayButton="EnableMultiCloudPlayButton",e.EnableXboxOneRFSetupRedirectPage="EnableXboxOneRFSetupRedirectPage",e.EnableMCWSSite="EnableMCWSSite",e.EnableMCWSWhiteLabel="EnableMCWSWhiteLabel",e.EnableMCWSWhiteLabelLogin="EnableMCWSWhiteLabelLogin",e.EnableMaunaLoa="EnableMaunaLoa",e.EnableDynamicFlags="EnableDynamicFlags",e.EnableMutualFriendsPrivacySettings="EnableMutualFriendsPrivacySettings",e.EnablePlayableOnExperiment="EnablePlayableOnExperiment",e.EnableXPAStringChange="EnableXPAStringChange",e.EnableComingSoonUpsell="EnableComingSoonUpsell",e.EnableSearchPromo="EnableSearchPromo",e.EnableDefaultUltimateUpsell="EnableDefaultUltimateUpsell",e.EnableTVPurchaseFlow="EnableTVPurchaseFlow",e.EnableXboxAppOnMobileGooglePay="EnableXboxAppOnMobileGooglePay",e.EnableStoreBYOG="EnableStoreBYOG",e.EnablePlayPathNavigation="EnablePlayPathNavigation",e.UseOneCollectorSandboxEndpoint="UseOneCollectorSandboxEndpoint",e.EnableMessageSafetySettings="EnableMessageSafetySettings",e.EnableXboxSmallPurchaseDialog="EnableXboxSmallPurchaseDialog",e.EnableTitanRedeemStandalone="EnableTitanRedeemStandalone",e.EnableUbisoftPCVersionIncluded="EnableUbisoftPCVersionIncluded",e.EnableUbisoftPCVersionLegalText="EnableUbisoftPCVersionLegalText"}(a||(a={})),function(e){e.Full="Full",e.Minimal="Minimal",e.Hidden="Hidden",e.None="None",e.Off="Off"}(s||(s={})),function(e){e.Full="Full",e.Minimal="Minimal",e.Hidden="Hidden",e.None="None",e.Off="Off"}(l||(l={})),function(e){e.Child="Child",e.Teen="Teen",e.Adult="Adult",e.Unknown="Unknown"}(c||(c={}))},18540:(e,t,n)=>{"use strict";n.d(t,{wi:()=>E,VI:()=>T,yV:()=>P,sV:()=>d,HG:()=>S,X9:()=>k,BW:()=>R,Vo:()=>N,Em:()=>C,_9:()=>_,OX:()=>v,VP:()=>i,lQ:()=>l,vR:()=>a,Ti:()=>c,mY:()=>s,JB:()=>F,Vs:()=>I,ai:()=>D.ai,wR:()=>u,N8:()=>L.N8,pz:()=>D.pz,DQ:()=>D.DQ,Hl:()=>L.Hl,w$:()=>D.w$,cc:()=>D.cc,j1:()=>j,IP:()=>L.IP,Eg:()=>D.Eg,MD:()=>D.MD,vP:()=>D.vP,XK:()=>D.XK,xx:()=>D.xx,Fu:()=>D.Fu,JK:()=>L.JK,a5:()=>L.a5,P6:()=>L.P6,Mj:()=>D.Mj,F8:()=>D.F8,lD:()=>B,aM:()=>U.aM,GY:()=>L.GY,hb:()=>L.hb,_c:()=>D._c,oK:()=>L.oK,rP:()=>U.rP,l7:()=>W,ug:()=>Q,fT:()=>K,_b:()=>Y,vt:()=>X,TP:()=>$,IL:()=>L.IL,sj:()=>L.sj,wu:()=>p,YO:()=>A,LF:()=>x,F6:()=>O,Hd:()=>M,mN:()=>q,v4:()=>g});var r=n(41506),o=n.n(r);n(87050),n(47010);function i(e,t,n,r){return r?Object.assign((function(){const i=r(...arguments);return o()({type:e,scope:t,partner:n},i)}),{getType:()=>e,getPartner:()=>n}):Object.assign((()=>({type:e,scope:t,partner:n})),{getType:()=>e,getPartner:()=>n})}function a(e,t,n,r,i,a,s,l){return{start:Object.assign((function(){const i=r(...arguments);return o()({type:n,scope:e,partner:t},i)}),{getType:()=>n,getPartner:()=>t}),success:Object.assign((function(){const n=a(...arguments);return o()({type:i,scope:e,partner:t},n)}),{getType:()=>i,getPartner:()=>t}),error:Object.assign((function(){const n=l(...arguments);return o()({type:s,scope:e,partner:t},n)}),{getType:()=>s,getPartner:()=>t})}}function s(e,t,n,r,i,a){const s=`${n}_START`,l=`${n}_SUCCESS`,c=`${n}_FAILURE`;return{start:Object.assign((function(){const n=r(...arguments);return o()({type:s,scope:e,partner:t},n)}),{getType:()=>s,getPartner:()=>t}),success:Object.assign((function(){const n=i(...arguments);return o()({type:l,scope:e,partner:t},n)}),{getType:()=>l,getPartner:()=>t}),error:Object.assign((function(){const n=a(...arguments);return o()({type:c,scope:e,partner:t},n)}),{getType:()=>c,getPartner:()=>t})}}const l=e=>(t,n,r)=>i(t,n,e,r),c=e=>(t,n,r,o,i,s,l)=>a(t,e,n,r,o,i,s,l);function u(){return{anonToken:void 0}}n(75604),n(41532),n(32950),n(73599),n(64770),n(62080),n(97012),n(31274),n(29548),n(47342),n(14825),n(92467),n(67497),n(88236);class d{constructor(e){this.reducers=new Map,this.initialState=e}on(e,t){return"string"===typeof e?this.reducers.set(e,t):this.reducers.set(e.getType(),t),this}build(){var e=this;return function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.initialState,n=arguments.length>1?arguments[1]:void 0;return e.reducers.has(n.type)?e.reducers.get(n.type)(t,n):t}}}function p(e){return function(t){const n=t;return e.getType()===n.type&&e.getPartner()===n.partner}}n(69375),n(98376),n(46929),n(81045),n(30163),n(5350);const m=["appContext","experiments","pageRequestMetadata","seo","theme","uhf","user"],h=e=>m.indexOf(e)>=0;function g(e,t){return{scopes:[].concat(e),reducer:t}}function f(e,t){const n=new Map,r=new Map;for(const o in e){const{scopes:t,reducer:i}=e[o];t.forEach((e=>{n.has(e)?n.get(e).push(o):n.set(e,[o])})),r.set(o,i)}return g(Array.from(n.keys()),((e,i)=>{let a=!1;if(void 0===e){const e={};return r.forEach(((t,n)=>{e[n]=t(void 0,i)})),e}if(/^(@@redux\/(INIT|REPLACE)|@@INIT)/.test(i.type)){const t=o()({},e);return r.forEach(((n,r)=>{const o=e[r];t[r]=n(o,i)})),t}const{scope:s,partner:l}=i;let c=e;const u=n.get(s);return u&&u.filter((e=>!t||(l?e===l:h(e)))).forEach((t=>{const n=e[t],s=r.get(t)(n,i);s!==n&&(a||(c=o()({},e)),a=!0),c[t]=s})),c}))}function _(e){return f(e,!1)}function v(e){return f(e,!0).reducer}const y=l(""),b=c("");var S,E;!function(e){e.AppContext="AppContext",e.Experiments="Experiments",e.Navigation="Navigation",e.Seo="Seo",e.Theme="Theme",e.UHF="UHF",e.User="User"}(S||(S={})),function(e){e.SET_DEVICE_ID="@appContext/SET_DEVICE_ID",e.SET_APP_CONTEXT="@appContext/SET_APP_CONTEXT",e.SET_IS_PREVIEW_MODE="@appContext/SET_IS_PREVIEW_MODE",e.SET_IS_REACT_DOM_HYDRATING="@appContext/SET_IS_REACT_DOM_HYDRATING",e.SET_BOOTSTRAP_INITIALIZED="@appContext/SET_BOOTSTRAP_INITIALIZED"}(E||(E={}));const C={setAppContext:y(E.SET_APP_CONTEXT,S.AppContext,(e=>({appContext:e}))),setIsPreviewMode:y(E.SET_IS_PREVIEW_MODE,S.AppContext,(e=>({isPreviewMode:e}))),setIsReactDomHydrating:y(E.SET_IS_REACT_DOM_HYDRATING,S.AppContext,(e=>({isReactDomHydrating:e}))),setDeviceId:y(E.SET_DEVICE_ID,S.AppContext,(e=>({deviceId:e}))),setBootstrapInitialized:y(E.SET_BOOTSTRAP_INITIALIZED,S.AppContext,(()=>({})))};var T,w=n(15975);!function(e){e.SET_FEATURE_GATE_OVERRIDES="@experiments/SET_FEATURE_GATE_OVERRIDES",e.SET_EXPERIMENT_DATA="@experiments/SET_EXPERIMENT_DATA",e.FETCH_EXPERIMENT_DATA_SUCCESS="@experiments/FETCH_EXPERIMENT_DATA_SUCCESS",e.FETCH_EXPERIMENT_DATA_ERROR="@experiments/FETCH_EXPERIMENT_DATA_ERROR",e.REQUEST_EXPERIMENT_DATA_FETCH="@experiments/REQUEST_EXPERIMENT_DATA_FETCH",e.SET_EXPERIMENT_DATA_TO_LOADING="@experiments/SET_EXPERIMENT_DATA_TO_LOADING"}(T||(T={}));const I={setFeatureGateOverrides:y(T.SET_FEATURE_GATE_OVERRIDES,S.Experiments,(e=>({featureGates:e}))),setExperimentData:y(T.SET_EXPERIMENT_DATA,S.Experiments,((e,t,n,r)=>({environmentFeatureGates:e,expFeatureGates:t,urlQueryFeatureGates:n,experimentationInfo:r}))),requestExperimentDataFetch:y(T.REQUEST_EXPERIMENT_DATA_FETCH,S.Experiments,(function(){return{assignmentUpdateTrigger:arguments.length>0&&void 0!==arguments[0]?arguments[0]:w.V1.Unknown}})),fetchExperimentDataSuccess:y(T.FETCH_EXPERIMENT_DATA_SUCCESS,S.Experiments,((e,t)=>({experimentationInfo:e,assignmentUpdateTrigger:t}))),fetchExperimentDataError:y(T.FETCH_EXPERIMENT_DATA_ERROR,S.Experiments,(e=>({error:e}))),setExperimentDataToLoading:y(T.SET_EXPERIMENT_DATA_TO_LOADING,S.Experiments,(()=>({})))};var P;!function(e){e.LOCATION_CHANGE="@navigation/LOCATION_CHANGE",e.PAGE_DATA_REQUEST_START="@navigation/PAGE_DATA_REQUEST_START",e.PAGE_DATA_REQUEST_SUCCESS="@navigation/PAGE_DATA_REQUEST_SUCCESS",e.PAGE_DATA_REQUEST_ERROR="@navigation/PAGE_DATA_REQUEST_ERROR"}(P||(P={}));const A={navigateToPath:y(P.LOCATION_CHANGE,S.Navigation,((e,t,n)=>({newLocation:e,oldLocation:t,forceRefresh:n}))),pageDataRequest:b(S.Navigation,P.PAGE_DATA_REQUEST_START,(e=>({pageId:e})),P.PAGE_DATA_REQUEST_SUCCESS,(e=>({pageId:e})),P.PAGE_DATA_REQUEST_ERROR,((e,t)=>({pageId:e,error:t})))};var k;!function(e){e.UPDATE_PAGE_SEO_TAGS="@seo/UPDATE_PAGE_SEO_TAGS"}(k||(k={}));const x={updatePageSeoTags:y(k.UPDATE_PAGE_SEO_TAGS,S.Seo,((e,t)=>({tags:e,pageId:t})))};var R;!function(e){e.SET_THEME="@theme/SET_THEME",e.RESET_THEME="@theme/RESET_THEME"}(R||(R={}));const O={setTheme:y(R.SET_THEME,S.Theme,(e=>({theme:e}))),resetTheme:y(R.RESET_THEME,S.Theme)};var N;!function(e){e.FETCH_UHF_START="@uhf/FETCH_UHF_START",e.FETCH_UHF_COMPLETED="@uhf/FETCH_UHF_COMPLETED",e.FETCH_UHF_ERROR="@uhf/FETCH_UHF_ERROR",e.SET_HEADER_MODE="@uhf/SET_HEADER_MODE",e.RESET_HEADER_MODE="@uhf/RESET_HEADER_MODE",e.SET_FOOTER_MODE="@uhf/SET_FOOTER_MODE",e.RESET_FOOTER_MODE="@uhf/RESET_FOOTER_MODE"}(N||(N={}));const M={fetchUhf:b(S.UHF,N.FETCH_UHF_START,(()=>({})),N.FETCH_UHF_COMPLETED,(e=>({data:e})),N.FETCH_UHF_ERROR,(e=>({error:e}))),setHeaderMode:y(N.SET_HEADER_MODE,S.UHF,(e=>({mode:e}))),resetHeaderMode:y(N.RESET_HEADER_MODE,S.UHF),setFooterMode:y(N.SET_FOOTER_MODE,S.UHF,(e=>({mode:e}))),resetFooterMode:y(N.RESET_FOOTER_MODE,S.UHF)};var L=n(32841),D=n(63002);const F={isLoading:!1,hasContent:!1,error:void 0};var U=n(97995);const B=(e,t)=>(0,U.B2)(e)[t]||F;var H=n(79824),G=n(3023);const q=e=>{const t=(0,G.Y2)(e);return(0,H.useSelector)((e=>((e,t)=>(0,U.d4)(e)[t])(e,t)))},j=e=>(0,U.rP)(e).theme;var V=n(92187);const z=(e,t)=>{var n,r;let o;switch(t){case w.Sx.Light:case w.Sx.DarkHeader:o=null===(n=(0,U.bp)(e).data)||void 0===n?void 0:n.light;break;case w.Sx.Dark:o=null===(r=(0,U.bp)(e).data)||void 0===r?void 0:r.dark}return o},X=e=>{var t,n,r,o;const i=(0,U.bp)(e);return(null===(n=null===(t=i.data)||void 0===t?void 0:t.light)||void 0===n?void 0:n.javascriptIncludes)||(null===(o=null===(r=i.data)||void 0===r?void 0:r.dark)||void 0===o?void 0:o.javascriptIncludes)},K=(e,t)=>{var n;return null===(n=z(e,t===w.Sx.DarkHeader?w.Sx.Dark:t))||void 0===n?void 0:n.headerHtml},W=(e,t)=>{var n;return null===(n=z(e,t===w.Sx.DarkHeader?w.Sx.Light:t))||void 0===n?void 0:n.footerHtml},$=e=>(0,D.pz)(e,V.WT.UglyUhf)?w.Sx.Light:j(e),Y=e=>(0,U.bp)(e).headerMode,Q=e=>(0,U.bp)(e).footerMode||V.oq.Full},32841:(e,t,n)=>{"use strict";n.d(t,{GY:()=>l,Hl:()=>h,IL:()=>p,IP:()=>c,JK:()=>i,N8:()=>o,P6:()=>s,a5:()=>a,hb:()=>u,oK:()=>d,sj:()=>m});var r=n(97995);const o=e=>l(e).anonToken,i=e=>s(e).locale,a=e=>s(e).localeWithScript,s=e=>(0,r.yB)(e).marketInfo,l=e=>(0,r.yB)(e).requestInfo,c=e=>(0,r.yB)(e).deviceId,u=e=>l(e).path,d=e=>(0,r.yB)(e).telemetryInfo,p=e=>(0,r.yB)(e).isPreviewMode,m=e=>(0,r.yB)(e).isReactDomHydrating,h=e=>(0,r.yB)(e).clientBootstrapInfo.initialized},63002:(e,t,n)=>{"use strict";n.d(t,{DQ:()=>E,Eg:()=>m,F8:()=>g,Fu:()=>d,MD:()=>h,Mj:()=>S,XK:()=>_,_c:()=>b,ai:()=>w,cc:()=>I,pz:()=>C,vP:()=>f,w$:()=>P,xx:()=>v});var r=n(41506),o=n.n(r),i=(n(69375),n(47748),n(81045),n(30163),n(55367),n(83878)),a=n(88262),s=n(92187),l=n(55552),c=n(97995);const u={},d=(0,i.createSelector)(c.HV,(e=>{var t;return o()(o()(o()({},e.environmentFeatureGates),null!==(t=(0,a.getDataOrPrevious)(e.expFeatureGates))&&void 0!==t?t:u),e.overrideFeatureGates)})),p=e=>{var t;return null===(t=f(e))||void 0===t?void 0:t.flights},m=e=>(0,c.HV)(e).environmentFeatureGates,h=e=>{var t;return null!==(t=(0,a.getDataOrPrevious)((0,c.HV)(e).expFeatureGates))&&void 0!==t?t:u},g=e=>(0,c.HV)(e).overrideFeatureGates,f=e=>(0,a.getDataOrPrevious)((0,c.HV)(e).experimentationInfo),_=e=>(0,c.HV)(e).experimentationInfo,v=(e,t)=>t?e[t.toLowerCase()]:void 0,y=(e,t)=>v(d(e),t),b=(e,t)=>{const n=y(e,t);if("string"===typeof n)return n},S=(e,t)=>{const n=y(e,t);if("number"===typeof n)return n},E=(e,t)=>{const n=y(e,t);if("boolean"===typeof n)return n},C=(e,t)=>{const n=d(e);return T(n,t)},T=(e,t)=>!0===v(e,t),w=e=>{const t=p(e);let n="";return t&&(n=(0,l.iD)(t)),n},I=e=>{const t=p(e);let n=[];return t&&(n=t.filter((e=>e.toLowerCase().includes("sc_")))),n},P=e=>Object.values(s.WT).filter((e=>e.toLowerCase().includes("buynowexpid"))).reduce(((t,n)=>{const r=b(e,n);return r&&t.push(r),t}),[])},97995:(e,t,n)=>{"use strict";n.d(t,{B2:()=>i,HV:()=>o,aM:()=>a,bp:()=>c,d4:()=>s,rP:()=>l,yB:()=>r});const r=e=>e.appContext,o=e=>e.experiments,i=e=>e.pageRequestMetadata,a=(e,t)=>e[t],s=e=>e.seo,l=e=>e.theme,c=e=>e.uhf},55808:(e,t,n)=>{"use strict";var r;n.d(t,{pv:()=>r,Q9:()=>l,a_:()=>f,nD:()=>b,X5:()=>_,uz:()=>g,VR:()=>v,mz:()=>S}),function(e){e.WishlistId="wishlistId",e.ProductName="productName",e.ProductId="productId",e.AvailabilityId="availabilityId",e.SkuId="skuId",e.Path="path",e.NetworkName="networkName",e.TabName="tabName",e.ChannelId="channelId",e.Xuid="xuid",e.OrderId="orderId"}(r||(r={}));n(47010);var o=n(79824),i=n(3528),a=n(63002);const s=(e,t,n)=>{if(Array.isArray(e)){for(const r of e){if(s(r,t,n))return!0}return!1}if((0,i.CJ)(e,"featureGates"))for(const[r,o]of Object.entries(e.featureGates))if(!o(t(r)))return!1;return!(0,i.CJ)(e,"locale")||e.locale.toLocaleLowerCase()===(null===n||void 0===n?void 0:n.toLocaleLowerCase())},l=(e,t,n)=>{if(!e)return!0;return s(e,(e=>(0,a.xx)(null!==t&&void 0!==t?t:{},e)),n)};var c=n(41506),u=n.n(c),d=(n(97107),n(86090)),p=n(49652),m=n(32841);let h=[];const g=e=>h=e,f=(e,t,n,r)=>{if(0===h.length)throw new Error("No routes have been registered. Invalid use of getMatchedRouteConfig.");for(const o of h)if(l(o.constraint,t,r)){const t=(0,d.B6)(e,o);if(t)return u()(u()({},o),{},{isPreview:!!n,match:t})}},_=()=>h,v=e=>{const t=(0,o.useSelector)(a.Fu),n=(0,d.zy)(),r=(0,o.useSelector)(m.IL),i=(0,o.useSelector)(m.a5),s=e||n.pathname;return f(s,t,r,i)};function*y(e){const t=yield(0,p.select)(a.Fu),n=yield(0,p.select)(m.IL),r=yield(0,p.select)(m.a5);return yield(0,p.call)(f,e,t,n,r)}function b(e){return(0,p.call)(y,e)}const S=(e,t)=>(0,d.g)()[e]||t},56630:(e,t,n)=>{"use strict";var r,o,i,a;n.d(t,{WB:()=>K,pL:()=>$,M9:()=>C,nS:()=>G,ad:()=>m,uq:()=>ye,cM:()=>i,ag:()=>q,Nz:()=>a,C4:()=>Y,cA:()=>u,ry:()=>r,l2:()=>Se,g6:()=>o,Bu:()=>g,Q8:()=>d,ix:()=>h,pY:()=>Z,xc:()=>Ee,_4:()=>p,be:()=>c,hu:()=>ee,R1:()=>xe,vj:()=>L,Q2:()=>D,jF:()=>Re,Jl:()=>P,ai:()=>A,pD:()=>H,nO:()=>F,jm:()=>z,AH:()=>y,RE:()=>_,qz:()=>V,zM:()=>v,Gb:()=>f,jr:()=>b}),function(e){e.Browse="Browse",e.BuyNow="BuyNow",e.Cart="Cart",e.Checkout="Checkout",e.Error="Error",e.GenericError="GenericError",e.LocalePicker="LocalePicker",e.Overlay="Overlay",e.ProductDetailsPage="ProductDetailsPage",e.PDP="PDP",e.Retry="Retry",e.Search="Search",e.Settings="Settings",e.Wishlist="Wishlist"}(r||(r={})),function(e){e.Cart="CART",e.Checkout="CHECKOUT",e.PDP="PDP"}(o||(o={})),function(e){e.Button="Button",e.Link="Link",e.PageContent="PageContent"}(i||(i={})),function(e){e.CemService="CemService",e.DisplayCatalogService="DisplayCatalogService",e.EmeraldXbetService="EmeraldXbetService",e.InventoryService="InventoryService",e.GamingContext="GamingContext",e.PeopleHub="PeopleHub",e.SISU="SISU",e.StoreCartService="StoreCartService",e.XboxLiveAccountService="XboxLiveAccountService"}(a||(a={}));n(97107);var s=n(37509),l=n(14041);const c=(0,l.createContext)({}),u=(0,l.createContext)({}),d=(0,l.createContext)({}),p=(0,l.createContext)({}),m=(0,l.createContext)({}),h=(0,l.createContext)({}),g=(0,l.createContext)({}),f=()=>(0,l.useContext)(c),_=()=>(0,l.useContext)(u),v=()=>(0,l.useContext)(d),y=()=>f().cv(),b=()=>f().logger(),S=(0,l.createContext)(void 0),E=()=>(0,l.useContext)(S),C=e=>{let{children:t}=e;const n=f().getCurrentPage()||void 0,r=(0,l.useRef)(n),o=b();if(void 0!==E()&&(o.error("can not nest BackingPageProvider"),"prod"!==s.VTO.DEPLOYMENT_ENV))throw new Error("can not nest BackingPageProvider");return l.createElement(S.Provider,{value:r.current},t)};var T=n(49652);function*w(){return yield(0,T.getContext)(s.hTd.telemetry)}function*I(){return(yield w()).logger()}function P(){return(0,T.call)(w)}function A(){return(0,T.call)(I)}var k=n(67996),x=n.n(k),R=n(41506),O=n.n(R);n(64727);const N=["areaName","behavior","componentName","contentName","contentType","id","productId","productName","skuId","slotNumber","templateName","videoDuration","videoId","videoName","videoPercentageComplete","videoWatchTime"];var M;!function(e){e.Sku="sku"}(M||(M={}));const L=e=>({"data-m":JSON.stringify(U(e))}),D=()=>({"data-bi-dnt":!0}),F=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=(0,s.HRB)(e),o=(0,s.HRB)(t),i=(0,s.HRB)(n);return O()(O()(O()({},i),o),r)},U=e=>{const{areaName:t,behavior:n,componentName:r,contentName:o,contentType:i,id:a,productId:s,productName:l,skuId:c,slotNumber:u,templateName:d,videoDuration:p,videoId:m,videoName:h,videoPercentageComplete:g,videoWatchTime:f}=e,_=x()(e,N);return O()({aN:t,bhvr:n,cN:o,compnm:r,cT:i,id:a,pid:s,prod:l,sku:c,sN:u,tN:d,viddur:p,vidid:m,vidnm:h,vidpct:g,vidwt:f},_)},B={assignmentContext:void 0,flights:[],impressionGuid:void 0,version:void 0,trafficFilters:void 0,deviceId:""},H=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B;var t;return{assignmentContext:e.assignmentContext,flights:(null===(t=e.flights)||void 0===t?void 0:t.join(","))||"",impressionGuid:e.impressionGuid,version:e.version,trafficFilters:e.trafficFilters}};var G,q;n(98376),n(91321);!function(e){e[e.UNDEFINED=0]="UNDEFINED",e[e.NAVIGATIONBACK=1]="NAVIGATIONBACK",e[e.NAVIGATION=2]="NAVIGATION",e[e.NAVIGATIONFORWARD=3]="NAVIGATIONFORWARD",e[e.APPLY=4]="APPLY",e[e.REMOVE=5]="REMOVE",e[e.SORT=6]="SORT",e[e.EXPAND=7]="EXPAND",e[e.REDUCE=8]="REDUCE",e[e.CONTEXTMENU=9]="CONTEXTMENU",e[e.TAB=10]="TAB",e[e.COPY=11]="COPY",e[e.EXPERIMENTATION=12]="EXPERIMENTATION",e[e.PRINT=13]="PRINT",e[e.SHOW=14]="SHOW",e[e.HIDE=15]="HIDE",e[e.MAXIMIZE=16]="MAXIMIZE",e[e.MINIMIZE=17]="MINIMIZE",e[e.BACKBUTTON=18]="BACKBUTTON",e[e.STARTPROCESS=20]="STARTPROCESS",e[e.PROCESSCHECKPOINT=21]="PROCESSCHECKPOINT",e[e.COMPLETEPROCESS=22]="COMPLETEPROCESS",e[e.SCENARIOCANCEL=23]="SCENARIOCANCEL",e[e.DOWNLOADCOMMIT=40]="DOWNLOADCOMMIT",e[e.DOWNLOAD=41]="DOWNLOAD",e[e.SEARCHAUTOCOMPLETE=60]="SEARCHAUTOCOMPLETE",e[e.SEARCH=61]="SEARCH",e[e.SEARCHINITIATE=62]="SEARCHINITIATE",e[e.TEXTBOXINPUT=63]="TEXTBOXINPUT",e[e.PURCHASE=80]="PURCHASE",e[e.ADDTOCART=81]="ADDTOCART",e[e.VIEWCART=82]="VIEWCART",e[e.ADDWISHLIST=83]="ADDWISHLIST",e[e.FINDSTORE=84]="FINDSTORE",e[e.CHECKOUT=85]="CHECKOUT",e[e.REMOVEFROMCART=86]="REMOVEFROMCART",e[e.PURCHASECOMPLETE=87]="PURCHASECOMPLETE",e[e.VIEWCHECKOUTPAGE=88]="VIEWCHECKOUTPAGE",e[e.VIEWCARTPAGE=89]="VIEWCARTPAGE",e[e.VIEWPDP=90]="VIEWPDP",e[e.UPDATEITEMQUANTITY=91]="UPDATEITEMQUANTITY",e[e.INTENTTOBUY=92]="INTENTTOBUY",e[e.PUSHTOINSTALL=93]="PUSHTOINSTALL",e[e.SIGNIN=100]="SIGNIN",e[e.SIGNOUT=101]="SIGNOUT",e[e.SOCIALSHARE=120]="SOCIALSHARE",e[e.SOCIALLIKE=121]="SOCIALLIKE",e[e.SOCIALREPLY=122]="SOCIALREPLY",e[e.CALL=123]="CALL",e[e.EMAIL=124]="EMAIL",e[e.COMMUNITY=125]="COMMUNITY",e[e.VOTE=140]="VOTE",e[e.SURVEYINITIATE=141]="SURVEYINITIATE",e[e.SURVEYCOMPLETE=142]="SURVEYCOMPLETE",e[e.REPORTAPPLICATION=143]="REPORTAPPLICATION",e[e.REPORTREVIEW=144]="REPORTREVIEW",e[e.SURVEYCHECKPOINT=145]="SURVEYCHECKPOINT",e[e.CONTACT=160]="CONTACT",e[e.REGISTRATIONINITIATE=161]="REGISTRATIONINITIATE",e[e.REGISTRATIONCOMPLETE=162]="REGISTRATIONCOMPLETE",e[e.CANCELSUBSCRIPTION=163]="CANCELSUBSCRIPTION",e[e.RENEWSUBSCRIPTION=164]="RENEWSUBSCRIPTION",e[e.CHANGESUBSCRIPTION=165]="CHANGESUBSCRIPTION",e[e.REGISTRATIONCHECKPOINT=166]="REGISTRATIONCHECKPOINT",e[e.CHATINITIATE=180]="CHATINITIATE",e[e.CHATEND=181]="CHATEND",e[e.TRIALSIGNUP=200]="TRIALSIGNUP",e[e.TRIALINITIATE=201]="TRIALINITIATE",e[e.PARTNERREFERRAL=220]="PARTNERREFERRAL",e[e.VIDEOSTART=240]="VIDEOSTART",e[e.VIDEOPAUSE=241]="VIDEOPAUSE",e[e.VIDEOCONTINUE=242]="VIDEOCONTINUE",e[e.VIDEOCHECKPOINT=243]="VIDEOCHECKPOINT",e[e.VIDEOJUMP=244]="VIDEOJUMP",e[e.VIDEOCOMPLETE=245]="VIDEOCOMPLETE",e[e.VIDEOBUFFERING=246]="VIDEOBUFFERING",e[e.VIDEOERROR=247]="VIDEOERROR",e[e.VIDEOMUTE=248]="VIDEOMUTE",e[e.VIDEOUNMUTE=249]="VIDEOUNMUTE",e[e.VIDEOFULLSCREEN=250]="VIDEOFULLSCREEN",e[e.VIDEOUNFULLSCREEN=251]="VIDEOUNFULLSCREEN",e[e.VIDEOREPLAY=252]="VIDEOREPLAY",e[e.VIDEOPLAYERLOAD=253]="VIDEOPLAYERLOAD",e[e.VIDEOPLAYERCLICK=254]="VIDEOPLAYERCLICK",e[e.VIDEOVOLUMECONTROL=255]="VIDEOVOLUMECONTROL",e[e.VIDEOAUDIOTRACKCONTROL=256]="VIDEOAUDIOTRACKCONTROL",e[e.VIDEOCLOSEDCAPTIONCONTROL=257]="VIDEOCLOSEDCAPTIONCONTROL",e[e.VIDEOCLOSEDCAPTIONSTYLE=258]="VIDEOCLOSEDCAPTIONSTYLE",e[e.VIDEORESOLUTIONCONTROL=259]="VIDEORESOLUTIONCONTROL",e[e.VIRTUALEVENTJOIN=260]="VIRTUALEVENTJOIN",e[e.VIRTUALEVENTEND=261]="VIRTUALEVENTEND",e[e.IMPRESSION=280]="IMPRESSION",e[e.CLICK=281]="CLICK",e[e.RICHMEDIACOMPLETE=282]="RICHMEDIACOMPLETE",e[e.ADBUFFERING=283]="ADBUFFERING",e[e.ADERROR=284]="ADERROR",e[e.ADSTART=285]="ADSTART",e[e.ADCOMPLETE=286]="ADCOMPLETE",e[e.ADSKIP=287]="ADSKIP",e[e.ADTIMEOUT=288]="ADTIMEOUT",e[e.OTHER=300]="OTHER"}(G||(G={})),function(e){e.LeftClick="CL",e.MiddleClick="CM",e.RightClick="CR",e.Scroll="S",e.Zoom="Z",e.Resize="R",e.KeyboardEnter="KE",e.KeyboardSpace="KS",e.GamepadA="CGA",e.GamepadMenu="CGM",e.Automatic="A",e.AutomaticTimer="AT",e.Other="O"}(q||(q={}));var j;!function(e){e[e.Verbose=0]="Verbose",e[e.Info=1]="Info",e[e.Warning=2]="Warning",e[e.Error=3]="Error",e[e.Critical=4]="Critical"}(j||(j={}));const V=(e,t,n)=>{const{additionalRerunParameter:r,data:i,previousLocation:a,productInfo:c,customAttributes:u}=O()({},n),d=f(),p=E();(0,l.useEffect)((()=>{const n=a?(e=>`${e.pathname}${e.search?`?${e.search}`:""}`)(a):document.referrer;let r;switch(t.toUpperCase()){case o.Cart:r=G.VIEWCARTPAGE;break;case o.Checkout:r=G.VIEWCHECKOUTPAGE;break;case o.PDP:r=G.VIEWPDP;break;default:r=G.UNDEFINED}return d.logPageView({behavior:r,data:i&&(0,s.HRB)(i),pageName:e,pageType:t,productInfo:c,referrerUri:n,customAttributes:u}),d.logContentUpdate({}),()=>d.logPageUnload(p)}),[e,t,r])},z="telemetryTags";n(31759),n(10568),n(39428),n(86741),n(81045),n(5350);BigInt(1e6);var X=n(77428);class K extends X.s{constructor(e){if(!e)throw new Error("Need to provide appId to initialize plugin");super(),this.appId=e}processTelemetry(e,t){var n,r;e.ext=null!==(n=e.ext)&&void 0!==n?n:{},e.ext.app=null!==(r=e.ext.app)&&void 0!==r?r:{},e.ext.app.id=this.appId,t&&this.processNext(e,t)}}n(69375);var W=n(75022);class $ extends X.s{constructor(e,t){super(),this._config=e,this._pageMetadataTracker=t}processTelemetry(e,t){const n={},r=this._grabCv(e);r&&(n[W.O.operationCorrelationVector]=r,n[W.O.operationParentId]=this._pageMetadataTracker.pageViewCv||r,n[W.O.operationId]=this._initialCv||r,e.baseData&&(e.baseData.id=r),e.data=O()(O()({},e.data),{},{cV:r})),n[W.O.deviceLocale]=this._config.coreData.locale,e.tags=e.tags||[],e.tags.push(n),t&&this.processNext(e,t)}setInitialCv(e){this._initialCv=e}_grabCv(e){return e.ext&&e.ext.mscv&&e.ext.mscv.cV}}class Y extends X.s{processTelemetry(e,t){console.info(e),t&&this.processNext(e,t)}}var Q=n(62434),J=n(77981);class Z extends X.s{constructor(e,t,n){super(),this._config=e,this._requestMetadataTracker=t,this._isBreezeCollector=n,this._hasOverrides=!!e.coreData||!!e.callback}processTelemetry(e,t){if(this._isQosEvent(e)){const t=this._grabCv(e),n=this._requestMetadataTracker.getAndClear(t),r=n&&this._filterHeadersForTelemetry(n.requestHeaders),o=n&&this._filterHeadersForTelemetry(n.responseHeaders);if(this._hasOverrides||n){const t=this._evaluateCallback(this._config.callback);e.data=O()(O()(O()(O()({},e.data),this._config.coreData),t),{},{requestHeaders:r,responseHeaders:o})}}if(this._isBreezeCollector&&this._isOutgoingQosEvent(e)&&e.baseData){const t=e.baseData;t.id=(0,J.A)(),t.responseCode=t.protocolStatusCode,t.success=t.succeeded,t.duration=t.latencyMs,t.data=t.target,e.data=O()(O()({},e.data),{},{targetUri:t.target,responseSizeBytes:e.baseData.responseSizeBytes,operationName:e.baseData.operationName,dependencyOperationName:e.baseData.dependencyOperationName,serviceErrorCode:e.baseData.serviceErrorCode,[Q.ym]:e.baseData.requestMethod,responseContentType:e.baseData.responseContentType,protocol:e.baseData.protocol,requestStatus:e.baseData.requestStatus})}t&&this.processNext(e,t)}_evaluateCallback(e){const t={};return e&&Object.keys(e).forEach((n=>{e[n]&&(t[n]=e[n]())})),t}_isQosEvent(e){return 0===e.name.toLowerCase().indexOf("ms.qos.")}_isOutgoingQosEvent(e){return 0===e.name.toLowerCase().indexOf("ms.qos.outgoingservicerequest")}_filterHeadersForTelemetry(e){const t=new Headers(e);return t.forEach((e=>{Z.HeadersToScrubLookup[e.toLowerCase()]&&t.set(e,"{{ SCRUBBED }}")})),t}_grabCv(e){return e.ext&&e.ext.mscv&&e.ext.mscv.cV}}Z.HeadersToScrubLookup={authorization:!0,"x-ms-authorization-social":!0,cookie:!0};class ee extends X.s{constructor(e){super(),this._config=e}processTelemetry(e,t){if(this._config.callback.isLoggedIn()){const t=this._config.callback.xuid();t&&(e.ext=e.ext||{},e.ext.user=e.ext.user||{},e.ext.user.authId=`x:${t}`)}t&&this.processNext(e,t)}}var te=n(69037);class ne{constructor(e,t){this._oneCollector=e,this._pageMetadataTracker=t}getWebAnalyticsExtension(){return this._oneCollector.getWebAnalyticsExtension()}capturePageView(e,t){this._oneCollector.capturePageView(e,t)}capturePageAction(e,t,n,r){this._oneCollector.capturePageAction(e,t,n,r)}captureContentUpdate(e,t){var n;const r=null===(n=e.pageTags)||void 0===n?void 0:n.at_exp_name;r&&(Array.isArray(r)?this._pageMetadataTracker.adobeTargetExperimentIds=r.join("|"):"string"===typeof r&&(this._pageMetadataTracker.adobeTargetExperimentIds=r)),this._oneCollector.captureContentUpdate(e,t)}}class re{constructor(e){this._cv=e,this._initialCv=e.getValue()}get initialCv(){return this._initialCv}get(){return this._cv.getValue()}extend(){return this._cv.extend()}increment(){return this._cv.increment()}}var oe=n(32299);function ie(){const e="MISSING_ENV_VAR".RAZZLE_TRACE_LOG_LEVEL;let t=j.Warning;if(e){const n=parseInt(e,10);isNaN(n)||n>=j.Verbose&&n<=j.Critical&&(t=n)}return t}function ae(e){switch(e){case j.Info:return"Info";case j.Warning:return"Warning";case j.Verbose:return"Verbose";case j.Error:return"Error";case j.Critical:return"Critical";default:return"Unknown"}}class se{constructor(e){this.webAnalytics=e.getWebAnalyticsExtension(),this.enabledSeverity=ie()}verbose(e){this.logTrace(e,oe.O.Verbose)}info(e){this.logTrace(e,oe.O.Information)}warn(e){this.logTrace(e,oe.O.Warning)}error(e,t){t&&this.webAnalytics.trackException({exception:t,severityLevel:oe.O.Error,properties:{message:e}}),this.logTrace(e,oe.O.Error)}logTrace(e,t){t>=this.enabledSeverity&&this.webAnalytics.trackTrace({message:e,severityLevel:t})}}class le{constructor(){this.logToConsole="true"==="MISSING_ENV_VAR".E2E||"true"==="MISSING_ENV_VAR".PROD_LOCAL||"true"==="MISSING_ENV_VAR".RAZZLE_ENABLE_TELEMETRY_EVENTS_CONSOLE_LOGGING}verbose(e){this.logToConsole&&console.debug(e)}info(e){this.logToConsole&&console.info(e)}warn(e){this.logToConsole&&console.warn(e)}error(e,t){this.logToConsole&&console.error(e,t)}}class ce{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.loggers=t}verbose(e){this.loggers.forEach((t=>t.verbose(e)))}info(e){this.loggers.forEach((t=>t.info(e)))}warn(e){this.loggers.forEach((t=>t.warn(e)))}error(e,t){this.loggers.forEach((n=>n.error(e,t)))}}class ue{constructor(e,t){this.core=e,this.envInfo=t,this.enabledSeverity=ie()}verbose(e){this.logTrace({message:e,severity:j.Verbose})}info(e){this.logTrace({message:e,severity:j.Info})}warn(e){this.logTrace({message:e,severity:j.Warning})}error(e,t){this.logTrace({message:e,error:t,severity:j.Error})}logTrace(e){if(e.severity>=this.enabledSeverity){const{error:t,severity:n,message:r}=e,o={name:"Microsoft.Xbox.Monetization.Web.TraceLog",baseType:"TraceLog",ext:{},baseData:{message:r,severity:ae(n),envInfo:this.envInfo},data:{},latency:te.XA.Normal};t&&(o.baseData.error={name:t.name,message:t.message,stack:t.stack}),this.core.track(o)}}}n(10865);var de=n(89322);class pe{constructor(e,t){this.telemetryClient=e,this.setCommonData=t,this.enabledSeverity=ie()}verbose(e){this.logTrace(e,de.SeverityLevel.Verbose)}info(e){this.logTrace(e,de.SeverityLevel.Information)}warn(e){this.logTrace(e,de.SeverityLevel.Warning)}error(e,t){t&&this.logException(e,t),this.logTrace(e,de.SeverityLevel.Error)}async logException(e,t){this.telemetryClient.trackException(await this.setCommonData({exception:t,severity:de.SeverityLevel.Error,properties:{message:e}}))}async logTrace(e,t){t>=this.enabledSeverity&&this.telemetryClient.trackTrace(await this.setCommonData({message:e,severity:t}))}}var me=n(80982);class he{verbose(e){}info(e){}warn(e){}error(e,t){const n={message:e,name:(null===t||void 0===t?void 0:t.name)||"Unknown name"};if(t)for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&"stack"!==r&&(n[r]=t[r]);(0,me.Cp)(t,{extra:n})}}const ge=["requestHeaders","responseHeaders"],fe=["requestHeaders","responseHeaders"],_e=["pageName","pageType","referrerUri","behavior","productInfo"],ve=["error"];class ye{constructor(e,t,n,r,o,i){this._oneCollector=e,this._breeze=t,this._pageMetadataTracker=r,this._requestMetadataTracker=o,this._envInfo=i,this._cv=new re(n.getCv()),this._traceLogger=new ce(new ue(e.appInsights,i),new se(t.appInsights),new le,new he),this._shim=new ne(this._oneCollector.appInsights,this._pageMetadataTracker)}cv(){return this._cv}getOneCollectorAppInsight(){return this._shim}logger(){return this._traceLogger}logOutgoingServiceReliability(e){const{requestHeaders:t,responseHeaders:n}=e,r=x()(e,ge);this._requestMetadataTracker.track(e.cV,t,n),this._breeze.qosPlugin.trackServiceOutgoingQos(r),this._oneCollector.qosPlugin.trackServiceOutgoingQos(r)}logIncomingServiceReliability(e){const{requestHeaders:t,responseHeaders:n}=e,r=x()(e,fe);this._requestMetadataTracker.track(e.cV,t,n),this._breeze.qosPlugin.trackServiceIncomingQos(r),this._oneCollector.qosPlugin.trackServiceIncomingQos(r)}logPageView(e){const{pageName:t,pageType:n,referrerUri:r,behavior:o,productInfo:i}=e,a=x()(e,_e);this._pageMetadataTracker.pageName=t,this._pageMetadataTracker.pageType=n,this._pageMetadataTracker.productInfo=i,this._cv.increment();const l=(0,s.HRB)({pageName:t,referrerUri:r,behavior:o}),c=O()({pageType:n},(0,s.HRB)(a));this._breeze.appInsights.capturePageView(l,c),this._oneCollector.appInsights.capturePageView(l,c),this._pageMetadataTracker.pageViewCv=this._cv.get()}logContentUpdate(e){var t;const n={content:e.content&&O()({},U(e.content)),pageName:this._pageMetadataTracker.pageName,behavior:null!==(t=e.behavior)&&void 0!==t?t:G.UNDEFINED},r={pageType:this._pageMetadataTracker.pageType};this._oneCollector.appInsights.captureContentUpdate(n,r)}logPageAction(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n;const{actionType:r,targetUri:o}=e,i=O()({},U(e.content)),a={actionType:r,behavior:null!==(n=i.bhvr)&&void 0!==n?n:G.UNDEFINED,targetUri:o,content:i,pageName:this._pageMetadataTracker.pageName,contentTags:i},s={pageType:this._pageMetadataTracker.pageType,customAttributes:t};this._breeze.appInsights.capturePageAction(void 0,a,s),this._oneCollector.appInsights.capturePageAction(void 0,a,s)}logPurchaseAction(e){const{error:t}=e,n=x()(e,ve),r={name:"Microsoft.Xbox.Monetization.Web.PurchaseAction",baseType:"PurchaseAction",ext:{},baseData:(0,s.HRB)(O()({name:"PurchaseAction"},n)),data:{pageType:this._pageMetadataTracker.pageType,pageName:this._pageMetadataTracker.pageName},latency:te.XA.Normal};t&&(r.baseData.error={name:t.name,message:t.message,stack:t.stack}),this._breeze.appInsights.track(O()({},r)),this._oneCollector.appInsights.track(r)}logAppAction(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{action:n,pageName:r,pageType:o}=e,i={name:"Microsoft.Xbox.Monetization.Web.AppAction",baseType:"AppAction",ext:{},baseData:{name:"AppAction",action:n,pageName:r||this._pageMetadataTracker.pageName,pageType:o||this._pageMetadataTracker.pageType,uri:window.location.href},data:{customAttributes:(0,s.HRB)(t)},latency:te.XA.Normal};this._breeze.appInsights.track(O()({},i)),this._oneCollector.appInsights.track(i)}logExperimentationSnapshot(e,t,n,r){if(!n&&!r)return;const o={name:"Microsoft.Xbox.Monetization.Web.ExperimentationSnapshot",baseType:"AppAction",ext:{},baseData:O()(O()({},t),{},{name:"ExperimentationSnapshot",uri:window.location.href}),data:{experimentation:H(e)},latency:te.XA.Immediate};this._breeze.appInsights.track(O()({},o)),this._oneCollector.appInsights.track(o);const i={pageName:this._pageMetadataTracker.pageName,behavior:G.EXPERIMENTATION},a={pageType:this._pageMetadataTracker.pageType};this.setExperimentationId((0,s.iDY)(null===e||void 0===e?void 0:e.flights)),this._oneCollector.appInsights.captureContentUpdate(i,a)}logPageUnload(e){const t={pageName:this._pageMetadataTracker.pageName},n={pageType:this._pageMetadataTracker.pageType};this._breeze.appInsights.capturePageUnload(t,n),this._oneCollector.appInsights.capturePageUnload(t,n),this._pageMetadataTracker.resetPageTags(e)}logAuthAction(e){let t=(0,s.HRB)(O()({},e));if("error"in t&&t.error instanceof Error){const e=t.error;t=O()(O()({},t),{},{error:O()(O()({},e),{},{name:e.name,message:e.message,stack:e.stack})})}const n={name:"Microsoft.Xbox.Monetization.Web.AuthAction",baseType:"AuthAction",ext:{},baseData:t};this._breeze.appInsights.track(O()({},n)),this._oneCollector.appInsights.track(n)}resetAuthenticationState(){}flushEvents(){this._breeze.flushEvents(),this._oneCollector.flushEvents()}setExperimentationId(e){this._pageMetadataTracker.platformAdobeBasedExperimentIds=e}getCurrentPage(){return this._pageMetadataTracker.toJSON()}}n(55367),n(47010),n(83165),n(24541),n(34397);class be{constructor(e,t,n,r){this._appInsights=e,this._contextProviders=n,this._envInfo=r,this._cv=new re(t),this._traceLogger=new pe(e,this._setContextAndCommonProperties.bind(this))}cv(){return this._cv}logger(){return this._traceLogger}async logOutgoingServiceReliability(e){const t=new URL(e.target),n=await this._setContextAndCommonProperties({id:e.cV,dependencyTypeName:e.dependencyType||"RemoteDependency",data:t.pathname,target:t.host,name:`${e.requestMethod.toUpperCase()} ${t.pathname}`,duration:e.latencyMs,resultCode:e.protocolStatusCode||0,success:e.succeeded,properties:this._createPropertiesObject({targetUri:e.target,responseSizeBytes:e.responseSizeBytes,operationName:e.operationName,dependencyOperationName:e.dependencyOperationName,serviceErrorCode:e.serviceErrorCode,[Q.ym]:e.requestMethod,responseContentType:e.responseContentType,protocol:e.protocol,requestStatus:e.requestStatus,requestHeaders:e.requestHeaders&&JSON.stringify(this._filterHeadersForTelemetry(e.requestHeaders)),responseHeaders:e.responseHeaders&&JSON.stringify(this._filterHeadersForTelemetry(e.responseHeaders)),envInfo:JSON.stringify(this._envInfo)})},e.cV);this._appInsights.trackDependency(n)}async logIncomingServiceReliability(e){const t=new URL(e.target),n=this._normalizeClientIp(e.callerIpAddress),r=await this._setContextAndCommonProperties({id:e.cV,name:`${e.requestMethod.toUpperCase()} ${t.pathname}`,url:e.target,source:`${e.callerName} ${n}`,duration:e.latencyMs,resultCode:e.protocolStatusCode||0,success:e.succeeded,properties:this._createPropertiesObject({callerName:e.callerName,callerIpAddress:n,requestSizeBytes:e.requestSizeBytes,serviceErrorCode:e.serviceErrorCode,operationName:e.operationName,[Q.ym]:e.requestMethod,responseContentType:e.responseContentType,protocol:e.protocol,requestStatus:e.requestStatus,requestHeaders:e.requestHeaders&&JSON.stringify(this._filterHeadersForTelemetry(e.requestHeaders)),responseHeaders:e.responseHeaders&&JSON.stringify(this._filterHeadersForTelemetry(e.responseHeaders)),envInfo:JSON.stringify(this._envInfo)})},e.cV,this._contextProviders.appContext.telemetryInfo.incomingCv);this._appInsights.trackRequest(r)}logPageView(e){console.warn("PageView event not supported on the server")}logContentUpdate(e){console.warn("ContentUpdate event not supported on the server")}logPageAction(e){console.warn("PageAction event not supported on the server")}logPurchaseAction(e){console.warn("Purchase events not supported on the server")}logAppAction(e){console.warn("App Action events not supported on the server")}logPageUnload(e){console.warn("PageUnload event not supported on the server")}logExperimentationSnapshot(){console.warn("ExperimentationSnapshot event not supported on the server")}logAuthAction(e){console.warn("AuthAction event not supported on the server")}resetAuthenticationState(){console.warn("ResetAuthenticationState not supported on the server")}flushEvents(){console.warn("Flush events is not supported on the server")}setExperimentationId(e){console.warn("Set Experimentation Id is not supported on the server")}getCurrentPage(){console.warn("getCurrentPage is not supported on the server")}_normalizeClientIp(e){let t=e||"";return 0===t.indexOf("::ffff:")&&(t=t.substr(7)),t||void 0}_createPropertiesObject(e){return Object.keys(e).reduce(((t,n)=>{const r=e[n];return(0,s.q3w)(r)&&(t[n]=r.toString()),t}),{})}_filterHeadersForTelemetry(e){const t=new Headers(e);return Object.keys(e).forEach((e=>{be.HeadersToScrubLookup[e.toLowerCase()]&&t.set(e,"{{ SCRUBBED }}")})),t}_createContextObject(e,t){return{cV:e,operationParentId:t||e,operationId:this._contextProviders.appContext.telemetryInfo.incomingCv||this._cv.initialCv}}async _setContextAndCommonProperties(e,t,n){e.properties=O()({serverImpressionGuid:this._contextProviders.appContext.telemetryInfo.serverImpressionGuid,market:this._contextProviders.appContext.marketInfo.market,isLoggedIn:(await this._contextProviders.getUserState()).isSignedIn.toString()},e.properties);const r=this._appInsights.context.keys;return e.tagOverrides=O()(O()({},(0,s.HRB)({[r.deviceLocale]:this._contextProviders.appContext.marketInfo.locale,[r.locationIp]:this._normalizeClientIp(this._contextProviders.request.ip),[r.userId]:be._getLocalUserId(this._contextProviders.request),[r.userAuthUserId]:await be._getAuthUserId(this._contextProviders.getUserState)})),e.tagOverrides),e.contextObjects=O()(O()({},this._createContextObject(t||this._cv.get(),n)),e.contextObjects),e}}be.HeadersToScrubLookup={authorization:!0,"x-ms-authorization-social":!0,cookie:!0,"set-cookie":!0},be._getLocalUserId=e=>{var t;const n=null===(t=e.cookies)||void 0===t?void 0:t.MUID;return n&&`t:${n}`},be._getAuthUserId=async e=>{var t;const n=null===(t=(await e()).userInfo)||void 0===t?void 0:t.xuid;return n&&`x:${n}`};n(30163),n(73118),n(90374),n(72252),n(38124),n(70889),n(98788),n(46826),n(65949),n(9402),n(84035),n(14419),n(20629),n(90029),n(21019),n(65478),n(55976);class Se{constructor(e){this._platformAdobeBasedExperimentIds=new Set,this._adobeTargetExperimentIds=new Set,this._pageName=" ",this._pageType=" ",this._platformAdobeBasedExperimentIds=new Set(e?e.split("|"):[])}get pageName(){return this._pageName}set pageName(e){this._pageName=e}get pageType(){return this._pageType}set pageType(e){this._pageType=e}get pageViewCv(){return this._pageViewCv}set pageViewCv(e){this._pageViewCv=e}get productInfo(){return this._productInfo}set productInfo(e){this._productInfo=e}get platformAdobeBasedExperimentIds(){return[...this.platformAdobeBasedExperimentIds].join("|")}set platformAdobeBasedExperimentIds(e){const t=e.split("|");for(const n of t)this._platformAdobeBasedExperimentIds.add(n)}get adobeTargetExperimentIds(){return[...this._adobeTargetExperimentIds].join("|")}set adobeTargetExperimentIds(e){const t=e.split("|");for(const n of t)this._adobeTargetExperimentIds.add(n)}get adobeExperimentIds(){return[...this._adobeTargetExperimentIds,...this._platformAdobeBasedExperimentIds].filter((e=>!!e)).join("|")}resetPageTags(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{pageName:" ",pageType:" ",pageViewCv:void 0,productInfo:void 0};this.pageName=e.pageName,this.pageType=e.pageType,this.pageViewCv=e.pageViewCv,this.productInfo=e.productInfo}toJSON(){return{pageName:this.pageName,pageType:this.pageType,pageViewCv:this.pageViewCv,productInfo:this.productInfo,experimentId:this.adobeExperimentIds}}}class Ee{constructor(){this._trackedMetadataByCv={}}track(e,t,n){this._trackedMetadataByCv[e]={requestHeaders:t,responseHeaders:n}}get(e){return this._trackedMetadataByCv[e]}clear(e){this._trackedMetadataByCv&&(this._trackedMetadataByCv[e]=void 0)}getAndClear(e){const t=this.get(e);return t&&this.clear(e),t}}n(71450),n(57182),n(81802);var Ce=n(90692),Te=n(92634),we=n(35676);const Ie=(e,t,n)=>{var r,o,i,a;let l=0;const c=Date.now();t.metadata&&t.metadata.timeStamp&&(l=c-t.metadata.timeStamp);let u=e.cv().get(),d="";if(t.headers){const e=t.headers.get(Ce.HttpHeader.CorrelationVector);e&&(u=e),d=null!==(r=t.headers.get("X-MS-API-Version"))&&void 0!==r?r:""}const p=t.url&&new URL(t.url);let m,h,g,f;const _=(e=>e.metadata&&e.metadata[z])(t);let v,y,b,S,E,C;if(_?(h=_.dependencyName,g=_.dependencyOperationName,m=_.operationName,f=_.dependencyOperationVersion||d):p&&(h=p.hostname,g=p.pathname),n){v=n.headers,y=(0,s.RJH)(n.status),b=n.status.toString(),S=(0,s.Uqy)(n.status).toString(),E=null!==(o=n.headers.get(Ce.HttpHeader.ContentType))&&void 0!==o?o:void 0;const e=n.headers.get(Ce.HttpHeader.ContentLength);e&&(C=parseInt(e,10))}else v=new Headers,y=!1,b="500",S=s.H_O.TransportError.toString();const T={op:g,startTimestamp:null===(i=t.metadata)||void 0===i?void 0:i.timeStamp};if("true"!=="MISSING_ENV_VAR".RAZZLE_DISABLE_SERVER_SENTRY){const e=Te.Bk(),t=null!==(a=null===n||void 0===n?void 0:n.status)&&void 0!==a?a:500;e?Te.Lk(O()(O()({},T),{},{name:g,parentSpanId:e.spanContext().spanId,traceId:e.spanContext().traceId}),(e=>{e&&(we.N8(e,t),e.end(c))})):Te.Lk(O()(O()({},T),{},{name:g}),(e=>{e&&(we.N8(e,t),e.end(c))}))}e.logOutgoingServiceReliability({cV:u,latencyMs:l,requestHeaders:t.headers||new Headers,requestMethod:t&&t.method&&t.method.toUpperCase(),responseHeaders:v,succeeded:y,dependencyName:h,dependencyOperationName:g,dependencyOperationVersion:f,dependencyType:"WebService",operationName:m,protocol:p&&p.protocol.toUpperCase(),protocolStatusCode:b,requestStatus:S,responseContentType:E,responseSizeBytes:C,target:t.url})};class Pe{constructor(e){this._telemetryProvider=e,this.priority=Number.MAX_VALUE,this.intercept=async e=>{const t=e.metadata||{};t.timeStamp=Date.now();const n=e.headers||new Headers;return n.set(Ce.HttpHeader.CorrelationVector,this._telemetryProvider.cv().increment()),Ce.InterceptedRequest.fromRequest(e,{metadata:t,additionalHeaders:n})}}}class Ae{constructor(e){this._telemetryProvider=e,this.priority=Number.MAX_VALUE}async intercept(e,t){return Ie(this._telemetryProvider,e,t),t}}class ke{constructor(e){this._telemetryProvider=e,this.priority=Number.MAX_VALUE}async intercept(e,t){throw t instanceof Ce.HttpError?Ie(this._telemetryProvider,e,t.response):t instanceof DOMException&&Ie(this._telemetryProvider,e,void 0),t}}const xe=(e,t)=>e.requestInterceptor(new Pe(t)).responseInterceptor(new Ae(t)).errorInterceptor(new ke(t)),Re=e=>({request:[new Pe(e)],response:[new Ae(e)],error:[new ke(e)]})},15460:(e,t,n)=>{"use strict";n.d(t,{X:()=>l});var r=n(10865),o=n.n(r),i=n(47010),a=n.n(i),s=n(58912);const l=(0,s.EG)({resolved:{},chunkName:()=>"msa-login-page-component",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>(0,s.Bi)(n.e(9822).then(n.bind(n,89301))),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 89301}})},4059:(e,t,n)=>{"use strict";var r=n(10865),o=n.n(r),i=n(47010),a=n.n(i),s=n(14041),l=n(58912),c=n(37509);const u=(0,l.sT)({resolved:{},chunkName:()=>"SlotIndicator",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>n.e(2518).then(n.bind(n,87523)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 87523}}),d=()=>c.VTO.DEPLOYMENT_SLOT&&"production"!==c.VTO.DEPLOYMENT_SLOT?s.createElement(u,null):null},64354:(e,t,n)=>{"use strict";n.d(t,{f:()=>c});var r=n(10865),o=n.n(r),i=n(47010),a=n.n(i),s=n(58912),l=n(37509);const c=(0,s.sT)({resolved:{},chunkName:()=>"NavLinksPane",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>(0,l.wjz)(s.M7,n.e(5335).then(n.bind(n,96425))),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 96425}})},79963:(e,t,n)=>{"use strict";n.d(t,{m:()=>c});var r=n(10865),o=n.n(r),i=n(47010),a=n.n(i),s=n(58912),l=n(37509);const c=(0,s.sT)({resolved:{},chunkName:()=>"ToolsPane",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>(0,l.wjz)(s.M7,Promise.all([n.e(1524),n.e(5462)]).then(n.bind(n,55718))),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 55718}})},67470:(e,t,n)=>{"use strict";n.d(t,{J7:()=>o,Qk:()=>i,hT:()=>r});var r;n(69375),n(10568),n(47010);!function(e){e.arAE="ar-AE",e.arSA="ar-SA",e.csCZ="cs-CZ",e.daDK="da-DK",e.deAT="de-AT",e.deCH="de-CH",e.deDE="de-DE",e.elGR="el-GR",e.enAU="en-AU",e.enCA="en-CA",e.enGB="en-GB",e.enHK="en-HK",e.enIE="en-IE",e.enIN="en-IN",e.enMY="en-MY",e.enNZ="en-NZ",e.enPH="en-PH",e.enSG="en-SG",e.enUS="en-US",e.enZA="en-ZA",e.esAR="es-AR",e.esCL="es-CL",e.esCO="es-CO",e.esES="es-ES",e.esMX="es-MX",e.fiFI="fi-FI",e.frBE="fr-BE",e.frCA="fr-CA",e.frCH="fr-CH",e.frFR="fr-FR",e.heIL="he-IL",e.huHU="hu-HU",e.idID="id-ID",e.itIT="it-IT",e.jaJP="ja-JP",e.koKR="ko-KR",e.nbNO="nb-NO",e.nlBE="nl-BE",e.nlNL="nl-NL",e.plPL="pl-PL",e.ptBR="pt-BR",e.ptPT="pt-PT",e.ruRU="ru-RU",e.skSK="sk-SK",e.svSE="sv-SE",e.thTH="th-TH",e.trTR="tr-TR",e.viVN="vi-VN",e.zhCN="zh-CN",e.zhHK="zh-HK",e.zhTW="zh-TW",e.ukUA="uk-UA",e.roRO="ro-RO",e.hrHR="hr-HR",e.srLatnRS="sr-Latn-RS",e.bsLatnBA="bs-Latn-BA",e.slSI="sl-SI",e.etEE="et-EE",e.lvLV="lv-LV",e.ltLT="lt-LT",e.isIS="is-IS",e.deLI="de-LI",e.bgBG="bg-BG",e.enCY="en-CY",e.mtMT="mt-MT",e.frLU="fr-LU",e.deLU="de-LU",e.sqAL="sq-AL",e.kaGE="ka-GE",e.mkMK="mk-MK",e.roMD="ro-MD",e.ruMD="ru-MD",e.srLatnME="sr-Latn-ME",e.esBO="es-BO",e.esCR="es-CR",e.esEC="es-EC",e.esSV="es-SV",e.esGT="es-GT",e.esHN="es-HN",e.esNI="es-NI",e.esPA="es-PA",e.esPY="es-PY",e.esPE="es-PE",e.esUY="es-UY",e.arBH="ar-BH",e.arKW="ar-KW",e.arOM="ar-OM",e.arQA="ar-QA",e.arDZ="ar-DZ",e.arEG="ar-EG",e.arLY="ar-LY",e.arMA="ar-MA",e.arTN="ar-TN"}(r||(r={}));const o=[],i=(r.arSA,r.csCZ,r.daDK,r.deDE,r.elGR,r.enGB,r.esMX,r.fiFI,r.frFR,r.heIL,r.huHU,r.idID,r.itIT,r.jaJP,r.koKR,r.nbNO,r.nlNL,r.plPL,r.ptBR,r.ruRU,r.skSK,r.svSE,r.thTH,r.trTR,r.viVN,r.zhCN,e=>{const t=[];for(const n of Object.values(r))!e&&o.includes(n)||t.push(n.toString().toLowerCase());return t})},22220:(e,t,n)=>{"use strict";n.d(t,{v:()=>a});n(69375),n(10568),n(81045),n(30163),n(9925),n(47010);var r=n(67470);const o=[{regionTitleResourceKey:"localePickerAmericaRegionSelectionTitle",marketLinks:[{title:"Argentina - Espa\xf1ol",locale:r.hT.esAR},{title:"Bolivia - Espa\xf1ol",locale:r.hT.esBO},{title:"Brasil - Portugu\xeas",locale:r.hT.ptBR},{title:"Canada - English",locale:r.hT.enCA},{title:"Canada - Fran\xe7ais",locale:r.hT.frCA},{title:"Chile - Espa\xf1ol",locale:r.hT.esCL},{title:"Colombia - Espa\xf1ol",locale:r.hT.esCO},{title:"Costa Rica - Espa\xf1ol",locale:r.hT.esCR},{title:"Ecuador - Espa\xf1ol",locale:r.hT.esEC},{title:"El Salvador - Espa\xf1ol",locale:r.hT.esSV},{title:"Guatemala - Espa\xf1ol",locale:r.hT.esGT},{title:"Honduras - Espa\xf1ol",locale:r.hT.esHN},{title:"M\xe9xico - Espa\xf1ol",locale:r.hT.esMX},{title:"Nicaragua - Espa\xf1ol",locale:r.hT.esNI},{title:"Panam\xe1 - Espa\xf1ol",locale:r.hT.esPA},{title:"Paraguay - Espa\xf1ol",locale:r.hT.esPY},{title:"Per\xfa - Espa\xf1ol",locale:r.hT.esPE},{title:"United States - English",locale:r.hT.enUS},{title:"Uruguay - Espa\xf1ol",locale:r.hT.esUY}]},{regionTitleResourceKey:"localePickerEuropeRegionSelectionTitle",marketLinks:[{title:"Belgi\xeb - Nederlands",locale:r.hT.nlBE},{title:"Belgique - Fran\xe7ais",locale:r.hT.frBE},{title:"Bosna-Hersek \u2013 Bosanski",locale:r.hT.bsLatnBA},{title:"\u010cesk\xe1 Republika - \u010ce\u0161tina",locale:r.hT.csCZ},{title:"Srbija - Latinica Srpski",locale:r.hT.srLatnRS},{title:"Crna Gora - Srpski",locale:r.hT.srLatnME},{title:"Cyprus - English",locale:r.hT.enCY},{title:"Danmark - Dansk",locale:r.hT.daDK},{title:"Deutschland - Deutsch",locale:r.hT.deDE},{title:"Espa\xf1a - Espa\xf1ol",locale:r.hT.esES},{title:"Eesti - Eesti",locale:r.hT.etEE},{title:"France - Fran\xe7ais",locale:r.hT.frFR},{title:"Hrvatska - Hrvatski",locale:r.hT.hrHR},{title:"Ireland - English",locale:r.hT.enIE},{title:"\xcdsland - \xcdslenska",locale:r.hT.isIS},{title:"Italia - Italiano",locale:r.hT.itIT},{title:"Latvija - Latvie\u0161u",locale:r.hT.lvLV},{title:"Liechtenstein - Deutsch",locale:r.hT.deLI},{title:"Lietuva - Lietuvi\u0173",locale:r.hT.ltLT},{title:"Luxembourg - Fran\xe7ais",locale:r.hT.frLU},{title:"Luxemburg - Deutsch",locale:r.hT.deLU},{title:"Magyarorsz\xe1g - Magyar",locale:r.hT.huHU},{title:"\u0421\u0435\u0432\u0435\u0440\u043d\u0430 \u041c\u0430\u043a\u0435\u0434\u043e\u043d\u0438\u0458\u0430 - \u041c\u0430\u043a\u0435\u0434\u043e\u043d\u0438\u0458\u0430",locale:r.hT.mkMK},{title:"Malta - Maltese",locale:r.hT.mtMT},{title:"Nederland - Nederlands",locale:r.hT.nlNL},{title:"Norge - Norsk bokm\xe5l",locale:r.hT.nbNO},{title:"\xd6sterreich - Deutsch",locale:r.hT.deAT},{title:"Polska - Polski",locale:r.hT.plPL},{title:"Portugal - Portugu\xeas",locale:r.hT.ptPT},{title:"Republica Moldova - Rom\xe2n\u0103",locale:r.hT.roMD},{title:"\u0420\u0435\u0441\u043f\u0443\u0431\u043b\u0438\u043a\u0430 \u041c\u043e\u043b\u0434\u043e\u0432\u0430 - \u0420\u0443\u0441\u0441\u043a\u0438\u0439",locale:r.hT.ruMD},{title:"Rom\xe2nia - Rom\xe2n\u0103",locale:r.hT.roRO},{title:"Schweiz - Deutsch",locale:r.hT.deCH},{title:"Shqip\xebri - Shqip",locale:r.hT.sqAL},{title:"Slovenija - Sloven\u0161\u010dina",locale:r.hT.slSI},{title:"Slovensko - Sloven\u010dina",locale:r.hT.skSK},{title:"Srbija - Srpski",locale:r.hT.srLatnRS},{title:"Suisse - Fran\xe7ais",locale:r.hT.frCH},{title:"Suomi - Suomi",locale:r.hT.fiFI},{title:"Sverige - Svenska",locale:r.hT.svSE},{title:"United Kingdom - English",locale:r.hT.enGB},{title:"\u0395\u03bb\u03bb\u03ac\u03b4\u03b1 - \u0395\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03ac",locale:r.hT.elGR},{title:"\u0411\u044a\u043b\u0433\u0430\u0440\u0438\u044f - \u0411\u044a\u043b\u0433\u0430\u0440\u0441\u043a\u0438",locale:r.hT.bgBG},{title:"\u0420\u043e\u0441\u0441\u0438\u044f - \u0420\u0443\u0441\u0441\u043a\u0438\u0439",locale:r.hT.ruRU},{title:"\u0423\u043a\u0440\u0430\u0457\u043d\u0430 - \u0423\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u0430",locale:r.hT.ukUA},{title:"\u10e1\u10d0\u10e5\u10d0\u10e0\u10d7\u10d5\u10d4\u10da\u10dd - \u10e5\u10d0\u10e0\u10d7\u10e3\u10da\u10d8",locale:r.hT.kaGE}]},{regionTitleResourceKey:"localePickerAsiaPacificRegionSelectionTitle",marketLinks:[{title:"Australia - English",locale:r.hT.enAU},{title:"Hong Kong SAR / Macao SAR - English",locale:r.hT.enHK},{title:"India - English",locale:r.hT.enIN},{title:"Indonesia - Bahasa Indonesia",locale:r.hT.idID},{title:"Malaysia - English",locale:r.hT.enMY},{title:"New Zealand - English",locale:r.hT.enNZ},{title:"Philippines - English",locale:r.hT.enPH},{title:"Singapore - English",locale:r.hT.enSG},{title:"Vi\u1ec7t Nam - Ti\xea\u0301ng vi\u1ec7t",locale:r.hT.viVN},{title:"\u0e44\u0e17\u0e22 - \u0e44\u0e17\u0e22",locale:r.hT.thTH},{title:"\ub300\ud55c\ubbfc\uad6d - \ud55c\uad6d\uc5b4",locale:r.hT.koKR},{title:"\u4e2d\u56fd - \u4e2d\u6587",locale:r.hT.zhCN},{title:"\u53f0\u7063 - \u7e41\u9ad4\u4e2d\u6587",locale:r.hT.zhTW},{title:"\u65e5\u672c - \u65e5\u672c\u8a9e",locale:r.hT.jaJP},{title:"\u9999\u6e2f\u7279\u5225\u884c\u653f\u5340/\u6fb3\u9580\u7279\u5225\u884c\u653f\u5340 - \u7e41\u9ad4\u4e2d\u6587",locale:r.hT.zhHK}]},{regionTitleResourceKey:"localePickerMiddleEastAfricaRegionSelectionTitle",marketLinks:[{title:"\u0627\u0644\u062c\u0632\u0627\u0626\u0631 - \u0639\u0631\u0628\u064a",locale:r.hT.arDZ},{title:"\u0627\u0644\u0645\u063a\u0631\u0628 - \u0639\u0631\u0628\u064a",locale:r.hT.arMA},{title:"South Africa - English",locale:r.hT.enZA},{title:"\u062a\u0648\u0646\u0633 - \u0627\u0644\u0639\u0631\u0628\u064a\u0629",locale:r.hT.arTN},{title:"T\xfcrkiye - T\xfcrk\xe7e",locale:r.hT.trTR},{title:"\u05d9\u05e9\u05e8\u05d0\u05dc - \u05e2\u05d1\u05e8\u05d9\u05ea",locale:r.hT.heIL},{title:"\u0627\u0644\u0625\u0645\u0627\u0631\u0627\u062a \u0627\u0644\u0639\u0631\u0628\u064a\u0629 \u0627\u0644\u0645\u062a\u062d\u062f\u0629 - \u0627\u0644\u0639\u0631\u0628\u064a\u0629",locale:r.hT.arAE},{title:"\u0627\u0644\u0645\u0645\u0644\u0643\u0629 \u0627\u0644\u0639\u0631\u0628\u064a\u0629 \u0627\u0644\u0633\u0639\u0648\u062f\u064a\u0629 - \u0627\u0644\u0639\u0631\u0628\u064a\u0629",locale:r.hT.arSA},{title:"\u0644\u064a\u0628\u064a\u0627 - \u0627\u0644\u0639\u0631\u0628\u064a\u0629",locale:r.hT.arLY},{title:"\u0645\u0635\u0631 - \u0627\u0644\u0639\u0631\u0628\u064a\u0629",locale:r.hT.arEG},{title:"\u0627\u0644\u0628\u062d\u0631\u064a\u0646 - \u0639\u0631\u0628\u064a",locale:r.hT.arBH},{title:"\u0627\u0644\u0643\u0648\u064a\u062a - \u0639\u0631\u0628\u064a",locale:r.hT.arKW},{title:"\u0639\u0645\u0627\u0646 - \u0639\u0631\u0628\u064a",locale:r.hT.arOM},{title:"\u0642\u0637\u0631 - \u0639\u0631\u0628\u064a",locale:r.hT.arQA}]}],i=(()=>{const e=[];for(const t of o)e.push({regionTitleResourceKey:t.regionTitleResourceKey,marketLinks:t.marketLinks.filter((e=>!r.J7.some((t=>t.toString()===e.locale))))});return e})(),a=e=>e?o:i},84700:(e,t,n)=>{"use strict";n.d(t,{$:()=>r});const r="defCulture"},15028:(e,t,n)=>{"use strict";n.d(t,{qw:()=>le,WY:()=>Lo,TO:()=>ge,X_:()=>Hn,iX:()=>He,fh:()=>be,Wz:()=>br,vC:()=>yr,Wh:()=>Te,$e:()=>Do.$,v5:()=>Bo.v,Qk:()=>Uo.Qk,kV:()=>Oo,Tc:()=>qn,gq:()=>Fo,Jz:()=>Ie,LC:()=>_e});var r;n(47010);!function(e){e[e.Dark=0]="Dark",e[e.Light=1]="Light",e[e.HCBlack=2]="HCBlack",e[e.HCWhite=3]="HCWhite",e[e.HCAquatic=4]="HCAquatic",e[e.HCDesert=5]="HCDesert"}(r||(r={}));var o=n(14041);const i={XboxGreen:{accent:"#008746",accentLight1:"#04b358",accentLight2:"#1cb069",accentLight3:"#32c77f",accentDark1:"#0c6b3d",accentDark2:"#044e2a",accentDark3:"#003019"},Brown:{accent:"#724f2f",accentLight1:"#8e7258",accentLight2:"#a18a75",accentLight3:"#bbaa9b",accentDark1:"#644224",accentDark2:"#553518",accentDark3:"#301d0b"},Orange:{accent:"#eb4910",accentLight1:"#ef6d3f",accentLight2:"#f18661",accentLight3:"#f5a78c",accentDark1:"#cb3b10",accentDark2:"#ab2d11",accentDark3:"#692015"},Chocolate:{accent:"#4c4a4b",accentLight1:"#6f6e6f",accentLight2:"#888788",accentLight3:"#a9a8a8",accentDark1:"#424141",accentDark2:"#373737",accentDark3:"#191919"},Grey:{accent:"#737373",accentLight1:"#8f8f8f",accentLight2:"#a2a2a2",accentLight3:"#bbbbbb",accentDark1:"#616161",accentDark2:"#4f4f4f",accentDark3:"#262626"},Steel:{accent:"#677488",accentLight1:"#858f9f",accentLight2:"#9aa3b0",accentLight3:"#b6bcc5",accentDark1:"#536075",accentDark2:"#3e4b61",accentDark3:"#222b38"},Taupe:{accent:"#7e715c",accentLight1:"#978d7c",accentLight2:"#a9a193",accentLight3:"#c1bab0",accentDark1:"#6b5e4a",accentDark2:"#574b38",accentDark3:"#362f24"},Olive:{accent:"#547a72",accentLight1:"#76948e",accentLight2:"#8ea7a1",accentLight3:"#acbfbb",accentDark1:"#3f625a",accentDark2:"#294a42",accentDark3:"#1c2b28"},Crimson:{accent:"#a21025",accentLight1:"#b43f50",accentLight2:"#c1616f",accentLight3:"#d28c96",accentDark1:"#86101e",accentDark2:"#691117",accentDark3:"#450710"},Pink:{accent:"#ed5588",accentLight1:"#f0779f",accentLight2:"#f38eb0",accentLight3:"#f6adc5",accentDark1:"#c63f6c",accentDark2:"#9e2950",accentDark3:"#57172d"},Magenta:{accent:"#bf1077",accentLight1:"#cb3f92",accentLight2:"#d461a5",accentLight3:"#e08cbd",accentDark1:"#99115f",accentDark2:"#731247",accentDark3:"#4a102e"},Violet:{accent:"#b144c0",accentLight1:"#c069cc",accentLight2:"#cb83d5",accentLight3:"#d9a5e0",accentDark1:"#8c2f9a",accentDark2:"#671a73",accentDark3:"#38163d"},Indigo:{accent:"#744da9",accentLight1:"#8f70ba",accentLight2:"#a389c6",accentLight3:"#bca9d5",accentDark1:"#60379a",accentDark2:"#4c208a",accentDark3:"#24153b"},Cobalt:{accent:"#1073d6",accentLight1:"#3f8fde",accentLight2:"#61a2e3",accentLight3:"#8cbbeb",accentDark1:"#1161b0",accentDark2:"#134e8a",accentDark3:"#133157"},Navy:{accent:"#193e91",accentLight1:"#4764a7",accentLight2:"#677fb6",accentLight3:"#90a2ca",accentDark1:"#15357d",accentDark2:"#102c69",accentDark3:"#101836"},Cyan:{accent:"#1081ca",accentLight1:"#3f9ad4",accentLight2:"#61abdc",accentLight3:"#8cc2e5",accentDark1:"#1069a5",accentDark2:"#105080",accentDark3:"#10314f"},Turqoise:{accent:"#108272",accentLight1:"#3f9b8e",accentLight2:"#61aca1",accentLight3:"#8cc3bb",accentDark1:"#0d6659",accentDark2:"#0a4f45",accentDark3:"#062f29"},Teal:{accent:"#148282",accentLight1:"#439b9b",accentLight2:"#63acac",accentLight3:"#8ec3c3",accentDark1:"#146d70",accentDark2:"#13585e",accentDark3:"#103033"},Lime:{accent:"#54a81b",accentLight1:"#76b948",accentLight2:"#8ec568",accentLight3:"#acd591",accentDark1:"#329216",accentDark2:"#107c10",accentDark3:"#103610"},Amber:{accent:"#eb8c10",accentLight1:"#efa33f",accentLight2:"#f1b361",accentLight3:"#f5c78c",accentDark1:"#af6610",accentDark2:"#733f10",accentDark3:"#4f300e"},Red:{accent:"#e31123",accentLight1:"#e8404f",accentLight2:"#ec616d",accentLight3:"#f18c95",accentDark1:"#b4121c",accentDark2:"#851414",accentDark3:"#471010"}};var a;!function(e){e[e.DefaultTheme=0]="DefaultTheme",e[e.Polaris=1]="Polaris",e[e.Test=2]="Test",e[e.WebPolaris=3]="WebPolaris"}(a||(a={}));const s=(0,o.createContext)({theme:r.Dark,themeVersion:a.Polaris,isRtl:!1,userColors:i.XboxGreen,textScale:1,version:"1.0",deviceOrientation:"portrait",deviceType:"Handset",language:""});var l=n(97560),c=n(58912),u=n(37509),d=n(53373),p=n.n(d),m=n(93285),h=n(79824);var g=n(67996),f=n.n(g),_=n(41506),v=n.n(_),y=(n(81045),n(84915),n(48227)),b=n(39731),S=n(39288),E=n(86090),C=n(91582),T=n(85608);const w=function(e){var{title:t,titleId:n}=e,r=(0,T.__rest)(e,["title","titleId"]);return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:"1em",height:"1em","aria-labelledby":n},r),t?o.createElement("title",{id:n},t):null,o.createElement("path",{d:"M1536 768v128q76 0 145 17t123 56 84 99 32 148q0 66-25 124t-69 101-102 69-124 26h-512q-66 0-124-25t-101-69-69-102-26-124q0-87 31-147t85-99 122-56 146-18V768h-64q-93 0-174 35t-142 96-96 142-36 175q0 93 35 174t96 142 142 96 175 36h512q93 0 174-35t142-96 96-142 36-175q0-93-35-174t-96-142-142-96-175-36h-64zm-640 512v-128q76 0 145-17t123-56 84-99 32-148q0-66-25-124t-69-101-102-69-124-26H448q-66 0-124 25t-101 69-69 102-26 124q0 87 31 147t85 99 122 56 146 18v128h-64q-93 0-174-35t-142-96-96-142T0 832q0-93 35-174t96-142 142-96 175-36h512q93 0 174 35t142 96 96 142 36 175q0 93-35 174t-96 142-142 96-175 36h-64z"}))};var I=n(14447);n(98376),n(10568),n(91321),n(34397);const P=e=>o.createElement(c.tH,null,(()=>o.createElement(E.qh,v()({},e)))),A=e=>o.createElement(P,v()(v()({},e),{},{render:t=>o.createElement(k,v()(v()({},t),e))})),k=e=>{const t=new URLSearchParams(e.location.search);if(e.queryParams)for(const[n,r]of Object.entries(e.queryParams))t.append(n,r);return o.createElement(E.rd,{to:{pathname:e.redirectTo,search:t.toString()}})};var x=n(64354),R=(n(14293),n(47283));const O=function(e){var{title:t,titleId:n}=e,r=(0,T.__rest)(e,["title","titleId"]);return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:"1em",height:"1em","aria-labelledby":n},r),t?o.createElement("title",{id:n},t):null,o.createElement("path",{d:"M1792 896v1152H256V896h256V522q0-108 39-203t108-166T821 41t203-41q109 0 202 41t163 112 108 166 39 203v374h256zm-1152 0h768V522q0-81-29-152t-80-126-122-85-153-31q-82 0-152 31t-122 85-81 125-29 153v374zm1024 128H384v896h1280v-896z"}))};var N=n(63042);const M=function(e){var{title:t,titleId:n}=e,r=(0,T.__rest)(e,["title","titleId"]);return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:"1em",height:"1em","aria-labelledby":n},r),t?o.createElement("title",{id:n},t):null,o.createElement("path",{d:"M0 0h2048v2048H0V0zm1920 1920V128H128v1792h1792z"}))};var L=n(17915);const D="/auth/msa";var F="PreviewControls-module__previewToggleButton___-e6--";const U=()=>{const e=(0,h.useSelector)(u.ILr),t=(0,E.zy)(),n=(0,h.useDispatch)(),r=(0,h.useSelector)((e=>(0,R.bX)(e,(0,u.q6B)(u.VTO.ENABLE_APP_AUTH)))),i=()=>{n(u.YOM.navigateToPath(t,t,!0))},a=(0,u.q6B)(null===u.VTO||void 0===u.VTO?void 0:u.VTO.ENABLE_APP_AUTH)?"/.auth/login/aad":"/aad/login";return o.createElement(o.Fragment,null,r?o.createElement(o.Fragment,null,o.createElement(S.m,{as:"button",className:F,icon:e?N.A:M,title:"Toggle Preview",onClick:()=>(n(u.Em_.setIsPreviewMode(!e)),(0,u.TVt)({name:"xbcpreview",value:`${!e}`}),void i())}),o.createElement(S.m,{as:"button",icon:L.A,title:"Client Refresh",onClick:()=>i()}),o.createElement(S.m,{as:"button",className:"PreviewControls-module__serverRefreshButton___+PKti",icon:L.A,title:"Server Refresh",onClick:()=>{window.location.reload()}})):o.createElement(S.m,{as:"button",className:F,icon:O,title:"Sign In to enable preview",onClick:()=>window.location.replace(a)}))};var B=n(79963),H=n(17710),G=n(80503);const q=e=>{let{htmlContent:t,className:n}=e;return t?o.createElement("div",{className:n,dangerouslySetInnerHTML:{__html:t}}):null},j=()=>{const e=(0,h.useSelector)(u.ugf);return e===u.oqV.Off?null:o.createElement(V,{mode:e})},V=e=>{let{mode:t}=e,n=(0,h.useSelector)(u.TPS);n=n===u.Sxu.DarkHeader?u.Sxu.Light:n;const r=(0,h.useSelector)((e=>(0,u.l7K)(e,n)));return o.createElement(H.A,{mode:"out-in"},o.createElement(G.A,{key:n,in:!0,timeout:{appear:300,enter:300,exit:100},classNames:"uhf-footer"},o.createElement(q,{htmlContent:r,className:p()("uhf-footer",{"uhf-dark":n===u.Sxu.Dark},`uhf-footer-mode-${t.toLowerCase()}`)})))};n(1402),n(47748);n(10865);var z=n(56630);const X="CFQ7TTC0KGQ8";let K,W,$;const Y=e=>{const t=window.location.pathname.toLocaleLowerCase().indexOf(X.toLowerCase())>0?$(window.location.href):K(window.location.href);window.location.href=t,e.preventDefault()},Q=e=>{const t=W(window.location.href);window.location.href=t,e.preventDefault()},J=e=>{if(!e.userInfo||e.authenticationState!==u.Kd8.MsaAndXbox)return{idp:"msa",authenticatedState:"3"};const{firstName:t,lastName:n,email:r,cid:o,gamerTag:i,publicGamerPic:a,accountTier:s}=e.userInfo;return{idp:"msa",authenticatedState:"1",firstName:t,lastName:n,memberName:r,cid:o,accountTier:s,nickName:i,tileUrl:a}},Z=(e,t)=>{if(t)return{type:"aad",authenticatedState:"signedIn",displayName:t.name};if(!e.userInfo||e.authenticationState!==u.Kd8.MsaAndXbox)return;const{firstName:n,lastName:r,email:o,cid:i,gamerTag:a,publicGamerPic:s}=e.userInfo;return{type:"msa",authenticatedState:"signedIn",firstName:n,lastName:r,cid:i,memberName:o,pictureUrl:s,profile:{profileName:a,profilePictureUrl:s}}},ee=()=>{var e,t,n,r;null===(e=window.MeControl)||void 0===e||e.API.removeEventListener("beforesignin",Y),null===(t=window.MeControl)||void 0===t||t.API.removeEventListener("beforesignoutfromapp",Q),null===(n=window.MeControl)||void 0===n||n.API.addEventListener("beforesignin",Y),null===(r=window.MeControl)||void 0===r||r.API.addEventListener("beforesignoutfromapp",Q)},te=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const{aadUser:t}=(0,h.useSelector)(R.Sq),n=(0,h.useSelector)(R.ug),r=(0,z.jr)();return $=(0,u.AzV)(),W=(0,u.xrK)(),K=(0,u.wwE)(),(0,o.useCallback)((()=>{new Promise((o=>{var i,a,s;const l=((e,t,n)=>n?{meControlOptions:{apiGeneration:"GEN2",currentAccount:Z(e,t),authProviderConfig:{type:"webMsaOnly",appSignInUrl:"https://sample.microsoft.com/auth/signIn",appSignInToUrl:"https://sample.microsoft.com/auth/signInTo",appSignOutUrl:"https://sample.microsoft.com/auth/signOut",appSwitchUrl:"https://sample.microsoft.com/auth/switch",appSwitchToUrl:"https://sample.microsoft.com/auth/signInTo",msa:{signOutAndForgetUrl:"https://login.live.com/logout.srf?ct=1544212397&rver=6.7.6631.0&id=000000&ru=https:%2F%2Fsample.microsoft.com%2F",rememberedAccountsUrl:"https://login.live.com/Me.srf?wa=wsignin1.0&rpsnv=13&ct=1544212396&rver=6.7.6631.0&wp=MBI_SSL&wreply=https:%2F%2Fsample.microsoft.com%2F&id=000000"}},appContextConfig:{commands:[{type:"link",id:"xboxprofilelink",text:"Xbox profile",ariaLabel:"Xbox profile",openInNewTab:!1,url:"https://account.xbox.com/Profile?xr=mebarnav"},{type:"link",id:"xboxsettingslink",text:"Xbox settings",ariaLabel:"Xbox settings",openInNewTab:!1,url:"https://account.xbox.com/Settings/Home/?xr=mebarnav#"},{type:"link",id:"xboxsubscriptions",text:"Subscriptions",ariaLabel:"Subscriptions",openInNewTab:!1,url:"https://account.microsoft.com/services?ref=xboxme"},{type:"link",id:"xboxredeemcode",text:"Redeem code",ariaLabel:"Redeem code",openInNewTab:!1,url:"https://redeem.microsoft.com/enter?ref=xboxcom"}]}}}:{meControlOptions:{apiGeneration:"GEN1",rpData:{msaInfo:{signInUrl:window.location.pathname.toLocaleLowerCase().indexOf(X.toLowerCase())>0?$(window.location.href):K(window.location.href),signOutUrl:W(window.location.href)}},userData:J(e)}})({userInfo:n?v()(v()({},n),{},{firstName:null!==(i=n.firstName)&&void 0!==i?i:"",lastName:null!==(a=n.lastName)&&void 0!==a?a:"",email:null!==(s=n.email)&&void 0!==s?s:"",publicGamerPic:n.gamerPicUrl}):void 0,authenticationState:n?u.Kd8.MsaAndXbox:u.Kd8.None},t?{authenticatedState:u._et.SignedIn,name:t.name||"",email:t.upn||""}:void 0,e);window.msCommonShell?(window.msCommonShell.load(l),ee(),o(!0)):window.onShellReadyToLoad=()=>{window.onShellReadyToLoad=null,window.msCommonShell?(window.msCommonShell.load(l),ee(),o(!0)):(r.warn("Unable to find msCommonShell global object to initialize me control"),o(!1))}}))}),[n,t,e,r])},ne=()=>{const e=(0,h.useSelector)(u._bi),t=(0,h.useSelector)(u.GYd).userAgent;return(0,y.yd)(null!==t&&void 0!==t?t:"")||e===u.qon.Off?null:o.createElement(re,{mode:e})},re=e=>{let{mode:t}=e;const n=(0,h.useSelector)(u.TPS),r=(0,h.useSelector)((e=>(0,u.fTk)(e,n))),i=(0,h.useSelector)(u.vth),a=(0,h.useSelector)((e=>(0,u.pzA)(e,u.WTf.EnableV2MeControl)));let s=r;if(t===u.qon.None||t===u.qon.Hidden){const e=/<img([^>]*?)>/g;s=null===r||void 0===r?void 0:r.replace(e,((e,t)=>t.includes('loading="')?e:`<img${t} loading="lazy">`))}const l=te(a),c=(0,o.useCallback)((()=>{var e;(null===(e=null===globalThis||void 0===globalThis?void 0:globalThis.window)||void 0===e?void 0:e.initializeUhfComponents)&&globalThis.window.initializeUhfComponents(),l&&(l(),setTimeout((()=>{var e,t,n;(null===(e=globalThis.window)||void 0===e?void 0:e.innerWidth)<=1400&&(null===(n=null===(t=globalThis.window)||void 0===t?void 0:t.MeControl)||void 0===n?void 0:n.API.setDisplayMode)&&globalThis.window.MeControl.API.setDisplayMode("compact")}),100))}),[l]);return(0,o.useEffect)((()=>{t!==u.qon.Full&&t!==u.qon.Minimal||c()}),[c,t]),o.createElement(o.Fragment,null,o.createElement(H.A,{mode:"out-in"},o.createElement(G.A,{key:n===u.Sxu.DarkHeader?u.Sxu.Dark:n,in:!0,timeout:{appear:300,enter:300,exit:100},classNames:"uhf-header",onEntered:c},o.createElement(q,{htmlContent:s,className:p()("uhf-header",{"uhf-dark":n===u.Sxu.Dark||n===u.Sxu.DarkHeader},{"static-header":n!==u.Sxu.DarkHeader},`uhf-header-mode-${t.toLowerCase()}`)}))),o.createElement("div",{dangerouslySetInnerHTML:{__html:null!==i&&void 0!==i?i:""}}))};const oe=["key","constraint","experimentBasedRedirect","theme","testConfig"],ie=()=>{const[e,t]=(0,o.useState)({}),n=(0,h.useSelector)((e=>(0,u.pzA)(e,u.WTf.EnableTestNav))),r=(0,h.useSelector)((e=>(0,u.pzA)(e,u.WTf.EnableTestTools))),i=(0,h.useSelector)((e=>(0,u.pzA)(e,u.WTf.EnableContentPreviewTools))),a=(n,r)=>{t(v()(v()({},e),{},{[n]:r}))},s=[{key:"NavLinks",icon:w,component:x.f,buttonTitle:"Navigation Links"},{key:"Tools",icon:I.A,component:B.m,buttonTitle:"Tools"}];return(n||r)&&o.createElement(b.FocusContainer,{id:"test-panel-root-container"},o.createElement("div",{id:"test-panel-trigger-container",className:"Shell-module__testPanelTriggerContainer___+Cu59"},s.map((e=>o.createElement(S.m,{as:"button","aria-label":e.buttonTitle,icon:e.icon,key:e.key,onClick:()=>a(e.key,!0),title:e.buttonTitle}))),i&&o.createElement(U,null)),s.map((t=>o.createElement(t.component,{key:t.key,isOpen:!!e[t.key],onRequestClose:()=>a(t.key,!1)}))))},ae=()=>{const e=(0,h.useSelector)(u.Fu$),t=ie(),n=(0,h.useSelector)(u.a5u),r=(0,h.useSelector)(u.GYd).userAgent,i=(0,y.yd)(null!==r&&void 0!==r?r:"");return o.createElement(c.mo,null,o.createElement(c.Ze,null),o.createElement(c.as,null),o.createElement(C.l$,null),o.createElement(ne,null),o.createElement(se,null,o.createElement(E.dO,null,(0,u.X5v)().map((t=>{let{key:r,constraint:i,experimentBasedRedirect:a,theme:s,testConfig:l}=t,c=f()(t,oe);return(0,u.Q94)(i,e,n)?o.createElement(P,v()({key:r},c)):a&&!1===(0,u.xxW)(e,a.featureGate)?o.createElement(A,{key:r,path:c.path,redirectTo:a.redirect,queryParams:a.redirectQueryParams}):void 0})))),!i&&o.createElement(j,null),t)},se=e=>{let{children:t}=e;const n=(0,h.useSelector)(u._bi),r=n===u.qon.None||n===u.qon.Off;return o.createElement("div",{role:r?void 0:"main",className:"Shell-module__shellContainer___YmZHe",id:"PageContent",tabIndex:-1},t)},le=()=>{const e=(0,h.useSelector)(u.j17),t=e===u.Sxu.Dark,[n,d]=(0,o.useState)(l.ZJ.DefaultDark),[g,f]=(0,o.useState)(""),_=(0,h.useSelector)((e=>(0,u.pzA)(e,u.WTf.EnableCookieSourceDebugConsole)));(0,o.useEffect)((()=>{(e=>{let t;switch(e){case u.Sxu.Light:case u.Sxu.DarkHeader:t=l.ZJ.DefaultLight;break;case u.Sxu.Dark:default:t=l.ZJ.DefaultDark}(0,l.EQ)(t).then((()=>{d(t)}))})(e)}),[e]);const v=(e=>{switch(e){case u.Sxu.Light:case u.Sxu.DarkHeader:return r.Light;case u.Sxu.Dark:return r.Dark}})(e);return(0,o.useEffect)((()=>{document.body.classList.toggle("theme-dark",t)}),[t,n]),(0,o.useEffect)((()=>{f(navigator.platform)}),[]),o.createElement(c.tH,null,(()=>o.createElement("div",{className:p()("appBackground",{"theme-dark":t})},o.createElement(s.Provider,{value:{theme:v,themeVersion:a.WebPolaris,userColors:i.XboxGreen}},o.createElement(m.m,null,o.createElement("html",{"data-platform":g}),_&&o.createElement("script",null,"origDescriptor = Object.getOwnPropertyDescriptor(Document.prototype, 'cookie');\n                    Object.defineProperty(document, 'cookie', {\n                      get() {\n                        return origDescriptor.get.call(this);\n                      },\n                      set(value) {\n                        let obj = {};\n                        try { Error.captureStackTrace(obj, value); }\n                        catch(e) { obj = e; } // this is needed to make it work in FF\n                        console.log(\"Cookie: \", value);\n                        console.log(\"Cookie Stack: \", obj.stack);\n                        return origDescriptor.set.call(this, value);\n                      },\n                      enumerable: true,\n                      configurable: true\n                    });"),o.createElement("body",{"data-theme":(0,l.Tc)(n)})),o.createElement(c.G$,null),o.createElement(ae,null)))))};n(97107),n(64727);var ce=n(48478),ue=n(53354),de=n(58111),pe=n(12885);function me(){const e=(0,o.useRef)(!0);return(0,o.useEffect)((()=>()=>{e.current=!1}),[]),e}const he=(e,t)=>{const n=(0,o.useRef)(e);(0,o.useEffect)((()=>{n.current=e}),[e]),(0,o.useEffect)((()=>{if(null!=t){const e=setInterval((()=>n.current()),t);return()=>clearInterval(e)}}),[t])};var ge,fe;function _e(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:fe.MSA;const n=(0,R.jb)(),r=(0,z.Gb)(),i=t===fe.MSA,a=i?r.logger():null,s=me(),[l,c]=(0,o.useState)(ge.None),[u,d]=(0,o.useState)(),[p,m]=(0,o.useState)(),[h,g]=(0,o.useState)(),f=(0,o.useRef)(),_=(0,o.useCallback)((async()=>{var t;if(s.current){m(void 0),d(void 0),c(ge.FetchDeviceCode);try{const o=await(null===(t=null===n||void 0===n?void 0:n.createMsaCorrelationId)||void 0===t?void 0:t.call(n));o&&(f.current=o);const i=await e.getDeviceCode({cv:r.cv().increment(),msaCorrelationId:o});if(!s.current)return;const a=JSON.parse(i);if(null===a||void 0===a?void 0:a.device_code)return d(a),void c(ge.AuthorizationPending);throw new Error(JSON.stringify(a))}catch(o){const e=(0,pe.toError)(o);i&&(null===a||void 0===a||a.error(`getDeviceCode failed: ${String(e)}`,e)),m(e),c(ge.Failed)}}}),[n,e,s,a,r,i]),v=(0,o.useRef)(!1),y=(0,o.useCallback)((async()=>{if(v.current||!u||!s)return;v.current=!0;const o=f.current;try{const l=ue._C(),d=await e.checkForToken({deviceCode:u.device_code,cv:r.cv().increment(),msaCorrelationId:o});if(!s.current)return;const p=JSON.parse(d);if((null===p||void 0===p?void 0:p.error)===de.YM.AUTHORIZATION_PENDING)return i&&(null===a||void 0===a||a.info("checkForToken - Authorization pending, continue polling.")),void(v.current=!1);if(null===p||void 0===p?void 0:p.access_token)return c(ge.SigningIn),t===fe.MSA?await n.loadExternalTokensAndSignIn(p,l,o):g(p.access_token),c(ge.Complete),void(v.current=!1);throw new Error(JSON.stringify(p))}catch(l){const e=(0,pe.toError)(l);i&&(null===a||void 0===a||a.error("checkForToken failed",e)),m(e),c(ge.Failed)}v.current=!1}),[t,n,e,u,s,a,r,i]),b=l===ge.AuthorizationPending&&u?1e3*u.interval:null;return he(y,b),(0,o.useMemo)((()=>({deviceCodeError:p,deviceCodeResponse:u,deviceCodeState:l,accessToken:h,fetchDeviceCode:_})),[p,u,l,h,_])}!function(e){e[e.None=0]="None",e[e.FetchDeviceCode=1]="FetchDeviceCode",e[e.AuthorizationPending=2]="AuthorizationPending",e[e.SigningIn=3]="SigningIn",e[e.Complete=4]="Complete",e[e.Failed=5]="Failed"}(ge||(ge={})),function(e){e[e.MSA=0]="MSA",e[e.AAD=1]="AAD"}(fe||(fe={}));const ve="/gsapi/proxy/v1",ye="x-sessionid";class be{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:fe.MSA;this.telemetryProvider=e,this.requestUrlBase=t===fe.MSA?R.dK:"https://login.microsoftonline.com/72f988bf-86f1-41af-91ab-2d7cd011db47",this.clientId=t===fe.MSA?R.KL:"29663c6d-b490-4c35-a2ab-1e1342d9fc0b"}async getDeviceCode(e){let{cv:t,msaCorrelationId:n}=e;const r=this.telemetryProvider.logger(),o={[ce.U6]:this.clientId,[ce.hx]:this.clientId===R.KL?`${R.h9} offline_access openid`:"user.read"};if(n&&(o[ce.A3]=n),this.clientId===R.KL){const e={AppId:R.KL,TokenType:"code",Sandbox:"RETAIL",Offers:[R.h9,"offline_access"],UserPrompts:["XboxOptionalDataCollection","XboxPersonalizedPurchaseUpsell"]},n={"Content-Type":"application/json"};t&&(n["ms-cv"]=t);const i=await fetch("https://sisu.xboxlive.com/authenticate",{method:"POST",body:JSON.stringify(e),headers:n}),a=i.headers.get(ye);r.verbose(`SISU session: ${a}`),a?(o.state=`X-SessionId=${a}`,o.cmode="xbox"):r.error(`Missing expected SISU "${ye}" response header, status: ${i.status}, headers: ${JSON.stringify(i.headers)}`)}const i={"gs-requesturl":`${this.requestUrlBase}/oauth2/v2.0/devicecode`};t&&(i["ms-cv"]=t);const a=await fetch(ve,{method:"POST",body:new URLSearchParams(o),headers:i});if(a&&a.body)return a.text();throw new Error(`Unexpected response: ${a}`)}async checkForToken(e){let{deviceCode:t,cv:n,msaCorrelationId:r}=e;const o=`${this.requestUrlBase}/oauth2/v2.0/token`,i={[ce.Am]:"urn:ietf:params:oauth:grant-type:device_code",[ce.Sq]:t,[ce.U6]:this.clientId,[ce.JR]:"1"};r&&(i[ce.A3]=r);const a={"gs-requesturl":o};n&&(a["ms-cv"]=n);const s=await fetch(ve,{method:"POST",body:new URLSearchParams(i),headers:a}),l=s?await s.text():void 0;if(l)return l;throw new Error(`Unexpected response: ${l}`)}}function Se(e,t){return function(e,t,n){const r=me(),[i,a]=(0,o.useState)();return(0,o.useEffect)((()=>{function r(e){null!=n&&n(e),a(e)}return null===e||void 0===e||e.addEventListener(t,r),()=>{null===e||void 0===e||e.removeEventListener(t,r)}}),[e,t,n]),[i,(0,o.useCallback)((()=>{r.current&&a(void 0)}),[r])]}((0,R.jb)().getAuthProvider(),e,t)}var Ee=n(59111),Ce=n(49652);function*Te(){const e=(yield(0,R.Y6)()).getAuthProvider();if(!e.isInitialized()){const t=(0,Ee.eventChannel)((t=>{const n=e=>{t(e)};return e.addEventListener("initialized",n),()=>e.removeEventListener("initialized",n)}));yield(0,Ce.take)(t),t.close()}return e.getActiveAuthUser()}var we=n(88262);const Ie=()=>{Se(R.YC.type),Se(R.R3.type);const e=(0,R.jb)().getAuthProvider(),t=e.isInitialized(),n=e.getActiveAuthUser();return(0,o.useMemo)((()=>t?(0,we.lceContent)(n):we.LCE_IS_FETCHING),[t,n])};n(73118),n(90374),n(72252),n(38124),n(70889),n(98788),n(46826),n(65949),n(9402),n(84035),n(14419),n(20629),n(90029),n(21019),n(65478),n(55976),n(83165),n(24541);var Pe=n(20774),Ae=n(25873),ke=n(33664),xe=n(77981),Re=n(7247),Oe=n(17188);n(69375),n(29793),n(45950),n(5350),n(9925),n(6051),n(3977);var Ne=n(88901),Me=n(15460),Le=n(47708);const De={headerMode:u.qon.None,footerMode:u.oqV.None},Fe=[{key:"ChangeLocale",path:"/Shell/ChangeLocale",component:Le.U,exact:!0,testConfig:{title:"Change Locale"}},{key:"MsaLogin",path:D,component:Me.X,uhfConfig:De},{key:"HealthCheck",path:"/servicestatus/health",exact:!0,uhfConfig:De,hideUHF:!0,isServerOnly:!0,render:()=>o.createElement("div",null,"OK")}],Ue=[{key:"404",render:()=>o.createElement(c.M,{error:new Error("Page not found."),statusCode:Ne.kG.NotFound})}];var Be=n(250);const He=e=>{let{partnerId:t,renderLoading:n,renderError:r,children:i}=e;var a;const[,{isLoading:s,isError:l,error:c}]=(0,Be.G)(t);let u=null!==(a=s?n:i)&&void 0!==a?a:null;return l&&r&&(u=o.cloneElement(r,{error:c})),o.createElement(o.Fragment,null,u)},Ge=["component","redirectComponent"],qe=["routes"];class je{constructor(){this._partnerConfigurations={},this._routeConfigs=[],this._partnersResourceStringsDict={},this._partnerComponents=new WeakMap,this._subscriptions=new Set,this._partnerState={},this._partnerLoadingPromises={},this.getPartnerRouteConfigs=()=>[...this._routeConfigs],this.getPartnerResources=()=>this._partnersResourceStringsDict,this.getPartnerConfigForPath=e=>this._getPartnerConfigs().find((t=>{var n;return null===(n=t.routes)||void 0===n?void 0:n.some((t=>(0,E.B6)(e,t)))})),this.getClientState=()=>this._partnerState,this.getServerState=()=>this._partnerState,this.subscribe=e=>(this._subscriptions.add(e),()=>this._subscriptions.delete(e)),this.loadConfigurationForPath=async e=>{var t,n;const r=this.getPartnerConfigForPath(e);if(r)try{await this._loadPartnerConfigIfReady(r)}catch(rr){const t=(0,pe.toError)(rr);null===(n=this._telemetryProvider)||void 0===n||n.logger().error(`Failed to load partner configuration ${r.partnerId}`,t),this._setPartnerState(r.partnerId,(0,we.lceError)(t))}else null===(t=this._telemetryProvider)||void 0===t||t.logger().error(`Failed to find matching config for path: ${e}`)},this.loadPartner=async e=>{var t,n;const r=this._partnerConfigurations[e];if(!r){const n=new Error(`Partner config with id '${e}' not registered before attempting to load`);throw null===(t=this._telemetryProvider)||void 0===t||t.logger().error(n.message,n),this._setPartnerState(e,(0,we.lceError)(n)),n}try{await this._loadPartnerConfigIfReady(r)}catch(rr){const o=(0,pe.toError)(rr);null===(n=this._telemetryProvider)||void 0===n||n.logger().error(`Failed to load partner configuration ${e}`,o),this._setPartnerState(r.partnerId,(0,we.lceError)(o))}}}setPartnerPackages(e){var t;return this._validatePartnerConfigs(e),this._processConfigs(e),t=this._routeConfigs,(0,u.uzW)([...Fe,...t,...Ue]),Object.values(this._partnerConfigurations)}setStore(e){this._store=e}setSagaMiddleware(e){this._middleware=e}setTelemetryProvider(e){this._telemetryProvider=e}getPartnerConfigMap(){return this._partnerConfigurations}async initialize(){this._getPartnerConfigs().forEach((e=>{this._partnerState[e.partnerId]=(0,we.lceNotRequested)()})),this._partnerLoadingPromises={},await this._loadAllConfigs()}_getPartnerConfigs(){return Object.values(this._partnerConfigurations)}_validatePartnerConfigs(e){if(0===e.length)throw new Error("No partners configured");if(!e.some((e=>{var t;return((null===(t=e.routes)||void 0===t?void 0:t.length)||0)>0})))throw new Error("No routes configured");const t=e.map((e=>e.partnerId)),n=new Set(t);if(t.length!==n.size)throw new Error(`Duplicate partner name found. Partners Configured: ${JSON.stringify(t)}`)}_processConfigs(e){const t={},n=[];this._partnerState={},e.forEach((e=>{const r=this._mapPartnerConfig(e);r.routes&&n.push(...r.routes),t[e.partnerId]=r,this._partnerState[e.partnerId]=we.LCE_NOT_REQUESTED})),this._routeConfigs=n,this._partnerConfigurations=t}async _loadPartnerConfigIfReady(e){var t,n,r,o,i;const{partnerId:a}=e;switch(this._getPartnerLce(a)){case we.LCEType.Content:break;case we.LCEType.Fetching:{const e=this._partnerLoadingPromises[a];e?(null===(t=this._telemetryProvider)||void 0===t||t.logger().info(`[PartnerConfigManager] ${Date.now()} Already Loading Partner Config '${a}' - Waiting on loading promise`),await e,null===(n=this._telemetryProvider)||void 0===n||n.logger().info(`[PartnerConfigManager] ${Date.now()} Done waiting on promise '${a}'`)):null===(r=this._telemetryProvider)||void 0===r||r.logger().info(`[PartnerConfigManager] ${Date.now()} Already Loading Partner Config '${a}' - No loading promise`);break}case we.LCEType.Error:null===(o=this._telemetryProvider)||void 0===o||o.logger().info(`[PartnerConfigManager] ${Date.now()} Partner Config '${a}'`);break;case we.LCEType.NotRequested:{null===(i=this._telemetryProvider)||void 0===i||i.logger().info(`[PartnerConfigManager] ${Date.now()} Loading Partner Config '${a}'`);const t=this._loadPartnerConfig(e);this._partnerLoadingPromises[a]=t,await t,this._partnerLoadingPromises[a]=void 0;break}}}async _loadPartnerConfig(e){var t,n;const{partnerId:r}=e;this._setPartnerState(r,(0,we.lceFetching)());try{if(e.lazyConfig&&this._store){const{redux:t,getResourceStrings:n}=await e.lazyConfig();if(t){const{reducer:e,sagas:n}=t;if(e&&this._store&&this._store.injectReducer(r,e),n&&this._middleware){const e=this._middleware;n.forEach((t=>e.run(t)))}}if(n){const e=this._store.getState(),t=(0,u.P6r)(e);this._partnersResourceStringsDict[r]=await n(t),this._partnersResourceStringsDict=v()({},this._partnersResourceStringsDict)}}null===(t=this._telemetryProvider)||void 0===t||t.logger().info(`[PartnerConfigManager] Loaded Partner Config '${r}'`),this._setPartnerState(r,(0,we.lceContent)(e))}catch(rr){const t=(0,pe.toError)(rr);null===(n=this._telemetryProvider)||void 0===n||n.logger().error(`Failed to load partner ${r}`,t),this._setPartnerState(r,(0,we.lceError)(t))}}async _loadAllConfigs(){for(const e of this._getPartnerConfigs())await this._loadPartnerConfigIfReady(e)}_setPartnerState(e,t){this._partnerState[e]=t,this._partnerState=v()({},this._partnerState),this._subscriptions.forEach((t=>t(e)))}_processPartnerRoute(e,t){const{partnerId:n}=t,{component:r,redirectComponent:i}=e,a=f()(e,Ge);let s;if(i)s=i;else if(r){const e=this._partnerComponents.get(r);if(e)s=e;else{const e=e=>o.createElement(He,{partnerId:n},o.createElement(r,v()({},e)));this._partnerComponents.set(r,e),s=e}}return v()(v()({},a),{},{key:`${n}_${a.key}`,component:s})}_mapPartnerConfig(e){const{routes:t}=e,n=f()(e,qe);if(!n.lazyConfig&&!t)return n;const r=n;return t&&(r.routes=t.map((t=>this._processPartnerRoute(t,e)))),r}_getPartnerLce(e){var t,n;return null!==(n=null===(t=this._partnerState[e])||void 0===t?void 0:t.type)&&void 0!==n?n:we.LCEType.NotRequested}}const Ve={telemetry:"telemetry",authentication:"authentication",cookies:"cookies",session:"session",partners:"partners"};var ze,Xe=n(80982);!function(e){e.INIT="@sentry/init"}(ze||(ze={}));(0,u.VPN)(ze.INIT,u.HGh.AppContext,"",(()=>({})));n(39428),n(75604),n(41532),n(32950),n(73599),n(64770),n(62080),n(97012),n(31274),n(29548),n(47342),n(14825),n(92467),n(67497),n(88236);var Ke=n(30399),We=n(5910),$e=n(32823),Ye=n(20010),Qe=n(70460),Je=n(4259),Ze=n(18059);const et="ExtraErrorData",tt=(0,Ke._C)(((e={})=>{const t=e.depth||3,n=e.captureErrorCause||!1;return{name:et,setupOnce(){},processEvent:(e,r)=>function(e,t={},n,r){if(!t.originalException||!(0,$e.bJ)(t.originalException))return e;const o=t.originalException.name||t.originalException.constructor.name,i=function(e,t){try{const n=["name","message","stack","line","column","fileName","lineNumber","columnNumber","toJSON"],r={};for(const t of Object.keys(e)){if(-1!==n.indexOf(t))continue;const o=e[t];r[t]=(0,$e.bJ)(o)?o.toString():o}if(t&&void 0!==e.cause&&(r.cause=(0,$e.bJ)(e.cause)?e.cause.toString():e.cause),"function"===typeof e.toJSON){const t=e.toJSON();for(const e of Object.keys(t)){const n=t[e];r[e]=(0,$e.bJ)(n)?n.toString():n}}return r}catch(n){Ze.T&&Je.vF.error("Unable to extract extra data from the Error object:",n)}return null}(t.originalException,r);if(i){const t={...e.contexts},r=(0,Ye.S8)(i,n);return(0,$e.Qd)(r)&&((0,Qe.my)(r,"__sentry_skip_normalization__",!0),t[o]=r),{...e,contexts:t}}return e}(e,r,t,n)}}));(0,Ke.F)(et,tt);var nt=n(28583),rt=n(22466),ot=n(22298),it=n(46591),at=n(19455),st=n(83179);class lt extends Error{constructor(e,t="warn"){super(e),this.message=e,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=t}}const ct="7";function ut(e){const t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}function dt(e,t={}){const n="string"===typeof t?t:t.tunnel,r="string"!==typeof t&&t._metadata?t._metadata.sdk:void 0;return n||`${function(e){return`${ut(e)}${e.projectId}/envelope/`}(e)}?${function(e,t){return(0,Qe.u4)({sentry_key:e.publicKey,sentry_version:ct,...t&&{sentry_client:`${t.name}/${t.version}`}})}(e,r)}`}var pt=n(35835);var mt=n(83750);function ht(e,t,n,r){const o={sent_at:(new Date).toISOString()};n&&n.sdk&&(o.sdk={name:n.sdk.name,version:n.sdk.version}),r&&t&&(o.dsn=(0,ot.SB)(t));const i=function(e){const t=function(e){let t="";for(const n of e){const e=Object.entries(n.tags),r=e.length>0?`|#${e.map((([e,t])=>`${e}:${t}`)).join(",")}`:"";t+=`${n.name}@${n.unit}:${n.metric}|${n.metricType}${r}|T${n.timestamp}\n`}return t}(e);return[{type:"statsd",length:t.length},t]}(e);return(0,st.h4)(o,[i])}var gt=n(44149),ft=n(82277),_t=n(23294);const vt="Not capturing exception because it's already been captured.";class yt{constructor(e){if(this._options=e,this._integrations={},this._integrationsInitialized=!1,this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],e.dsn?this._dsn=(0,ot.AD)(e.dsn):pt.T&&Je.vF.warn("No DSN provided, client will not send events."),this._dsn){const t=dt(this._dsn,e);this._transport=e.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...e.transportOptions,url:t})}}captureException(e,t,n){if((0,it.GR)(e))return void(pt.T&&Je.vF.log(vt));let r=t&&t.event_id;return this._process(this.eventFromException(e,t).then((e=>this._captureEvent(e,t,n))).then((e=>{r=e}))),r}captureMessage(e,t,n,r){let o=n&&n.event_id;const i=(0,$e.NF)(e)?e:String(e),a=(0,$e.sO)(e)?this.eventFromMessage(i,t,n):this.eventFromException(e,n);return this._process(a.then((e=>this._captureEvent(e,n,r))).then((e=>{o=e}))),o}captureEvent(e,t,n){if(t&&t.originalException&&(0,it.GR)(t.originalException))return void(pt.T&&Je.vF.log(vt));let r=t&&t.event_id;const o=(e.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(e,t,o||n).then((e=>{r=e}))),r}captureSession(e){"string"!==typeof e.release?pt.T&&Je.vF.warn("Discarded session because of missing or non-string release"):(this.sendSession(e),(0,gt.qO)(e,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(e){const t=this._transport;return t?(this.metricsAggregator&&this.metricsAggregator.flush(),this._isClientDoneProcessing(e).then((n=>t.flush(e).then((e=>n&&e))))):(0,at.XW)(!0)}close(e){return this.flush(e).then((e=>(this.getOptions().enabled=!1,this.metricsAggregator&&this.metricsAggregator.close(),e)))}getEventProcessors(){return this._eventProcessors}addEventProcessor(e){this._eventProcessors.push(e)}setupIntegrations(e){(e&&!this._integrationsInitialized||this._isEnabled()&&!this._integrationsInitialized)&&this._setupIntegrations()}init(){this._isEnabled()&&this._setupIntegrations()}getIntegrationById(e){return this.getIntegrationByName(e)}getIntegrationByName(e){return this._integrations[e]}getIntegration(e){try{return this._integrations[e.id]||null}catch(t){return pt.T&&Je.vF.warn(`Cannot retrieve integration ${e.id} from the current Client`),null}}addIntegration(e){const t=this._integrations[e.name];(0,Ke.qm)(this,e,this._integrations),t||(0,Ke.lc)(this,[e])}sendEvent(e,t={}){this.emit("beforeSendEvent",e,t);let n=function(e,t,n,r){const o=(0,st.Cj)(n),i=e.type&&"replay_event"!==e.type?e.type:"event";!function(e,t){t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=[...e.sdk.integrations||[],...t.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...t.packages||[]])}(e,n&&n.sdk);const a=(0,st.n2)(e,o,r,t);delete e.sdkProcessingMetadata;const s=[{type:i},e];return(0,st.h4)(a,[s])}(e,this._dsn,this._options._metadata,this._options.tunnel);for(const o of t.attachments||[])n=(0,st.W3)(n,(0,st.bm)(o,this._options.transportOptions&&this._options.transportOptions.textEncoder));const r=this._sendEnvelope(n);r&&r.then((t=>this.emit("afterSendEvent",e,t)),null)}sendSession(e){const t=function(e,t,n,r){const o=(0,st.Cj)(n),i={sent_at:(new Date).toISOString(),...o&&{sdk:o},...!!r&&t&&{dsn:(0,ot.SB)(t)}},a="aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()];return(0,st.h4)(i,[a])}(e,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(t)}recordDroppedEvent(e,t,n){if(this._options.sendClientReports){const r="number"===typeof n?n:1,o=`${e}:${t}`;pt.T&&Je.vF.log(`Recording outcome: "${o}"${r>1?` (${r} times)`:""}`),this._outcomes[o]=(this._outcomes[o]||0)+r}}captureAggregateMetrics(e){pt.T&&Je.vF.log(`Flushing aggregated metrics, number of metrics: ${e.length}`);const t=ht(e,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(t)}on(e,t){this._hooks[e]||(this._hooks[e]=[]),this._hooks[e].push(t)}emit(e,...t){this._hooks[e]&&this._hooks[e].forEach((e=>e(...t)))}_setupIntegrations(){const{integrations:e}=this._options;this._integrations=(0,Ke.P$)(this,e),(0,Ke.lc)(this,e),this._integrationsInitialized=!0}_updateSessionFromEvent(e,t){let n=!1,r=!1;const o=t.exception&&t.exception.values;if(o){r=!0;for(const e of o){const t=e.mechanism;if(t&&!1===t.handled){n=!0;break}}}const i="ok"===e.status;(i&&0===e.errors||i&&n)&&((0,gt.qO)(e,{...n&&{status:"crashed"},errors:e.errors||Number(r||n)}),this.captureSession(e))}_isClientDoneProcessing(e){return new at.T2((t=>{let n=0;const r=setInterval((()=>{0==this._numProcessing?(clearInterval(r),t(!0)):(n+=1,e&&n>=e&&(clearInterval(r),t(!1)))}),1)}))}_isEnabled(){return!1!==this.getOptions().enabled&&void 0!==this._transport}_prepareEvent(e,t,n,r=(0,mt.rm)()){const o=this.getOptions(),i=Object.keys(this._integrations);return!t.integrations&&i.length>0&&(t.integrations=i),this.emit("preprocessEvent",e,t),(0,_t.mG)(o,e,t,n,this,r).then((e=>{if(null===e)return e;const t={...r.getPropagationContext(),...n?n.getPropagationContext():void 0};if(!(e.contexts&&e.contexts.trace)&&t){const{traceId:r,spanId:o,parentSpanId:i,dsc:a}=t;e.contexts={trace:{trace_id:r,span_id:o,parent_span_id:i},...e.contexts};const s=a||(0,ft.l)(r,this,n);e.sdkProcessingMetadata={dynamicSamplingContext:s,...e.sdkProcessingMetadata}}return e}))}_captureEvent(e,t={},n){return this._processEvent(e,t,n).then((e=>e.event_id),(e=>{if(pt.T){const t=e;"log"===t.logLevel?Je.vF.log(t.message):Je.vF.warn(t)}}))}_processEvent(e,t,n){const r=this.getOptions(),{sampleRate:o}=r,i=St(e),a=bt(e),s=e.type||"error",l=`before send for type \`${s}\``;if(a&&"number"===typeof o&&Math.random()>o)return this.recordDroppedEvent("sample_rate","error",e),(0,at.xg)(new lt(`Discarding event because it's not included in the random sample (sampling rate = ${o})`,"log"));const c="replay_event"===s?"replay":s,u=(e.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(e,t,n,u).then((n=>{if(null===n)throw this.recordDroppedEvent("event_processor",c,e),new lt("An event processor returned `null`, will not send event.","log");if(t.data&&!0===t.data.__sentry__)return n;const o=function(e,t,n){const{beforeSend:r,beforeSendTransaction:o}=e;if(bt(t)&&r)return r(t,n);if(St(t)&&o){if(t.spans){const e=t.spans.length;t.sdkProcessingMetadata={...t.sdkProcessingMetadata,spanCountBeforeProcessing:e}}return o(t,n)}return t}(r,n,t);return function(e,t){const n=`${t} must return \`null\` or a valid event.`;if((0,$e.Qg)(e))return e.then((e=>{if(!(0,$e.Qd)(e)&&null!==e)throw new lt(n);return e}),(e=>{throw new lt(`${t} rejected with ${e}`)}));if(!(0,$e.Qd)(e)&&null!==e)throw new lt(n);return e}(o,l)})).then((r=>{if(null===r){if(this.recordDroppedEvent("before_send",c,e),i){const t=1+(e.spans||[]).length;this.recordDroppedEvent("before_send","span",t)}throw new lt(`${l} returned \`null\`, will not send event.`,"log")}const o=n&&n.getSession();if(!i&&o&&this._updateSessionFromEvent(o,r),i){const e=(r.sdkProcessingMetadata&&r.sdkProcessingMetadata.spanCountBeforeProcessing||0)-(r.spans?r.spans.length:0);e>0&&this.recordDroppedEvent("before_send","span",e)}const a=r.transaction_info;if(i&&a&&r.transaction!==e.transaction){const e="custom";r.transaction_info={...a,source:e}}return this.sendEvent(r,t),r})).then(null,(e=>{if(e instanceof lt)throw e;throw this.captureException(e,{data:{__sentry__:!0},originalException:e}),new lt(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: ${e}`)}))}_process(e){this._numProcessing++,e.then((e=>(this._numProcessing--,e)),(e=>(this._numProcessing--,e)))}_sendEnvelope(e){if(this.emit("beforeEnvelope",e),this._isEnabled()&&this._transport)return this._transport.send(e).then(null,(e=>{pt.T&&Je.vF.error("Error while sending event:",e)}));pt.T&&Je.vF.error("Transport disabled")}_clearOutcomes(){const e=this._outcomes;return this._outcomes={},Object.keys(e).map((t=>{const[n,r]=t.split(":");return{reason:n,category:r,quantity:e[t]}}))}}function bt(e){return void 0===e.type}function St(e){return"transaction"===e.type}var Et=n(26045);function Ct(e,t,n=[t],r="npm"){const o=e._metadata||{};o.sdk||(o.sdk={name:`sentry.javascript.${t}`,packages:n.map((e=>({name:`${r}:@sentry/${e}`,version:Et.M}))),version:Et.M}),e._metadata=o}var Tt=n(22234);var wt=n(46392);function It(e,t){const n=At(e,t),r={type:t&&t.name,value:xt(t)};return n.length&&(r.stacktrace={frames:n}),void 0===r.type&&""===r.value&&(r.value="Unrecoverable error caught"),r}function Pt(e,t){return{exception:{values:[It(e,t)]}}}function At(e,t){const n=t.stacktrace||t.stack||"",r=function(e){if(e){if("number"===typeof e.framesToPop)return e.framesToPop;if(kt.test(e.message))return 1}return 0}(t);try{return e(n,r)}catch(rr){}return[]}const kt=/Minified React error #\d+;/i;function xt(e){const t=e&&e.message;return t?t.error&&"string"===typeof t.error.message?t.error.message:t:"No error message"}function Rt(e,t,n,r,o){let i;if((0,$e.T2)(t)&&t.error){return Pt(e,t.error)}if((0,$e.BD)(t)||(0,$e.W6)(t)){const o=t;if("stack"in t)i=Pt(e,t);else{const t=o.name||((0,$e.BD)(o)?"DOMError":"DOMException"),a=o.message?`${t}: ${o.message}`:t;i=Ot(e,a,n,r),(0,it.gO)(i,a)}return"code"in o&&(i.tags={...i.tags,"DOMException.code":`${o.code}`}),i}if((0,$e.bJ)(t))return Pt(e,t);if((0,$e.Qd)(t)||(0,$e.xH)(t)){return i=function(e,t,n,r){const o=(0,Xe.KU)(),i=o&&o.getOptions().normalizeDepth,a={exception:{values:[{type:(0,$e.xH)(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:Nt(t,{isUnhandledRejection:r})}]},extra:{__serialized__:(0,Ye.cd)(t,i)}};if(n){const t=At(e,n);t.length&&(a.exception.values[0].stacktrace={frames:t})}return a}(e,t,n,o),(0,it.M6)(i,{synthetic:!0}),i}return i=Ot(e,t,n,r),(0,it.gO)(i,`${t}`,void 0),(0,it.M6)(i,{synthetic:!0}),i}function Ot(e,t,n,r){const o={};if(r&&n){const r=At(e,n);r.length&&(o.exception={values:[{value:t,stacktrace:{frames:r}}]})}if((0,$e.NF)(t)){const{__sentry_template_string__:e,__sentry_template_values__:n}=t;return o.logentry={message:e,params:n},o}return o.message=t,o}function Nt(e,{isUnhandledRejection:t}){const n=(0,Qe.HF)(e),r=t?"promise rejection":"exception";if((0,$e.T2)(e))return`Event \`ErrorEvent\` captured as ${r} with message \`${e.message}\``;if((0,$e.xH)(e)){return`Event \`${function(e){try{const t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch(rr){}}(e)}\` (type=${e.type}) captured as ${r}`}return`Object captured as ${r} with keys: ${n}`}var Mt=n(13755);class Lt extends yt{constructor(e){Ct(e,"browser",["browser"],Mt.jf.SENTRY_SDK_SOURCE||"npm"),super(e),e.sendClientReports&&Mt.jf.document&&Mt.jf.document.addEventListener("visibilitychange",(()=>{"hidden"===Mt.jf.document.visibilityState&&this._flushOutcomes()}))}eventFromException(e,t){return function(e,t,n,r){const o=Rt(e,t,n&&n.syntheticException||void 0,r);return(0,it.M6)(o),o.level="error",n&&n.event_id&&(o.event_id=n.event_id),(0,at.XW)(o)}(this._options.stackParser,e,t,this._options.attachStacktrace)}eventFromMessage(e,t="info",n){return function(e,t,n="info",r,o){const i=Ot(e,t,r&&r.syntheticException||void 0,o);return i.level=n,r&&r.event_id&&(i.event_id=r.event_id),(0,at.XW)(i)}(this._options.stackParser,e,t,n,this._options.attachStacktrace)}captureUserFeedback(e){if(!this._isEnabled())return void(wt.T&&Je.vF.warn("SDK not enabled, will not capture user feedback."));const t=function(e,{metadata:t,tunnel:n,dsn:r}){const o={event_id:e.event_id,sent_at:(new Date).toISOString(),...t&&t.sdk&&{sdk:{name:t.sdk.name,version:t.sdk.version}},...!!n&&!!r&&{dsn:(0,ot.SB)(r)}},i=function(e){return[{type:"user_report"},e]}(e);return(0,st.h4)(o,[i])}(e,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this._sendEnvelope(t)}_prepareEvent(e,t,n){return e.platform=e.platform||"javascript",super._prepareEvent(e,t,n)}_flushOutcomes(){const e=this._clearOutcomes();if(0===e.length)return void(wt.T&&Je.vF.log("No outcomes to send"));if(!this._dsn)return void(wt.T&&Je.vF.log("No dsn provided, will not send outcomes"));wt.T&&Je.vF.log("Sending outcomes:",e);const t=function(e,t,n){const r=[{type:"client_report"},{timestamp:n||(0,Tt.lu)(),discarded_events:e}];return(0,st.h4)(t?{dsn:t}:{},[r])}(e,this._options.tunnel&&(0,ot.SB)(this._dsn));this._sendEnvelope(t)}}var Dt=n(45682);const Ft="?";function Ut(e,t,n,r){const o={filename:e,function:t,in_app:!0};return void 0!==n&&(o.lineno=n),void 0!==r&&(o.colno=r),o}const Bt=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,Ht=/\((\S*)(?::(\d+))(?::(\d+))\)/,Gt=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,qt=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,jt=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:[-a-z]+):.*?):(\d+)(?::(\d+))?\)?\s*$/i,Vt=[[30,e=>{const t=Bt.exec(e);if(t){if(t[2]&&0===t[2].indexOf("eval")){const e=Ht.exec(t[2]);e&&(t[2]=e[1],t[3]=e[2],t[4]=e[3])}const[e,n]=Xt(t[1]||Ft,t[2]);return Ut(n,e,t[3]?+t[3]:void 0,t[4]?+t[4]:void 0)}}],[50,e=>{const t=Gt.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const e=qt.exec(t[3]);e&&(t[1]=t[1]||"eval",t[3]=e[1],t[4]=e[2],t[5]="")}let e=t[3],n=t[1]||Ft;return[n,e]=Xt(n,e),Ut(e,n,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}}],[40,e=>{const t=jt.exec(e);return t?Ut(t[2],t[1]||Ft,+t[3],t[4]?+t[4]:void 0):void 0}]],zt=(0,Dt.gd)(...Vt),Xt=(e,t)=>{const n=-1!==e.indexOf("safari-extension"),r=-1!==e.indexOf("safari-web-extension");return n||r?[-1!==e.indexOf("@")?e.split("@")[0]:Ft,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]};function Kt(e){const t=[];function n(e){return t.splice(t.indexOf(e),1)[0]}return{$:t,add:function(r){if(!(void 0===e||t.length<e))return(0,at.xg)(new lt("Not adding Promise because buffer limit was reached."));const o=r();return-1===t.indexOf(o)&&t.push(o),o.then((()=>n(o))).then(null,(()=>n(o).then(null,(()=>{})))),o},drain:function(e){return new at.T2(((n,r)=>{let o=t.length;if(!o)return n(!0);const i=setTimeout((()=>{e&&e>0&&n(!1)}),e);t.forEach((e=>{(0,at.XW)(e).then((()=>{--o||(clearTimeout(i),n(!0))}),r)}))}))}}}const Wt=6e4;function $t(e,{statusCode:t,headers:n},r=Date.now()){const o={...e},i=n&&n["x-sentry-rate-limits"],a=n&&n["retry-after"];if(i)for(const s of i.trim().split(",")){const[e,t,,,n]=s.split(":",5),i=parseInt(e,10),a=1e3*(isNaN(i)?60:i);if(t)for(const s of t.split(";"))"metric_bucket"===s&&n&&!n.split(";").includes("custom")||(o[s]=r+a);else o.all=r+a}else a?o.all=r+function(e,t=Date.now()){const n=parseInt(`${e}`,10);if(!isNaN(n))return 1e3*n;const r=Date.parse(`${e}`);return isNaN(r)?Wt:r-t}(a,r):429===t&&(o.all=r+6e4);return o}const Yt=30;function Qt(e,t,n=Kt(e.bufferSize||Yt)){let r={};function o(o){const i=[];if((0,st.yH)(o,((t,n)=>{const o=(0,st.zk)(n);if(function(e,t,n=Date.now()){return function(e,t){return e[t]||e.all||0}(e,t)>n}(r,o)){const r=Jt(t,n);e.recordDroppedEvent("ratelimit_backoff",o,r)}else i.push(t)})),0===i.length)return(0,at.XW)();const a=(0,st.h4)(o[0],i),s=t=>{(0,st.yH)(a,((n,r)=>{const o=Jt(n,r);e.recordDroppedEvent(t,(0,st.zk)(r),o)}))};return n.add((()=>t({body:(0,st.bN)(a,e.textEncoder)}).then((e=>(void 0!==e.statusCode&&(e.statusCode<200||e.statusCode>=300)&&pt.T&&Je.vF.warn(`Sentry responded with status code ${e.statusCode} to sent event.`),r=$t(r,e),e)),(e=>{throw s("network_error"),e})))).then((e=>e),(e=>{if(e instanceof lt)return pt.T&&Je.vF.error("Skipped sending event because buffer is full."),s("queue_overflow"),(0,at.XW)();throw e}))}return o.__sentry__baseTransport__=!0,{send:o,flush:e=>n.drain(e)}}function Jt(e,t){if("event"===t||"transaction"===t)return Array.isArray(e)?e[1]:void 0}var Zt=n(70395);let en;function tn(e,t=function(){if(en)return en;if((0,Zt.ap)(Mt.jf.fetch))return en=Mt.jf.fetch.bind(Mt.jf);const e=Mt.jf.document;let t=Mt.jf.fetch;if(e&&"function"===typeof e.createElement)try{const n=e.createElement("iframe");n.hidden=!0,e.head.appendChild(n);const r=n.contentWindow;r&&r.fetch&&(t=r.fetch),e.head.removeChild(n)}catch(rr){wt.T&&Je.vF.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",rr)}return en=t.bind(Mt.jf)}()){let n=0,r=0;return Qt(e,(function(o){const i=o.body.length;n+=i,r++;const a={body:o.body,method:"POST",referrerPolicy:"origin",headers:e.headers,keepalive:n<=6e4&&r<15,...e.fetchOptions};try{return t(e.url,a).then((e=>(n-=i,r--,{statusCode:e.status,headers:{"x-sentry-rate-limits":e.headers.get("X-Sentry-Rate-Limits"),"retry-after":e.headers.get("Retry-After")}})))}catch(rr){return en=void 0,n-=i,r--,(0,at.xg)(rr)}}))}var nn=n(81114);const rn=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/],on=[/^.*\/healthcheck$/,/^.*\/healthy$/,/^.*\/live$/,/^.*\/ready$/,/^.*\/heartbeat$/,/^.*\/health$/,/^.*\/healthz$/],an="InboundFilters",sn=(0,Ke._C)(((e={})=>({name:an,setupOnce(){},processEvent(t,n,r){const o=r.getOptions(),i=function(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:rn],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[],...e.disableTransactionDefaults?[]:on],ignoreInternal:void 0===e.ignoreInternal||e.ignoreInternal}}(e,o);return function(e,t){if(t.ignoreInternal&&function(e){try{return"SentryError"===e.exception.values[0].type}catch(rr){}return!1}(e))return pt.T&&Je.vF.warn(`Event dropped due to being internal Sentry Error.\nEvent: ${(0,it.$X)(e)}`),!0;if(function(e,t){if(e.type||!t||!t.length)return!1;return function(e){const t=[];e.message&&t.push(e.message);let n;try{n=e.exception.values[e.exception.values.length-1]}catch(rr){}n&&n.value&&(t.push(n.value),n.type&&t.push(`${n.type}: ${n.value}`));pt.T&&0===t.length&&Je.vF.error(`Could not extract message for event ${(0,it.$X)(e)}`);return t}(e).some((e=>(0,nn.Xr)(e,t)))}(e,t.ignoreErrors))return pt.T&&Je.vF.warn(`Event dropped due to being matched by \`ignoreErrors\` option.\nEvent: ${(0,it.$X)(e)}`),!0;if(function(e,t){if("transaction"!==e.type||!t||!t.length)return!1;const n=e.transaction;return!!n&&(0,nn.Xr)(n,t)}(e,t.ignoreTransactions))return pt.T&&Je.vF.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.\nEvent: ${(0,it.$X)(e)}`),!0;if(function(e,t){if(!t||!t.length)return!1;const n=ln(e);return!!n&&(0,nn.Xr)(n,t)}(e,t.denyUrls))return pt.T&&Je.vF.warn(`Event dropped due to being matched by \`denyUrls\` option.\nEvent: ${(0,it.$X)(e)}.\nUrl: ${ln(e)}`),!0;if(!function(e,t){if(!t||!t.length)return!0;const n=ln(e);return!n||(0,nn.Xr)(n,t)}(e,t.allowUrls))return pt.T&&Je.vF.warn(`Event dropped due to not being matched by \`allowUrls\` option.\nEvent: ${(0,it.$X)(e)}.\nUrl: ${ln(e)}`),!0;return!1}(t,i)?null:t}})));(0,Ke.F)(an,sn);function ln(e){try{let t;try{t=e.exception.values[0].stacktrace.frames}catch(rr){}return t?function(e=[]){for(let t=e.length-1;t>=0;t--){const n=e[t];if(n&&"<anonymous>"!==n.filename&&"[native code]"!==n.filename)return n.filename||null}return null}(t):null}catch(t){return pt.T&&Je.vF.error(`Cannot extract url for event ${(0,it.$X)(e)}`),null}}let cn;const un="FunctionToString",dn=new WeakMap,pn=(0,Ke._C)((()=>({name:un,setupOnce(){cn=Function.prototype.toString;try{Function.prototype.toString=function(...e){const t=(0,Qe.sp)(this),n=dn.has((0,Xe.KU)())&&void 0!==t?t:this;return cn.apply(n,e)}}catch(rr){}},setup(e){dn.set(e,!0)}})));(0,Ke.F)(un,pn);function mn(e,t){!0===t.debug&&(pt.T?Je.vF.enable():(0,Je.pq)((()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})));(0,Xe.o5)().update(t.initialScope);const n=new e(t);!function(e){const t=(0,mt.BF)().getStackTop();t.client=e,t.scope.setClient(e)}(n),function(e){e.init?e.init():e.setupIntegrations&&e.setupIntegrations()}(n)}var hn=n(13181);const gn="Dedupe",fn=(0,Ke._C)((()=>{let e;return{name:gn,setupOnce(){},processEvent(t){if(t.type)return t;try{if(function(e,t){if(!t)return!1;if(function(e,t){const n=e.message,r=t.message;if(!n&&!r)return!1;if(n&&!r||!n&&r)return!1;if(n!==r)return!1;if(!vn(e,t))return!1;if(!_n(e,t))return!1;return!0}(e,t))return!0;if(function(e,t){const n=yn(t),r=yn(e);if(!n||!r)return!1;if(n.type!==r.type||n.value!==r.value)return!1;if(!vn(e,t))return!1;if(!_n(e,t))return!1;return!0}(e,t))return!0;return!1}(t,e))return wt.T&&Je.vF.warn("Event dropped due to being a duplicate of previously captured event."),null}catch(n){}return e=t}}}));(0,Ke.F)(gn,fn);function _n(e,t){let n=bn(e),r=bn(t);if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;if(r.length!==n.length)return!1;for(let o=0;o<r.length;o++){const e=r[o],t=n[o];if(e.filename!==t.filename||e.lineno!==t.lineno||e.colno!==t.colno||e.function!==t.function)return!1}return!0}function vn(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;try{return!(n.join("")!==r.join(""))}catch(o){return!1}}function yn(e){return e.exception&&e.exception.values&&e.exception.values[0]}function bn(e){const t=e.exception;if(t)try{return t.values[0].stacktrace.frames}catch(n){return}}var Sn=n(91962),En=n(55180),Cn=n(85287);const Tn="GlobalHandlers",wn=(0,Ke._C)(((e={})=>{const t={onerror:!0,onunhandledrejection:!0,...e};return{name:Tn,setupOnce(){Error.stackTraceLimit=50},setup(e){t.onerror&&(!function(e){(0,Sn.L)((t=>{const{stackParser:n,attachStacktrace:r}=An();if((0,Xe.KU)()!==e||(0,Mt.jN)())return;const{msg:o,url:i,line:a,column:s,error:l}=t,c=void 0===l&&(0,$e.Kg)(o)?function(e,t,n,r){const o=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;let i=(0,$e.T2)(e)?e.message:e,a="Error";const s=i.match(o);s&&(a=s[1],i=s[2]);const l={exception:{values:[{type:a,value:i}]}};return In(l,t,n,r)}(o,i,a,s):In(Rt(n,l||o,void 0,r,!1),i,a,s);c.level="error",(0,Xe.r)(c,{originalException:l,mechanism:{handled:!1,type:"onerror"}})}))}(e),Pn("onerror")),t.onunhandledrejection&&(!function(e){(0,En.r)((t=>{const{stackParser:n,attachStacktrace:r}=An();if((0,Xe.KU)()!==e||(0,Mt.jN)())return;const o=function(e){if((0,$e.sO)(e))return e;const t=e;try{if("reason"in t)return t.reason;if("detail"in t&&"reason"in t.detail)return t.detail.reason}catch(n){}return e}(t),i=(0,$e.sO)(o)?{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(o)}`}]}}:Rt(n,o,void 0,r,!0);i.level="error",(0,Xe.r)(i,{originalException:o,mechanism:{handled:!1,type:"onunhandledrejection"}})}))}(e),Pn("onunhandledrejection"))}}}));(0,Ke.F)(Tn,wn);function In(e,t,n,r){const o=e.exception=e.exception||{},i=o.values=o.values||[],a=i[0]=i[0]||{},s=a.stacktrace=a.stacktrace||{},l=s.frames=s.frames||[],c=isNaN(parseInt(r,10))?void 0:r,u=isNaN(parseInt(n,10))?void 0:n,d=(0,$e.Kg)(t)&&t.length>0?t:(0,Cn.$N)();return 0===l.length&&l.push({colno:c,filename:d,function:"?",in_app:!0,lineno:u}),e}function Pn(e){wt.T&&Je.vF.log(`Global Handler attached: ${e}`)}function An(){const e=(0,Xe.KU)();return e&&e.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}var kn=n(82699);function xn(e,t,n=250,r,o,i,a){if(!i.exception||!i.exception.values||!a||!(0,$e.tH)(a.originalException,Error))return;const s=i.exception.values.length>0?i.exception.values[i.exception.values.length-1]:void 0;var l,c;s&&(i.exception.values=(l=Rn(e,t,o,a.originalException,r,i.exception.values,s,0),c=n,l.map((e=>(e.value&&(e.value=(0,nn.xv)(e.value,c)),e)))))}function Rn(e,t,n,r,o,i,a,s){if(i.length>=n+1)return i;let l=[...i];if((0,$e.tH)(r[o],Error)){On(a,s);const i=e(t,r[o]),c=l.length;Nn(i,o,c,s),l=Rn(e,t,n,r[o],o,[i,...l],i,c)}return Array.isArray(r.errors)&&r.errors.forEach(((r,i)=>{if((0,$e.tH)(r,Error)){On(a,s);const c=e(t,r),u=l.length;Nn(c,`errors[${i}]`,u,s),l=Rn(e,t,n,r,o,[c,...l],c,u)}})),l}function On(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,..."AggregateError"===e.type&&{is_exception_group:!0},exception_id:t}}function Nn(e,t,n,r){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:r}}const Mn="LinkedErrors",Ln=(0,Ke._C)(((e={})=>{const t=e.limit||5,n=e.key||"cause";return{name:Mn,setupOnce(){},preprocessEvent(e,r,o){const i=o.getOptions();xn(It,i.stackParser,i.maxValueLength,n,t,e,r)}}})),Dn=((0,Ke.F)(Mn,Ln),4);function Fn(e){return Qt(e,(function(t){return new at.T2(((n,r)=>{const o=new XMLHttpRequest;o.onerror=r,o.onreadystatechange=()=>{o.readyState===Dn&&n({statusCode:o.status,headers:{"x-sentry-rate-limits":o.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":o.getResponseHeader("Retry-After")}})},o.open("POST",e.url);for(const t in e.headers)Object.prototype.hasOwnProperty.call(e.headers,t)&&o.setRequestHeader(t,e.headers[t]);o.send(t.body)}))}))}const Un=[sn(),pn(),(0,rt.G)(),(0,nt.F)(),wn(),Ln(),fn(),(0,kn.M)()];function Bn(e={}){void 0===e.defaultIntegrations&&(e.defaultIntegrations=[...Un]),void 0===e.release&&("string"===typeof __SENTRY_RELEASE__&&(e.release=__SENTRY_RELEASE__),Mt.jf.SENTRY_RELEASE&&Mt.jf.SENTRY_RELEASE.id&&(e.release=Mt.jf.SENTRY_RELEASE.id)),void 0===e.autoSessionTracking&&(e.autoSessionTracking=!0),void 0===e.sendClientReports&&(e.sendClientReports=!0);const t={...e,stackParser:(0,Dt.vk)(e.stackParser||zt),integrations:(0,Ke.mH)(e),transport:e.transport||((0,Zt.vm)()?tn:Fn)};mn(Lt,t),e.autoSessionTracking&&function(){if("undefined"===typeof Mt.jf.document)return void(wt.T&&Je.vF.warn("Session tracking in non-browser environment with @sentry/browser is not supported."));(0,Xe.J0)({ignoreDuration:!0}),(0,Xe.J5)(),(0,hn._)((({from:e,to:t})=>{void 0!==e&&e!==t&&((0,Xe.J0)({ignoreDuration:!0}),(0,Xe.J5)())}))}()}var Hn,Gn=n(7606);n(8697),n(8096);!function(e){e.FullLocale="FullLocale",e.Language="Language",e.Market="Market",e.Script="Script",e.SitePath="SitePath"}(Hn||(Hn={}));const qn=new RegExp(`^/(?<${Hn.FullLocale}>(?<${Hn.Language}>[a-z]{2,4})-?(?<${Hn.Script}>[a-z]{4})?-(?<${Hn.Market}>[a-z]{2}|[0-9]{3}))(?<${Hn.SitePath}>[/?].*)?$`,"i");n(55367);const jn=Object.keys("MISSING_ENV_VAR").reduce(((e,t)=>(e[t]="MISSING_ENV_VAR"[t],e)),{BUILD_BUILDNUMBER:"1.0.2504.1808"});let Vn=!1;const zn=Math.random().toString();function Xn(){var e;return"true"===(null===(e=document.querySelector('meta[name="sentry-sampled"]'))||void 0===e?void 0:e.getAttribute("content"))}const Kn=new Map;async function Wn(e,t){if((null===t||void 0===t?void 0:t.partnerId)&&Kn.has(t.partnerId))return Kn.get(t.partnerId);if(null===t||void 0===t?void 0:t.lazyConfig){const n=await t.lazyConfig();if(n.getSentryBrowserOptions){const r=await n.getSentryBrowserOptions(e),o=r?Yn(r):null;return Kn.set(t.partnerId,o),o}}return function(e){let{environment:t,sampledOnService:n,reduxStateOnInitialNavigation:r}=e;var o;if(Kn.has("default"))return Kn.get("default");const i=Yn({dsn:"https://86d661e5a4214309841b65c6b52ad6c5@o741402.ingest.sentry.io/5932552",release:"1.0.2504.1808",dist:"1.0.2504.1808",attachStacktrace:!0,environment:t,debug:"production"!==t,integrations:e=>(e.push((0,We.sn)()),e.push(nt.F({console:!1,fetch:!1,xhr:!1})),e.push(rt.G({setInterval:!1,setTimeout:!1,requestAnimationFrame:!1,XMLHttpRequest:!0,eventTarget:!0})),e.push((0,Gn.dp)()),e.push(tt()),e),sampleRate:(null!==(o=(0,u.Mjw)(r,u.WTf.ClientErrorSampleRate))&&void 0!==o?o:0)/1e5,tracesSampler:()=>n});return Kn.set("default",i),i}(e)}async function $n(e,t,n){let r=t;const o=t.match(qn);if(null===o||void 0===o?void 0:o.groups){const e=o.groups[Hn.FullLocale];r=t.replace(`${e}/`,"")}const i={environment:Qn(),sampledOnService:Xn(),reduxStateOnInitialNavigation:e},a=n.getPartnerConfigForPath(r),s=await Wn(i,a),l=Xe.o5(),c=Xe.KU();c!==s&&(c&&(Xe.J5(!0),c.close()),s?(l.setClient(s),Xe.J0(),Xe.J5()):l.setClient(void 0))}function Yn(e){return new Lt(v()(v()({},e),{},{stackParser:zt,integrations:(0,Ke.mH)(e),transport:e=>tn(e)}))}function Qn(){const e=window.location.hostname,t=jn.SENTRY_PROD_HOST_NAME||"xbox.com",n=jn.SENTRY_INT_HOST_NAME_ID||"origin-int";return e===t||e===`www.${t}`?"production":e.includes(n)?"integration":"development"}async function Jn(e,t){jn.BUILD_BUILDNUMBER&&""!==jn.BUILD_BUILDNUMBER&&(!function(e){const t={...e};Ct(t,"react"),Bn(t)}({}),$n(e,window.location.pathname,t),Xe.gV({id:zn}),Vn=!0)}function*Zn(){const e=yield(0,z.Jl)(),t=yield(0,Ce.select)(R.Rs),n=(0,we.getDataOrPrevious)(t);!0===(null===n||void 0===n?void 0:n.optionalDataCollectionValue)?(e.logger().info(`[sentrySagas] Sentry is being initialized because the user's ODC value is set to ${null===n||void 0===n?void 0:n.optionalDataCollectionValue}`),yield er()):(e.logger().info(`[sentrySagas] Sentry is being shut down because the user's ODC value is set to ${null===n||void 0===n?void 0:n.optionalDataCollectionValue}`),Xe.VN(0).then((function(t){t?e.logger().info("[sentrySagas] Sentry events queue flushed and closed successfully."):e.logger().warn("[sentrySagas] Sentry events queue could not be flushed within the timeout or no client is defined.")}),(function(t){e.logger().error("[sentrySagas] Failed to flush and close Sentry events queue.",t)})))}function*er(){const e=yield(0,z.Jl)();e.logger().info("[sentrySagas] initializeSentrySaga()");Jn(yield(0,Ce.select)(),yield(0,Ce.getContext)(Ve.partners)),async function(e){Vn&&Xe.gV({id:e})}(e.cv().initialCv)}function*tr(){yield(0,Ce.takeLatest)(R.zd.SUBMIT_CONSENT_SUCCESS,Zn),yield(0,Ce.takeLatest)(R.zd.FETCH_PRIVACY_CONSENT_SUCCESS,Zn),yield(0,Ce.takeLatest)(ze.INIT,er)}var nr=n(90692);function rr(e){this.message=e}rr.prototype=new Error,rr.prototype.name="InvalidCharacterError";var or=window.atob&&window.atob.bind(window)||function(e){var t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new rr("'atob' failed: The string to be decoded is not correctly encoded.");for(var n,r,o=0,i=0,a="";r=t.charAt(i++);~r&&(n=o%4?64*n+r:r,o++%4)?a+=String.fromCharCode(255&n>>(-2*o&6)):0)r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(r);return a};function ir(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}try{return function(e){return decodeURIComponent(or(e).replace(/(.)/g,(function(e,t){var n=t.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n})))}(t)}catch(e){return or(t)}}function ar(e){this.message=e}ar.prototype=new Error,ar.prototype.name="InvalidTokenError";const sr=function(e,t){if("string"!=typeof e)throw new ar("Invalid token specified");var n=!0===(t=t||{}).header?0:1;try{return JSON.parse(ir(e.split(".")[n]))}catch(e){throw new ar("Invalid token specified: "+e.message)}},lr=(e,t)=>({text:e,link:t}),cr=e=>{const t=(0,u.Q_y)(),{msaUserInteractionRequiredBannerMessage:n,signInLink:r,closeBanner:i}=(0,Oe.ot)("msaUserInteractionRequiredBannerMessage","signInLink","closeBanner"),a=!!e.error,s=a?c.NY.Error:c.NY.Warning,l=[lr(r,t)],d=(e=>({text:e,onClick:c.Zv.hideAllBanners}))(i),p=(0,z.nO)({contentName:a?"Authentication Error Banner Alert":"Authentication Warning Banner Alert",templateName:"AuthenticationBannerAlertComponent"},e.contentTelemetry);return o.createElement(c.Fc,{level:s,text:n,actions:l,closeAction:d,contentTelemetry:p})};class ur extends R.Nq{constructor(e){super(e.telemetryProvider.logger()),this.gamertagToGamerpicUrl=new Map,this.clientAuthProviderV3=e.clientAuthProviderV3,this.dispatch=e.dispatch,this.aadUserGetter=e.aadUserGetter,this.getAccountSignInUrl=e.getAccountSignInUrl,this.getAccountSignOutUrl=e.getAccountSignOutUrl,this.getCoBrandingSignInUrl=e.getCoBrandingSignInUrl,this.useV2MeControl=e.useV2MeControl,this.telemetryProvider=e.telemetryProvider,this.serverUserXuid=e.serverUserXuid,this.lastAuthenticationDate=this.clientAuthProviderV3.lastAuthenticationDate(),this.setupAadTokenRefresh(),this.updateUserInfoState(),this.clientAuthProviderV3.addEventListener("activeAuthUserChanged",(()=>{this.updateUserInfoState()}))}static async create(e){var t;const n=new URLSearchParams(globalThis.location.search).get("sid"),r=globalThis.parent!==globalThis.window,o=await R.P3.create({telemetryProvider:e.telemetryProvider,locale:e.locale,defaultRedirectUrl:D,silentRedirectUri:"/auth/msa/blank.html",msaSessionId:r&&n?n:void 0,cookiesProvider:e.cookiesProvider,isSisuUcsSupportEnabled:null!==(t=e.isSisuUcsSupportEnabled)&&void 0!==t&&t,skipLoginRedirectCounter:e.skipLoginRedirectCounter});return new ur(v()(v()({},e),{},{clientAuthProviderV3:o}))}getAuthProvider(){return this.clientAuthProviderV3}startSignInWithRedirect(e,t){var n;return this.cancelAadTokenRefresh(),null===(n=this.hideMsaUserInteractionRequiredBannerAlert)||void 0===n||n.call(this),this.clientAuthProviderV3.startSignInWithRedirect({returnUrlAfterSignIn:e,prompt:null===t||void 0===t?void 0:t.prompt})}async completeSignInAfterRedirectIfNeeded(){try{const e=await this.clientAuthProviderV3.completeSignInAfterRedirectIfNeeded();return await this.updateUserInfoState(),e}catch(e){const t=(0,pe.toError)(e);if(t instanceof R.Yo)return this.clientAuthProviderV3.completeSignInAfterRedirectFromSisu();throw t}}startSignOutWithRedirect(e,t){return this.dispatch(R.Xp.resetUserInfo()),this.clientAuthProviderV3.startSignOutWithRedirect({returnUrlAfterSignOut:e,msaSessionId:t})}async getMsaAccessTokenSilently(){const e=this.clientAuthProviderV3.getActiveAuthUser();if(!e)throw new Error("getMsaAccessTokenSilently failed; user is not signed into MSA.");if(e.isFullUser())try{const o=this.clientAuthProviderV3.createMsaCorrelationId();for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return await e.msaTokenProvider.getMsaAccessToken({correlationId:o,scopes:n})}catch(o){const e=(0,pe.toError)(o);throw this._logger.verbose(`[ClientAuthenticationProviderV2BackCompat] Error in getMsaAccessTokenSilently ${e.message}`),e instanceof R.xH&&e.requiresInteraction&&this.showMsaUserInteractionRequiredBannerAlert(),o}}async isAuthenticated(){const e=this.clientAuthProviderV3.getActiveAuthUser();if(!e)return!1;const t=(0,R.UG)();if(!e.isFullUser())return!0;try{return await Promise.all(t.map((t=>e.getOrFetchXboxToken(t)))),!0}catch(n){return!1}}isTokenExpired(e){const t=this.clientAuthProviderV3.getActiveAuthUser();if(!t)return!1;const n=t.getXboxTokenLCE(e);return!!(0,we.isContent)(n)&&(0,we.isExpired)(n)}async refreshMeControl(){}async loadExternalTokensAndSignIn(e,t,n){await this.clientAuthProviderV3.signInWithExternalMsaTokens({serverAuthorizationTokenResponse:e,requestTimestamp:t})}createMsaCorrelationId(){return Promise.resolve(this.clientAuthProviderV3.createMsaCorrelationId())}__unstable__dev_tools(){return{showExpiredBanner:()=>this.showMsaUserInteractionRequiredBannerAlert()}}getCachedTokensInternal(){const e=this.clientAuthProviderV3.getActiveAuthUser();if(!e)return{};const t={};return Object.values(R.zW).forEach((n=>{const r=e.getXboxTokenLCE(n),o=(0,we.getUnexpiredDataOrPrevious)(r);if(o){const{tokenData:e}=o;t[n]={token:e.token,expires:e.expiration,userHash:e.userHash,privileges:e.userPrivileges}}})),t}async acquireTokenAsyncInternal(e){if(!(0,R.w3)().includes(e))throw new Error("[ClientAuthenticationProviderV2BackCompat] Attempt to acquire token for unknown relying party.");const t=this.clientAuthProviderV3.getActiveAuthUser();if(t&&t.isFullUser())try{const{tokenData:n}=await t.getOrFetchXboxToken(e);return{token:n.token,expires:n.expiration,userHash:n.userHash,privileges:n.userPrivileges}}catch(n){const e=(0,pe.toError)(n);return this._logger.verbose(`[ClientAuthenticationProviderV2BackCompat] Error in acquireTokenAsyncInternal ${e.message}`),void(e instanceof R.xH&&e.requiresInteraction&&this.showMsaUserInteractionRequiredBannerAlert())}}async updateUserInfoState(){try{await this.clientAuthProviderV3.attemptV2ToV3UserTransition();const e=await this.getUserInfoFromXboxLiveToken();if(!e){const e=this.clientAuthProviderV3.getActiveAuthUser();return e&&e.isSessionUser()?void this._logger.verbose("[ClientAuthenticationProviderV2BackCompat] User is a session user, so not going to resetUserInfo. Exiting early"):(this._logger.verbose("[ClientAuthenticationProviderV2BackCompat] No user info found in updateUserInfoState. Going to clear userInfo"),void this.dispatch(R.Xp.setUserInfo(!1,{userInfo:void 0,isDefaultUserAgeGatingInfo:!0})))}if(this.serverUserXuid&&this.serverUserXuid!==e.xuid){this._logger.warn("[ClientAuthenticationProviderV2BackCompat] - Server user XUID does not match client user XUID. Handling mismatch.");const e=this.clientAuthProviderV3.getActiveAuthUser();null===e||void 0===e||e.destroy();const t=new URL("/auth/clean-up",window.location.origin),n=new URL(window.location.href),r=new URLSearchParams(n.search);n.search=r.toString();const o=new URLSearchParams;throw o.set("returnUrl",n.toString()),t.search=o.toString(),window.location.href=t.toString(),await new Promise((e=>{setTimeout(e,5e3)})),new Error("Server user xuid does not match client user xuid")}this.dispatch(R.Xp.setUserInfo(!0,{userInfo:e,isDefaultUserAgeGatingInfo:!e}))}catch(e){const t=(0,pe.toError)(e);this._logger.error("[ClientAuthenticationProviderV2BackCompat] Error in updateUserInfoState",t)}}async getUserInfoFromXboxLiveToken(){var e;const t=this.clientAuthProviderV3.getActiveAuthUser();if(!t)return;const n=t.getXboxTokenLCE(R.zW.XboxLive),r=(0,we.getDataOrPrevious)(n);if(!r)return void this._logger.verbose("[ClientAuthenticationProviderV2BackCompat] No XboxLive token found in getUserInfoFromXboxLiveToken.");const o=r.tokenData;if(!o.userXuid||!o.userGamertag)return void this._logger.warn("[ClientAuthenticationProviderV2BackCompat] No userXuid or userGamertag found in XboxLive token in getUserInfoFromXboxLiveToken.");let i="",a="";t.isFullUser()&&(i=null!==(e=t.msaName)&&void 0!==e?e:"",a=t.msaUsername);const s=await this.getOrFetchGamerpic(o.userGamertag);return s||this._logger.warn("[ClientAuthenticationProviderV2BackCompat] Failed to getOrFetchGamerpic for gamertag"),{firstName:i,lastName:"",email:a,xuid:o.userXuid,gamerTag:o.userGamertag,ageGroup:o.userAgeGroup?u.P2Z[o.userAgeGroup]:void 0,privileges:o.userPrivileges,gamerPicUrl:s}}setupAadTokenRefresh(){this.cancelAadTokenRefresh(),(0,u.q6B)(null===u.VTO||void 0===u.VTO?void 0:u.VTO.ENABLE_APP_AUTH)||(this.refreshAadTimeout=setInterval((async()=>{await this.fetchUpdatedAadToken()}),9e5))}cancelAadTokenRefresh(){this.refreshAadTimeout&&clearInterval(this.refreshAadTimeout)}async fetchUpdatedAadToken(){const e=this.aadUserGetter();try{if(e){const t=await fetch("/aad/refresh");if(!t.ok)throw this._logger.error("[ClientAuthenticationProviderV2BackCompat] Token refresh failed."),new Error("[ClientAuthenticationProviderV2BackCompat] Token refresh failed.");const n=await t.text(),r=sr(n),o=v()(v()({},e),{},{exp:r.exp});this.dispatch(R.Xp.updateAadUser(o,n))}}catch(t){this.dispatch(R.Xp.updateAadUser(void 0,void 0))}}async getOrFetchGamerpic(e){var t;const n=this.gamertagToGamerpicUrl.get(e);if(n)return n;const r=(0,Ne.ak)(this.telemetryProvider),o=this.telemetryProvider.cv().increment(),i=encodeURIComponent(e),a=nr.RequestFactory.withBaseUrl("https://peoplehub-public.xboxlive.com").setCommonHeaders({[nr.HttpHeader.ContentType]:"application/json",[nr.HttpHeader.XXBLContractVersion]:"1"}).setCommonMetadataValue(z.jm,{dependencyName:z.Nz.PeopleHub,dependencyOperationName:"people/gt"}).setCommonMaxRetries(nr.DEFAULT_MAX_RETRIES);try{const n=await r.execute(a.get(`people/gt(${i})`,{headers:{"ms-cv":o,[nr.HttpHeader.ContentType]:"application/json",[nr.HttpHeader.XXBLContractVersion]:"3",[nr.HttpHeader.AcceptLanguage]:"*","x-xbl-client-name":"xbox.com","x-xbl-client-type":"web"}})),s=null===(t=n.data.people[0])||void 0===t?void 0:t.displayPicRaw;if(!s)return;return this.gamertagToGamerpicUrl.set(e,s),s}catch(s){const t=(0,pe.toError)(s);return void this._logger.error(`[ClientAuthenticationProviderV2BackCompat] Failed to fetch gamerpic for gamertag: ${e}`,t)}}showMsaUserInteractionRequiredBannerAlert(){globalThis.location.pathname.includes(D)||this.hideMsaUserInteractionRequiredBannerAlert||(this.hideMsaUserInteractionRequiredBannerAlert=c.Zv.displayBanner((()=>o.createElement(cr,null))))}}function*dr(){const e=yield(0,Ce.call)(mr),t=yield(0,z.Jl)();e?(t.logger().info("[authSaga] Fetching privacy consent"),yield(0,Ce.all)([(0,Ce.take)([R.Xp.fetchPrivacyConsent.success,R.Xp.fetchPrivacyConsent.error]),(0,Ce.put)(R.Xp.fetchPrivacyConsent.start(!1))])):t.logger().info("[authSaga] User is not an adult user, skipping consent fetch")}function*pr(e){yield(0,Ce.all)([(0,Ce.take)([u.VI1.FETCH_EXPERIMENT_DATA_ERROR,u.VI1.FETCH_EXPERIMENT_DATA_SUCCESS]),(0,Ce.put)(u.VsB.requestExperimentDataFetch(e))])}function*mr(){const e=yield(0,R.Y6)(),t=e instanceof R.P3?e:e instanceof ur?e.clientAuthProviderV3:void 0;if(!t)return!1;const n=t.getActiveAuthUser();if(!n)return!1;const r=n.getXboxTokenLCE(R.zW.XboxLive),o=(0,we.getDataOrPrevious)(r);return o&&o.tokenData.userAgeGroup===u.P2Z.Adult}const hr=function*(){const e=yield(0,R.Y6)(),t=e instanceof R.P3?e:e instanceof ur?e.clientAuthProviderV3:void 0;if(t){if(!t.initialized){const e=(0,Ee.eventChannel)((e=>{const n=t=>{e(t)};return t.addEventListener("initialized",n),()=>t.removeEventListener("initialized",n)}));yield(0,Ce.take)(e),e.close()}t.getActiveAuthUser()?(yield(0,Ce.call)(dr),yield(0,Ce.call)(pr,u.V1B.SilentSignIn)):yield(0,Ce.call)(pr,u.V1B.SignInUnavailable),yield(0,Ce.put)(u.Em_.setBootstrapInitialized());const e=(0,Ee.eventChannel)((e=>{const n=t=>{e(t)};return t.addEventListener("activeAuthUserChanged",n),()=>t.removeEventListener("activeAuthUserChanged",n)}));yield(0,Ce.takeEvery)(e,(function*(e){e.authStateChange!==R.wd.SignInUnavailable&&(yield(0,Ce.call)(dr)),yield(0,Ce.put)(u.VsB.requestExperimentDataFetch((e=>{switch(e){case R.wd.DeviceCodeSignIn:return u.V1B.DeviceCodeSignIn;case R.wd.InteractiveSignIn:return u.V1B.InteractiveSignIn;case R.wd.SignInUnavailable:return u.V1B.SignInUnavailable;case R.wd.SilentSignIn:return u.V1B.SilentSignIn}return u.V1B.Unknown})(e.authStateChange)))}))}else yield(0,Ce.put)(u.Em_.setBootstrapInitialized())};async function gr(e){let{locale:t,clientIp:n,telemetryProvider:r,authenticationProvider:o,isStaging:i,anonToken:a,deviceId:s,platform:l}=e;const c=function(e){let{deviceId:t,locale:n,clientIp:r,platform:o}=e;const i=new URLSearchParams;return t&&i.append("deviceId",t),r&&i.append("clientIp",r),o&&i.append("platform",o),i.append("appVersion",u.VTO.BUILD_VERSION),i.append("env",u.VTO.DEPLOYMENT_ENV),i.append("locale",n),`experimentation?${i.toString()}`}({deviceId:s,locale:t,clientIp:n,platform:l});try{const e=await(0,Ne.j9)(c,{addAuthorization:!0,isRequired:!1},r,o,{anonToken:a},{aadToken:"",isMandatory:!1},{dependencyName:z.Nz.EmeraldXbetService,dependencyOperationName:"Experimentation"},i,{[Ne.Bw.MsApiVersion]:"2.0"});if(!(0,u.RJH)(e.status)||!e.data)throw new Ne._7("Failed to get data for experimentation",e.status);return e.data.exp}catch(d){const e=(0,pe.toError)(d);return void r.logger().error("Experimentation info fetch failed.",e)}}function*fr(e){const t=(yield(0,u.V79)()).get(u.e2),n=yield(0,R.Y6)(),r=yield(0,Ce.call)([n,n.isAuthenticated]),o=yield(0,Ce.select)(u.XKG);((0,we.isError)(o)||r||t)&&(yield(0,Ce.put)(u.VsB.setExperimentDataToLoading()),yield function*(e,t,n){try{const r=yield(0,R.Y6)(),o=yield(0,Ce.select)(u.P6r),i=yield(0,Ce.select)(u.GYd),a=yield(0,Ce.select)(u.pzA,u.WTf.StagingFD),s=yield(0,z.Jl)(),l=new y.P6(null===i||void 0===i?void 0:i.userAgent),c=yield(0,Ce.call)(gr,{locale:o.localeWithScript,clientIp:i.forwardedIp,telemetryProvider:s,authenticationProvider:r,anonToken:i.anonToken,isStaging:a,deviceId:n,platform:l.osName});if(!c)throw new Error("Failed to fetch experimentation data");{yield(0,Ce.put)(u.VsB.fetchExperimentDataSuccess(c,e));const r=yield(0,Ce.select)(R.Rs);s.logExperimentationSnapshot(c,v()({experimentDataUpdateReason:e},(0,we.getDataOrPrevious)(r)),!!n,!!t)}}catch(r){const e=(0,pe.toError)(r);yield(0,Ce.put)(u.VsB.fetchExperimentDataError(e))}}(e.assignmentUpdateTrigger,r,t))}function*_r(){yield(0,Ce.takeLatest)(u.VI1.REQUEST_EXPERIMENT_DATA_FETCH,fr)}function*vr(e){const t=yield(0,Ce.select)(u.XKG);(0,we.isFetching)(t)&&(yield(0,Ce.take)([u.VI1.FETCH_EXPERIMENT_DATA_SUCCESS,u.VI1.FETCH_EXPERIMENT_DATA_ERROR]));const n=yield(0,Ce.select)(u.Fu$);return(0,u.xxW)(n,e)}function*yr(e){const t=yield(0,Ce.call)(vr,e);if("string"===typeof t)return t}function*br(e){const t=yield(0,Ce.call)(vr,e);if("boolean"===typeof t)return t}function Sr(e){return!!e&&"function"===typeof e}const Er=e=>"function"===typeof e;function*Cr(e){var t;let n;const r=new URLSearchParams(e);if(n=null===(t=(0,u.l_d)(r,Ne.kw.ThemeOverride))||void 0===t?void 0:t.value,n||(n=yield(0,Ce.select)(u._cZ,u.WTf.SiteThemeOverride)),n)switch(n.toLowerCase()){case"light":return u.Sxu.Light;case"dark":return u.Sxu.Dark}}const Tr=(e,t,n)=>{n?e.set(u.ziD,n,{essential:!0}):e.delete(u.ziD)};function*wr(e,t,n,r){const o=yield(0,Ce.call)(Cr,t),i=yield(0,u.V79)();if(o)return yield(0,Ce.put)(u.F6E.setTheme(o)),void(yield(0,Ce.call)(Tr,i,e,o));let a,s=null===n||void 0===n?void 0:n.theme;if(!s&&(null===n||void 0===n?void 0:n.lazyConfig)){s=(yield(0,Ce.call)(n.lazyConfig)).theme}if(s&&n){const t=s;t&&(a=Er(t)?yield(0,Ce.select)((r=>t(r,e,n))):t),a?(yield(0,Ce.put)(u.F6E.setTheme(a)),yield(0,Ce.call)(Tr,i,e,a)):r||(yield(0,Ce.put)(u.F6E.resetTheme()),yield(0,Ce.call)(Tr,i,e,void 0))}else{const e=i.get(u.ziD);let t;e&&(t=e in u.Sxu?u.Sxu[e]:void 0),t?yield(0,Ce.put)(u.F6E.setTheme(t)):yield(0,Ce.put)(u.F6E.resetTheme())}}function*Ir(e,t,n,r){if(!e||!e.lazyConfig)return;const o=yield(0,Ce.call)(e.lazyConfig);if(o.fetchDataSaga&&(!e.requiresNewRequest||e.requiresNewRequest(e.path,t,n)||r)){const n=yield(0,Ce.select)(u.a5u),r=yield(0,z.ai)(),i=(0,u.x6f)(e,n);yield(0,Ce.put)(u.YOM.pageDataRequest.start(i));try{yield(0,Ce.call)(o.fetchDataSaga,e,t),yield(0,Ce.put)(u.YOM.pageDataRequest.success(i));let n=null===e||void 0===e?void 0:e.uhfConfig;if(Sr(n)){n=yield(0,Ce.call)(n)}}catch(rr){const n=(0,pe.toError)(rr);r.error(`Failed to fetch page data for path: ${t.pathname}`,n),yield(0,Ce.put)(u.YOM.pageDataRequest.error(i,n))}}}function*Pr(e,t,n){const r=yield(0,u.nDP)(e.pathname),o=yield(0,Ce.getContext)(Ve.partners);yield(0,Ce.call)(o.loadConfigurationForPath,e.pathname),yield(0,Ce.call)(wr,e.pathname,e.search,r,!0),yield(0,Ce.call)(Ir,r,e,t,n),yield(0,Ce.call)(wr,e.pathname,e.search,r,!1)}function*Ar(e){var t,n,r,o;const i=yield(0,u.nDP)(e.newLocation.pathname);if(null===i||void 0===i?void 0:i.isServerOnly)(null===(n=null===(t=e.oldLocation)||void 0===t?void 0:t.pathname)||void 0===n?void 0:n.toLowerCase())!==(null===(o=null===(r=e.newLocation)||void 0===r?void 0:r.pathname)||void 0===o?void 0:o.toLowerCase())&&globalThis.location.reload();else{const t=yield(0,Ce.select)(),n=yield(0,Ce.getContext)(Ve.partners);yield(0,Ce.call)($n,t,e.newLocation.pathname,n),yield(0,Ce.call)(Pr,e.newLocation,e.oldLocation,e.forceRefresh)}}function*kr(){yield(0,Ce.takeEvery)(u.yV4.LOCATION_CHANGE,Ar)}function*xr(){(yield(0,z.Jl)()).resetAuthenticationState()}function*Rr(){yield(0,Ce.takeEvery)(R.zd.RESET_USER_INFO,xr)}function*Or(){var e;const t=yield(0,Ce.select)(u.a5u),n=yield(0,z.Jl)(),r=yield(0,u.wRW)(),o=null!==(e=null===u.VTO||void 0===u.VTO?void 0:u.VTO.UHF_TARGETING_ID)&&void 0!==e?e:"Xbox_Com",i=yield(0,Ce.select)(u.pzA,u.WTf.StagingFD),a=yield(0,Ce.select)(u.pzA,u.WTf.DisableUhfWcp),s=yield(0,Ce.call)(Ne.cO,`uhf?locale=${t}&targeting=${o}&cookieComplianceEnabled=${!a}`,n,r,{dependencyName:z.Nz.EmeraldXbetService,dependencyOperationName:"UHF"},i,void 0,void 0,{timeout:15e3});if(!(0,u.RJH)(s.status)||!s.data)throw new Error("No data found from uhf response");return s.data}function*Nr(e){try{const e=yield(0,Ce.call)(Or);if(!e)throw new Error("Failed to fetch metadata for UHF");yield(0,Ce.put)(u.Hde.fetchUhf.success(e))}catch(rr){const t=(0,pe.toError)(rr);console.error(t),yield(0,Ce.put)(u.Hde.fetchUhf.error(t))}}function*Mr(e){const t=yield(0,u.nDP)(e);let n=null===t||void 0===t?void 0:t.uhfConfig;if(Sr(n)){n=yield(0,Ce.call)(n)}const r=null===n||void 0===n?void 0:n.headerMode;r?yield(0,Ce.put)(u.Hde.setHeaderMode(r)):yield(0,Ce.put)(u.Hde.resetHeaderMode());const o=null===n||void 0===n?void 0:n.footerMode;o?yield(0,Ce.put)(u.Hde.setFooterMode(o)):yield(0,Ce.put)(u.Hde.resetFooterMode())}function*Lr(e){yield(0,Ce.call)(Mr,e.newLocation.pathname)}function*Dr(){yield(0,Ce.takeEvery)(u.VoS.FETCH_UHF_START,Nr),yield(0,Ce.takeEvery)(u.yV4.LOCATION_CHANGE,Lr)}var Fr=n(98838);function*Ur(e,t){const n=yield(0,z.Jl)(),r=yield(0,R.Y6)();let o;try{o=yield(0,Ce.call)([r,r.getMsaAccessTokenSilently],e)}catch(s){const e=(0,pe.toError)(s);n.logger().error(`[userConsentServiceSagas] Error acquiring MSA \n    token to authenticate UCS calls: ${e.message}`)}const i={getToken:()=>Promise.resolve(o?{token:`Bearer ${o}`}:null)},a=yield(0,Ce.select)(u.P6r);return new Fr.UnifiedConsentService(i,(()=>Promise.resolve(a.localeWithScript)),(()=>{const e=n.cv().increment();return Promise.resolve(e)}),(0,z.jF)(n),t)}function Br(e){let{id:t,values:n,modelType:r,consentSurface:o}=e;return function*(){const e=yield(0,z.Jl)(),i=yield(0,Ce.call)(Ur,R.sX,o);try{e.logger().info(`[userConsentServiceSagas] Submitting privacy consent id: ${t}, values: ${JSON.stringify(n)}`),yield i.submitConsent({id:t,values:n,consentSurface:o}),yield(0,Ce.put)(R.Xp.submitConsent.success({id:t,values:n,modelType:r})),yield(0,Ce.call)(jr)}catch(a){yield(0,Ce.put)(R.Xp.submitConsent.error((0,pe.toError)(a),r))}}()}function Hr(e){let{consentSurface:t}=e;return function*(){const e=yield(0,z.Jl)(),n=yield(0,Ce.call)(Ur,R.sX,t);try{e.logger().info("[userConsentServiceSagas] Fetching privacy consent ui details");const r=yield n.getPrivacyConsentUiDetails();yield(0,Ce.put)(R.Xp.fetchPrivacyConsentUiDetails.success(r,t))}catch(r){const n=(0,pe.toError)(r);e.logger().error(`[userConsentServiceSagas] Error: ${n.message}`),yield(0,Ce.put)(R.Xp.fetchPrivacyConsentUiDetails.error(n,t))}}()}function Gr(e){let{shouldSendSnapshot:t}=e;return function*(){const e=yield(0,z.Jl)(),n=yield(0,Ce.call)(Ur,R.v5);try{e.logger().info("[userConsentServiceSagas] Fetching privacy consent");const r=yield n.getPrivacyConsent();yield(0,Ce.put)(R.Xp.fetchPrivacyConsent.success(r)),t&&(yield(0,Ce.call)(jr))}catch(r){const t=(0,pe.toError)(r);e.logger().info(`[userConsentServiceSagas] Error: ${t.message}`),yield(0,Ce.put)(R.Xp.fetchPrivacyConsent.error(t))}}()}function*qr(){const e=yield(0,Ce.select)(R.Rs);if((0,we.isContent)(e)&&e.cacheTimeInMS){const t=yield(0,z.Jl)(),n=6e5,r=e.cacheTimeInMS-(Date.now()-e.lastFetchedMS)-n;if(r<=0)throw new Error("[userConsentServiceSagas] timeMSUntilExpiration is negative, aborting");const o=Math.floor(r/36e5),i=Math.floor(r%36e5/6e4),a=Math.floor(r%6e4/1e3);t.logger().info(`[userConsentServiceSagas] Starting privacy consent data refetch delay for: ${o} hours, ${i} minutes and ${a} seconds`),yield(0,Ce.delay)(r),t.logger().info("[userConsentServiceSagas] Cached privacy consent data is about to expire in 10 minutes, attempting to refresh"),yield(0,Ce.put)(R.Xp.fetchPrivacyConsent.start())}}function*jr(){const e=yield(0,z.Jl)(),t=yield(0,Ce.select)(R.Rs),n=(0,we.getDataOrPrevious)(t);if(n){const t=(yield(0,u.V79)()).get(u.e2),r=yield(0,R.Y6)(),o=yield(0,Ce.call)([r,r.isAuthenticated]),i=yield(0,Ce.select)(u.vP3);e.logger().info(`[userConsentServiceSagas] Logging experiment snapshot with updated consent values: ${JSON.stringify(n)}`),e.logExperimentationSnapshot(i,v()({experimentDataUpdateReason:u.V1B.ConsentValuesUpdated},n),!!t,!!o)}}function*Vr(){yield(0,Ce.takeEvery)(R.zd.SUBMIT_CONSENT,Br),yield(0,Ce.takeEvery)(R.zd.FETCH_PRIVACY_CONSENT_UI_DETAILS,Hr),yield(0,Ce.takeEvery)(R.zd.FETCH_PRIVACY_CONSENT,Gr),yield(0,Ce.takeLatest)([R.zd.FETCH_PRIVACY_CONSENT_SUCCESS,R.zd.FETCH_PRIVACY_CONSENT_UI_DETAILS_SUCCESS,R.zd.SUBMIT_CONSENT_SUCCESS],qr)}var zr=n(58565);const Xr=e=>{let{configManager:t,children:n}=e;const{subscribe:r,getClientState:i,getServerState:a,loadPartner:s,getPartnerConfigForPath:l}=t,c=(0,o.useSyncExternalStore)(r,i,a),u=t.getPartnerConfigMap(),d=(0,o.useMemo)((()=>({partnerLoadingState:c,loadPartner:s,partnerConfigs:u,getPartnerConfigForPath:l})),[c,s,u,l]);return o.createElement(zr.S.Provider,{value:d},n)};var Kr=n(93321),Wr=n.n(Kr);class $r{constructor(){0}get(e){return Wr().get(e)}getAll(){return Wr().get()}set(e,t,n){const r=this.createCookieOptionsWithDefaults(n);if(r.essential||(0,u.awk)((0,u.OeX)(this.get(u.jNz)),r.categories)){if(!r.sessionOnly){const e="number"===typeof r.maxAgeMilliseconds?r.maxAgeMilliseconds:3888e6;r.expires=r.expires||new Date((new Date).getTime()+e)}return delete r.maxAgeMilliseconds,delete r.categories,delete r.essential,Wr().set(e,t,r)}}delete(e,t){Wr().remove(e,this.createCookieOptionsWithDefaults(t))}createCookieOptionsWithDefaults(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return v()(v()({sameSite:"lax",path:"/",secure:!0,domain:window.location.hostname},e),{},{essential:!0})}}n(52707),n(45313);var Yr=n(82419),Qr=n(14764),Jr=n(64036);const Zr={marketInfo:{market:"",locale:"",language:"",localeWithScript:""},telemetryInfo:{serverImpressionGuid:"",initialCv:"",oneCollectorTelemetryInstrumentationToken:""},requestInfo:{origin:"",anonToken:void 0,path:""},deviceId:"",isReactDomHydrating:!1,isPreviewMode:!1,clientBootstrapInfo:{initialized:(0,we.lceFetching)()}},eo=new u.sVo(Zr).on(u.wii.SET_APP_CONTEXT,((e,t)=>v()({},t.appContext))).on(u.wii.SET_IS_REACT_DOM_HYDRATING,((e,t)=>e.isReactDomHydrating===t.isReactDomHydrating?e:v()(v()({},e),{},{isReactDomHydrating:t.isReactDomHydrating}))).on(u.wii.SET_IS_PREVIEW_MODE,((e,t)=>e.isPreviewMode===t.isPreviewMode?e:v()(v()({},e),{},{isPreviewMode:t.isPreviewMode}))).on(u.wii.SET_DEVICE_ID,((e,t)=>v()(v()({},e),{},{deviceId:t.deviceId}))).on(u.wii.SET_BOOTSTRAP_INITIALIZED,((e,t)=>v()(v()({},e),{},{clientBootstrapInfo:v()(v()({},e.clientBootstrapInfo),{},{initialized:(0,we.lceContent)(!0)})}))).build(),to=(0,u.v4G)(u.HGh.AppContext,eo),no={environmentFeatureGates:{},expFeatureGates:we.LCE_NOT_REQUESTED,overrideFeatureGates:{},experimentationInfo:we.LCE_NOT_REQUESTED},ro=(0,u.v4G)(u.HGh.Experiments,new u.sVo(no).on(u.VI1.SET_FEATURE_GATE_OVERRIDES,((e,t)=>v()(v()({},e),{},{overrideFeatureGates:v()(v()({},e.overrideFeatureGates),(0,u.YOX)(t.featureGates))}))).on(u.VI1.SET_EXPERIMENT_DATA,((e,t)=>{const{urlQueryFeatureGates:n,environmentFeatureGates:r,experimentationInfo:o}=t;return v()(v()({},e),{},{environmentFeatureGates:(0,u.YOX)(r),overrideFeatureGates:(0,u.YOX)(n),expFeatureGates:(null===o||void 0===o?void 0:o.treatments)?(0,we.lceContent)((0,u.YOX)(o.treatments)):e.expFeatureGates,experimentationInfo:o?(0,we.lceContent)(o):e.experimentationInfo})})).on(u.VI1.SET_EXPERIMENT_DATA_TO_LOADING,(e=>v()(v()({},e),{},{expFeatureGates:(0,we.lceFetching)(e.expFeatureGates),experimentationInfo:(0,we.lceFetching)(e.experimentationInfo)}))).on(u.VI1.FETCH_EXPERIMENT_DATA_ERROR,((e,t)=>v()(v()({},e),{},{expFeatureGates:(0,we.lceError)(t.error,e.expFeatureGates),experimentationInfo:(0,we.lceError)(t.error,e.experimentationInfo)}))).on(u.VI1.FETCH_EXPERIMENT_DATA_SUCCESS,((e,t)=>{const{experimentationInfo:n}=t;return(null===n||void 0===n?void 0:n.treatments)?v()(v()({},e),{},{expFeatureGates:(0,we.lceContent)((0,u.YOX)(n.treatments)),experimentationInfo:(0,we.lceContent)(n)}):v()(v()({},e),{},{expFeatureGates:(0,we.completeFetchWithPrevious)(e.expFeatureGates),experimentationInfo:(0,we.completeFetchWithPrevious)(e.experimentationInfo)})})).build());const oo=(0,u.v4G)(u.HGh.Navigation,new u.sVo({}).on(u.yV4.PAGE_DATA_REQUEST_START,(function(e,t){const n=e[t.pageId]||u.JBw;return v()(v()({},e),{},{[t.pageId]:v()(v()({},n),{},{isLoading:!0,error:void 0})})})).on(u.yV4.PAGE_DATA_REQUEST_SUCCESS,(function(e,t){return v()(v()({},e),{},{[t.pageId]:{isLoading:!1,hasContent:!0,error:void 0}})})).on(u.yV4.PAGE_DATA_REQUEST_ERROR,(function(e,t){const n=e[t.pageId]||u.JBw;return v()(v()({},e),{},{[t.pageId]:v()(v()({},n),{},{isLoading:!1,error:t.error})})})).build());const io=(0,u.v4G)([u.HGh.Seo],new u.sVo({}).on(u.X9e.UPDATE_PAGE_SEO_TAGS,(function(e,t){return t.tags?v()(v()({},e),{},{[t.pageId||t.tags.path||"/"]:t.tags}):e})).build()),ao={theme:u.Sxu.Light},so=(0,u.v4G)(u.HGh.Theme,new u.sVo(ao).on(u.BW6.SET_THEME,((e,t)=>({theme:t.theme}))).on(u.BW6.RESET_THEME,((e,t)=>v()({},ao))).build()),lo={headerMode:u.qon.Full,footerMode:u.oqV.Full};const co={appContext:to,experiments:ro,pageRequestMetadata:oo,seo:io,theme:so,uhf:(0,u.v4G)([u.HGh.UHF],new u.sVo(lo).on(u.VoS.FETCH_UHF_COMPLETED,(function(e,t){return v()(v()({},e),{},{data:v()({},t.data),error:void 0})})).on(u.VoS.FETCH_UHF_ERROR,(function(e){return v()(v()({},e),{},{error:e.error})})).on(u.VoS.SET_HEADER_MODE,(function(e,t){return t.mode===e.headerMode?e:v()(v()({},e),{},{headerMode:t.mode})})).on(u.VoS.RESET_HEADER_MODE,(function(e){return u.qon.Full===e.headerMode?e:v()(v()({},e),{},{headerMode:u.qon.Full})})).on(u.VoS.SET_FOOTER_MODE,(function(e,t){return t.mode===e.footerMode?e:v()(v()({},e),{},{footerMode:t.mode})})).on(u.VoS.RESET_FOOTER_MODE,(function(e){return u.oqV.Full===e.footerMode?e:v()(v()({},e),{},{footerMode:u.oqV.Full})})).build()),user:R.oA};function uo(e,t,n){const r=e,o=(0,u.OXv)(r),i=(0,Yr.createStore)(o,t,n);i.asyncReducers={};return i.injectReducer=((e,t)=>{i.asyncReducers[e]=t;const n=(0,u.OXv)(v()(v()({},r),i.asyncReducers));i.replaceReducer(n)}).bind(i),i}const po=(0,Jr.$y)();let mo=!1;new WeakSet;var ho=n(43372),go=n(7106),fo=n(57864);const _o=null===u.VTO||void 0===u.VTO?void 0:u.VTO.TELEMETRY_INSTRUMENTATION_TOKEN,vo=(null===u.VTO||void 0===u.VTO||u.VTO.ONECOLLECTOR_TELEMETRY_INSTRUMENTATION_TOKEN,(null===u.VTO||void 0===u.VTO?void 0:u.VTO.ONECOLLECTOR_TELEMETRY_APP_ID)||"JS:XboxWeb_WWW"),yo=(e,t,n,r,o)=>{const i=new fo.A,a={appId:vo,callback:o,coreData:r,enableCvHeaders:!1,enableCorsCorrelation:!0,disableAjaxTracking:!0,disableFetchTracking:!0};return e.extensions.push(i),e.extensionConfig[i.identifier]=a,e.extensions.push(new z.pY({coreData:r,callback:o},t,n)),i},bo=(e,t)=>{const n=new z.hu({callback:t});return e.extensions.push(n),n},So=e=>{if(!(0,u.q6B)("MISSING_ENV_VAR".RAZZLE_ENABLE_TELEMETRY_EVENTS_CONSOLE_LOGGING))return;const t=new z.C4;return e.extensions.push(t),t},Eo=()=>{var e;return null!==(e=null===u.VTO||void 0===u.VTO?void 0:u.VTO.DEPLOYMENT_ENV)&&void 0!==e?e:"unknown"};n(86741);const Co=["pageType"],To=(e,t,n)=>{e.addTelemetryInitializer((e=>{const r=t.pageType(),o=t.pageName(),i=t.market(),a=t.locale();if(0===e.name.indexOf("Ms.Web.")&&e.baseData&&!e.baseData.pageType)if(e.data&&e.data.pageType){const t=e.data,{pageType:n}=t,r=f()(t,Co);e.baseData.pageType=n,e.data=r}else r&&(e.baseData.pageType=r);((e,t)=>{e.baseData&&!e.baseData.envInfo&&(e.baseData.envInfo=t)})(e,n),"Ms.Web.ClientError"===e.name&&e.baseData&&(!e.baseData.pageName&&o&&(e.baseData.pageName=o),e.baseData.uri||(e.baseData.uri=location.href),!e.baseData.market&&i&&(e.baseData.market=i)),"Microsoft.Xbox.Monetization.Web.AppAction"===e.name&&e.baseData&&(!e.baseData.market&&i&&(e.baseData.market=i),!e.baseData.market&&a&&(e.baseData.locale=a))}))},wo=()=>{var e,t,n,r;return{populateBrowserInfo:!0,populateOperatingSystemInfo:!0,env:Eo(),callback:{userConsentDetails:()=>{var e;const t=(0,u.OeX)(null===(e=document.cookie.split("; ").find((e=>e.startsWith(`${u.jNz}=`))))||void 0===e?void 0:e.substring(5));return{Advertising:t.consentState.advertising,Analytics:t.consentState.analytics,Required:!0,SocialMedia:t.consentState.socialMedia}}},gpcDataSharingOptIn:void 0!==(null===(e=globalThis.window)||void 0===e?void 0:e.GPC_DataSharingOptIn)?globalThis.window.GPC_DataSharingOptIn:!(null===(n=null===(t=globalThis.window)||void 0===t?void 0:t.navigator)||void 0===n?void 0:n.globalPrivacyControl)&&"1"!==(null===(r=document.cookie.split("; ").find((e=>e.startsWith(`${u.WyR}=`))))||void 0===r?void 0:r.split("=")[1])}},Io=(e,t,n)=>{const r=(e=>()=>{const t=e.pageType();return{locale:e.locale(),metaTags:{market:e.market(),pageType:t,expid:e.experimentId(),cms:"Campsite"},pageType:t,ProductInfo:e.productInfo()||{}}})(e);return{shareAuthStatus:!0,manageCv:t,useShortNameForContentBlob:!1,urlCollectHash:!0,urlCollectQuery:!0,manualPageUnload:!0,autoPopulateParentIdAndParentName:!0,autoCapture:v()({click:!0,jsError:!0,lineage:!0,onLoad:!0,onUnload:!1,pageView:!1,resize:!0,scroll:!0},n),coreData:{market:e.market()},callback:{pageName:e.pageName,signedinStatus:e.isSignedIn,contentUpdatePageTags:r,pageActionContentTags:r,pageActionPageTags:r,pageViewPageTags:r}}},Po=(e,t,n)=>{t(200,{})},Ao=function(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=arguments.length>5?arguments[5]:void 0;const a=new ho.a,s=new go.U,l={instrumentationKey:t.breezeInstrumentationToken(),endpointUrl:"https://dc.services.visualstudio.com/v2/track",channelConfiguration:{disableTelemetry:!0,httpXHROverride:{sendPOST:Po}},propertyConfiguration:wo(),webAnalyticsConfiguration:Io(t,!1,{lineage:!0,onLoad:!1,resize:!1,scroll:!1}),extensions:e,extensionConfig:{},loggingLevelConsole:2,channels:[[s]]},c=yo(l,n,!0,{market:t.market(),serverImpressionGuid:t.serverImpressionGuid()},{pageName:t.pageName});To(a,t,i),bo(l,{isLoggedIn:t.isSignedIn,xuid:t.xuid});const u=((e,t,n)=>{const r=new z.pL({coreData:{locale:t.locale()}},n);return e.extensions.push(r),r})(l,t,r);return o&&So(l),a.initialize(l,[]),{appInsights:a,qosPlugin:c,appInsightsModifierPlugin:u,flushEvents:()=>{a.getPostChannel().flush(),s.flush()}}};var ko=n(53821);const xo=["appInsightsModifierPlugin"],Ro=e=>{const t=(0,u.aiy)(e()),n=new z.l2(t),r=new z.xc,o=((e,t)=>{const n=t=>t(e());return{market:()=>n(u.P6r).localeWithScript,locale:()=>n(u.P6r).localeWithScript,isSignedIn:()=>n(R.ct),serverImpressionGuid:()=>n(u.oKs).serverImpressionGuid,initialCv:()=>n(u.oKs).initialCv,pageName:()=>t.pageName,pageType:()=>t.pageType,experimentId:()=>t.adobeExperimentIds,productInfo:()=>t.productInfo,xuid:()=>{var e;return null===(e=n(R.ug))||void 0===e?void 0:e.xuid},experimentation:()=>{const e=n(u.vP3);return(0,z.pD)(e)},breezeInstrumentationToken:()=>_o,oneCollectorEndpointUrl:()=>(0,u.pzA)(e(),u.WTf.UseOneCollectorSandboxEndpoint)?"https://mobile.events-sandbox.data.microsoft.com/OneCollector/1.0/":void 0,oneCollectorInstrumentationToken:()=>n(u.oKs).oneCollectorTelemetryInstrumentationToken}})(e,n),i=new ko.A,a=new z.WB(vo),s={environmentName:u.VTO.DEPLOYMENT_ENV,region:u.VTO.REGION_NAME,infraGroup:u.VTO.INFRA_GROUP},l=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4?arguments[4]:void 0;const i=new ho.a,a={instrumentationKey:t.oneCollectorInstrumentationToken(),channelConfiguration:{},propertyConfiguration:wo(),webAnalyticsConfiguration:Io(t,!0),extensions:e,extensionConfig:{},loggingLevelConsole:2,endpointUrl:t.oneCollectorEndpointUrl()},s=yo(a,n,!1,{market:t.market(),serverImpressionGuid:t.serverImpressionGuid()},{pageName:t.pageName});return To(i,t,o),bo(a,{isLoggedIn:t.isSignedIn,xuid:t.xuid}),r&&So(a),i.initialize(a,[]),{appInsights:i,qosPlugin:s,flushEvents:()=>i.getPostChannel().flush()}}([i,a],o,r,!0,s),c=Ao([i],o,r,n,!1,s),{appInsightsModifierPlugin:d}=c,p=f()(c,xo),m=new z.uq(l,p,i,n,r,s);return d.setInitialCv(m.cv().initialCv),window.owap||(window.owap=m.getOneCollectorAppInsight()),m},Oo=e=>{(0,Pe.ai)().then((async()=>{var t,n,r;const i=new je,a=i.setPartnerPackages(e.partnerConfigurations),s=new Set(e.clientRelyingParties||[]),l=new Set(e.requiredCookieRelyingParties||[]);for(const e of a)if(e.serverRelyingParties)for(const t of e.serverRelyingParties)l.add(t),s.add(t);(0,R.QB)(Array.from(s)),(0,R.Mo)(Array.from(l));const{store:d}=(()=>{const e=window.__PRELOADED_STATE__;return delete window.__PRELOADED_STATE__,{store:uo(co,e,(0,Qr.t)((0,Yr.applyMiddleware)(po.enhancer))),preloadedState:e}})(),p=d.dispatch;p(u.Em_.setIsReactDomHydrating(!0));const m=d.getState(),g=(0,u.P6r)(m),f=(0,u.Fu$)(m),_=(0,u.GYd)(m),y=(0,u.ILr)(m),b=()=>(0,R.Sq)(d.getState()).aadUser,S=(0,u.pzA)(m,u.WTf.EnableV2MeControl),E=Ro(d.getState),C=new $r;let T=C.get(u.e2);"undefined"===(null===T||void 0===T?void 0:T.toLowerCase())&&(C.delete(u.e2),T=void 0);const w=null!==T&&void 0!==T?T:(0,xe.A)().replace(/-/g,"").toUpperCase();if(!T){const e=_.origin?new URL(_.origin).host:"";C.set(u.e2,w,{maxAgeMilliseconds:31536e6,sameSite:"none",domain:No(e),essential:!1})}let I;p(u.Em_.setDeviceId(w));const P=null!==(t=(0,u.pzA)(m,u.WTf.SkipRedirectCounter))&&void 0!==t&&t,A=g.localeWithScript,k=(0,u.BaY)(A),x=(0,u.CH1)(A),O=(0,u.d6Y)(A),N=null===(n=(0,R.ug)(m))||void 0===n?void 0:n.xuid;if(e.customAuthProvider)I=e.customAuthProvider;else{const e=null!==(r=(0,u.DQt)(m,u.WTf.EnableSisuUcsSupport))&&void 0!==r&&r;I=await ur.create({telemetryProvider:E,aadUserGetter:b,dispatch:p,getAccountSignInUrl:k,getAccountSignOutUrl:x,getCoBrandingSignInUrl:O,useV2MeControl:S,serverUserXuid:N,locale:A,cookiesProvider:C,isSisuUcsSupportEnabled:e,skipLoginRedirectCounter:P}),E.logAuthAction({name:"XboxInitializedAuthVersion",version:"v3"})}const M=((e,t,n,r,o)=>({[Ve.telemetry]:e,[Ve.authentication]:t,[Ve.cookies]:n,[Ve.session]:r,[Ve.partners]:o}))(E,I,C,null,i),L=(e=>{mo&&console.warn("Double configuration of saga middleware detected. Ignoring.");const t=(0,Ee.default)({context:e,onError:e=>{Xe.Cp(e)}});return po.addMiddleware(t),mo=!0,t})(M),D=(0,u.atP)(window.location.pathname,A);i.setSagaMiddleware(L),i.setStore(d),i.setTelemetryProvider(E),await i.initialize(),await i.loadConfigurationForPath(D);const F=(0,u.a_R)(D,f,y,A);if(F&&F.lazyConfig){const{bootstrapClientEnvironmentSaga:e}=await F.lazyConfig();if(e)try{await L.run(e).toPromise()}catch(V){V instanceof Error?E.logger().error("bootstrapClientEnvironmentSaga error",V):E.logger().error("unknown bootstrapClientEnvironmentSaga error")}}const U=d.getState();var B;B=L,[Dr,Rr,kr,_r,Vr,tr,hr].forEach((e=>{B.run(e)}));const H=await(async(e,t,n)=>{const r=n?await n(e):await(0,Oe.lu)(e);return e=>{const n=(0,z.jr)();(0,o.useSyncExternalStore)(t.subscribe,t.getClientState,t.getServerState);const i=t.getPartnerResources(),a=(0,o.useMemo)((()=>v()({baseStrings:r},i)),[i]),s=(0,o.useCallback)((e=>(n.error(e.message),()=>e.path.join("."))),[n]);return o.createElement(Re.p,v()({messages:a,onError:s},e))}})(g,i,e.getResourceStringsAsync),G=(0,u.vP3)(U);function q(){return(0,o.useEffect)((()=>{p(u.Em_.setIsReactDomHydrating(!1))}),[]),o.createElement(c.AZ,{cV:E.cv().get()},(()=>o.createElement(h.Provider,{store:d,serverState:U},o.createElement(u.jcx.Provider,{value:C},o.createElement(z.be.Provider,{value:E},o.createElement(R.gZ.Provider,{value:I},o.createElement(H,null,o.createElement(ke.Kd,{basename:A},o.createElement(Xr,{configManager:i},o.createElement(e.app,null))))))))))}E.logExperimentationSnapshot(G,{experimentDataUpdateReason:u.V1B.AppLoad},!!C.get(u.e2),!!N);const j=document.getElementById("root");(0,Ae.c)(j,o.createElement(q,null),{onRecoverableError:async function(e){const t=(0,u.atP)(window.location.pathname,g.localeWithScript),n=i.getPartnerConfigForPath(t);if(n&&n.lazyConfig)try{const{onRecoverableReactErrorSaga:t}=await n.lazyConfig();t&&await(0,Ee.runSaga)({getState:d.getState.bind(d),dispatch:d.dispatch.bind(d),context:M},t,e).toPromise()}catch(e){E.logger().error(`onRecoverableError error from partner: ${n.partnerId}`,(0,pe.toError)(e))}}})}))};function No(e){return`.${e.split(":")[0].split(".").slice(-2).join(".")}`}n(46929);const Mo=/^(\/[^/]+)?\/store\/(cart|buy)(\/)?(\?.*)?$/i,Lo=e=>{const t=(0,E.W6)(),n=(0,h.useSelector)(u.a5u),r=(0,h.useSelector)(u.Fu$),i=(0,u.VRc)(),a=(0,h.useSelector)((e=>(0,u.pzA)(e,u.WTf.DisableUhfXboxCart))),s=(0,h.useSelector)((e=>(0,u.pzA)(e,u.WTf.EnablePlayPathNavigation))),l=(0,z.jr)(),c=!a&&!!i&&i.enableXboxCart,d=(0,h.useSelector)(u.j17)===u.Sxu.Dark,p=(0,o.useCallback)((e=>{const o=(e=>{let t=e,n=0;for(;t&&"A"!==t.nodeName&&n<10;)t=t.nodeName?t.parentElement:null,++n;return t||void 0})(e.target);if(!o)return;if(o.target&&"_self"!==o.target)return;if(!o.href)return;if(0===(o.getAttribute("href")||"").indexOf("#")||0===o.href.replace(window.location.origin+window.location.pathname,"").indexOf("#"))return;const i=new URL(o.href,window.location.origin);let a,p=!1;if((0,u.PE5)(i.host)){const e=(0,u.atP)(i.pathname,n),t=(0,u.a_R)(e,r,void 0,n);if(t){a={pathname:e,search:i.search,hash:i.hash},p=!t.isServerOnly;const r=(0,u.atP)(window.location.pathname,n);s&&(e.startsWith("/play")&&!r.startsWith("/play")||!e.startsWith("/play")&&r.startsWith("/play"))&&(p=!1,l.info("Performing full browser navigation for /play/* path"))}}else if(c&&("https://www.microsoft.com"===(m=i).origin&&Mo.test(m.pathname)))d&&i.searchParams.append(Ne.kw.ThemeOverride,"dark"),a={pathname:"/cart",search:i.search};else if((0,u.X2U)(i)){const e=(0,u.ich)(i,void 0),t=new URL(e,window.location.origin);a={pathname:t.pathname,search:t.search}}var m;if(a)try{p&&(e.preventDefault(),t.location.pathname!==a.pathname&&t.push(a))}catch(h){l.error("Error occurred while trying to navigate to target location",h)}}),[c,n,r,s,l,d,t]);return o.createElement("div",{onClick:e=>{e.defaultPrevented||e.metaKey||e.ctrlKey||e.shiftKey||0!==e.button||p(e)},onKeyPress:e=>{e.defaultPrevented||e.metaKey||e.ctrlKey||e.shiftKey||"Enter"!==e.key&&"Space"!==e.key||p(e)}},e.children)};n(4059);var Do=n(84700);function Fo(e,t){return function(n){return()=>e().then((e=>t(e)[n]))}}var Uo=n(67470),Bo=n(22220)},47708:(e,t,n)=>{"use strict";n.d(t,{U:()=>l});var r=n(10865),o=n.n(r),i=n(47010),a=n.n(i),s=n(58912);const l=(0,s.EG)({resolved:{},chunkName:()=>"LocalePickerPage",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>(0,s.Bi)(n.e(5130).then(n.bind(n,52469))),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 52469}})},58565:(e,t,n)=>{"use strict";n.d(t,{S:()=>r});const r=(0,n(14041).createContext)({})},250:(e,t,n)=>{"use strict";n.d(t,{G:()=>s,v:()=>a});var r=n(88262),o=n(14041),i=n(58565);function a(){return(0,o.useContext)(i.S)}function s(e){const t=a(),n=t.loadPartner,i=t.partnerLoadingState[e],s=t.partnerConfigs[e];return i.type===r.LCEType.NotRequested&&n(e),(0,o.useMemo)((()=>{const e=i.type===r.LCEType.NotRequested||i.type===r.LCEType.Fetching&&!i.previousContent,t={lce:i.type===r.LCEType.NotRequested?(0,r.lceFetching)():i,isLoading:e,isFetching:i.type===r.LCEType.Fetching||i.type===r.LCEType.NotRequested,isError:i.type===r.LCEType.Error,error:i.type===r.LCEType.Error?i.error:void 0};return[s,t]}),[s,i])}},93321:(e,t,n)=>{var r,o;n(64727),n(98376),n(46929),n(14293),function(i){if(void 0===(o="function"===typeof(r=i)?r.call(t,n,t,e):r)||(e.exports=o),!0,e.exports=i(),!!0){var a=window.Cookies,s=window.Cookies=i();s.noConflict=function(){return window.Cookies=a,s}}}((function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(r){function o(){}function i(t,n,i){if("undefined"!==typeof document){"number"===typeof(i=e({path:"/"},o.defaults,i)).expires&&(i.expires=new Date(1*new Date+864e5*i.expires)),i.expires=i.expires?i.expires.toUTCString():"";try{var a=JSON.stringify(n);/^[\{\[]/.test(a)&&(n=a)}catch(c){}n=r.write?r.write(n,t):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var s="";for(var l in i)i[l]&&(s+="; "+l,!0!==i[l]&&(s+="="+i[l].split(";")[0]));return document.cookie=t+"="+n+s}}function a(e,n){if("undefined"!==typeof document){for(var o={},i=document.cookie?document.cookie.split("; "):[],a=0;a<i.length;a++){var s=i[a].split("="),l=s.slice(1).join("=");n||'"'!==l.charAt(0)||(l=l.slice(1,-1));try{var c=t(s[0]);if(l=(r.read||r)(l,c)||t(l),n)try{l=JSON.parse(l)}catch(u){}if(o[c]=l,e===c)break}catch(u){}}return e?o[e]:o}}return o.set=i,o.get=function(e){return a(e,!1)},o.getJSON=function(e){return a(e,!0)},o.remove=function(t,n){i(t,"",e(n,{expires:-1}))},o.defaults={},o.withConverter=n,o}((function(){}))}))},95692:(e,t,n)=>{"use strict";var r=n(41506).default;n(10865),n(47010);const o=n(82269),i=async(e,t,n)=>{let i;(n=r({delayRejection:!0},n)).delayRejection&&(e=e.catch((e=>{i=e})));const[a]=await Promise.all([e,o(t)]);return i?Promise.reject(i):a};e.exports=i,e.exports.default=i},95451:(e,t,n)=>{"use strict";n.d(t,{$9:()=>h,$g:()=>I,AY:()=>b,IM:()=>x,JH:()=>A,JJ:()=>k,LE:()=>_,Lk:()=>M,Nd:()=>y,PG:()=>P,Pu:()=>w,Pv:()=>r,Qy:()=>d,S$:()=>g,UA:()=>m,Un:()=>v,V6:()=>N,_B:()=>T,_c:()=>C,e:()=>o,eS:()=>u,fR:()=>a,iA:()=>i,kh:()=>p,mK:()=>f,mu:()=>L,nr:()=>O,oC:()=>s,px:()=>c,sM:()=>E,y4:()=>S,yl:()=>R,yp:()=>l});var r="Button-module__basicBorderRadius___TaX9J",o="Button-module__buttonBase___olICK",i="Button-module__buttonIcon___540Jm",a="Button-module__buttonSwitch___+Tn3u",s="Button-module__callToAction___mSaZg",l="Button-module__decoratedButton___-YJyr",c="Button-module__defaultBase___c7wIT",u="Button-module__heroLargeBorderRadius___u9CMS",d="Button-module__heroMediumBorderRadius___dUTPQ",p="Button-module__heroSmallBorderRadius___ywhQ0",m="Button-module__heroXSmallBorderRadius___tyver",h="Button-module__iconButtonBase___uzoKc",g="Button-module__marginLeft___Bqq-9",f="Button-module__noMargin___5UbzU",_="Button-module__overlayModeAcrylic___QnjAv",v="Button-module__overlayModeSemiTransparent___mcpLM",y="Button-module__overlayModeSolid___v6EcO",b="Button-module__secondarySwitchBackplate___E47IF",S="Button-module__sizeIconButtonLarge___tb4rx",E="Button-module__sizeIconButtonMedium___WJrxo",C="Button-module__sizeIconButtonSmall___gTDbb",T="Button-module__sizeIconButtonXSmall___sYhWs",w="Button-module__sizeLarge___Jsfxn",I="Button-module__sizeMedium___T+8s+",P="Button-module__sizeSmall___9uKpA",A="Button-module__sizeXSmall___TGAST",k="Button-module__textNoUnderline___kHdUB",x="Button-module__textUnderline___JSRLr",R="Button-module__typeBrand___MMuct",O="Button-module__typePrimary___0WI8b",N="Button-module__typeSecondary___Cid02",M="Button-module__typeTertiary___wNh6R",L="Button-module__typeUserAccent___lK-yy"},65685:(e,t,n)=>{"use strict";n.d(t,{K_:()=>i,Ks:()=>o,VI:()=>r,X7:()=>a,gI:()=>s,i5:()=>l,iM:()=>c});var r="commonStyles-module__basicButton___go-bX",o="commonStyles-module__basicContainer___8Vx5e",i="commonStyles-module__basicIcon___qnovY",a="commonStyles-module__basicLink___V+0u7",s="commonStyles-module__closeIconFocus___peFfQ",l="commonStyles-module__featureListStyle___8SVho",c="commonStyles-module__shimmer___toyTH"},36843:(e,t,n)=>{"use strict";n.d(t,{HM:()=>r,mK:()=>o,tv:()=>i});var r="mwfButton-module__btn___f+vI-",o="mwfButton-module__btn-collapse___kMlJ-",i="mwfButton-module__btn-link___AT-hm"},70564:(e,t,n)=>{"use strict";n.d(t,{A3:()=>f,AP:()=>I,CS:()=>_,H8:()=>P,HQ:()=>s,LP:()=>b,Q:()=>T,Q2:()=>d,SM:()=>S,SX:()=>p,TF:()=>E,TM:()=>O,Ux:()=>a,Vv:()=>r,WW:()=>l,_o:()=>R,ax:()=>c,cb:()=>C,f9:()=>x,fW:()=>N,iA:()=>g,jf:()=>u,kU:()=>o,kn:()=>h,me:()=>k,q:()=>i,sc:()=>y,tS:()=>w,tY:()=>A,tn:()=>v,wH:()=>m});var r="typography-module__badgeText___Pt0Ti",o="typography-module__featuredContentDesktopTitle___aSQ8E",i="typography-module__featuredContentMobileTitle___HRmee",a="typography-module__featuredContentSubtitle___dox6v",s="typography-module__launchpadBody___bAczf",l="typography-module__launchpadCtaExtraText___CUcKt",c="typography-module__launchpadHeader___skM2v",u="typography-module__launchpadlearningLinkWindowsText___cN1Ul",d="typography-module__notes___tC1Jo",p="typography-module__searchGamesTitle___RVAyR",m="typography-module__segoeCaption___2bWwO",h="typography-module__segoeParagraph___Grscl",g="typography-module__segoeTitle___FFISB",f="typography-module__snoByrdButtonLabel___TE3oM",_="typography-module__spotLightSubtitlePortrait___RB7M0",v="typography-module__wishlistButtonFont___FW-gq",y="typography-module__wishlistProductItem___voqNk",b="typography-module__xdsBody1___+TQLW",S="typography-module__xdsBody2___RNdGY",E="typography-module__xdsButtonText___T7YHc",C="typography-module__xdsCaption___RlQY3",T="typography-module__xdsCaption2___9GItG",w="typography-module__xdsH1___7oFBA",I="typography-module__xdsH2___AvVH4",P="typography-module__xdsH3___kw4Hq",A="typography-module__xdsH5___XwldZ",k="typography-module__xdsH6___c1AoA",x="typography-module__xdsSubTitle1___N02-X",R="typography-module__xdsSubTitle2___6d6Da",O="typography-module__xdsSubTitle3___MaN9J",N="typography-module__xdsTag3___87dP9"},63899:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.domainSupportsProperties=t.RemoteDependencyDataConstants=void 0;var r=n(75880),o=function(){function e(){}return e.TYPE_HTTP="Http",e.TYPE_AI="Http (tracked component)",e}();t.RemoteDependencyDataConstants=o,t.domainSupportsProperties=function(e){return"properties"in e||e instanceof r.EventData||e instanceof r.ExceptionData||e instanceof r.MessageData||e instanceof r.MetricData||e instanceof r.PageViewData||e instanceof r.RemoteDependencyData||e instanceof r.RequestData}},25689:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.properties={},t.measurements={},t}return r(t,e),t}(n(85906));e.exports=o},20999:e=>{"use strict";var t=function(){};e.exports=t},34407:e=>{"use strict";var t=function(){this.applicationVersion="ai.application.ver",this.deviceId="ai.device.id",this.deviceLocale="ai.device.locale",this.deviceModel="ai.device.model",this.deviceOEMName="ai.device.oemName",this.deviceOSVersion="ai.device.osVersion",this.deviceType="ai.device.type",this.locationIp="ai.location.ip",this.operationId="ai.operation.id",this.operationName="ai.operation.name",this.operationParentId="ai.operation.parentId",this.operationSyntheticSource="ai.operation.syntheticSource",this.operationCorrelationVector="ai.operation.correlationVector",this.sessionId="ai.session.id",this.sessionIsFirst="ai.session.isFirst",this.userAccountId="ai.user.accountId",this.userId="ai.user.id",this.userAuthUserId="ai.user.authUserId",this.cloudRole="ai.cloud.role",this.cloudRoleInstance="ai.cloud.roleInstance",this.internalSdkVersion="ai.internal.sdkVersion",this.internalAgentVersion="ai.internal.agentVersion",this.internalNodeName="ai.internal.nodeName"};e.exports=t},89406:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=function(e){function t(){return e.call(this)||this}return r(t,e),t}(n(20999));e.exports=o},97154:(e,t,n)=>{"use strict";var r=n(2762),o=function(){this.kind=r.Measurement};e.exports=o},2762:e=>{"use strict";var t;!function(e){e[e.Measurement=0]="Measurement",e[e.Aggregation=1]="Aggregation"}(t||(t={})),e.exports=t},85906:e=>{"use strict";var t=function(){};e.exports=t},61734:e=>{"use strict";var t=function(){this.ver=1,this.sampleRate=100,this.tags={}};e.exports=t},24588:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.properties={},t.measurements={},t}return r(t,e),t}(n(85906));e.exports=o},31337:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.exceptions=[],t.properties={},t.measurements={},t}return r(t,e),t}(n(85906));e.exports=o},92243:e=>{"use strict";var t=function(){this.hasFullStack=!0,this.parsedStack=[]};e.exports=t},60867:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.properties={},t}return r(t,e),t}(n(85906));e.exports=o},57706:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.metrics=[],t.properties={},t}return r(t,e),t}(n(85906));e.exports=o},62700:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.properties={},t.measurements={},t}return r(t,e),t}(n(24588));e.exports=o},31929:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.success=!0,t.properties={},t.measurements={},t}return r(t,e),t}(n(85906));e.exports=o},36133:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.properties={},t.measurements={},t}return r(t,e),t}(n(85906));e.exports=o},70183:e=>{"use strict";var t;!function(e){e[e.Verbose=0]="Verbose",e[e.Information=1]="Information",e[e.Warning=2]="Warning",e[e.Error=3]="Error",e[e.Critical=4]="Critical"}(t||(t={})),e.exports=t},77283:e=>{"use strict";var t=function(){};e.exports=t},75880:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AvailabilityData=n(25689),t.Base=n(20999),t.ContextTagKeys=n(34407),t.Data=n(89406),t.DataPoint=n(97154),t.DataPointType=n(2762),t.Domain=n(85906),t.Envelope=n(61734),t.EventData=n(24588),t.ExceptionData=n(31337),t.ExceptionDetails=n(92243),t.MessageData=n(60867),t.MetricData=n(57706),t.PageViewData=n(62700),t.RemoteDependencyData=n(31929),t.RequestData=n(36133),t.SeverityLevel=n(70183),t.StackFrame=n(77283)},32194:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},2239:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},55346:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},45221:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},29712:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},85730:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},79494:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},92700:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},49636:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(79494),t),o(n(55346),t),o(n(2239),t),o(n(29712),t),o(n(85730),t),o(n(32194),t),o(n(92700),t),o(n(45221),t)},1057:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},32283:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},984:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},86644:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},15043:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},6864:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},40839:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},91847:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},20126:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},28123:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},69436:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},71172:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.TelemetryType=t.TelemetryTypeString=t.baseTypeToTelemetryType=t.telemetryTypeToBaseType=void 0,t.telemetryTypeToBaseType=function(e){switch(e){case n.Event:return"EventData";case n.Exception:return"ExceptionData";case n.Trace:return"MessageData";case n.Metric:return"MetricData";case n.Request:return"RequestData";case n.Dependency:return"RemoteDependencyData";case n.Availability:return"AvailabilityData";case n.PageView:return"PageViewData"}},t.baseTypeToTelemetryType=function(e){switch(e){case"EventData":return n.Event;case"ExceptionData":return n.Exception;case"MessageData":return n.Trace;case"MetricData":return n.Metric;case"RequestData":return n.Request;case"RemoteDependencyData":return n.Dependency;case"AvailabilityData":return n.Availability;case"PageViewData":return n.PageView}},t.TelemetryTypeString={Event:"EventData",Exception:"ExceptionData",Trace:"MessageData",Metric:"MetricData",Request:"RequestData",Dependency:"RemoteDependencyData",Availability:"AvailabilityData",PageView:"PageViewData"},function(e){e[e.Event=0]="Event",e[e.Exception=1]="Exception",e[e.Trace=2]="Trace",e[e.Metric=3]="Metric",e[e.Request=4]="Request",e[e.Dependency=5]="Dependency",e[e.Availability=6]="Availability",e[e.PageView=7]="PageView"}(n=t.TelemetryType||(t.TelemetryType={}))},71251:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},29523:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(32283),t),o(n(86644),t),o(n(15043),t),o(n(6864),t),o(n(28123),t),o(n(71251),t),o(n(69436),t),o(n(40839),t),o(n(91847),t),o(n(1057),t),o(n(20126),t),o(n(984),t),o(n(71172),t)},89322:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(63899),t),o(n(75880),t),o(n(29523),t),o(n(49636),t)},76272:e=>{var t=.1,n="function"===typeof Float32Array;function r(e,t){return 1-3*t+3*e}function o(e,t){return 3*t-6*e}function i(e){return 3*e}function a(e,t,n){return((r(t,n)*e+o(t,n))*e+i(t))*e}function s(e,t,n){return 3*r(t,n)*e*e+2*o(t,n)*e+i(t)}function l(e){return e}e.exports=function(e,r,o,i){if(!(0<=e&&e<=1&&0<=o&&o<=1))throw new Error("bezier x values must be in [0, 1] range");if(e===r&&o===i)return l;for(var c=n?new Float32Array(11):new Array(11),u=0;u<11;++u)c[u]=a(u*t,e,o);function d(n){for(var r=0,i=1;10!==i&&c[i]<=n;++i)r+=t;--i;var l=r+(n-c[i])/(c[i+1]-c[i])*t,u=s(l,e,o);return u>=.001?function(e,t,n,r){for(var o=0;o<4;++o){var i=s(t,n,r);if(0===i)return t;t-=(a(t,n,r)-e)/i}return t}(n,l,e,o):0===u?l:function(e,t,n,r,o){var i,s,l=0;do{(i=a(s=t+(n-t)/2,r,o)-e)>0?n=s:t=s}while(Math.abs(i)>1e-7&&++l<10);return s}(n,r,r+t,e,o)}return function(e){return 0===e?0:1===e?1:a(d(e),r,i)}}},93643:function(e){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=90)}({17:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=n(18),o=function(){function e(){}return e.getFirstMatch=function(e,t){var n=t.match(e);return n&&n.length>0&&n[1]||""},e.getSecondMatch=function(e,t){var n=t.match(e);return n&&n.length>1&&n[2]||""},e.matchAndReturnConst=function(e,t,n){if(e.test(t))return n},e.getWindowsVersionName=function(e){switch(e){case"NT":return"NT";case"XP":case"NT 5.1":return"XP";case"NT 5.0":return"2000";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}},e.getMacOSVersionName=function(e){var t=e.split(".").splice(0,2).map((function(e){return parseInt(e,10)||0}));if(t.push(0),10===t[0])switch(t[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}},e.getAndroidVersionName=function(e){var t=e.split(".").splice(0,2).map((function(e){return parseInt(e,10)||0}));if(t.push(0),!(1===t[0]&&t[1]<5))return 1===t[0]&&t[1]<6?"Cupcake":1===t[0]&&t[1]>=6?"Donut":2===t[0]&&t[1]<2?"Eclair":2===t[0]&&2===t[1]?"Froyo":2===t[0]&&t[1]>2?"Gingerbread":3===t[0]?"Honeycomb":4===t[0]&&t[1]<1?"Ice Cream Sandwich":4===t[0]&&t[1]<4?"Jelly Bean":4===t[0]&&t[1]>=4?"KitKat":5===t[0]?"Lollipop":6===t[0]?"Marshmallow":7===t[0]?"Nougat":8===t[0]?"Oreo":9===t[0]?"Pie":void 0},e.getVersionPrecision=function(e){return e.split(".").length},e.compareVersions=function(t,n,r){void 0===r&&(r=!1);var o=e.getVersionPrecision(t),i=e.getVersionPrecision(n),a=Math.max(o,i),s=0,l=e.map([t,n],(function(t){var n=a-e.getVersionPrecision(t),r=t+new Array(n+1).join(".0");return e.map(r.split("."),(function(e){return new Array(20-e.length).join("0")+e})).reverse()}));for(r&&(s=a-Math.min(o,i)),a-=1;a>=s;){if(l[0][a]>l[1][a])return 1;if(l[0][a]===l[1][a]){if(a===s)return 0;a-=1}else if(l[0][a]<l[1][a])return-1}},e.map=function(e,t){var n,r=[];if(Array.prototype.map)return Array.prototype.map.call(e,t);for(n=0;n<e.length;n+=1)r.push(t(e[n]));return r},e.find=function(e,t){var n,r;if(Array.prototype.find)return Array.prototype.find.call(e,t);for(n=0,r=e.length;n<r;n+=1){var o=e[n];if(t(o,n))return o}},e.assign=function(e){for(var t,n,r=e,o=arguments.length,i=new Array(o>1?o-1:0),a=1;a<o;a++)i[a-1]=arguments[a];if(Object.assign)return Object.assign.apply(Object,[e].concat(i));var s=function(){var e=i[t];"object"==typeof e&&null!==e&&Object.keys(e).forEach((function(t){r[t]=e[t]}))};for(t=0,n=i.length;t<n;t+=1)s();return e},e.getBrowserAlias=function(e){return r.BROWSER_ALIASES_MAP[e]},e.getBrowserTypeByAlias=function(e){return r.BROWSER_MAP[e]||""},e}();t.default=o,e.exports=t.default},18:function(e,t,n){"use strict";t.__esModule=!0,t.ENGINE_MAP=t.OS_MAP=t.PLATFORMS_MAP=t.BROWSER_MAP=t.BROWSER_ALIASES_MAP=void 0,t.BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},t.BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},t.PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},t.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},t.ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"}},90:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,o=(r=n(91))&&r.__esModule?r:{default:r},i=n(18);function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=function(){function e(){}var t,n,r;return e.getParser=function(e,t){if(void 0===t&&(t=!1),"string"!=typeof e)throw new Error("UserAgent should be a string");return new o.default(e,t)},e.parse=function(e){return new o.default(e).getResult()},t=e,r=[{key:"BROWSER_MAP",get:function(){return i.BROWSER_MAP}},{key:"ENGINE_MAP",get:function(){return i.ENGINE_MAP}},{key:"OS_MAP",get:function(){return i.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return i.PLATFORMS_MAP}}],(n=null)&&a(t.prototype,n),r&&a(t,r),e}();t.default=s,e.exports=t.default},91:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=l(n(92)),o=l(n(93)),i=l(n(94)),a=l(n(95)),s=l(n(17));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(){function e(e,t){if(void 0===t&&(t=!1),null==e||""===e)throw new Error("UserAgent parameter can't be empty");this._ua=e,this.parsedResult={},!0!==t&&this.parse()}var t=e.prototype;return t.getUA=function(){return this._ua},t.test=function(e){return e.test(this._ua)},t.parseBrowser=function(){var e=this;this.parsedResult.browser={};var t=s.default.find(r.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.browser=t.describe(this.getUA())),this.parsedResult.browser},t.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},t.getBrowserName=function(e){return e?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},t.getBrowserVersion=function(){return this.getBrowser().version},t.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},t.parseOS=function(){var e=this;this.parsedResult.os={};var t=s.default.find(o.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.os=t.describe(this.getUA())),this.parsedResult.os},t.getOSName=function(e){var t=this.getOS().name;return e?String(t).toLowerCase()||"":t||""},t.getOSVersion=function(){return this.getOS().version},t.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},t.getPlatformType=function(e){void 0===e&&(e=!1);var t=this.getPlatform().type;return e?String(t).toLowerCase()||"":t||""},t.parsePlatform=function(){var e=this;this.parsedResult.platform={};var t=s.default.find(i.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.platform=t.describe(this.getUA())),this.parsedResult.platform},t.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},t.getEngineName=function(e){return e?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""},t.parseEngine=function(){var e=this;this.parsedResult.engine={};var t=s.default.find(a.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.engine=t.describe(this.getUA())),this.parsedResult.engine},t.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},t.getResult=function(){return s.default.assign({},this.parsedResult)},t.satisfies=function(e){var t=this,n={},r=0,o={},i=0;if(Object.keys(e).forEach((function(t){var a=e[t];"string"==typeof a?(o[t]=a,i+=1):"object"==typeof a&&(n[t]=a,r+=1)})),r>0){var a=Object.keys(n),l=s.default.find(a,(function(e){return t.isOS(e)}));if(l){var c=this.satisfies(n[l]);if(void 0!==c)return c}var u=s.default.find(a,(function(e){return t.isPlatform(e)}));if(u){var d=this.satisfies(n[u]);if(void 0!==d)return d}}if(i>0){var p=Object.keys(o),m=s.default.find(p,(function(e){return t.isBrowser(e,!0)}));if(void 0!==m)return this.compareVersion(o[m])}},t.isBrowser=function(e,t){void 0===t&&(t=!1);var n=this.getBrowserName().toLowerCase(),r=e.toLowerCase(),o=s.default.getBrowserTypeByAlias(r);return t&&o&&(r=o.toLowerCase()),r===n},t.compareVersion=function(e){var t=[0],n=e,r=!1,o=this.getBrowserVersion();if("string"==typeof o)return">"===e[0]||"<"===e[0]?(n=e.substr(1),"="===e[1]?(r=!0,n=e.substr(2)):t=[],">"===e[0]?t.push(1):t.push(-1)):"="===e[0]?n=e.substr(1):"~"===e[0]&&(r=!0,n=e.substr(1)),t.indexOf(s.default.compareVersions(o,n,r))>-1},t.isOS=function(e){return this.getOSName(!0)===String(e).toLowerCase()},t.isPlatform=function(e){return this.getPlatformType(!0)===String(e).toLowerCase()},t.isEngine=function(e){return this.getEngineName(!0)===String(e).toLowerCase()},t.is=function(e,t){return void 0===t&&(t=!1),this.isBrowser(e,t)||this.isOS(e)||this.isPlatform(e)},t.some=function(e){var t=this;return void 0===e&&(e=[]),e.some((function(e){return t.is(e)}))},e}();t.default=c,e.exports=t.default},92:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,o=(r=n(17))&&r.__esModule?r:{default:r},i=/version\/(\d+(\.?_?\d+)+)/i,a=[{test:[/googlebot/i],describe:function(e){var t={name:"Googlebot"},n=o.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,e)||o.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/opera/i],describe:function(e){var t={name:"Opera"},n=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opr\/|opios/i],describe:function(e){var t={name:"Opera"},n=o.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,e)||o.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/SamsungBrowser/i],describe:function(e){var t={name:"Samsung Internet for Android"},n=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Whale/i],describe:function(e){var t={name:"NAVER Whale Browser"},n=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MZBrowser/i],describe:function(e){var t={name:"MZ Browser"},n=o.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,e)||o.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/focus/i],describe:function(e){var t={name:"Focus"},n=o.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,e)||o.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/swing/i],describe:function(e){var t={name:"Swing"},n=o.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,e)||o.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/coast/i],describe:function(e){var t={name:"Opera Coast"},n=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe:function(e){var t={name:"Opera Touch"},n=o.default.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,e)||o.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/yabrowser/i],describe:function(e){var t={name:"Yandex Browser"},n=o.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,e)||o.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/ucbrowser/i],describe:function(e){var t={name:"UC Browser"},n=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Maxthon|mxios/i],describe:function(e){var t={name:"Maxthon"},n=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/epiphany/i],describe:function(e){var t={name:"Epiphany"},n=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/puffin/i],describe:function(e){var t={name:"Puffin"},n=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sleipnir/i],describe:function(e){var t={name:"Sleipnir"},n=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/k-meleon/i],describe:function(e){var t={name:"K-Meleon"},n=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/micromessenger/i],describe:function(e){var t={name:"WeChat"},n=o.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,e)||o.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/qqbrowser/i],describe:function(e){var t={name:/qqbrowserlite/i.test(e)?"QQ Browser Lite":"QQ Browser"},n=o.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,e)||o.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/msie|trident/i],describe:function(e){var t={name:"Internet Explorer"},n=o.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/\sedg\//i],describe:function(e){var t={name:"Microsoft Edge"},n=o.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/edg([ea]|ios)/i],describe:function(e){var t={name:"Microsoft Edge"},n=o.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/vivaldi/i],describe:function(e){var t={name:"Vivaldi"},n=o.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/seamonkey/i],describe:function(e){var t={name:"SeaMonkey"},n=o.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sailfish/i],describe:function(e){var t={name:"Sailfish"},n=o.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,e);return n&&(t.version=n),t}},{test:[/silk/i],describe:function(e){var t={name:"Amazon Silk"},n=o.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/phantom/i],describe:function(e){var t={name:"PhantomJS"},n=o.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/slimerjs/i],describe:function(e){var t={name:"SlimerJS"},n=o.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t={name:"BlackBerry"},n=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t={name:"WebOS Browser"},n=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/bada/i],describe:function(e){var t={name:"Bada"},n=o.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/tizen/i],describe:function(e){var t={name:"Tizen"},n=o.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,e)||o.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/qupzilla/i],describe:function(e){var t={name:"QupZilla"},n=o.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,e)||o.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/firefox|iceweasel|fxios/i],describe:function(e){var t={name:"Firefox"},n=o.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/electron/i],describe:function(e){var t={name:"Electron"},n=o.default.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MiuiBrowser/i],describe:function(e){var t={name:"Miui"},n=o.default.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/chromium/i],describe:function(e){var t={name:"Chromium"},n=o.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,e)||o.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/chrome|crios|crmo/i],describe:function(e){var t={name:"Chrome"},n=o.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/GSA/i],describe:function(e){var t={name:"Google Search"},n=o.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){var t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe:function(e){var t={name:"Android Browser"},n=o.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/playstation 4/i],describe:function(e){var t={name:"PlayStation 4"},n=o.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/safari|applewebkit/i],describe:function(e){var t={name:"Safari"},n=o.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/.*/i],describe:function(e){var t=-1!==e.search("\\(")?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:o.default.getFirstMatch(t,e),version:o.default.getSecondMatch(t,e)}}}];t.default=a,e.exports=t.default},93:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,o=(r=n(17))&&r.__esModule?r:{default:r},i=n(18),a=[{test:[/Roku\/DVP/],describe:function(e){var t=o.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,e);return{name:i.OS_MAP.Roku,version:t}}},{test:[/windows phone/i],describe:function(e){var t=o.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,e);return{name:i.OS_MAP.WindowsPhone,version:t}}},{test:[/windows /i],describe:function(e){var t=o.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,e),n=o.default.getWindowsVersionName(t);return{name:i.OS_MAP.Windows,version:t,versionName:n}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(e){var t={name:i.OS_MAP.iOS},n=o.default.getSecondMatch(/(Version\/)(\d[\d.]+)/,e);return n&&(t.version=n),t}},{test:[/macintosh/i],describe:function(e){var t=o.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,"."),n=o.default.getMacOSVersionName(t),r={name:i.OS_MAP.MacOS,version:t};return n&&(r.versionName=n),r}},{test:[/(ipod|iphone|ipad)/i],describe:function(e){var t=o.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".");return{name:i.OS_MAP.iOS,version:t}}},{test:function(e){var t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe:function(e){var t=o.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,e),n=o.default.getAndroidVersionName(t),r={name:i.OS_MAP.Android,version:t};return n&&(r.versionName=n),r}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t=o.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,e),n={name:i.OS_MAP.WebOS};return t&&t.length&&(n.version=t),n}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t=o.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,e)||o.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,e)||o.default.getFirstMatch(/\bbb(\d+)/i,e);return{name:i.OS_MAP.BlackBerry,version:t}}},{test:[/bada/i],describe:function(e){var t=o.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,e);return{name:i.OS_MAP.Bada,version:t}}},{test:[/tizen/i],describe:function(e){var t=o.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,e);return{name:i.OS_MAP.Tizen,version:t}}},{test:[/linux/i],describe:function(){return{name:i.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:i.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(e){var t=o.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,e);return{name:i.OS_MAP.PlayStation4,version:t}}}];t.default=a,e.exports=t.default},94:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,o=(r=n(17))&&r.__esModule?r:{default:r},i=n(18),a=[{test:[/googlebot/i],describe:function(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe:function(e){var t=o.default.getFirstMatch(/(can-l01)/i,e)&&"Nova",n={type:i.PLATFORMS_MAP.mobile,vendor:"Huawei"};return t&&(n.model=t),n}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:i.PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:i.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(){return{type:i.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:i.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:i.PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:i.PLATFORMS_MAP.tablet}}},{test:function(e){var t=e.test(/ipod|iphone/i),n=e.test(/like (ipod|iphone)/i);return t&&!n},describe:function(e){var t=o.default.getFirstMatch(/(ipod|iphone)/i,e);return{type:i.PLATFORMS_MAP.mobile,vendor:"Apple",model:t}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:i.PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe:function(){return{type:i.PLATFORMS_MAP.mobile}}},{test:function(e){return"blackberry"===e.getBrowserName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test:function(e){return"bada"===e.getBrowserName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.mobile}}},{test:function(e){return"windows phone"===e.getBrowserName()},describe:function(){return{type:i.PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test:function(e){var t=Number(String(e.getOSVersion()).split(".")[0]);return"android"===e.getOSName(!0)&&t>=3},describe:function(){return{type:i.PLATFORMS_MAP.tablet}}},{test:function(e){return"android"===e.getOSName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.mobile}}},{test:function(e){return"macos"===e.getOSName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test:function(e){return"windows"===e.getOSName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.desktop}}},{test:function(e){return"linux"===e.getOSName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.desktop}}},{test:function(e){return"playstation 4"===e.getOSName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.tv}}},{test:function(e){return"roku"===e.getOSName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.tv}}}];t.default=a,e.exports=t.default},95:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,o=(r=n(17))&&r.__esModule?r:{default:r},i=n(18),a=[{test:function(e){return"microsoft edge"===e.getBrowserName(!0)},describe:function(e){if(/\sedg\//i.test(e))return{name:i.ENGINE_MAP.Blink};var t=o.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,e);return{name:i.ENGINE_MAP.EdgeHTML,version:t}}},{test:[/trident/i],describe:function(e){var t={name:i.ENGINE_MAP.Trident},n=o.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){return e.test(/presto/i)},describe:function(e){var t={name:i.ENGINE_MAP.Presto},n=o.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){var t=e.test(/gecko/i),n=e.test(/like gecko/i);return t&&!n},describe:function(e){var t={name:i.ENGINE_MAP.Gecko},n=o.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:i.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(e){var t={name:i.ENGINE_MAP.WebKit},n=o.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}}];t.default=a,e.exports=t.default}})},50046:e=>{"use strict";var t,n="object"===typeof Reflect?Reflect:null,r=n&&"function"===typeof n.apply?n.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};t=n&&"function"===typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var o=Number.isNaN||function(e){return e!==e};function i(){i.init.call(this)}e.exports=i,e.exports.once=function(e,t){return new Promise((function(n,r){function o(n){e.removeListener(t,i),r(n)}function i(){"function"===typeof e.removeListener&&e.removeListener("error",o),n([].slice.call(arguments))}g(e,t,i,{once:!0}),"error"!==t&&function(e,t,n){"function"===typeof e.on&&g(e,"error",t,n)}(e,o,{once:!0})}))},i.EventEmitter=i,i.prototype._events=void 0,i.prototype._eventsCount=0,i.prototype._maxListeners=void 0;var a=10;function s(e){if("function"!==typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function l(e){return void 0===e._maxListeners?i.defaultMaxListeners:e._maxListeners}function c(e,t,n,r){var o,i,a,c;if(s(n),void 0===(i=e._events)?(i=e._events=Object.create(null),e._eventsCount=0):(void 0!==i.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),i=e._events),a=i[t]),void 0===a)a=i[t]=n,++e._eventsCount;else if("function"===typeof a?a=i[t]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),(o=l(e))>0&&a.length>o&&!a.warned){a.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=a.length,c=u,console&&console.warn&&console.warn(c)}return e}function u(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},o=u.bind(r);return o.listener=n,r.wrapFn=o,o}function p(e,t,n){var r=e._events;if(void 0===r)return[];var o=r[t];return void 0===o?[]:"function"===typeof o?n?[o.listener||o]:[o]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(o):h(o,o.length)}function m(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"===typeof n)return 1;if(void 0!==n)return n.length}return 0}function h(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function g(e,t,n,r){if("function"===typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!==typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function o(i){r.once&&e.removeEventListener(t,o),n(i)}))}}Object.defineProperty(i,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function(e){if("number"!==typeof e||e<0||o(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");a=e}}),i.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},i.prototype.setMaxListeners=function(e){if("number"!==typeof e||e<0||o(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},i.prototype.getMaxListeners=function(){return l(this)},i.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var o="error"===e,i=this._events;if(void 0!==i)o=o&&void 0===i.error;else if(!o)return!1;if(o){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var l=i[e];if(void 0===l)return!1;if("function"===typeof l)r(l,this,t);else{var c=l.length,u=h(l,c);for(n=0;n<c;++n)r(u[n],this,t)}return!0},i.prototype.addListener=function(e,t){return c(this,e,t,!1)},i.prototype.on=i.prototype.addListener,i.prototype.prependListener=function(e,t){return c(this,e,t,!0)},i.prototype.once=function(e,t){return s(t),this.on(e,d(this,e,t)),this},i.prototype.prependOnceListener=function(e,t){return s(t),this.prependListener(e,d(this,e,t)),this},i.prototype.removeListener=function(e,t){var n,r,o,i,a;if(s(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0===--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!==typeof n){for(o=-1,i=n.length-1;i>=0;i--)if(n[i]===t||n[i].listener===t){a=n[i].listener,o=i;break}if(o<0)return this;0===o?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,o),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,a||t)}return this},i.prototype.off=i.prototype.removeListener,i.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0===--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var o,i=Object.keys(n);for(r=0;r<i.length;++r)"removeListener"!==(o=i[r])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"===typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},i.prototype.listeners=function(e){return p(this,e,!0)},i.prototype.rawListeners=function(e){return p(this,e,!1)},i.listenerCount=function(e,t){return"function"===typeof e.listenerCount?e.listenerCount(t):m.call(e,t)},i.prototype.listenerCount=m,i.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},69074:(e,t,n)=>{"use strict";n.d(t,{zR:()=>C,TM:()=>k,yJ:()=>g,sC:()=>R,AO:()=>h,Fu:()=>f});var r=n(89575);function o(e){return"/"===e.charAt(0)}function i(e,t){for(var n=t,r=n+1,o=e.length;r<o;n+=1,r+=1)e[n]=e[r];e.pop()}const a=function(e,t){void 0===t&&(t="");var n,r=e&&e.split("/")||[],a=t&&t.split("/")||[],s=e&&o(e),l=t&&o(t),c=s||l;if(e&&o(e)?a=r:r.length&&(a.pop(),a=a.concat(r)),!a.length)return"/";if(a.length){var u=a[a.length-1];n="."===u||".."===u||""===u}else n=!1;for(var d=0,p=a.length;p>=0;p--){var m=a[p];"."===m?i(a,p):".."===m?(i(a,p),d++):d&&(i(a,p),d--)}if(!c)for(;d--;d)a.unshift("..");!c||""===a[0]||a[0]&&o(a[0])||a.unshift("");var h=a.join("/");return n&&"/"!==h.substr(-1)&&(h+="/"),h};function s(e){return e.valueOf?e.valueOf():Object.prototype.valueOf.call(e)}const l=function e(t,n){if(t===n)return!0;if(null==t||null==n)return!1;if(Array.isArray(t))return Array.isArray(n)&&t.length===n.length&&t.every((function(t,r){return e(t,n[r])}));if("object"===typeof t||"object"===typeof n){var r=s(t),o=s(n);return r!==t||o!==n?e(r,o):Object.keys(Object.assign({},t,n)).every((function(r){return e(t[r],n[r])}))}return!1};var c=n(37730);function u(e){return"/"===e.charAt(0)?e:"/"+e}function d(e){return"/"===e.charAt(0)?e.substr(1):e}function p(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function m(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function h(e){var t=e.pathname,n=e.search,r=e.hash,o=t||"/";return n&&"?"!==n&&(o+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(o+="#"===r.charAt(0)?r:"#"+r),o}function g(e,t,n,o){var i;"string"===typeof e?(i=function(e){var t=e||"/",n="",r="",o=t.indexOf("#");-1!==o&&(r=t.substr(o),t=t.substr(0,o));var i=t.indexOf("?");return-1!==i&&(n=t.substr(i),t=t.substr(0,i)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e),i.state=t):(void 0===(i=(0,r.A)({},e)).pathname&&(i.pathname=""),i.search?"?"!==i.search.charAt(0)&&(i.search="?"+i.search):i.search="",i.hash?"#"!==i.hash.charAt(0)&&(i.hash="#"+i.hash):i.hash="",void 0!==t&&void 0===i.state&&(i.state=t));try{i.pathname=decodeURI(i.pathname)}catch(s){throw s instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):s}return n&&(i.key=n),o?i.pathname?"/"!==i.pathname.charAt(0)&&(i.pathname=a(i.pathname,o.pathname)):i.pathname=o.pathname:i.pathname||(i.pathname="/"),i}function f(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&l(e.state,t.state)}function _(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,o){if(null!=e){var i="function"===typeof e?e(t,n):e;"string"===typeof i?"function"===typeof r?r(i,o):o(!0):o(!1!==i)}else o(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach((function(e){return e.apply(void 0,n)}))}}}var v=!(!window.document||!window.document.createElement);function y(e,t){t(window.confirm(e))}var b="popstate",S="hashchange";function E(){try{return window.history.state||{}}catch(e){return{}}}function C(e){void 0===e&&(e={}),v||(0,c.A)(!1);var t=window.history,n=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history}(),o=!(-1===window.navigator.userAgent.indexOf("Trident")),i=e,a=i.forceRefresh,s=void 0!==a&&a,l=i.getUserConfirmation,d=void 0===l?y:l,f=i.keyLength,C=void 0===f?6:f,T=e.basename?m(u(e.basename)):"";function w(e){var t=e||{},n=t.key,r=t.state,o=window.location,i=o.pathname+o.search+o.hash;return T&&(i=p(i,T)),g(i,r,n)}function I(){return Math.random().toString(36).substr(2,C)}var P=_();function A(e){(0,r.A)(H,e),H.length=t.length,P.notifyListeners(H.location,H.action)}function k(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||O(w(e.state))}function x(){O(w(E()))}var R=!1;function O(e){if(R)R=!1,A();else{P.confirmTransitionTo(e,"POP",d,(function(t){t?A({action:"POP",location:e}):function(e){var t=H.location,n=M.indexOf(t.key);-1===n&&(n=0);var r=M.indexOf(e.key);-1===r&&(r=0);var o=n-r;o&&(R=!0,D(o))}(e)}))}}var N=w(E()),M=[N.key];function L(e){return T+h(e)}function D(e){t.go(e)}var F=0;function U(e){1===(F+=e)&&1===e?(window.addEventListener(b,k),o&&window.addEventListener(S,x)):0===F&&(window.removeEventListener(b,k),o&&window.removeEventListener(S,x))}var B=!1;var H={length:t.length,action:"POP",location:N,createHref:L,push:function(e,r){var o="PUSH",i=g(e,r,I(),H.location);P.confirmTransitionTo(i,o,d,(function(e){if(e){var r=L(i),a=i.key,l=i.state;if(n)if(t.pushState({key:a,state:l},null,r),s)window.location.href=r;else{var c=M.indexOf(H.location.key),u=M.slice(0,c+1);u.push(i.key),M=u,A({action:o,location:i})}else window.location.href=r}}))},replace:function(e,r){var o="REPLACE",i=g(e,r,I(),H.location);P.confirmTransitionTo(i,o,d,(function(e){if(e){var r=L(i),a=i.key,l=i.state;if(n)if(t.replaceState({key:a,state:l},null,r),s)window.location.replace(r);else{var c=M.indexOf(H.location.key);-1!==c&&(M[c]=i.key),A({action:o,location:i})}else window.location.replace(r)}}))},go:D,goBack:function(){D(-1)},goForward:function(){D(1)},block:function(e){void 0===e&&(e=!1);var t=P.setPrompt(e);return B||(U(1),B=!0),function(){return B&&(B=!1,U(-1)),t()}},listen:function(e){var t=P.appendListener(e);return U(1),function(){U(-1),t()}}};return H}var T="hashchange",w={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+d(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:d,decodePath:u},slash:{encodePath:u,decodePath:u}};function I(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function P(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function A(e){window.location.replace(I(window.location.href)+"#"+e)}function k(e){void 0===e&&(e={}),v||(0,c.A)(!1);var t=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),e),o=n.getUserConfirmation,i=void 0===o?y:o,a=n.hashType,s=void 0===a?"slash":a,l=e.basename?m(u(e.basename)):"",d=w[s],f=d.encodePath,b=d.decodePath;function S(){var e=b(P());return l&&(e=p(e,l)),g(e)}var E=_();function C(e){(0,r.A)(H,e),H.length=t.length,E.notifyListeners(H.location,H.action)}var k=!1,x=null;function R(){var e,t,n=P(),r=f(n);if(n!==r)A(r);else{var o=S(),a=H.location;if(!k&&(t=o,(e=a).pathname===t.pathname&&e.search===t.search&&e.hash===t.hash))return;if(x===h(o))return;x=null,function(e){if(k)k=!1,C();else{var t="POP";E.confirmTransitionTo(e,t,i,(function(n){n?C({action:t,location:e}):function(e){var t=H.location,n=L.lastIndexOf(h(t));-1===n&&(n=0);var r=L.lastIndexOf(h(e));-1===r&&(r=0);var o=n-r;o&&(k=!0,D(o))}(e)}))}}(o)}}var O=P(),N=f(O);O!==N&&A(N);var M=S(),L=[h(M)];function D(e){t.go(e)}var F=0;function U(e){1===(F+=e)&&1===e?window.addEventListener(T,R):0===F&&window.removeEventListener(T,R)}var B=!1;var H={length:t.length,action:"POP",location:M,createHref:function(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&(n=I(window.location.href)),n+"#"+f(l+h(e))},push:function(e,t){var n="PUSH",r=g(e,void 0,void 0,H.location);E.confirmTransitionTo(r,n,i,(function(e){if(e){var t=h(r),o=f(l+t);if(P()!==o){x=t,function(e){window.location.hash=e}(o);var i=L.lastIndexOf(h(H.location)),a=L.slice(0,i+1);a.push(t),L=a,C({action:n,location:r})}else C()}}))},replace:function(e,t){var n="REPLACE",r=g(e,void 0,void 0,H.location);E.confirmTransitionTo(r,n,i,(function(e){if(e){var t=h(r),o=f(l+t);P()!==o&&(x=t,A(o));var i=L.indexOf(h(H.location));-1!==i&&(L[i]=t),C({action:n,location:r})}}))},go:D,goBack:function(){D(-1)},goForward:function(){D(1)},block:function(e){void 0===e&&(e=!1);var t=E.setPrompt(e);return B||(U(1),B=!0),function(){return B&&(B=!1,U(-1)),t()}},listen:function(e){var t=E.appendListener(e);return U(1),function(){U(-1),t()}}};return H}function x(e,t,n){return Math.min(Math.max(e,t),n)}function R(e){void 0===e&&(e={});var t=e,n=t.getUserConfirmation,o=t.initialEntries,i=void 0===o?["/"]:o,a=t.initialIndex,s=void 0===a?0:a,l=t.keyLength,c=void 0===l?6:l,u=_();function d(e){(0,r.A)(b,e),b.length=b.entries.length,u.notifyListeners(b.location,b.action)}function p(){return Math.random().toString(36).substr(2,c)}var m=x(s,0,i.length-1),f=i.map((function(e){return g(e,void 0,"string"===typeof e?p():e.key||p())})),v=h;function y(e){var t=x(b.index+e,0,b.entries.length-1),r=b.entries[t];u.confirmTransitionTo(r,"POP",n,(function(e){e?d({action:"POP",location:r,index:t}):d()}))}var b={length:f.length,action:"POP",location:f[m],index:m,entries:f,createHref:v,push:function(e,t){var r="PUSH",o=g(e,t,p(),b.location);u.confirmTransitionTo(o,r,n,(function(e){if(e){var t=b.index+1,n=b.entries.slice(0);n.length>t?n.splice(t,n.length-t,o):n.push(o),d({action:r,location:o,index:t,entries:n})}}))},replace:function(e,t){var r="REPLACE",o=g(e,t,p(),b.location);u.confirmTransitionTo(o,r,n,(function(e){e&&(b.entries[b.index]=o,d({action:r,location:o}))}))},go:y,goBack:function(){y(-1)},goForward:function(){y(1)},canGo:function(e){var t=b.index+e;return t>=0&&t<b.entries.length},block:function(e){return void 0===e&&(e=!1),u.setPrompt(e)},listen:function(e){return u.appendListener(e)}};return b}},75985:(e,t,n)=>{"use strict";var r=n(65521),o={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(e){return r.isMemo(e)?a:s[e.$$typeof]||o}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var c=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,m=Object.getPrototypeOf,h=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(h){var o=m(n);o&&o!==h&&e(t,o,r)}var a=u(n);d&&(a=a.concat(d(n)));for(var s=l(t),g=l(n),f=0;f<a.length;++f){var _=a[f];if(!i[_]&&(!r||!r[_])&&(!g||!g[_])&&(!s||!s[_])){var v=p(n,_);try{c(t,_,v)}catch(y){}}}}return t}},26685:(e,t)=>{"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,o=n?Symbol.for("react.portal"):60106,i=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,p=n?Symbol.for("react.forward_ref"):60112,m=n?Symbol.for("react.suspense"):60113,h=n?Symbol.for("react.suspense_list"):60120,g=n?Symbol.for("react.memo"):60115,f=n?Symbol.for("react.lazy"):60116,_=n?Symbol.for("react.block"):60121,v=n?Symbol.for("react.fundamental"):60117,y=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function S(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case u:case d:case i:case s:case a:case m:return e;default:switch(e=e&&e.$$typeof){case c:case p:case f:case g:case l:return e;default:return t}}case o:return t}}}function E(e){return S(e)===d}t.AsyncMode=u,t.ConcurrentMode=d,t.ContextConsumer=c,t.ContextProvider=l,t.Element=r,t.ForwardRef=p,t.Fragment=i,t.Lazy=f,t.Memo=g,t.Portal=o,t.Profiler=s,t.StrictMode=a,t.Suspense=m,t.isAsyncMode=function(e){return E(e)||S(e)===u},t.isConcurrentMode=E,t.isContextConsumer=function(e){return S(e)===c},t.isContextProvider=function(e){return S(e)===l},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return S(e)===p},t.isFragment=function(e){return S(e)===i},t.isLazy=function(e){return S(e)===f},t.isMemo=function(e){return S(e)===g},t.isPortal=function(e){return S(e)===o},t.isProfiler=function(e){return S(e)===s},t.isStrictMode=function(e){return S(e)===a},t.isSuspense=function(e){return S(e)===m},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===i||e===d||e===s||e===a||e===m||e===h||"object"===typeof e&&null!==e&&(e.$$typeof===f||e.$$typeof===g||e.$$typeof===l||e.$$typeof===c||e.$$typeof===p||e.$$typeof===v||e.$$typeof===y||e.$$typeof===b||e.$$typeof===_)},t.typeOf=S},65521:(e,t,n)=>{"use strict";e.exports=n(26685)},81916:(e,t)=>{var n={};n[202]="Accepted",n[502]="Bad Gateway",n[400]="Bad Request",n[409]="Conflict",n[100]="Continue",n[201]="Created",n[417]="Expectation Failed",n[424]="Failed Dependency",n[403]="Forbidden",n[504]="Gateway Timeout",n[410]="Gone",n[505]="HTTP Version Not Supported",n[418]="I'm a teapot",n[419]="Insufficient Space on Resource",n[507]="Insufficient Storage",n[500]="Server Error",n[411]="Length Required",n[423]="Locked",n[420]="Method Failure",n[405]="Method Not Allowed",n[301]="Moved Permanently",n[302]="Moved Temporarily",n[207]="Multi-Status",n[300]="Multiple Choices",n[511]="Network Authentication Required",n[204]="No Content",n[203]="Non Authoritative Information",n[406]="Not Acceptable",n[404]="Not Found",n[501]="Not Implemented",n[304]="Not Modified",n[200]="OK",n[206]="Partial Content",n[402]="Payment Required",n[308]="Permanent Redirect",n[412]="Precondition Failed",n[428]="Precondition Required",n[102]="Processing",n[407]="Proxy Authentication Required",n[431]="Request Header Fields Too Large",n[408]="Request Timeout",n[413]="Request Entity Too Large",n[414]="Request-URI Too Long",n[416]="Requested Range Not Satisfiable",n[205]="Reset Content",n[303]="See Other",n[503]="Service Unavailable",n[101]="Switching Protocols",n[307]="Temporary Redirect",n[429]="Too Many Requests",n[401]="Unauthorized",n[422]="Unprocessable Entity",n[415]="Unsupported Media Type",n[305]="Use Proxy",t.Iw=function(e){if(n.hasOwnProperty(e))return n[e];throw new Error("Status code does not exist: "+e)}},61513:e=>{"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(o){return!1}}()?Object.assign:function(e,o){for(var i,a,s=function(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),l=1;l<arguments.length;l++){for(var c in i=Object(arguments[l]))n.call(i,c)&&(s[c]=i[c]);if(t){a=t(i);for(var u=0;u<a.length;u++)r.call(i,a[u])&&(s[a[u]]=i[a[u]])}}return s}},36999:(e,t,n)=>{"use strict";var r=n(36848);function o(){}function i(){}i.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,i,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:o};return n.PropTypes=n,n}},39067:(e,t,n)=>{e.exports=n(36999)()},36848:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},46290:(e,t,n)=>{n(8467)(window.crypto)},8467:(e,t,n)=>{e.exports=function(e){e.randomUUID||(e.randomUUID=n(81188))}},81188:e=>{class t extends TypeError{constructor(e,t,n){super(`${e} variable is not of type ${t} (value: '${n}')`)}code="ERR_INVALID_ARG_TYPE"}const n=window.crypto.getRandomValues.bind(window.crypto),r=[48,49,50,51,52,53,54,55,56,57,97,98,99,100,101,102],o=128;let i,a,s,l=0;e.exports=function(e){void 0!==e&&function(e,n){if(null===e||Array.isArray(e)||"object"!==typeof e)throw new t(n,"Object",e)}(e,"options");const{disableEntropyCache:c=!1}={...e};let u;!function(e,n){if("boolean"!==typeof e)throw new t(n,"boolean",e)}(c,"options.disableEntropyCache"),void 0===s&&(s=new Uint8Array(36),s[8]=s[13]=s[18]=s[23]="-".charCodeAt(0),s[14]=52),c?(u=a,void 0===u&&(u=a=new Uint8Array(16)),n(u)):(void 0===i&&(i=new Uint8Array(16*o)),0===l&&n(i),l=(l+1)%o,u=i.slice(16*l,16*l+16)),u[8]=63&u[8]|128;let d=0;return s[0]=r[u[d]>>4],s[1]=r[15&u[d++]],s[2]=r[u[d]>>4],s[3]=r[15&u[d++]],s[4]=r[u[d]>>4],s[5]=r[15&u[d++]],s[6]=r[u[d]>>4],s[7]=r[15&u[d++]],s[9]=r[u[d]>>4],s[10]=r[15&u[d++]],s[11]=r[u[d]>>4],s[12]=r[15&u[d++]],s[15]=r[15&u[d++]],s[16]=r[u[d]>>4],s[17]=r[15&u[d++]],s[19]=r[u[d]>>4],s[20]=r[15&u[d++]],s[21]=r[u[d]>>4],s[22]=r[15&u[d++]],s[24]=r[u[d]>>4],s[25]=r[15&u[d++]],s[26]=r[u[d]>>4],s[27]=r[15&u[d++]],s[28]=r[u[d]>>4],s[29]=r[15&u[d++]],s[30]=r[u[d]>>4],s[31]=r[15&u[d++]],s[32]=r[u[d]>>4],s[33]=r[15&u[d++]],s[34]=r[u[d]>>4],s[35]=r[15&u[d]],String.fromCharCode.apply(null,s)}},79772:e=>{var t="undefined"!==typeof Element,n="function"===typeof Map,r="function"===typeof Set,o="function"===typeof ArrayBuffer&&!!ArrayBuffer.isView;function i(e,a){if(e===a)return!0;if(e&&a&&"object"==typeof e&&"object"==typeof a){if(e.constructor!==a.constructor)return!1;var s,l,c,u;if(Array.isArray(e)){if((s=e.length)!=a.length)return!1;for(l=s;0!==l--;)if(!i(e[l],a[l]))return!1;return!0}if(n&&e instanceof Map&&a instanceof Map){if(e.size!==a.size)return!1;for(u=e.entries();!(l=u.next()).done;)if(!a.has(l.value[0]))return!1;for(u=e.entries();!(l=u.next()).done;)if(!i(l.value[1],a.get(l.value[0])))return!1;return!0}if(r&&e instanceof Set&&a instanceof Set){if(e.size!==a.size)return!1;for(u=e.entries();!(l=u.next()).done;)if(!a.has(l.value[0]))return!1;return!0}if(o&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(a)){if((s=e.length)!=a.length)return!1;for(l=s;0!==l--;)if(e[l]!==a[l])return!1;return!0}if(e.constructor===RegExp)return e.source===a.source&&e.flags===a.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===a.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===a.toString();if((s=(c=Object.keys(e)).length)!==Object.keys(a).length)return!1;for(l=s;0!==l--;)if(!Object.prototype.hasOwnProperty.call(a,c[l]))return!1;if(t&&e instanceof Element)return!1;for(l=s;0!==l--;)if(("_owner"!==c[l]&&"__v"!==c[l]&&"__o"!==c[l]||!e.$$typeof)&&!i(e[c[l]],a[c[l]]))return!1;return!0}return e!==e&&a!==a}e.exports=function(e,t){try{return i(e,t)}catch(n){if((n.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw n}}},93285:(e,t,n)=>{"use strict";n.d(t,{m:()=>se});var r=n(39067),o=n.n(r),i=n(86399),a=n.n(i),s=n(79772),l=n.n(s),c=n(14041),u=n(61513),d=n.n(u),p="bodyAttributes",m="htmlAttributes",h="titleAttributes",g={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"},f=(Object.keys(g).map((function(e){return g[e]})),"charset"),_="cssText",v="href",y="http-equiv",b="innerHTML",S="itemprop",E="name",C="property",T="rel",w="src",I="target",P={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},A="defaultTitle",k="defer",x="encodeSpecialCharacters",R="onChangeClientState",O="titleTemplate",N=Object.keys(P).reduce((function(e,t){return e[P[t]]=t,e}),{}),M=[g.NOSCRIPT,g.SCRIPT,g.STYLE],L="data-react-helmet",D="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},F=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),U=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},B=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n},H=function(e){return!1===(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},G=function(e){var t=X(e,g.TITLE),n=X(e,O);if(n&&t)return n.replace(/%s/g,(function(){return Array.isArray(t)?t.join(""):t}));var r=X(e,A);return t||r||void 0},q=function(e){return X(e,R)||function(){}},j=function(e,t){return t.filter((function(t){return"undefined"!==typeof t[e]})).map((function(t){return t[e]})).reduce((function(e,t){return U({},e,t)}),{})},V=function(e,t){return t.filter((function(e){return"undefined"!==typeof e[g.BASE]})).map((function(e){return e[g.BASE]})).reverse().reduce((function(t,n){if(!t.length)for(var r=Object.keys(n),o=0;o<r.length;o++){var i=r[o].toLowerCase();if(-1!==e.indexOf(i)&&n[i])return t.concat(n)}return t}),[])},z=function(e,t,n){var r={};return n.filter((function(t){return!!Array.isArray(t[e])||("undefined"!==typeof t[e]&&Y("Helmet: "+e+' should be of type "Array". Instead found type "'+D(t[e])+'"'),!1)})).map((function(t){return t[e]})).reverse().reduce((function(e,n){var o={};n.filter((function(e){for(var n=void 0,i=Object.keys(e),a=0;a<i.length;a++){var s=i[a],l=s.toLowerCase();-1===t.indexOf(l)||n===T&&"canonical"===e[n].toLowerCase()||l===T&&"stylesheet"===e[l].toLowerCase()||(n=l),-1===t.indexOf(s)||s!==b&&s!==_&&s!==S||(n=s)}if(!n||!e[n])return!1;var c=e[n].toLowerCase();return r[n]||(r[n]={}),o[n]||(o[n]={}),!r[n][c]&&(o[n][c]=!0,!0)})).reverse().forEach((function(t){return e.push(t)}));for(var i=Object.keys(o),a=0;a<i.length;a++){var s=i[a],l=d()({},r[s],o[s]);r[s]=l}return e}),[]).reverse()},X=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e[n];if(r.hasOwnProperty(t))return r[t]}return null},K=function(){var e=Date.now();return function(t){var n=Date.now();n-e>16?(e=n,t(n)):setTimeout((function(){K(t)}),0)}}(),W=window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||K,$=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||function(e){return clearTimeout(e)},Y=function(e){return console&&"function"===typeof console.warn&&console.warn(e)},Q=null,J=function(e,t){var n=e.baseTag,r=e.bodyAttributes,o=e.htmlAttributes,i=e.linkTags,a=e.metaTags,s=e.noscriptTags,l=e.onChangeClientState,c=e.scriptTags,u=e.styleTags,d=e.title,p=e.titleAttributes;te(g.BODY,r),te(g.HTML,o),ee(d,p);var m={baseTag:ne(g.BASE,n),linkTags:ne(g.LINK,i),metaTags:ne(g.META,a),noscriptTags:ne(g.NOSCRIPT,s),scriptTags:ne(g.SCRIPT,c),styleTags:ne(g.STYLE,u)},h={},f={};Object.keys(m).forEach((function(e){var t=m[e],n=t.newTags,r=t.oldTags;n.length&&(h[e]=n),r.length&&(f[e]=m[e].oldTags)})),t&&t(),l(e,h,f)},Z=function(e){return Array.isArray(e)?e.join(""):e},ee=function(e,t){"undefined"!==typeof e&&document.title!==e&&(document.title=Z(e)),te(g.TITLE,t)},te=function(e,t){var n=document.getElementsByTagName(e)[0];if(n){for(var r=n.getAttribute(L),o=r?r.split(","):[],i=[].concat(o),a=Object.keys(t),s=0;s<a.length;s++){var l=a[s],c=t[l]||"";n.getAttribute(l)!==c&&n.setAttribute(l,c),-1===o.indexOf(l)&&o.push(l);var u=i.indexOf(l);-1!==u&&i.splice(u,1)}for(var d=i.length-1;d>=0;d--)n.removeAttribute(i[d]);o.length===i.length?n.removeAttribute(L):n.getAttribute(L)!==a.join(",")&&n.setAttribute(L,a.join(","))}},ne=function(e,t){var n=document.head||document.querySelector(g.HEAD),r=n.querySelectorAll(e+"["+L+"]"),o=Array.prototype.slice.call(r),i=[],a=void 0;return t&&t.length&&t.forEach((function(t){var n=document.createElement(e);for(var r in t)if(t.hasOwnProperty(r))if(r===b)n.innerHTML=t.innerHTML;else if(r===_)n.styleSheet?n.styleSheet.cssText=t.cssText:n.appendChild(document.createTextNode(t.cssText));else{var s="undefined"===typeof t[r]?"":t[r];n.setAttribute(r,s)}n.setAttribute(L,"true"),o.some((function(e,t){return a=t,n.isEqualNode(e)}))?o.splice(a,1):i.push(n)})),o.forEach((function(e){return e.parentNode.removeChild(e)})),i.forEach((function(e){return n.appendChild(e)})),{oldTags:o,newTags:i}},re=function(e){return Object.keys(e).reduce((function(t,n){var r="undefined"!==typeof e[n]?n+'="'+e[n]+'"':""+n;return t?t+" "+r:r}),"")},oe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(e).reduce((function(t,n){return t[P[n]||n]=e[n],t}),t)},ie=function(e,t,n){switch(e){case g.TITLE:return{toComponent:function(){return function(e,t,n){var r,o=((r={key:t})[L]=!0,r),i=oe(n,o);return[c.createElement(g.TITLE,i,t)]}(0,t.title,t.titleAttributes)},toString:function(){return function(e,t,n,r){var o=re(n),i=Z(t);return o?"<"+e+" "+L+'="true" '+o+">"+H(i,r)+"</"+e+">":"<"+e+" "+L+'="true">'+H(i,r)+"</"+e+">"}(e,t.title,t.titleAttributes,n)}};case p:case m:return{toComponent:function(){return oe(t)},toString:function(){return re(t)}};default:return{toComponent:function(){return function(e,t){return t.map((function(t,n){var r,o=((r={key:n})[L]=!0,r);return Object.keys(t).forEach((function(e){var n=P[e]||e;if(n===b||n===_){var r=t.innerHTML||t.cssText;o.dangerouslySetInnerHTML={__html:r}}else o[n]=t[e]})),c.createElement(e,o)}))}(e,t)},toString:function(){return function(e,t,n){return t.reduce((function(t,r){var o=Object.keys(r).filter((function(e){return!(e===b||e===_)})).reduce((function(e,t){var o="undefined"===typeof r[t]?t:t+'="'+H(r[t],n)+'"';return e?e+" "+o:o}),""),i=r.innerHTML||r.cssText||"",a=-1===M.indexOf(e);return t+"<"+e+" "+L+'="true" '+o+(a?"/>":">"+i+"</"+e+">")}),"")}(e,t,n)}}}},ae=function(e){var t=e.baseTag,n=e.bodyAttributes,r=e.encode,o=e.htmlAttributes,i=e.linkTags,a=e.metaTags,s=e.noscriptTags,l=e.scriptTags,c=e.styleTags,u=e.title,d=void 0===u?"":u,h=e.titleAttributes;return{base:ie(g.BASE,t,r),bodyAttributes:ie(p,n,r),htmlAttributes:ie(m,o,r),link:ie(g.LINK,i,r),meta:ie(g.META,a,r),noscript:ie(g.NOSCRIPT,s,r),script:ie(g.SCRIPT,l,r),style:ie(g.STYLE,c,r),title:ie(g.TITLE,{title:d,titleAttributes:h},r)}},se=function(e){var t,n;return n=t=function(t){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,t.apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,t),n.prototype.shouldComponentUpdate=function(e){return!l()(this.props,e)},n.prototype.mapNestedChildrenToProps=function(e,t){if(!t)return null;switch(e.type){case g.SCRIPT:case g.NOSCRIPT:return{innerHTML:t};case g.STYLE:return{cssText:t}}throw new Error("<"+e.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},n.prototype.flattenArrayTypeChildren=function(e){var t,n=e.child,r=e.arrayTypeChildren,o=e.newChildProps,i=e.nestedChildren;return U({},r,((t={})[n.type]=[].concat(r[n.type]||[],[U({},o,this.mapNestedChildrenToProps(n,i))]),t))},n.prototype.mapObjectTypeChildren=function(e){var t,n,r=e.child,o=e.newProps,i=e.newChildProps,a=e.nestedChildren;switch(r.type){case g.TITLE:return U({},o,((t={})[r.type]=a,t.titleAttributes=U({},i),t));case g.BODY:return U({},o,{bodyAttributes:U({},i)});case g.HTML:return U({},o,{htmlAttributes:U({},i)})}return U({},o,((n={})[r.type]=U({},i),n))},n.prototype.mapArrayTypeChildrenToProps=function(e,t){var n=U({},t);return Object.keys(e).forEach((function(t){var r;n=U({},n,((r={})[t]=e[t],r))})),n},n.prototype.warnOnInvalidChildren=function(e,t){return!0},n.prototype.mapChildrenToProps=function(e,t){var n=this,r={};return c.Children.forEach(e,(function(e){if(e&&e.props){var o=e.props,i=o.children,a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(e).reduce((function(t,n){return t[N[n]||n]=e[n],t}),t)}(B(o,["children"]));switch(n.warnOnInvalidChildren(e,i),e.type){case g.LINK:case g.META:case g.NOSCRIPT:case g.SCRIPT:case g.STYLE:r=n.flattenArrayTypeChildren({child:e,arrayTypeChildren:r,newChildProps:a,nestedChildren:i});break;default:t=n.mapObjectTypeChildren({child:e,newProps:t,newChildProps:a,nestedChildren:i})}}})),t=this.mapArrayTypeChildrenToProps(r,t)},n.prototype.render=function(){var t=this.props,n=t.children,r=B(t,["children"]),o=U({},r);return n&&(o=this.mapChildrenToProps(n,o)),c.createElement(e,o)},F(n,null,[{key:"canUseDOM",set:function(t){e.canUseDOM=t}}]),n}(c.Component),t.propTypes={base:o().object,bodyAttributes:o().object,children:o().oneOfType([o().arrayOf(o().node),o().node]),defaultTitle:o().string,defer:o().bool,encodeSpecialCharacters:o().bool,htmlAttributes:o().object,link:o().arrayOf(o().object),meta:o().arrayOf(o().object),noscript:o().arrayOf(o().object),onChangeClientState:o().func,script:o().arrayOf(o().object),style:o().arrayOf(o().object),title:o().string,titleAttributes:o().object,titleTemplate:o().string},t.defaultProps={defer:!0,encodeSpecialCharacters:!0},t.peek=e.peek,t.rewind=function(){var t=e.rewind();return t||(t=ae({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),t},n}(a()((function(e){return{baseTag:V([v,I],e),bodyAttributes:j(p,e),defer:X(e,k),encode:X(e,x),htmlAttributes:j(m,e),linkTags:z(g.LINK,[T,v],e),metaTags:z(g.META,[E,f,y,C,S],e),noscriptTags:z(g.NOSCRIPT,[b],e),onChangeClientState:q(e),scriptTags:z(g.SCRIPT,[w,b],e),styleTags:z(g.STYLE,[_],e),title:G(e),titleAttributes:j(h,e)}}),(function(e){Q&&$(Q),e.defer?Q=W((function(){J(e,(function(){Q=null}))})):(J(e),Q=null)}),ae)((function(){return null})));se.renderStatic=se.rewind},90320:(e,t)=>{"use strict";var n,r=Symbol.for("react.element"),o=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),f=Symbol.for("react.offscreen");function _(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case i:case s:case a:case p:case m:return e;default:switch(e=e&&e.$$typeof){case u:case c:case d:case g:case h:case l:return e;default:return t}}case o:return t}}}n=Symbol.for("react.module.reference"),t.isContextConsumer=function(e){return _(e)===c}},524:(e,t,n)=>{"use strict";e.exports=n(90320)},33664:(e,t,n)=>{"use strict";n.d(t,{Kd:()=>u,N_:()=>f});var r=n(86090),o=n(50701),i=n(14041),a=n(69074),s=n(89575),l=n(17502),c=n(37730),u=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).history=(0,a.zR)(t.props),t}return(0,o.A)(t,e),t.prototype.render=function(){return i.createElement(r.Ix,{history:this.history,children:this.props.children})},t}(i.Component);i.Component;var d=function(e,t){return"function"===typeof e?e(t):e},p=function(e,t){return"string"===typeof e?(0,a.yJ)(e,null,null,t):e},m=function(e){return e},h=i.forwardRef;"undefined"===typeof h&&(h=m);var g=h((function(e,t){var n=e.innerRef,r=e.navigate,o=e.onClick,a=(0,l.A)(e,["innerRef","navigate","onClick"]),c=a.target,u=(0,s.A)({},a,{onClick:function(e){try{o&&o(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||c&&"_self"!==c||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),r())}});return u.ref=m!==h&&t||n,i.createElement("a",u)}));var f=h((function(e,t){var n=e.component,o=void 0===n?g:n,u=e.replace,f=e.to,_=e.innerRef,v=(0,l.A)(e,["component","replace","to","innerRef"]);return i.createElement(r.XZ.Consumer,null,(function(e){e||(0,c.A)(!1);var n=e.history,r=p(d(f,e.location),e.location),l=r?n.createHref(r):"",g=(0,s.A)({},v,{href:l,navigate:function(){var t=d(f,e.location),r=(0,a.AO)(e.location)===(0,a.AO)(p(t));(u||r?n.replace:n.push)(t)}});return m!==h?g.ref=t||_:g.innerRef=_,i.createElement(o,g)}))})),_=function(e){return e},v=i.forwardRef;"undefined"===typeof v&&(v=_);v((function(e,t){var n=e["aria-current"],o=void 0===n?"page":n,a=e.activeClassName,u=void 0===a?"active":a,m=e.activeStyle,h=e.className,g=e.exact,y=e.isActive,b=e.location,S=e.sensitive,E=e.strict,C=e.style,T=e.to,w=e.innerRef,I=(0,l.A)(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return i.createElement(r.XZ.Consumer,null,(function(e){e||(0,c.A)(!1);var n=b||e.location,a=p(d(T,n),n),l=a.pathname,P=l&&l.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),A=P?(0,r.B6)(n.pathname,{path:P,exact:g,sensitive:S,strict:E}):null,k=!!(y?y(A,n):A),x="function"===typeof h?h(k):h,R="function"===typeof C?C(k):C;k&&(x=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}(x,u),R=(0,s.A)({},R,m));var O=(0,s.A)({"aria-current":k&&o||null,className:x,style:R,to:a},I);return _!==v?O.ref=t||w:O.innerRef=w,i.createElement(f,O)}))}))},86090:(e,t,n)=>{"use strict";n.d(t,{B6:()=>k,Ix:()=>y,W5:()=>G,W6:()=>U,XZ:()=>v,dO:()=>D,g:()=>H,qh:()=>x,rd:()=>w,tW:()=>T,zy:()=>B});var r=n(50701),o=n(14041),i=n(39067),a=n.n(i),s=n(69074),l=n(37730),c=n(89575),u=n(82402),d=n.n(u),p=(n(35919),n(17502)),m=(n(75985),1073741823),h="undefined"!==typeof globalThis?globalThis:window;var g=o.createContext||function(e,t){var n,i,s="__create-react-context-"+function(){var e="__global_unique_id__";return h[e]=(h[e]||0)+1}()+"__",l=function(e){function n(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).emitter=function(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(n,r){e=n,t.forEach((function(t){return t(e,r)}))}}}(t.props.value),t}(0,r.A)(n,e);var o=n.prototype;return o.getChildContext=function(){var e;return(e={})[s]=this.emitter,e},o.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var n,r=this.props.value,o=e.value;((i=r)===(a=o)?0!==i||1/i===1/a:i!==i&&a!==a)?n=0:(n="function"===typeof t?t(r,o):m,0!==(n|=0)&&this.emitter.set(e.value,n))}var i,a},o.render=function(){return this.props.children},n}(o.Component);l.childContextTypes=((n={})[s]=a().object.isRequired,n);var c=function(t){function n(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))||this).observedBits=void 0,e.state={value:e.getValue()},e.onUpdate=function(t,n){0!==((0|e.observedBits)&n)&&e.setState({value:e.getValue()})},e}(0,r.A)(n,t);var o=n.prototype;return o.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=void 0===t||null===t?m:t},o.componentDidMount=function(){this.context[s]&&this.context[s].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=void 0===e||null===e?m:e},o.componentWillUnmount=function(){this.context[s]&&this.context[s].off(this.onUpdate)},o.getValue=function(){return this.context[s]?this.context[s].get():e},o.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(o.Component);return c.contextTypes=((i={})[s]=a().object,i),{Provider:l,Consumer:c}},f=function(e){var t=g();return t.displayName=e,t},_=f("Router-History"),v=f("Router"),y=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={location:t.history.location},n._isMounted=!1,n._pendingLocation=null,t.staticContext||(n.unlisten=t.history.listen((function(e){n._pendingLocation=e}))),n}(0,r.A)(t,e),t.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var n=t.prototype;return n.componentDidMount=function(){var e=this;this._isMounted=!0,this.unlisten&&this.unlisten(),this.props.staticContext||(this.unlisten=this.props.history.listen((function(t){e._isMounted&&e.setState({location:t})}))),this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},n.render=function(){return o.createElement(v.Provider,{value:{history:this.props.history,location:this.state.location,match:t.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},o.createElement(_.Provider,{children:this.props.children||null,value:this.props.history}))},t}(o.Component);o.Component;var b=function(e){function t(){return e.apply(this,arguments)||this}(0,r.A)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.onMount&&this.props.onMount.call(this,this)},n.componentDidUpdate=function(e){this.props.onUpdate&&this.props.onUpdate.call(this,this,e)},n.componentWillUnmount=function(){this.props.onUnmount&&this.props.onUnmount.call(this,this)},n.render=function(){return null},t}(o.Component);var S={},E=1e4,C=0;function T(e,t){return void 0===e&&(e="/"),void 0===t&&(t={}),"/"===e?e:function(e){if(S[e])return S[e];var t=d().compile(e);return C<E&&(S[e]=t,C++),t}(e)(t,{pretty:!0})}function w(e){var t=e.computedMatch,n=e.to,r=e.push,i=void 0!==r&&r;return o.createElement(v.Consumer,null,(function(e){e||(0,l.A)(!1);var r=e.history,a=e.staticContext,u=i?r.push:r.replace,d=(0,s.yJ)(t?"string"===typeof n?T(n,t.params):(0,c.A)({},n,{pathname:T(n.pathname,t.params)}):n);return a?(u(d),null):o.createElement(b,{onMount:function(){u(d)},onUpdate:function(e,t){var n=(0,s.yJ)(t.to);(0,s.Fu)(n,(0,c.A)({},d,{key:n.key}))||u(d)},to:n})}))}var I={},P=1e4,A=0;function k(e,t){void 0===t&&(t={}),("string"===typeof t||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,o=n.exact,i=void 0!==o&&o,a=n.strict,s=void 0!==a&&a,l=n.sensitive,c=void 0!==l&&l;return[].concat(r).reduce((function(t,n){if(!n&&""!==n)return null;if(t)return t;var r=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=I[n]||(I[n]={});if(r[e])return r[e];var o=[],i={regexp:d()(e,o,t),keys:o};return A<P&&(r[e]=i,A++),i}(n,{end:i,strict:s,sensitive:c}),o=r.regexp,a=r.keys,l=o.exec(e);if(!l)return null;var u=l[0],p=l.slice(1),m=e===u;return i&&!m?null:{path:n,url:"/"===n&&""===u?"/":u,isExact:m,params:a.reduce((function(e,t,n){return e[t.name]=p[n],e}),{})}}),null)}var x=function(e){function t(){return e.apply(this,arguments)||this}return(0,r.A)(t,e),t.prototype.render=function(){var e=this;return o.createElement(v.Consumer,null,(function(t){t||(0,l.A)(!1);var n=e.props.location||t.location,r=e.props.computedMatch?e.props.computedMatch:e.props.path?k(n.pathname,e.props):t.match,i=(0,c.A)({},t,{location:n,match:r}),a=e.props,s=a.children,u=a.component,d=a.render;return Array.isArray(s)&&function(e){return 0===o.Children.count(e)}(s)&&(s=null),o.createElement(v.Provider,{value:i},i.match?s?"function"===typeof s?s(i):s:u?o.createElement(u,i):d?d(i):null:"function"===typeof s?s(i):null)}))},t}(o.Component);function R(e){return"/"===e.charAt(0)?e:"/"+e}function O(e,t){if(!e)return t;var n=R(e);return 0!==t.pathname.indexOf(n)?t:(0,c.A)({},t,{pathname:t.pathname.substr(n.length)})}function N(e){return"string"===typeof e?e:(0,s.AO)(e)}function M(e){return function(){(0,l.A)(!1)}}function L(){}o.Component;var D=function(e){function t(){return e.apply(this,arguments)||this}return(0,r.A)(t,e),t.prototype.render=function(){var e=this;return o.createElement(v.Consumer,null,(function(t){t||(0,l.A)(!1);var n,r,i=e.props.location||t.location;return o.Children.forEach(e.props.children,(function(e){if(null==r&&o.isValidElement(e)){n=e;var a=e.props.path||e.props.from;r=a?k(i.pathname,(0,c.A)({},e.props,{path:a})):t.match}})),r?o.cloneElement(n,{location:i,computedMatch:r}):null}))},t}(o.Component);var F=o.useContext;function U(){return F(_)}function B(){return F(v).location}function H(){var e=F(v).match;return e?e.params:{}}function G(e){var t=B(),n=F(v).match;return e?k(t.pathname,e):n}},93150:e=>{e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},82402:(e,t,n)=>{var r=n(93150);e.exports=h,e.exports.parse=i,e.exports.compile=function(e,t){return l(i(e,t),t)},e.exports.tokensToFunction=l,e.exports.tokensToRegExp=m;var o=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function i(e,t){for(var n,r=[],i=0,s=0,l="",c=t&&t.delimiter||"/";null!=(n=o.exec(e));){var d=n[0],p=n[1],m=n.index;if(l+=e.slice(s,m),s=m+d.length,p)l+=p[1];else{var h=e[s],g=n[2],f=n[3],_=n[4],v=n[5],y=n[6],b=n[7];l&&(r.push(l),l="");var S=null!=g&&null!=h&&h!==g,E="+"===y||"*"===y,C="?"===y||"*"===y,T=g||c,w=_||v,I=g||("string"===typeof r[r.length-1]?r[r.length-1]:"");r.push({name:f||i++,prefix:g||"",delimiter:T,optional:C,repeat:E,partial:S,asterisk:!!b,pattern:w?u(w):b?".*":a(T,I)})}}return s<e.length&&(l+=e.substr(s)),l&&r.push(l),r}function a(e,t){return!t||t.indexOf(e)>-1?"[^"+c(e)+"]+?":c(t)+"|(?:(?!"+c(t)+")[^"+c(e)+"])+?"}function s(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function l(e,t){for(var n=new Array(e.length),o=0;o<e.length;o++)"object"===typeof e[o]&&(n[o]=new RegExp("^(?:"+e[o].pattern+")$",p(t)));return function(t,o){for(var i="",a=t||{},l=(o||{}).pretty?s:encodeURIComponent,c=0;c<e.length;c++){var u=e[c];if("string"!==typeof u){var d,p=a[u.name];if(null==p){if(u.optional){u.partial&&(i+=u.prefix);continue}throw new TypeError('Expected "'+u.name+'" to be defined')}if(r(p)){if(!u.repeat)throw new TypeError('Expected "'+u.name+'" to not repeat, but received `'+JSON.stringify(p)+"`");if(0===p.length){if(u.optional)continue;throw new TypeError('Expected "'+u.name+'" to not be empty')}for(var m=0;m<p.length;m++){if(d=l(p[m]),!n[c].test(d))throw new TypeError('Expected all "'+u.name+'" to match "'+u.pattern+'", but received `'+JSON.stringify(d)+"`");i+=(0===m?u.prefix:u.delimiter)+d}}else{if(d=u.asterisk?encodeURI(p).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):l(p),!n[c].test(d))throw new TypeError('Expected "'+u.name+'" to match "'+u.pattern+'", but received "'+d+'"');i+=u.prefix+d}}else i+=u}return i}}function c(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function u(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function d(e,t){return e.keys=t,e}function p(e){return e&&e.sensitive?"":"i"}function m(e,t,n){r(t)||(n=t||n,t=[]);for(var o=(n=n||{}).strict,i=!1!==n.end,a="",s=0;s<e.length;s++){var l=e[s];if("string"===typeof l)a+=c(l);else{var u=c(l.prefix),m="(?:"+l.pattern+")";t.push(l),l.repeat&&(m+="(?:"+u+m+")*"),a+=m=l.optional?l.partial?u+"("+m+")?":"(?:"+u+"("+m+"))?":u+"("+m+")"}}var h=c(n.delimiter||"/"),g=a.slice(-h.length)===h;return o||(a=(g?a.slice(0,-h.length):a)+"(?:"+h+"(?=$))?"),a+=i?"$":o&&g?"":"(?="+h+"|$)",d(new RegExp("^"+a,p(n)),t)}function h(e,t,n){return r(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return d(e,t)}(e,t):r(e)?function(e,t,n){for(var r=[],o=0;o<e.length;o++)r.push(h(e[o],t,n).source);return d(new RegExp("(?:"+r.join("|")+")",p(n)),t)}(e,t,n):function(e,t,n){return m(i(e,n),t,n)}(e,t,n)}},31451:(e,t)=>{"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,o=n?Symbol.for("react.portal"):60106,i=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,p=n?Symbol.for("react.forward_ref"):60112,m=n?Symbol.for("react.suspense"):60113,h=n?Symbol.for("react.suspense_list"):60120,g=n?Symbol.for("react.memo"):60115,f=n?Symbol.for("react.lazy"):60116,_=n?Symbol.for("react.block"):60121,v=n?Symbol.for("react.fundamental"):60117,y=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function S(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case u:case d:case i:case s:case a:case m:return e;default:switch(e=e&&e.$$typeof){case c:case p:case f:case g:case l:return e;default:return t}}case o:return t}}}function E(e){return S(e)===d}},35919:(e,t,n)=>{"use strict";n(31451)},86399:(e,t,n)=>{"use strict";var r,o=n(14041),i=(r=o)&&"object"===typeof r&&"default"in r?r.default:r;function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=!(!window.document||!window.document.createElement);e.exports=function(e,t,n){if("function"!==typeof e)throw new Error("Expected reducePropsToState to be a function.");if("function"!==typeof t)throw new Error("Expected handleStateChangeOnClient to be a function.");if("undefined"!==typeof n&&"function"!==typeof n)throw new Error("Expected mapStateOnServer to either be undefined or a function.");return function(r){if("function"!==typeof r)throw new Error("Expected WrappedComponent to be a React component.");var l,c=[];function u(){l=e(c.map((function(e){return e.props}))),d.canUseDOM?t(l):n&&(l=n(l))}var d=function(e){var t,n;function o(){return e.apply(this,arguments)||this}n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,o.peek=function(){return l},o.rewind=function(){if(o.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var e=l;return l=void 0,c=[],e};var a=o.prototype;return a.UNSAFE_componentWillMount=function(){c.push(this),u()},a.componentDidUpdate=function(){u()},a.componentWillUnmount=function(){var e=c.indexOf(this);c.splice(e,1),u()},a.render=function(){return i.createElement(r,this.props)},o}(o.PureComponent);return a(d,"displayName","SideEffect("+function(e){return e.displayName||e.name||"Component"}(r)+")"),a(d,"canUseDOM",s),d}}},80503:(e,t,n)=>{"use strict";n.d(t,{A:()=>p});var r=n(89575),o=n(17502),i=n(50701);function a(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}var s=n(14041),l=n(79392),c=n(5678),u=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return r=t,void((n=e).classList?n.classList.remove(r):"string"===typeof n.className?n.className=a(n.className,r):n.setAttribute("class",a(n.className&&n.className.baseVal||"",r)));var n,r}))},d=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).appliedClasses={appear:{},enter:{},exit:{}},t.onEnter=function(e,n){var r=t.resolveArguments(e,n),o=r[0],i=r[1];t.removeClasses(o,"exit"),t.addClass(o,i?"appear":"enter","base"),t.props.onEnter&&t.props.onEnter(e,n)},t.onEntering=function(e,n){var r=t.resolveArguments(e,n),o=r[0],i=r[1]?"appear":"enter";t.addClass(o,i,"active"),t.props.onEntering&&t.props.onEntering(e,n)},t.onEntered=function(e,n){var r=t.resolveArguments(e,n),o=r[0],i=r[1]?"appear":"enter";t.removeClasses(o,i),t.addClass(o,i,"done"),t.props.onEntered&&t.props.onEntered(e,n)},t.onExit=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"appear"),t.removeClasses(n,"enter"),t.addClass(n,"exit","base"),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var n=t.resolveArguments(e)[0];t.addClass(n,"exit","active"),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"exit"),t.addClass(n,"exit","done"),t.props.onExited&&t.props.onExited(e)},t.resolveArguments=function(e,n){return t.props.nodeRef?[t.props.nodeRef.current,e]:[e,n]},t.getClassNames=function(e){var n=t.props.classNames,r="string"===typeof n,o=r?""+(r&&n?n+"-":"")+e:n[e];return{baseClassName:o,activeClassName:r?o+"-active":n[e+"Active"],doneClassName:r?o+"-done":n[e+"Done"]}},t}(0,i.A)(t,e);var n=t.prototype;return n.addClass=function(e,t,n){var r=this.getClassNames(t)[n+"ClassName"],o=this.getClassNames("enter").doneClassName;"appear"===t&&"done"===n&&o&&(r+=" "+o),"active"===n&&e&&(0,c.F)(e),r&&(this.appliedClasses[t][n]=r,function(e,t){e&&t&&t.split(" ").forEach((function(t){return r=t,void((n=e).classList?n.classList.add(r):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(n,r)||("string"===typeof n.className?n.className=n.className+" "+r:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+r)));var n,r}))}(e,r))},n.removeClasses=function(e,t){var n=this.appliedClasses[t],r=n.base,o=n.active,i=n.done;this.appliedClasses[t]={},r&&u(e,r),o&&u(e,o),i&&u(e,i)},n.render=function(){var e=this.props,t=(e.classNames,(0,o.A)(e,["classNames"]));return s.createElement(l.Ay,(0,r.A)({},t,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(s.Component);d.defaultProps={classNames:""},d.propTypes={};const p=d},17710:(e,t,n)=>{"use strict";n.d(t,{A:()=>g});var r,o,i=n(50701),a=n(14041),s=n(79392),l=n(39548);var c="out-in",u="in-out",d=function(e,t,n){return function(){var r;e.props[t]&&(r=e.props)[t].apply(r,arguments),n()}},p=((r={})[c]=function(e){var t=e.current,n=e.changeState;return a.cloneElement(t,{in:!1,onExited:d(t,"onExited",(function(){n(s.ns,null)}))})},r[u]=function(e){var t=e.current,n=e.changeState,r=e.children;return[t,a.cloneElement(r,{in:!0,onEntered:d(r,"onEntered",(function(){n(s.ns)}))})]},r),m=((o={})[c]=function(e){var t=e.children,n=e.changeState;return a.cloneElement(t,{in:!0,onEntered:d(t,"onEntered",(function(){n(s._K,a.cloneElement(t,{in:!0}))}))})},o[u]=function(e){var t=e.current,n=e.children,r=e.changeState;return[a.cloneElement(t,{in:!1,onExited:d(t,"onExited",(function(){r(s._K,a.cloneElement(n,{in:!0}))}))}),a.cloneElement(n,{in:!0})]},o),h=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).state={status:s._K,current:null},t.appeared=!1,t.changeState=function(e,n){void 0===n&&(n=t.state.current),t.setState({status:e,current:n})},t}(0,i.A)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.appeared=!0},t.getDerivedStateFromProps=function(e,t){return null==e.children?{current:null}:t.status===s.ns&&e.mode===u?{status:s.ns}:!t.current||(n=t.current,r=e.children,n===r||a.isValidElement(n)&&a.isValidElement(r)&&null!=n.key&&n.key===r.key)?{current:a.cloneElement(e.children,{in:!0})}:{status:s.ze};var n,r},n.render=function(){var e,t=this.props,n=t.children,r=t.mode,o=this.state,i=o.status,c=o.current,u={children:n,current:c,changeState:this.changeState,status:i};switch(i){case s.ns:e=m[r](u);break;case s.ze:e=p[r](u);break;case s._K:e=c}return a.createElement(l.A.Provider,{value:{isMounting:!this.appeared}},e)},t}(a.Component);h.propTypes={},h.defaultProps={mode:c};const g=h},79392:(e,t,n)=>{"use strict";n.d(t,{_K:()=>m,ns:()=>p,ze:()=>h,Ay:()=>_});var r=n(17502),o=n(50701),i=n(14041),a=n(43144);const s=!1;var l=n(39548),c=n(5678),u="unmounted",d="exited",p="entering",m="entered",h="exiting",g=function(e){function t(t,n){var r;r=e.call(this,t,n)||this;var o,i=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?i?(o=d,r.appearStatus=p):o=m:o=t.unmountOnExit||t.mountOnEnter?u:d,r.state={status:o},r.nextCallback=null,r}(0,o.A)(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===u?{status:d}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==p&&n!==m&&(t=p):n!==p&&n!==m||(t=h)}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===p){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:a.findDOMNode(this);n&&(0,c.F)(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===d&&this.setState({status:u})},n.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,o=this.props.nodeRef?[r]:[a.findDOMNode(this),r],i=o[0],l=o[1],c=this.getTimeouts(),u=r?c.appear:c.enter;!e&&!n||s?this.safeSetState({status:m},(function(){t.props.onEntered(i)})):(this.props.onEnter(i,l),this.safeSetState({status:p},(function(){t.props.onEntering(i,l),t.onTransitionEnd(u,(function(){t.safeSetState({status:m},(function(){t.props.onEntered(i,l)}))}))})))},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:a.findDOMNode(this);t&&!s?(this.props.onExit(r),this.safeSetState({status:h},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:d},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:d},(function(){e.props.onExited(r)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:a.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var o=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],i=o[0],s=o[1];this.props.addEndListener(i,s)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if(e===u)return null;var t=this.props,n=t.children,o=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,(0,r.A)(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return i.createElement(l.A.Provider,{value:null},"function"===typeof n?n(e,o):i.cloneElement(i.Children.only(n),o))},t}(i.Component);function f(){}g.contextType=l.A,g.propTypes={},g.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:f,onEntering:f,onEntered:f,onExit:f,onExiting:f,onExited:f},g.UNMOUNTED=u,g.EXITED=d,g.ENTERING=p,g.ENTERED=m,g.EXITING=h;const _=g},39548:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=n(14041).createContext(null)},5678:(e,t,n)=>{"use strict";n.d(t,{F:()=>r});var r=function(e){return e.scrollTop}},64036:(e,t,n)=>{"use strict";t.$y=void 0;var r=n(82419),o=function(){var e=[],t=[],n=void 0;return{enhancer:function(e){return n=e,function(e){return function(n){return r.compose.apply(void 0,t)(e)(n)}}},addMiddleware:function(){for(var r,o,i=arguments.length,a=Array(i),s=0;s<i;s++)a[s]=arguments[s];(r=t).push.apply(r,a.map((function(e){return e(n)}))),(o=e).push.apply(o,a)},removeMiddleware:function(n){var r=e.findIndex((function(e){return e===n}));-1!==r?(e=e.filter((function(e,t){return t!==r})),t=t.filter((function(e,t){return t!==r}))):console.error("Middleware does not exist!",n)},resetMiddlewares:function(){t=[],e=[]}}},i=o();i.enhancer,i.addMiddleware,i.removeMiddleware,i.resetMiddlewares,t.$y=o},52326:(e,t,n)=>{var r;!function(e){!function(t){var r="object"===typeof n.g?n.g:"object"===typeof self?self:"object"===typeof this?this:Function("return this;")(),o=i(e);function i(e,t){return function(n,r){"function"!==typeof e[n]&&Object.defineProperty(e,n,{configurable:!0,writable:!0,value:r}),t&&t(n,r)}}"undefined"===typeof r.Reflect?r.Reflect=e:o=i(r.Reflect,o),function(e){var t=Object.prototype.hasOwnProperty,n="function"===typeof Symbol,r=n&&"undefined"!==typeof Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",o=n&&"undefined"!==typeof Symbol.iterator?Symbol.iterator:"@@iterator",i="function"===typeof Object.create,a={__proto__:[]}instanceof Array,s=!i&&!a,l={create:i?function(){return re(Object.create(null))}:a?function(){return re({__proto__:null})}:function(){return re({})},has:s?function(e,n){return t.call(e,n)}:function(e,t){return t in e},get:s?function(e,n){return t.call(e,n)?e[n]:void 0}:function(e,t){return e[t]}},c=Object.getPrototypeOf(Function),u="object"===typeof process&&"true"==="MISSING_ENV_VAR".REFLECT_METADATA_USE_MAP_POLYFILL,d=u||"function"!==typeof Map||"function"!==typeof Map.prototype.entries?ee():Map,p=u||"function"!==typeof Set||"function"!==typeof Set.prototype.entries?te():Set,m=new(u||"function"!==typeof WeakMap?ne():WeakMap);function h(e,t,n,r){if(L(n)){if(!V(e))throw new TypeError;if(!X(t))throw new TypeError;return T(e,t)}if(!V(e))throw new TypeError;if(!U(t))throw new TypeError;if(!U(r)&&!L(r)&&!D(r))throw new TypeError;return D(r)&&(r=void 0),w(e,t,n=j(n),r)}function g(e,t){function n(n,r){if(!U(n))throw new TypeError;if(!L(r)&&!K(r))throw new TypeError;R(e,t,n,r)}return n}function f(e,t,n,r){if(!U(n))throw new TypeError;return L(r)||(r=j(r)),R(e,t,n,r)}function _(e,t,n){if(!U(t))throw new TypeError;return L(n)||(n=j(n)),P(e,t,n)}function v(e,t,n){if(!U(t))throw new TypeError;return L(n)||(n=j(n)),A(e,t,n)}function y(e,t,n){if(!U(t))throw new TypeError;return L(n)||(n=j(n)),k(e,t,n)}function b(e,t,n){if(!U(t))throw new TypeError;return L(n)||(n=j(n)),x(e,t,n)}function S(e,t){if(!U(e))throw new TypeError;return L(t)||(t=j(t)),O(e,t)}function E(e,t){if(!U(e))throw new TypeError;return L(t)||(t=j(t)),N(e,t)}function C(e,t,n){if(!U(t))throw new TypeError;L(n)||(n=j(n));var r=I(t,n,!1);if(L(r))return!1;if(!r.delete(e))return!1;if(r.size>0)return!0;var o=m.get(t);return o.delete(n),o.size>0||m.delete(t),!0}function T(e,t){for(var n=e.length-1;n>=0;--n){var r=(0,e[n])(t);if(!L(r)&&!D(r)){if(!X(r))throw new TypeError;t=r}}return t}function w(e,t,n,r){for(var o=e.length-1;o>=0;--o){var i=(0,e[o])(t,n,r);if(!L(i)&&!D(i)){if(!U(i))throw new TypeError;r=i}}return r}function I(e,t,n){var r=m.get(e);if(L(r)){if(!n)return;r=new d,m.set(e,r)}var o=r.get(t);if(L(o)){if(!n)return;o=new d,r.set(t,o)}return o}function P(e,t,n){if(A(e,t,n))return!0;var r=Z(t);return!D(r)&&P(e,r,n)}function A(e,t,n){var r=I(t,n,!1);return!L(r)&&G(r.has(e))}function k(e,t,n){if(A(e,t,n))return x(e,t,n);var r=Z(t);return D(r)?void 0:k(e,r,n)}function x(e,t,n){var r=I(t,n,!1);if(!L(r))return r.get(e)}function R(e,t,n,r){I(n,r,!0).set(e,t)}function O(e,t){var n=N(e,t),r=Z(e);if(null===r)return n;var o=O(r,t);if(o.length<=0)return n;if(n.length<=0)return o;for(var i=new p,a=[],s=0,l=n;s<l.length;s++){var c=l[s];i.has(c)||(i.add(c),a.push(c))}for(var u=0,d=o;u<d.length;u++){c=d[u];i.has(c)||(i.add(c),a.push(c))}return a}function N(e,t){var n=[],r=I(e,t,!1);if(L(r))return n;for(var o=$(r.keys()),i=0;;){var a=Q(o);if(!a)return n.length=i,n;var s=Y(a);try{n[i]=s}catch(l){try{J(o)}finally{throw l}}i++}}function M(e){if(null===e)return 1;switch(typeof e){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===e?1:6;default:return 6}}function L(e){return void 0===e}function D(e){return null===e}function F(e){return"symbol"===typeof e}function U(e){return"object"===typeof e?null!==e:"function"===typeof e}function B(e,t){switch(M(e)){case 0:case 1:case 2:case 3:case 4:case 5:return e}var n=3===t?"string":5===t?"number":"default",o=W(e,r);if(void 0!==o){var i=o.call(e,n);if(U(i))throw new TypeError;return i}return H(e,"default"===n?"number":n)}function H(e,t){if("string"===t){var n=e.toString;if(z(n))if(!U(o=n.call(e)))return o;if(z(r=e.valueOf))if(!U(o=r.call(e)))return o}else{var r;if(z(r=e.valueOf))if(!U(o=r.call(e)))return o;var o,i=e.toString;if(z(i))if(!U(o=i.call(e)))return o}throw new TypeError}function G(e){return!!e}function q(e){return""+e}function j(e){var t=B(e,3);return F(t)?t:q(t)}function V(e){return Array.isArray?Array.isArray(e):e instanceof Object?e instanceof Array:"[object Array]"===Object.prototype.toString.call(e)}function z(e){return"function"===typeof e}function X(e){return"function"===typeof e}function K(e){switch(M(e)){case 3:case 4:return!0;default:return!1}}function W(e,t){var n=e[t];if(void 0!==n&&null!==n){if(!z(n))throw new TypeError;return n}}function $(e){var t=W(e,o);if(!z(t))throw new TypeError;var n=t.call(e);if(!U(n))throw new TypeError;return n}function Y(e){return e.value}function Q(e){var t=e.next();return!t.done&&t}function J(e){var t=e.return;t&&t.call(e)}function Z(e){var t=Object.getPrototypeOf(e);if("function"!==typeof e||e===c)return t;if(t!==c)return t;var n=e.prototype,r=n&&Object.getPrototypeOf(n);if(null==r||r===Object.prototype)return t;var o=r.constructor;return"function"!==typeof o||o===e?t:o}function ee(){var e={},t=[],n=function(){function e(e,t,n){this._index=0,this._keys=e,this._values=t,this._selector=n}return e.prototype["@@iterator"]=function(){return this},e.prototype[o]=function(){return this},e.prototype.next=function(){var e=this._index;if(e>=0&&e<this._keys.length){var n=this._selector(this._keys[e],this._values[e]);return e+1>=this._keys.length?(this._index=-1,this._keys=t,this._values=t):this._index++,{value:n,done:!1}}return{value:void 0,done:!0}},e.prototype.throw=function(e){throw this._index>=0&&(this._index=-1,this._keys=t,this._values=t),e},e.prototype.return=function(e){return this._index>=0&&(this._index=-1,this._keys=t,this._values=t),{value:e,done:!0}},e}();return function(){function t(){this._keys=[],this._values=[],this._cacheKey=e,this._cacheIndex=-2}return Object.defineProperty(t.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),t.prototype.has=function(e){return this._find(e,!1)>=0},t.prototype.get=function(e){var t=this._find(e,!1);return t>=0?this._values[t]:void 0},t.prototype.set=function(e,t){var n=this._find(e,!0);return this._values[n]=t,this},t.prototype.delete=function(t){var n=this._find(t,!1);if(n>=0){for(var r=this._keys.length,o=n+1;o<r;o++)this._keys[o-1]=this._keys[o],this._values[o-1]=this._values[o];return this._keys.length--,this._values.length--,t===this._cacheKey&&(this._cacheKey=e,this._cacheIndex=-2),!0}return!1},t.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=e,this._cacheIndex=-2},t.prototype.keys=function(){return new n(this._keys,this._values,r)},t.prototype.values=function(){return new n(this._keys,this._values,i)},t.prototype.entries=function(){return new n(this._keys,this._values,a)},t.prototype["@@iterator"]=function(){return this.entries()},t.prototype[o]=function(){return this.entries()},t.prototype._find=function(e,t){return this._cacheKey!==e&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=e)),this._cacheIndex<0&&t&&(this._cacheIndex=this._keys.length,this._keys.push(e),this._values.push(void 0)),this._cacheIndex},t}();function r(e,t){return e}function i(e,t){return t}function a(e,t){return[e,t]}}function te(){return function(){function e(){this._map=new d}return Object.defineProperty(e.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),e.prototype.has=function(e){return this._map.has(e)},e.prototype.add=function(e){return this._map.set(e,e),this},e.prototype.delete=function(e){return this._map.delete(e)},e.prototype.clear=function(){this._map.clear()},e.prototype.keys=function(){return this._map.keys()},e.prototype.values=function(){return this._map.values()},e.prototype.entries=function(){return this._map.entries()},e.prototype["@@iterator"]=function(){return this.keys()},e.prototype[o]=function(){return this.keys()},e}()}function ne(){var e=16,n=l.create(),r=o();return function(){function e(){this._key=o()}return e.prototype.has=function(e){var t=i(e,!1);return void 0!==t&&l.has(t,this._key)},e.prototype.get=function(e){var t=i(e,!1);return void 0!==t?l.get(t,this._key):void 0},e.prototype.set=function(e,t){return i(e,!0)[this._key]=t,this},e.prototype.delete=function(e){var t=i(e,!1);return void 0!==t&&delete t[this._key]},e.prototype.clear=function(){this._key=o()},e}();function o(){var e;do{e="@@WeakMap@@"+c()}while(l.has(n,e));return n[e]=!0,e}function i(e,n){if(!t.call(e,r)){if(!n)return;Object.defineProperty(e,r,{value:l.create()})}return e[r]}function a(e,t){for(var n=0;n<t;++n)e[n]=255*Math.random()|0;return e}function s(e){return"function"===typeof Uint8Array?"undefined"!==typeof crypto?crypto.getRandomValues(new Uint8Array(e)):"undefined"!==typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(e)):a(new Uint8Array(e),e):a(new Array(e),e)}function c(){var t=s(e);t[6]=79&t[6]|64,t[8]=191&t[8]|128;for(var n="",r=0;r<e;++r){var o=t[r];4!==r&&6!==r&&8!==r||(n+="-"),o<16&&(n+="0"),n+=o.toString(16).toLowerCase()}return n}}function re(e){return e.__=void 0,delete e.__,e}e("decorate",h),e("metadata",g),e("defineMetadata",f),e("hasMetadata",_),e("hasOwnMetadata",v),e("getMetadata",y),e("getOwnMetadata",b),e("getMetadataKeys",S),e("getOwnMetadataKeys",E),e("deleteMetadata",C)}(o)}()}(r||(r={}))},83878:(e,t,n)=>{"use strict";n.r(t),n.d(t,{createSelector:()=>s,createSelectorCreator:()=>a,createStructuredSelector:()=>l,defaultEqualityCheck:()=>o,defaultMemoize:()=>i});var r="NOT_FOUND";var o=function(e,t){return e===t};function i(e,t){var n="object"===typeof t?t:{equalityCheck:t},i=n.equalityCheck,a=void 0===i?o:i,s=n.maxSize,l=void 0===s?1:s,c=n.resultEqualityCheck,u=function(e){return function(t,n){if(null===t||null===n||t.length!==n.length)return!1;for(var r=t.length,o=0;o<r;o++)if(!e(t[o],n[o]))return!1;return!0}}(a),d=1===l?function(e){var t;return{get:function(n){return t&&e(t.key,n)?t.value:r},put:function(e,n){t={key:e,value:n}},getEntries:function(){return t?[t]:[]},clear:function(){t=void 0}}}(u):function(e,t){var n=[];function o(e){var o=n.findIndex((function(n){return t(e,n.key)}));if(o>-1){var i=n[o];return o>0&&(n.splice(o,1),n.unshift(i)),i.value}return r}return{get:o,put:function(t,i){o(t)===r&&(n.unshift({key:t,value:i}),n.length>e&&n.pop())},getEntries:function(){return n},clear:function(){n=[]}}}(l,u);function p(){var t=d.get(arguments);if(t===r){if(t=e.apply(null,arguments),c){var n=d.getEntries().find((function(e){return c(e.value,t)}));n&&(t=n.value)}d.put(arguments,t)}return t}return p.clearCache=function(){return d.clear()},p}function a(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return function(){for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];var i,a=0,s={memoizeOptions:void 0},l=r.pop();if("object"===typeof l&&(s=l,l=r.pop()),"function"!==typeof l)throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof l+"]");var c=s.memoizeOptions,u=void 0===c?n:c,d=Array.isArray(u)?u:[u],p=function(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every((function(e){return"function"===typeof e}))){var n=t.map((function(e){return"function"===typeof e?"function "+(e.name||"unnamed")+"()":typeof e})).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+n+"]")}return t}(r),m=e.apply(void 0,[function(){return a++,l.apply(null,arguments)}].concat(d)),h=e((function(){for(var e=[],t=p.length,n=0;n<t;n++)e.push(p[n].apply(null,arguments));return i=m.apply(null,e)}));return Object.assign(h,{resultFunc:l,memoizedResultFunc:m,dependencies:p,lastResult:function(){return i},recomputations:function(){return a},resetRecomputations:function(){return a=0}}),h}}var s=a(i),l=function(e,t){if(void 0===t&&(t=s),"object"!==typeof e)throw new Error("createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof e);var n=Object.keys(e),r=t(n.map((function(t){return e[t]})),(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce((function(e,t,r){return e[n[r]]=t,e}),{})}));return r}},72568:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,o=e[r];if(!(0<i(o,t)))break e;e[r]=t,e[n]=o,n=r}}function r(e){return 0===e.length?null:e[0]}function o(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,o=e.length,a=o>>>1;r<a;){var s=2*(r+1)-1,l=e[s],c=s+1,u=e[c];if(0>i(l,n))c<o&&0>i(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[s]=n,r=s);else{if(!(c<o&&0>i(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],u=[],d=1,p=null,m=3,h=!1,g=!1,f=!1,_="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,y="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(u);null!==t;){if(null===t.callback)o(u);else{if(!(t.startTime<=e))break;o(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function S(e){if(f=!1,b(e),!g)if(null!==r(c))g=!0,N(E);else{var t=r(u);null!==t&&M(S,t.startTime-e)}}function E(e,n){g=!1,f&&(f=!1,v(I),I=-1),h=!0;var i=m;try{for(b(n),p=r(c);null!==p&&(!(p.expirationTime>n)||e&&!k());){var a=p.callback;if("function"===typeof a){p.callback=null,m=p.priorityLevel;var s=a(p.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?p.callback=s:p===r(c)&&o(c),b(n)}else o(c);p=r(c)}if(null!==p)var l=!0;else{var d=r(u);null!==d&&M(S,d.startTime-n),l=!1}return l}finally{p=null,m=i,h=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var C,T=!1,w=null,I=-1,P=5,A=-1;function k(){return!(t.unstable_now()-A<P)}function x(){if(null!==w){var e=t.unstable_now();A=e;var n=!0;try{n=w(!0,e)}finally{n?C():(T=!1,w=null)}}else T=!1}if("function"===typeof y)C=function(){y(x)};else if("undefined"!==typeof MessageChannel){var R=new MessageChannel,O=R.port2;R.port1.onmessage=x,C=function(){O.postMessage(null)}}else C=function(){_(x,0)};function N(e){w=e,T||(T=!0,C())}function M(e,n){I=_((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){g||h||(g=!0,N(E))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(m){case 1:case 2:case 3:var t=3;break;default:t=m}var n=m;m=t;try{return e()}finally{m=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=m;m=e;try{return t()}finally{m=n}},t.unstable_scheduleCallback=function(e,o,i){var a=t.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?a+i:a:i=a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:o,priorityLevel:e,startTime:i,expirationTime:s=i+s,sortIndex:-1},i>a?(e.sortIndex=i,n(u,e),null===r(c)&&e===r(u)&&(f?(v(I),I=-1):f=!0,M(S,i-a))):(e.sortIndex=s,n(c,e),g||h||(g=!0,N(E))),e},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(e){var t=m;return function(){var n=m;m=t;try{return e.apply(this,arguments)}finally{m=n}}}},97967:(e,t,n)=>{"use strict";e.exports=n(72568)},60478:function(e,t){var n;!function(r){let o;function i(e,t){const n=e.charCodeAt(t);if(isNaN(n))throw new RangeError("Index "+t+' out of range for string "'+e+'"; please open an issue at https://github.com/Trott/slug/issues/new');if(n<55296||n>57343)return[e.charAt(t),t];if(n>=55296&&n<=56319){if(e.length<=t+1)return[" ",t];const n=e.charCodeAt(t+1);return n<56320||n>57343?[" ",t]:[e.charAt(t)+e.charAt(t+1),t+1]}if(0===t)return[" ",t];const r=e.charCodeAt(t-1);if(r<55296||r>56319)return[" ",t];throw new Error('String "'+e+'" reaches code believed to be unreachable; please open an issue at https://github.com/Trott/slug/issues/new')}function a(e,t){let n=l(e,t);if(""===n){let r="";for(let t=0;t<e.length;t++){const n=i(e,t);t=n[1],r+=n[0]}n=l(o(r),t)}return n}o=window.btoa?function(e){return btoa(unescape(encodeURIComponent(e)))}:function(e){const t=unescape(encodeURIComponent(e+""));let n="";for(let r,o,i=0,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";t.charAt(0|i)||(a="=",i%1);n+=a.charAt(63&r>>8-i%1*8)){if(o=t.charCodeAt(i+=3/4),o>255)throw new Error("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");r=r<<8|o}return n},"function"!==typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(e,t){"use strict";if(null===e||void 0===e)throw new TypeError("Cannot convert undefined or null to object");const n=Object(e);for(let o=1;o<arguments.length;o++){const e=arguments[o];if(null!==e&&void 0!==e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},writable:!0,configurable:!0});const s={bg:{"\u0419":"Y","\u0439":"y",X:"H",x:"h","\u0426":"Ts","\u0446":"ts","\u0429":"Sht","\u0449":"sht","\u042a":"A","\u044a":"a","\u042c":"Y","\u044c":"y"},de:{"\xc4":"AE","\xe4":"ae","\xd6":"OE","\xf6":"oe","\xdc":"UE","\xfc":"ue"},sr:{"\u0111":"dj","\u0110":"DJ"},uk:{"\u0418":"Y","\u0438":"y","\u0419":"Y","\u0439":"y","\u0426":"Ts","\u0446":"ts","\u0425":"Kh","\u0445":"kh","\u0429":"Shch","\u0449":"shch","\u0413":"H","\u0433":"h"}};function l(e,t){if("string"!==typeof e)throw new Error("slug() requires a string argument, received "+typeof e);"string"===typeof t&&(t={replacement:t}),(t=t?Object.assign({},t):{}).mode=t.mode||a.defaults.mode;const n=a.defaults.modes[t.mode],r=["replacement","multicharmap","charmap","remove","lower","trim"];for(let a,s=0,u=r.length;s<u;s++)a=r[s],t[a]=a in t?t[a]:n[a];const o=s[t.locale]||{};let i=[];for(let a in t.multicharmap){if(!Object.prototype.hasOwnProperty.call(t.multicharmap,a))continue;const e=a.length;-1===i.indexOf(e)&&i.push(e)}i=i.sort((function(e,t){return t-e}));const l="rfc3986"===t.mode?/[^\w\s\-.~]/:/[^A-Za-z0-9\s]/;let c="";for(let a,s=0,u=e.length;s<u;s++){a=e[s];let n=!1;for(let r=0;r<i.length;r++){const o=i[r],l=e.substr(s,o);if(t.multicharmap[l]){s+=o-1,a=t.multicharmap[l],n=!0;break}}n||(a=o[a]?o[a]:t.charmap[a]?t.charmap[a]:a.includes(t.replacement)?a.replace(t.replacement," "):a.replace(l,"")),c+=a}return t.remove&&(c=c.replace(t.remove,"")),t.trim&&(c=c.trim()),c=c.replace(/\s+/g,t.replacement),t.lower&&(c=c.toLowerCase()),c}const c={"\u092b\u093c":"Fi","\u0917\u093c":"Ghi","\u0916\u093c":"Khi","\u0915\u093c":"Qi","\u0921\u093c":"ugDha","\u0922\u093c":"ugDhha","\u092f\u093c":"Yi","\u091c\u093c":"Za","\u05d1\u05b4\u05d9":"i","\u05d1\u05b5":"e","\u05d1\u05b5\u05d9":"e","\u05d1\u05b6":"e","\u05d1\u05b7":"a","\u05d1\u05b8":"a","\u05d1\u05b9":"o","\u05d5\u05b9":"o","\u05d1\u05bb":"u","\u05d5\u05bc":"u","\u05d1\u05bc":"b","\u05db\u05bc":"k","\u05da\u05bc":"k","\u05e4\u05bc":"p","\u05e9\u05c1":"sh","\u05e9\u05c2":"s","\u05d1\u05b0":"e","\u05d7\u05b1":"e","\u05d7\u05b2":"a","\u05d7\u05b3":"o","\u05d1\u05b4":"i"},u={"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xc6":"AE","\xc7":"C","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xd0":"D","\xd1":"N","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\u0150":"O","\xd8":"O","\u014c":"O","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\u0170":"U","\xdd":"Y","\xde":"TH","\xdf":"ss","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xe6":"ae","\xe7":"c","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xf0":"d","\xf1":"n","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\u0151":"o","\xf8":"o","\u014d":"o","\u0152":"OE","\u0153":"oe","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\u0171":"u","\xfd":"y","\xfe":"th","\xff":"y","\u1e9e":"SS","\u03b1":"a","\u03b2":"b","\u03b3":"g","\u03b4":"d","\u03b5":"e","\u03b6":"z","\u03b7":"h","\u03b8":"8","\u03b9":"i","\u03ba":"k","\u03bb":"l","\u03bc":"m","\u03bd":"n","\u03be":"3","\u03bf":"o","\u03c0":"p","\u03c1":"r","\u03c3":"s","\u03c4":"t","\u03c5":"y","\u03c6":"f","\u03c7":"x","\u03c8":"ps","\u03c9":"w","\u03ac":"a","\u03ad":"e","\u03af":"i","\u03cc":"o","\u03cd":"y","\u03ae":"h","\u03ce":"w","\u03c2":"s","\u03ca":"i","\u03b0":"y","\u03cb":"y","\u0390":"i","\u0391":"A","\u0392":"B","\u0393":"G","\u0394":"D","\u0395":"E","\u0396":"Z","\u0397":"H","\u0398":"8","\u0399":"I","\u039a":"K","\u039b":"L","\u039c":"M","\u039d":"N","\u039e":"3","\u039f":"O","\u03a0":"P","\u03a1":"R","\u03a3":"S","\u03a4":"T","\u03a5":"Y","\u03a6":"F","\u03a7":"X","\u03a8":"PS","\u03a9":"W","\u0386":"A","\u0388":"E","\u038a":"I","\u038c":"O","\u038e":"Y","\u0389":"H","\u038f":"W","\u03aa":"I","\u03ab":"Y","\u015f":"s","\u015e":"S","\u0131":"i","\u0130":"I","\u011f":"g","\u011e":"G","\u0430":"a","\u0431":"b","\u0432":"v","\u0433":"g","\u0434":"d","\u0435":"e","\u0451":"yo","\u0436":"zh","\u0437":"z","\u0438":"i","\u0439":"j","\u043a":"k","\u043b":"l","\u043c":"m","\u043d":"n","\u043e":"o","\u043f":"p","\u0440":"r","\u0441":"s","\u0442":"t","\u0443":"u","\u0444":"f","\u0445":"h","\u0446":"c","\u0447":"ch","\u0448":"sh","\u0449":"sh","\u044a":"u","\u044b":"y","\u044c":"","\u044d":"e","\u044e":"yu","\u044f":"ya","\u0410":"A","\u0411":"B","\u0412":"V","\u0413":"G","\u0414":"D","\u0415":"E","\u0401":"Yo","\u0416":"Zh","\u0417":"Z","\u0418":"I","\u0419":"J","\u041a":"K","\u041b":"L","\u041c":"M","\u041d":"N","\u041e":"O","\u041f":"P","\u0420":"R","\u0421":"S","\u0422":"T","\u0423":"U","\u0424":"F","\u0425":"H","\u0426":"C","\u0427":"Ch","\u0428":"Sh","\u0429":"Sh","\u042a":"U","\u042b":"Y","\u042c":"","\u042d":"E","\u042e":"Yu","\u042f":"Ya","\u0404":"Ye","\u0406":"I","\u0407":"Yi","\u0490":"G","\u0454":"ye","\u0456":"i","\u0457":"yi","\u0491":"g","\u010d":"c","\u010f":"d","\u011b":"e","\u0148":"n","\u0159":"r","\u0161":"s","\u0165":"t","\u016f":"u","\u017e":"z","\u010c":"C","\u010e":"D","\u011a":"E","\u0147":"N","\u0158":"R","\u0160":"S","\u0164":"T","\u016e":"U","\u017d":"Z","\u013e":"l","\u013a":"l","\u0155":"r","\u013d":"L","\u0139":"L","\u0154":"R","\u0105":"a","\u0107":"c","\u0119":"e","\u0142":"l","\u0144":"n","\u015b":"s","\u017a":"z","\u017c":"z","\u0104":"A","\u0106":"C","\u0118":"E","\u0141":"L","\u0143":"N","\u015a":"S","\u0179":"Z","\u017b":"Z","\u0101":"a","\u0113":"e","\u0123":"g","\u012b":"i","\u0137":"k","\u013c":"l","\u0146":"n","\u016b":"u","\u0100":"A","\u0112":"E","\u0122":"G","\u012a":"I","\u0136":"K","\u013b":"L","\u0145":"N","\u016a":"U","\u0623":"a","\u0625":"i","\u0628":"b","\u062a":"t","\u062b":"th","\u062c":"g","\u062d":"h","\u062e":"kh","\u062f":"d","\u0630":"th","\u0631":"r","\u0632":"z","\u0633":"s","\u0634":"sh","\u0635":"s","\u0636":"d","\u0637":"t","\u0638":"th","\u0639":"aa","\u063a":"gh","\u0641":"f","\u0642":"k","\u0643":"k","\u0644":"l","\u0645":"m","\u0646":"n","\u0647":"h","\u0648":"o","\u064a":"y","\u0621":"aa","\u0629":"a","\u0622":"a","\u0627":"a","\u067e":"p","\u0698":"zh","\u06af":"g","\u0686":"ch","\u06a9":"k","\u06cc":"i","\u0117":"e","\u012f":"i","\u0173":"u","\u0116":"E","\u012e":"I","\u0172":"U","\u021b":"t","\u021a":"T","\u0163":"t","\u0162":"T","\u0219":"s","\u0218":"S","\u0103":"a","\u0102":"A","\u1ea0":"A","\u1ea2":"A","\u1ea6":"A","\u1ea4":"A","\u1eac":"A","\u1ea8":"A","\u1eaa":"A","\u1eb0":"A","\u1eae":"A","\u1eb6":"A","\u1eb2":"A","\u1eb4":"A","\u1eb8":"E","\u1eba":"E","\u1ebc":"E","\u1ec0":"E","\u1ebe":"E","\u1ec6":"E","\u1ec2":"E","\u1ec4":"E","\u1eca":"I","\u1ec8":"I","\u0128":"I","\u1ecc":"O","\u1ece":"O","\u1ed2":"O","\u1ed0":"O","\u1ed8":"O","\u1ed4":"O","\u1ed6":"O","\u01a0":"O","\u1edc":"O","\u1eda":"O","\u1ee2":"O","\u1ede":"O","\u1ee0":"O","\u1ee4":"U","\u1ee6":"U","\u0168":"U","\u01af":"U","\u1eea":"U","\u1ee8":"U","\u1ef0":"U","\u1eec":"U","\u1eee":"U","\u1ef2":"Y","\u1ef4":"Y","\u1ef6":"Y","\u1ef8":"Y","\u0110":"D","\u1ea1":"a","\u1ea3":"a","\u1ea7":"a","\u1ea5":"a","\u1ead":"a","\u1ea9":"a","\u1eab":"a","\u1eb1":"a","\u1eaf":"a","\u1eb7":"a","\u1eb3":"a","\u1eb5":"a","\u1eb9":"e","\u1ebb":"e","\u1ebd":"e","\u1ec1":"e","\u1ebf":"e","\u1ec7":"e","\u1ec3":"e","\u1ec5":"e","\u1ecb":"i","\u1ec9":"i","\u0129":"i","\u1ecd":"o","\u1ecf":"o","\u1ed3":"o","\u1ed1":"o","\u1ed9":"o","\u1ed5":"o","\u1ed7":"o","\u01a1":"o","\u1edd":"o","\u1edb":"o","\u1ee3":"o","\u1edf":"o","\u1ee1":"o","\u1ee5":"u","\u1ee7":"u","\u0169":"u","\u01b0":"u","\u1eeb":"u","\u1ee9":"u","\u1ef1":"u","\u1eed":"u","\u1eef":"u","\u1ef3":"y","\u1ef5":"y","\u1ef7":"y","\u1ef9":"y","\u0111":"d","\u04d8":"AE","\u04d9":"ae","\u0492":"GH","\u0493":"gh","\u049a":"KH","\u049b":"kh","\u04a2":"NG","\u04a3":"ng","\u04ae":"UE","\u04af":"ue","\u04b0":"U","\u04b1":"u","\u04ba":"H","\u04bb":"h","\u04e8":"OE","\u04e9":"oe","\u0452":"dj","\u0458":"j","\u0459":"lj","\u045a":"nj","\u045b":"c","\u045f":"dz","\u0402":"Dj","\u0408":"j","\u0409":"Lj","\u040a":"Nj","\u040b":"C","\u040f":"Dz","\u01cc":"nj","\u01c9":"lj","\u01cb":"NJ","\u01c8":"LJ","\u0905":"a","\u0906":"aa","\u090f":"e","\u0908":"ii","\u090d":"ei","\u090e":"ae","\u0910":"ai","\u0907":"i","\u0913":"o","\u0911":"oi","\u0912":"oii","\u090a":"uu","\u0914":"ou","\u0909":"u","\u092c":"B","\u092d":"Bha","\u091a":"Ca","\u091b":"Chha","\u0921":"Da","\u0922":"Dha","\u092b":"Fa","\u0917":"Ga","\u0918":"Gha","\u0917\u093c":"Ghi","\u0939":"Ha","\u091c":"Ja","\u091d":"Jha","\u0915":"Ka","\u0916":"Kha","\u0916\u093c":"Khi","\u0932":"L","\u0933":"Li","\u090c":"Li","\u0934":"Lii","\u0961":"Lii","\u092e":"Ma","\u0928":"Na","\u0919":"Na","\u091e":"Nia","\u0923":"Nae","\u0929":"Ni","\u0950":"oms","\u092a":"Pa","\u0915\u093c":"Qi","\u0930":"Ra","\u090b":"Ri","\u0960":"Ri","\u0931":"Ri","\u0938":"Sa","\u0936":"Sha","\u0937":"Shha","\u091f":"Ta","\u0924":"Ta","\u0920":"Tha","\u0926":"Tha","\u0925":"Tha","\u0927":"Thha","\u0921\u093c":"ugDha","\u0922\u093c":"ugDhha","\u0935":"Va","\u092f":"Ya","\u092f\u093c":"Yi","\u091c\u093c":"Za","\u0259":"e","\u018f":"E","\u10d0":"a","\u10d1":"b","\u10d2":"g","\u10d3":"d","\u10d4":"e","\u10d5":"v","\u10d6":"z","\u10d7":"t","\u10d8":"i","\u10d9":"k","\u10da":"l","\u10db":"m","\u10dc":"n","\u10dd":"o","\u10de":"p","\u10df":"zh","\u10e0":"r","\u10e1":"s","\u10e2":"t","\u10e3":"u","\u10e4":"p","\u10e5":"k","\u10e6":"gh","\u10e7":"q","\u10e8":"sh","\u10e9":"ch","\u10ea":"ts","\u10eb":"dz","\u10ec":"ts","\u10ed":"ch","\u10ee":"kh","\u10ef":"j","\u10f0":"h","\u05d1":"v","\u05d2\u05bc":"g","\u05d2":"g","\u05d3":"d","\u05d3\u05bc":"d","\u05d4":"h","\u05d5":"v","\u05d6":"z","\u05d7":"h","\u05d8":"t","\u05d9":"y","\u05db":"kh","\u05da":"kh","\u05dc":"l","\u05de":"m","\u05dd":"m","\u05e0":"n","\u05df":"n","\u05e1":"s","\u05e4":"f","\u05e3":"f","\u05e5":"ts","\u05e6":"ts","\u05e7":"k","\u05e8":"r","\u05ea\u05bc":"t","\u05ea":"t"};a.charmap=Object.assign({},u),a.multicharmap=Object.assign({},c),a.defaults={charmap:a.charmap,mode:"pretty",modes:{rfc3986:{replacement:"-",remove:null,lower:!0,charmap:a.charmap,multicharmap:a.multicharmap,trim:!0},pretty:{replacement:"-",remove:null,lower:!0,charmap:a.charmap,multicharmap:a.multicharmap,trim:!0}},multicharmap:a.multicharmap},a.reset=function(){a.defaults.modes.rfc3986.charmap=a.defaults.modes.pretty.charmap=a.charmap=a.defaults.charmap=Object.assign({},u),a.defaults.modes.rfc3986.multicharmap=a.defaults.modes.pretty.multicharmap=a.multicharmap=a.defaults.multicharmap=Object.assign({},c)},a.extend=function(e){const t=Object.keys(e),n={},r={};for(let o=0;o<t.length;o++)t[o].length>1?n[t[o]]=e[t[o]]:r[t[o]]=e[t[o]];Object.assign(a.charmap,r),Object.assign(a.multicharmap,n)},void 0===(n=function(){return a}.apply(t,[]))||(e.exports=n)}()},93296:(e,t,n)=>{"use strict";var r=n(14041);var o="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},i=r.useState,a=r.useEffect,s=r.useLayoutEffect,l=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!o(e,n)}catch(r){return!0}}var u="undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=i({inst:{value:n,getSnapshot:t}}),o=r[0].inst,u=r[1];return s((function(){o.value=n,o.getSnapshot=t,c(o)&&u({inst:o})}),[e,n,t]),a((function(){return c(o)&&u({inst:o}),e((function(){c(o)&&u({inst:o})}))}),[e]),l(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:u},91435:(e,t,n)=>{"use strict";var r=n(14041),o=n(58139);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},a=o.useSyncExternalStore,s=r.useRef,l=r.useEffect,c=r.useMemo,u=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,o){var d=s(null);if(null===d.current){var p={hasValue:!1,value:null};d.current=p}else p=d.current;d=c((function(){function e(e){if(!l){if(l=!0,a=e,e=r(e),void 0!==o&&p.hasValue){var t=p.value;if(o(t,e))return s=t}return s=e}if(t=s,i(a,e))return t;var n=r(e);return void 0!==o&&o(t,n)?(a=e,t):(a=e,s=n)}var a,s,l=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]}),[t,n,r,o]);var m=a(e,d[0],d[1]);return l((function(){p.hasValue=!0,p.value=m}),[m]),u(m),m}},58139:(e,t,n)=>{"use strict";e.exports=n(93296)},37121:(e,t,n)=>{"use strict";e.exports=n(91435)},48062:(e,t,n)=>{"use strict";var r;n.d(t,{A:()=>i});var o=new Uint8Array(16);function i(){if(!r&&!(r="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(o)}},99834:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});for(var r=n(73186),o=[],i=0;i<256;++i)o.push((i+256).toString(16).substr(1));const a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(o[e[t+0]]+o[e[t+1]]+o[e[t+2]]+o[e[t+3]]+"-"+o[e[t+4]]+o[e[t+5]]+"-"+o[e[t+6]]+o[e[t+7]]+"-"+o[e[t+8]]+o[e[t+9]]+"-"+o[e[t+10]]+o[e[t+11]]+o[e[t+12]]+o[e[t+13]]+o[e[t+14]]+o[e[t+15]]).toLowerCase();if(!(0,r.A)(n))throw TypeError("Stringified UUID is invalid");return n}},77981:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(48062),o=n(99834);const i=function(e,t,n){var i=(e=e||{}).random||(e.rng||r.A)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t){n=n||0;for(var a=0;a<16;++a)t[n+a]=i[a];return t}return(0,o.A)(i)}},73186:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});const r=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;const o=function(e){return"string"===typeof e&&r.test(e)}},82269:e=>{e.exports=e=>new Promise((t=>setTimeout(t,e)))},58212:(e,t,n)=>{var r=n(56347);e.exports=function(e,t,n){return(t=r(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},41506:(e,t,n)=>{var r=n(58212);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}e.exports=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e},e.exports.__esModule=!0,e.exports.default=e.exports},67996:(e,t,n)=>{var r=n(51112);e.exports=function(e,t){if(null==e)return{};var n,o,i=r(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i},e.exports.__esModule=!0,e.exports.default=e.exports},51112:e=>{e.exports=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n},e.exports.__esModule=!0,e.exports.default=e.exports},23878:(e,t,n)=>{var r=n(14319).default;e.exports=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},56347:(e,t,n)=>{var r=n(14319).default,o=n(23878);e.exports=function(e){var t=o(e,"string");return"symbol"==r(t)?t:t+""},e.exports.__esModule=!0,e.exports.default=e.exports},14319:e=>{function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},35888:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lceNotRequested=function(){return o.LCE_NOT_REQUESTED},t.lceFetching=function(e){const t=(0,r.getContentOrPrevious)(e);return t?{type:o.LCEType.Fetching,previousContent:t}:o.LCE_IS_FETCHING},t.lceContent=i,t.lceError=function(e,t,n=Date.now()){const i=(0,r.getContentOrPrevious)(t);return i?{type:o.LCEType.Error,error:e,occurredOnMS:n,previousContent:i}:{type:o.LCEType.Error,error:e,occurredOnMS:n}},t.lceMapContent=function(e,t,n=Date.now()){const r={};for(const o of Object.keys(e))r[o]=i(e[o],t,n);return r};const r=n(80030),o=n(18566);function i(e,t,n=Date.now()){return{type:o.LCEType.Content,data:e,lastFetchedMS:"number"===typeof n?n:n.getTime(),cacheTimeInMS:t}}},80030:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.completeFetchWithPrevious=t.getContentOrPrevious=t.getContent=t.getUnexpiredDataOrPrevious=t.getDataOrPrevious=t.getData=void 0;const r=n(18566),o=n(48846);t.getData=e=>(0,o.isContent)(e)?e.data:void 0;t.getDataOrPrevious=e=>{var t;switch(null===e||void 0===e?void 0:e.type){case r.LCEType.Content:return e.data;case r.LCEType.Fetching:case r.LCEType.Error:return null===(t=e.previousContent)||void 0===t?void 0:t.data;default:return}};t.getUnexpiredDataOrPrevious=e=>{if(null!=e)return(0,o.isUnexpiredContent)(e)?e.data:"previousContent"in e&&(0,o.isUnexpiredContent)(e.previousContent)?e.previousContent.data:void 0};t.getContent=e=>(0,o.isContent)(e)?e:void 0;t.getContentOrPrevious=e=>{switch(null===e||void 0===e?void 0:e.type){case r.LCEType.Content:return e;case r.LCEType.Fetching:case r.LCEType.Error:return e.previousContent;default:return}};t.completeFetchWithPrevious=e=>{var t;return(0,o.isFetching)(e)?null!==(t=e.previousContent)&&void 0!==t?t:r.LCE_NOT_REQUESTED:e}},88262:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(85608);r.__exportStar(n(35888),t),r.__exportStar(n(80030),t),r.__exportStar(n(88535),t),r.__exportStar(n(18566),t),r.__exportStar(n(55500),t),r.__exportStar(n(13674),t),r.__exportStar(n(48846),t)},88535:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isExpired=t.isUnexpired=void 0;t.isUnexpired=e=>{if(void 0===e.cacheTimeInMS)throw new Error(`cacheTimeInMS not set on ${JSON.stringify(e)}`);return e.cacheTimeInMS-(Date.now()-e.lastFetchedMS)>0};t.isExpired=e=>!(0,t.isUnexpired)(e)},18566:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.LCE_IS_FETCHING=t.LCE_NOT_REQUESTED=t.LCEType=void 0,function(e){e[e.NotRequested=0]="NotRequested",e[e.Fetching=1]="Fetching",e[e.Content=2]="Content",e[e.Error=3]="Error"}(n||(t.LCEType=n={})),t.LCE_NOT_REQUESTED=Object.freeze({type:n.NotRequested}),t.LCE_IS_FETCHING=Object.freeze({type:n.Fetching})},55500:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lceSelect=function(e,t){let n;switch(e.type){case r.LCEType.NotRequested:n=t.isNotRequested;break;case r.LCEType.Fetching:n=t.isFetching;break;case r.LCEType.Content:n=t.content;break;case r.LCEType.Error:n=t.error}return n=null!==n&&void 0!==n?n:t.default,null===n||void 0===n?void 0:n(e)};const r=n(18566)},13674:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lceTransform=function e(t,n){switch(t.type){case r.LCEType.NotRequested:return t;case r.LCEType.Fetching:{const o=t.previousContent?e(t.previousContent,n):void 0;return o?{type:r.LCEType.Fetching,previousContent:o}:t}case r.LCEType.Error:{const o=t.previousContent?e(t.previousContent,n):void 0;return o?{type:r.LCEType.Error,error:t.error,previousContent:o,occurredOnMS:t.occurredOnMS}:t}case r.LCEType.Content:return{type:r.LCEType.Content,data:n(t.data),lastFetchedMS:t.lastFetchedMS,cacheTimeInMS:t.cacheTimeInMS}}};const r=n(18566)},48846:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isValidLCE=t.isValidErrorLCE=t.isValidContentLCE=t.isValidFetchingLCE=t.isValidNotRequestedLCE=t.hasPreviousContent=t.isError=t.isExpiredContent=t.isUnexpiredContent=t.isContent=t.isFetching=t.isNotRequested=t.isValidContent=void 0;const r=n(88535),o=n(18566);t.isValidContent=e=>{switch(typeof e){case"object":case"boolean":case"number":case"string":return!0;default:return!1}};t.isNotRequested=e=>(null===e||void 0===e?void 0:e.type)===o.LCEType.NotRequested;t.isFetching=e=>(null===e||void 0===e?void 0:e.type)===o.LCEType.Fetching;t.isContent=e=>(null===e||void 0===e?void 0:e.type)===o.LCEType.Content;t.isUnexpiredContent=e=>(0,t.isContent)(e)&&(0,r.isUnexpired)(e);t.isExpiredContent=e=>(0,t.isContent)(e)&&(0,r.isExpired)(e);t.isError=e=>(null===e||void 0===e?void 0:e.type)===o.LCEType.Error;t.hasPreviousContent=e=>!!e&&"previousContent"in e&&void 0!==e.previousContent;const i=(e,t)=>"object"===typeof e&&null!=e&&e.type===t;t.isValidNotRequestedLCE=e=>i(e,o.LCEType.NotRequested);t.isValidFetchingLCE=e=>i(e,o.LCEType.Fetching)&&a(e);t.isValidContentLCE=e=>i(e,o.LCEType.Content)&&(0,t.isValidContent)(e.data)&&"number"===typeof e.lastFetchedMS&&e.lastFetchedMS>0&&(null==e.cacheTimeInMS||"number"===typeof e.cacheTimeInMS);const a=e=>!("previousContent"in e)||void 0===e.previousContent||(0,t.isValidContentLCE)(e.previousContent);t.isValidErrorLCE=e=>i(e,o.LCEType.Error)&&"object"===typeof e.error&&null!=e.error&&"number"===typeof e.occurredOnMS&&e.occurredOnMS>0&&a(e);t.isValidLCE=e=>(0,t.isValidNotRequestedLCE)(e)||(0,t.isValidFetchingLCE)(e)||(0,t.isValidContentLCE)(e)||(0,t.isValidErrorLCE)(e)},53373:(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function o(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=a(e,i(n)))}return e}function i(e){if("string"===typeof e||"number"===typeof e)return e;if("object"!==typeof e)return"";if(Array.isArray(e))return o.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)r.call(e,n)&&e[n]&&(t=a(t,n));return t}function a(e,t){return t?e?e+" "+t:e+t:e}e.exports?(o.default=o,e.exports=o):void 0===(n=function(){return o}.apply(t,[]))||(e.exports=n)}()},48478:(e,t,n)=>{"use strict";n.d(t,{$n:()=>R,A3:()=>y,AG:()=>x,Am:()=>s,Az:()=>w,C$:()=>C,E0:()=>f,H5:()=>U,IF:()=>l,JR:()=>h,Mt:()=>K,Ns:()=>A,PM:()=>P,R3:()=>I,R_:()=>D,SP:()=>j,Sq:()=>g,Tq:()=>L,U6:()=>r,Uu:()=>X,Xs:()=>v,YB:()=>z,Zn:()=>k,_q:()=>o,aZ:()=>u,ag:()=>a,ai:()=>T,au:()=>p,c4:()=>d,dF:()=>q,dn:()=>i,hF:()=>m,hx:()=>c,ir:()=>B,oE:()=>M,p$:()=>O,pG:()=>G,pe:()=>S,pg:()=>b,rg:()=>V,sg:()=>E,uP:()=>_,yF:()=>F,yj:()=>H,z1:()=>N});const r="client_id",o="redirect_uri",i="response_type",a="response_mode",s="grant_type",l="claims",c="scope",u="refresh_token",d="state",p="nonce",m="prompt",h="client_info",g="code",f="code_challenge",_="code_challenge_method",v="code_verifier",y="client-request-id",b="x-client-SKU",S="x-client-VER",E="x-client-OS",C="x-client-CPU",T="x-client-current-telemetry",w="x-client-last-telemetry",I="x-ms-lib-capability",P="x-app-name",A="x-app-ver",k="post_logout_redirect_uri",x="id_token_hint",R="device_code",O="client_secret",N="client_assertion",M="client_assertion_type",L="token_type",D="req_cnf",F="assertion",U="requested_token_use",B="return_spa_code",H="nativebroker",G="logout_hint",q="sid",j="login_hint",V="domain_hint",z="x-client-xtra-sku",X="brk_client_id",K="brk_redirect_uri"},58111:(e,t,n)=>{"use strict";n.d(t,{$x:()=>g,E_:()=>C,F0:()=>M,Fq:()=>u,GU:()=>y,Gd:()=>l,I:()=>P,IO:()=>w,JR:()=>b,Kk:()=>k,LR:()=>_,Lz:()=>N,OK:()=>s,Qd:()=>f,Rv:()=>O,Tq:()=>A,Xw:()=>I,YM:()=>r,_2:()=>R,_A:()=>a,_M:()=>d,aG:()=>v,aZ:()=>i,gT:()=>T,hB:()=>S,iF:()=>p,jZ:()=>x,p:()=>h,t3:()=>o,u0:()=>E,v2:()=>c,zL:()=>m});const r={LIBRARY_NAME:"MSAL.JS",SKU:"msal.js.common",CACHE_PREFIX:"msal",DEFAULT_AUTHORITY:"https://login.microsoftonline.com/common/",DEFAULT_AUTHORITY_HOST:"login.microsoftonline.com",DEFAULT_COMMON_TENANT:"common",ADFS:"adfs",DSTS:"dstsv2",AAD_INSTANCE_DISCOVERY_ENDPT:"https://login.microsoftonline.com/common/discovery/instance?api-version=1.1&authorization_endpoint=",CIAM_AUTH_URL:".ciamlogin.com",AAD_TENANT_DOMAIN_SUFFIX:".onmicrosoft.com",RESOURCE_DELIM:"|",NO_ACCOUNT:"NO_ACCOUNT",CLAIMS:"claims",CONSUMER_UTID:"9188040d-6c67-4c5b-b112-36a304b66dad",OPENID_SCOPE:"openid",PROFILE_SCOPE:"profile",OFFLINE_ACCESS_SCOPE:"offline_access",EMAIL_SCOPE:"email",CODE_RESPONSE_TYPE:"code",CODE_GRANT_TYPE:"authorization_code",RT_GRANT_TYPE:"refresh_token",FRAGMENT_RESPONSE_MODE:"fragment",S256_CODE_CHALLENGE_METHOD:"S256",URL_FORM_CONTENT_TYPE:"application/x-www-form-urlencoded;charset=utf-8",AUTHORIZATION_PENDING:"authorization_pending",NOT_DEFINED:"not_defined",EMPTY_STRING:"",NOT_APPLICABLE:"N/A",NOT_AVAILABLE:"Not Available",FORWARD_SLASH:"/",IMDS_ENDPOINT:"http://169.254.169.254/metadata/instance/compute/location",IMDS_VERSION:"2020-06-01",IMDS_TIMEOUT:2e3,AZURE_REGION_AUTO_DISCOVER_FLAG:"TryAutoDetect",REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX:"login.microsoft.com",KNOWN_PUBLIC_CLOUDS:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"],TOKEN_RESPONSE_TYPE:"token",ID_TOKEN_RESPONSE_TYPE:"id_token",SHR_NONCE_VALIDITY:240,INVALID_INSTANCE:"invalid_instance"},o={SUCCESS:200,SUCCESS_RANGE_START:200,SUCCESS_RANGE_END:299,REDIRECT:302,CLIENT_ERROR:400,CLIENT_ERROR_RANGE_START:400,BAD_REQUEST:400,UNAUTHORIZED:401,NOT_FOUND:404,REQUEST_TIMEOUT:408,TOO_MANY_REQUESTS:429,CLIENT_ERROR_RANGE_END:499,SERVER_ERROR:500,SERVER_ERROR_RANGE_START:500,SERVICE_UNAVAILABLE:503,GATEWAY_TIMEOUT:504,SERVER_ERROR_RANGE_END:599,MULTI_SIDED_ERROR:600},i=[r.OPENID_SCOPE,r.PROFILE_SCOPE,r.OFFLINE_ACCESS_SCOPE],a=[...i,r.EMAIL_SCOPE],s={CONTENT_TYPE:"Content-Type",CONTENT_LENGTH:"Content-Length",RETRY_AFTER:"Retry-After",CCS_HEADER:"X-AnchorMailbox",WWWAuthenticate:"WWW-Authenticate",AuthenticationInfo:"Authentication-Info",X_MS_REQUEST_ID:"x-ms-request-id",X_MS_HTTP_VERSION:"x-ms-httpver"},l={ID_TOKEN:"idtoken",CLIENT_INFO:"client.info",ADAL_ID_TOKEN:"adal.idtoken",ERROR:"error",ERROR_DESC:"error.description",ACTIVE_ACCOUNT:"active-account",ACTIVE_ACCOUNT_FILTERS:"active-account-filters"},c={COMMON:"common",ORGANIZATIONS:"organizations",CONSUMERS:"consumers"},u={ACCESS_TOKEN:"access_token",XMS_CC:"xms_cc"},d={LOGIN:"login",SELECT_ACCOUNT:"select_account",CONSENT:"consent",NONE:"none",CREATE:"create",NO_SESSION:"no_session"},p={PLAIN:"plain",S256:"S256"},m={QUERY:"query",FRAGMENT:"fragment"},h={...m,FORM_POST:"form_post"},g={IMPLICIT_GRANT:"implicit",AUTHORIZATION_CODE_GRANT:"authorization_code",CLIENT_CREDENTIALS_GRANT:"client_credentials",RESOURCE_OWNER_PASSWORD_GRANT:"password",REFRESH_TOKEN_GRANT:"refresh_token",DEVICE_CODE_GRANT:"device_code",JWT_BEARER:"urn:ietf:params:oauth:grant-type:jwt-bearer"},f={MSSTS_ACCOUNT_TYPE:"MSSTS",ADFS_ACCOUNT_TYPE:"ADFS",MSAV1_ACCOUNT_TYPE:"MSA",GENERIC_ACCOUNT_TYPE:"Generic"},_={CACHE_KEY_SEPARATOR:"-",CLIENT_INFO_SEPARATOR:"."},v={ID_TOKEN:"IdToken",ACCESS_TOKEN:"AccessToken",ACCESS_TOKEN_WITH_AUTH_SCHEME:"AccessToken_With_AuthScheme",REFRESH_TOKEN:"RefreshToken"},y="appmetadata",b="client_info",S="1",E={CACHE_KEY:"authority-metadata",REFRESH_TIME_SECONDS:86400},C={CONFIG:"config",CACHE:"cache",NETWORK:"network",HARDCODED_VALUES:"hardcoded_values"},T={SCHEMA_VERSION:5,MAX_CUR_HEADER_BYTES:80,MAX_LAST_HEADER_BYTES:330,MAX_CACHED_ERRORS:50,CACHE_KEY:"server-telemetry",CATEGORY_SEPARATOR:"|",VALUE_SEPARATOR:",",OVERFLOW_TRUE:"1",OVERFLOW_FALSE:"0",UNKNOWN_ERROR:"unknown_error"},w={BEARER:"Bearer",POP:"pop",SSH:"ssh-cert"},I={DEFAULT_THROTTLE_TIME_SECONDS:60,DEFAULT_MAX_THROTTLE_TIME_SECONDS:3600,THROTTLING_PREFIX:"throttling",X_MS_LIB_CAPABILITY_VALUE:"retry-after, h429"},P={INVALID_GRANT_ERROR:"invalid_grant",CLIENT_MISMATCH_ERROR:"client_mismatch"},A={username:"username",password:"password"},k={httpSuccess:200,httpBadRequest:400},x={FAILED_AUTO_DETECTION:"1",INTERNAL_CACHE:"2",ENVIRONMENT_VARIABLE:"3",IMDS:"4"},R={CONFIGURED_MATCHES_DETECTED:"1",CONFIGURED_NO_AUTO_DETECTION:"2",CONFIGURED_NOT_DETECTED:"3",AUTO_DETECTION_REQUESTED_SUCCESSFUL:"4",AUTO_DETECTION_REQUESTED_FAILED:"5"},O={NOT_APPLICABLE:"0",FORCE_REFRESH_OR_CLAIMS:"1",NO_CACHED_ACCESS_TOKEN:"2",CACHED_ACCESS_TOKEN_EXPIRED:"3",PROACTIVELY_REFRESHED:"4"},N={Jwt:"JWT",Jwk:"JWK",Pop:"pop"},M=300},53354:(e,t,n)=>{"use strict";function r(){return Math.round((new Date).getTime()/1e3)}function o(e,t){const n=Number(e)||0;return r()+t>n}function i(e){return Number(e)>r()}n.d(t,{Hm:()=>o,XJ:()=>i,_C:()=>r})},2474:(e,t,n)=>{"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,{A:()=>r})},98158:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function o(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:t+""}function i(e,t,n){return(t=o(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{A:()=>i})},89575:(e,t,n)=>{"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(null,arguments)}n.d(t,{A:()=>r})},50701:(e,t,n)=>{"use strict";function r(e,t){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r(e,t)}function o(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,r(e,t)}n.d(t,{A:()=>o})},69740:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(98158);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},17502:(e,t,n)=>{"use strict";function r(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}n.d(t,{A:()=>r})},54357:(e,t,n)=>{"use strict";function r(e){var t,n,o="";if("string"==typeof e||"number"==typeof e)o+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=r(e[t]))&&(o&&(o+=" "),o+=n)}else for(n in e)e[n]&&(o&&(o+=" "),o+=n);return o}function o(){for(var e,t,n=0,o="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=r(e))&&(o&&(o+=" "),o+=t);return o}n.d(t,{$:()=>o,A:()=>i});const i=o},91582:(e,t,n)=>{"use strict";n.d(t,{l$:()=>E,oR:()=>g});var r=n(14041),o=n(43144),i=Array(12).fill(0),a=({visible:e})=>r.createElement("div",{className:"sonner-loading-wrapper","data-visible":e},r.createElement("div",{className:"sonner-spinner"},i.map(((e,t)=>r.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${t}`}))))),s=r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},r.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),l=r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},r.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),c=r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},r.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),u=r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},r.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),d=1,p=new class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach((t=>t(e)))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:n,...r}=e,o="number"==typeof(null==e?void 0:e.id)||(null==(t=e.id)?void 0:t.length)>0?e.id:d++,i=this.toasts.find((e=>e.id===o)),a=void 0===e.dismissible||e.dismissible;return i?this.toasts=this.toasts.map((t=>t.id===o?(this.publish({...t,...e,id:o,title:n}),{...t,...e,id:o,dismissible:a,title:n}):t)):this.addToast({title:n,...r,dismissible:a,id:o}),o},this.dismiss=e=>(e||this.toasts.forEach((e=>{this.subscribers.forEach((t=>t({id:e.id,dismiss:!0})))})),this.subscribers.forEach((t=>t({id:e,dismiss:!0}))),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let n;void 0!==t.loading&&(n=this.create({...t,promise:e,type:"loading",message:t.loading,description:"function"!=typeof t.description?t.description:void 0}));let r=e instanceof Promise?e:e(),o=void 0!==n;return r.then((async e=>{if(m(e)&&!e.ok){o=!1;let r="function"==typeof t.error?await t.error(`HTTP error! status: ${e.status}`):t.error,i="function"==typeof t.description?await t.description(`HTTP error! status: ${e.status}`):t.description;this.create({id:n,type:"error",message:r,description:i})}else if(void 0!==t.success){o=!1;let r="function"==typeof t.success?await t.success(e):t.success,i="function"==typeof t.description?await t.description(e):t.description;this.create({id:n,type:"success",message:r,description:i})}})).catch((async e=>{if(void 0!==t.error){o=!1;let r="function"==typeof t.error?await t.error(e):t.error,i="function"==typeof t.description?await t.description(e):t.description;this.create({id:n,type:"error",message:r,description:i})}})).finally((()=>{var e;o&&(this.dismiss(n),n=void 0),null==(e=t.finally)||e.call(t)})),n},this.custom=(e,t)=>{let n=(null==t?void 0:t.id)||d++;return this.create({jsx:e(n),id:n,...t}),n},this.subscribers=[],this.toasts=[]}},m=e=>e&&"object"==typeof e&&"ok"in e&&"boolean"==typeof e.ok&&"status"in e&&"number"==typeof e.status,h=(e,t)=>{let n=(null==t?void 0:t.id)||d++;return p.addToast({title:e,...t,id:n}),n},g=Object.assign(h,{success:p.success,info:p.info,warning:p.warning,error:p.error,custom:p.custom,message:p.message,promise:p.promise,dismiss:p.dismiss,loading:p.loading},{getHistory:()=>p.toasts});function f(e){return void 0!==e.label}!function(e,{insertAt:t}={}){if(!e||"undefined"==typeof document)return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css","top"===t&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}(':where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}\n');var _=3,v=14;function y(...e){return e.filter(Boolean).join(" ")}var b=e=>{var t,n,o,i,d,p,m,h,g,_;let{invert:v,toast:y,unstyled:b,interacting:S,setHeights:E,visibleToasts:C,heights:T,index:w,toasts:I,expanded:P,removeToast:A,defaultRichColors:k,closeButton:x,style:R,cancelButtonStyle:O,actionButtonStyle:N,className:M="",descriptionClassName:L="",duration:D,position:F,gap:U,loadingIcon:B,expandByDefault:H,classNames:G,icons:q,closeButtonAriaLabel:j="Close toast",pauseWhenPageIsHidden:V,cn:z}=e,[X,K]=r.useState(!1),[W,$]=r.useState(!1),[Y,Q]=r.useState(!1),[J,Z]=r.useState(!1),[ee,te]=r.useState(0),[ne,re]=r.useState(0),oe=r.useRef(null),ie=r.useRef(null),ae=0===w,se=w+1<=C,le=y.type,ce=!1!==y.dismissible,ue=y.className||"",de=y.descriptionClassName||"",pe=r.useMemo((()=>T.findIndex((e=>e.toastId===y.id))||0),[T,y.id]),me=r.useMemo((()=>{var e;return null!=(e=y.closeButton)?e:x}),[y.closeButton,x]),he=r.useMemo((()=>y.duration||D||4e3),[y.duration,D]),ge=r.useRef(0),fe=r.useRef(0),_e=r.useRef(0),ve=r.useRef(null),[ye,be]=F.split("-"),Se=r.useMemo((()=>T.reduce(((e,t,n)=>n>=pe?e:e+t.height),0)),[T,pe]),Ee=(()=>{let[e,t]=r.useState(document.hidden);return r.useEffect((()=>{let e=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",e),()=>window.removeEventListener("visibilitychange",e)}),[]),e})(),Ce=y.invert||v,Te="loading"===le;fe.current=r.useMemo((()=>pe*U+Se),[pe,Se]),r.useEffect((()=>{K(!0)}),[]),r.useLayoutEffect((()=>{if(!X)return;let e=ie.current,t=e.style.height;e.style.height="auto";let n=e.getBoundingClientRect().height;e.style.height=t,re(n),E((e=>e.find((e=>e.toastId===y.id))?e.map((e=>e.toastId===y.id?{...e,height:n}:e)):[{toastId:y.id,height:n,position:y.position},...e]))}),[X,y.title,y.description,E,y.id]);let we=r.useCallback((()=>{$(!0),te(fe.current),E((e=>e.filter((e=>e.toastId!==y.id)))),setTimeout((()=>{A(y)}),200)}),[y,A,E,fe]);return r.useEffect((()=>{if(y.promise&&"loading"===le||y.duration===1/0||"loading"===y.type)return;let e,t=he;return P||S||V&&Ee?(()=>{if(_e.current<ge.current){let e=(new Date).getTime()-ge.current;t-=e}_e.current=(new Date).getTime()})():t!==1/0&&(ge.current=(new Date).getTime(),e=setTimeout((()=>{var e;null==(e=y.onAutoClose)||e.call(y,y),we()}),t)),()=>clearTimeout(e)}),[P,S,H,y,he,we,y.promise,le,V,Ee]),r.useEffect((()=>{let e=ie.current;if(e){let t=e.getBoundingClientRect().height;return re(t),E((e=>[{toastId:y.id,height:t,position:y.position},...e])),()=>E((e=>e.filter((e=>e.toastId!==y.id))))}}),[E,y.id]),r.useEffect((()=>{y.delete&&we()}),[we,y.delete]),r.createElement("li",{"aria-live":y.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:ie,className:z(M,ue,null==G?void 0:G.toast,null==(t=null==y?void 0:y.classNames)?void 0:t.toast,null==G?void 0:G.default,null==G?void 0:G[le],null==(n=null==y?void 0:y.classNames)?void 0:n[le]),"data-sonner-toast":"","data-rich-colors":null!=(o=y.richColors)?o:k,"data-styled":!(y.jsx||y.unstyled||b),"data-mounted":X,"data-promise":!!y.promise,"data-removed":W,"data-visible":se,"data-y-position":ye,"data-x-position":be,"data-index":w,"data-front":ae,"data-swiping":Y,"data-dismissible":ce,"data-type":le,"data-invert":Ce,"data-swipe-out":J,"data-expanded":!!(P||H&&X),style:{"--index":w,"--toasts-before":w,"--z-index":I.length-w,"--offset":`${W?ee:fe.current}px`,"--initial-height":H?"auto":`${ne}px`,...R,...y.style},onPointerDown:e=>{Te||!ce||(oe.current=new Date,te(fe.current),e.target.setPointerCapture(e.pointerId),"BUTTON"!==e.target.tagName&&(Q(!0),ve.current={x:e.clientX,y:e.clientY}))},onPointerUp:()=>{var e,t,n,r;if(J||!ce)return;ve.current=null;let o=Number((null==(e=ie.current)?void 0:e.style.getPropertyValue("--swipe-amount").replace("px",""))||0),i=(new Date).getTime()-(null==(t=oe.current)?void 0:t.getTime()),a=Math.abs(o)/i;if(Math.abs(o)>=20||a>.11)return te(fe.current),null==(n=y.onDismiss)||n.call(y,y),we(),void Z(!0);null==(r=ie.current)||r.style.setProperty("--swipe-amount","0px"),Q(!1)},onPointerMove:e=>{var t;if(!ve.current||!ce)return;let n=e.clientY-ve.current.y,r=e.clientX-ve.current.x,o=("top"===ye?Math.min:Math.max)(0,n),i="touch"===e.pointerType?10:2;Math.abs(o)>i?null==(t=ie.current)||t.style.setProperty("--swipe-amount",`${n}px`):Math.abs(r)>i&&(ve.current=null)}},me&&!y.jsx?r.createElement("button",{"aria-label":j,"data-disabled":Te,"data-close-button":!0,onClick:Te||!ce?()=>{}:()=>{var e;we(),null==(e=y.onDismiss)||e.call(y,y)},className:z(null==G?void 0:G.closeButton,null==(i=null==y?void 0:y.classNames)?void 0:i.closeButton)},r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},r.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),r.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,y.jsx||r.isValidElement(y.title)?y.jsx||y.title:r.createElement(r.Fragment,null,le||y.icon||y.promise?r.createElement("div",{"data-icon":"",className:z(null==G?void 0:G.icon,null==(d=null==y?void 0:y.classNames)?void 0:d.icon)},y.promise||"loading"===y.type&&!y.icon?y.icon||(null!=q&&q.loading?r.createElement("div",{className:"sonner-loader","data-visible":"loading"===le},q.loading):B?r.createElement("div",{className:"sonner-loader","data-visible":"loading"===le},B):r.createElement(a,{visible:"loading"===le})):null,"loading"!==y.type?y.icon||(null==q?void 0:q[le])||(e=>{switch(e){case"success":return s;case"info":return c;case"warning":return l;case"error":return u;default:return null}})(le):null):null,r.createElement("div",{"data-content":"",className:z(null==G?void 0:G.content,null==(p=null==y?void 0:y.classNames)?void 0:p.content)},r.createElement("div",{"data-title":"",className:z(null==G?void 0:G.title,null==(m=null==y?void 0:y.classNames)?void 0:m.title)},y.title),y.description?r.createElement("div",{"data-description":"",className:z(L,de,null==G?void 0:G.description,null==(h=null==y?void 0:y.classNames)?void 0:h.description)},y.description):null),r.isValidElement(y.cancel)?y.cancel:y.cancel&&f(y.cancel)?r.createElement("button",{"data-button":!0,"data-cancel":!0,style:y.cancelButtonStyle||O,onClick:e=>{var t,n;f(y.cancel)&&ce&&(null==(n=(t=y.cancel).onClick)||n.call(t,e),we())},className:z(null==G?void 0:G.cancelButton,null==(g=null==y?void 0:y.classNames)?void 0:g.cancelButton)},y.cancel.label):null,r.isValidElement(y.action)?y.action:y.action&&f(y.action)?r.createElement("button",{"data-button":!0,"data-action":!0,style:y.actionButtonStyle||N,onClick:e=>{var t,n;f(y.action)&&(e.defaultPrevented||(null==(n=(t=y.action).onClick)||n.call(t,e),we()))},className:z(null==G?void 0:G.actionButton,null==(_=null==y?void 0:y.classNames)?void 0:_.actionButton)},y.action.label):null))};function S(){if("undefined"==typeof document)return"ltr";let e=document.documentElement.getAttribute("dir");return"auto"!==e&&e?e:window.getComputedStyle(document.documentElement).direction}var E=e=>{let{invert:t,position:n="bottom-right",hotkey:i=["altKey","KeyT"],expand:a,closeButton:s,className:l,offset:c,theme:u="light",richColors:d,duration:m,style:h,visibleToasts:g=_,toastOptions:f,dir:E=S(),gap:C=v,loadingIcon:T,icons:w,containerAriaLabel:I="Notifications",pauseWhenPageIsHidden:P,cn:A=y}=e,[k,x]=r.useState([]),R=r.useMemo((()=>Array.from(new Set([n].concat(k.filter((e=>e.position)).map((e=>e.position)))))),[k,n]),[O,N]=r.useState([]),[M,L]=r.useState(!1),[D,F]=r.useState(!1),[U,B]=r.useState("system"!==u?u:window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),H=r.useRef(null),G=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),q=r.useRef(null),j=r.useRef(!1),V=r.useCallback((e=>{var t;null!=(t=k.find((t=>t.id===e.id)))&&t.delete||p.dismiss(e.id),x((t=>t.filter((({id:t})=>t!==e.id))))}),[k]);return r.useEffect((()=>p.subscribe((e=>{e.dismiss?x((t=>t.map((t=>t.id===e.id?{...t,delete:!0}:t)))):setTimeout((()=>{o.flushSync((()=>{x((t=>{let n=t.findIndex((t=>t.id===e.id));return-1!==n?[...t.slice(0,n),{...t[n],...e},...t.slice(n+1)]:[e,...t]}))}))}))}))),[]),r.useEffect((()=>{"system"===u?("system"===u&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?B("dark"):B("light")),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",(({matches:e})=>{B(e?"dark":"light")}))):B(u)}),[u]),r.useEffect((()=>{k.length<=1&&L(!1)}),[k]),r.useEffect((()=>{let e=e=>{var t,n;i.every((t=>e[t]||e.code===t))&&(L(!0),null==(t=H.current)||t.focus()),"Escape"===e.code&&(document.activeElement===H.current||null!=(n=H.current)&&n.contains(document.activeElement))&&L(!1)};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)}),[i]),r.useEffect((()=>{if(H.current)return()=>{q.current&&(q.current.focus({preventScroll:!0}),q.current=null,j.current=!1)}}),[H.current]),k.length?r.createElement("section",{"aria-label":`${I} ${G}`,tabIndex:-1},R.map(((e,n)=>{var o;let[i,u]=e.split("-");return r.createElement("ol",{key:e,dir:"auto"===E?S():E,tabIndex:-1,ref:H,className:l,"data-sonner-toaster":!0,"data-theme":U,"data-y-position":i,"data-x-position":u,style:{"--front-toast-height":`${(null==(o=O[0])?void 0:o.height)||0}px`,"--offset":"number"==typeof c?`${c}px`:c||"32px","--width":"356px","--gap":`${C}px`,...h},onBlur:e=>{j.current&&!e.currentTarget.contains(e.relatedTarget)&&(j.current=!1,q.current&&(q.current.focus({preventScroll:!0}),q.current=null))},onFocus:e=>{e.target instanceof HTMLElement&&"false"===e.target.dataset.dismissible||j.current||(j.current=!0,q.current=e.relatedTarget)},onMouseEnter:()=>L(!0),onMouseMove:()=>L(!0),onMouseLeave:()=>{D||L(!1)},onPointerDown:e=>{e.target instanceof HTMLElement&&"false"===e.target.dataset.dismissible||F(!0)},onPointerUp:()=>F(!1)},k.filter((t=>!t.position&&0===n||t.position===e)).map(((n,o)=>{var i,l;return r.createElement(b,{key:n.id,icons:w,index:o,toast:n,defaultRichColors:d,duration:null!=(i=null==f?void 0:f.duration)?i:m,className:null==f?void 0:f.className,descriptionClassName:null==f?void 0:f.descriptionClassName,invert:t,visibleToasts:g,closeButton:null!=(l=null==f?void 0:f.closeButton)?l:s,interacting:D,position:e,style:null==f?void 0:f.style,unstyled:null==f?void 0:f.unstyled,classNames:null==f?void 0:f.classNames,cancelButtonStyle:null==f?void 0:f.cancelButtonStyle,actionButtonStyle:null==f?void 0:f.actionButtonStyle,removeToast:V,toasts:k.filter((e=>e.position==n.position)),heights:O.filter((e=>e.position==n.position)),setHeights:N,expandByDefault:a,gap:C,loadingIcon:T,expanded:M,pauseWhenPageIsHidden:P,cn:A})})))}))):null}},37730:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=!0,o="Invariant failed";function i(e,t){if(!e){if(r)throw new Error(o);var n="function"===typeof t?t():t,i=n?"".concat(o,": ").concat(n):o;throw new Error(i)}}},85608:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__addDisposableResource:()=>L,__assign:()=>i,__asyncDelegator:()=>w,__asyncGenerator:()=>T,__asyncValues:()=>I,__await:()=>C,__awaiter:()=>h,__classPrivateFieldGet:()=>O,__classPrivateFieldIn:()=>M,__classPrivateFieldSet:()=>N,__createBinding:()=>f,__decorate:()=>s,__disposeResources:()=>F,__esDecorate:()=>c,__exportStar:()=>_,__extends:()=>o,__generator:()=>g,__importDefault:()=>R,__importStar:()=>x,__makeTemplateObject:()=>P,__metadata:()=>m,__param:()=>l,__propKey:()=>d,__read:()=>y,__rest:()=>a,__rewriteRelativeImportExtension:()=>U,__runInitializers:()=>u,__setFunctionName:()=>p,__spread:()=>b,__spreadArray:()=>E,__spreadArrays:()=>S,__values:()=>v,default:()=>B});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)};function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i=function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function s(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}function l(e,t){return function(n,r){t(n,r,e)}}function c(e,t,n,r,o,i){function a(e){if(void 0!==e&&"function"!==typeof e)throw new TypeError("Function expected");return e}for(var s,l=r.kind,c="getter"===l?"get":"setter"===l?"set":"value",u=!t&&e?r.static?e:e.prototype:null,d=t||(u?Object.getOwnPropertyDescriptor(u,r.name):{}),p=!1,m=n.length-1;m>=0;m--){var h={};for(var g in r)h[g]="access"===g?{}:r[g];for(var g in r.access)h.access[g]=r.access[g];h.addInitializer=function(e){if(p)throw new TypeError("Cannot add initializers after decoration has completed");i.push(a(e||null))};var f=(0,n[m])("accessor"===l?{get:d.get,set:d.set}:d[c],h);if("accessor"===l){if(void 0===f)continue;if(null===f||"object"!==typeof f)throw new TypeError("Object expected");(s=a(f.get))&&(d.get=s),(s=a(f.set))&&(d.set=s),(s=a(f.init))&&o.unshift(s)}else(s=a(f))&&("field"===l?o.unshift(s):d[c]=s)}u&&Object.defineProperty(u,r.name,d),p=!0}function u(e,t,n){for(var r=arguments.length>2,o=0;o<t.length;o++)n=r?t[o].call(e,n):t[o].call(e);return r?n:void 0}function d(e){return"symbol"===typeof e?e:"".concat(e)}function p(e,t,n){return"symbol"===typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:n?"".concat(n," ",t):t})}function m(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)}function h(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(t){i(t)}}function s(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))}function g(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"===typeof Iterator?Iterator:Object).prototype);return a.next=s(0),a.throw=s(1),a.return=s(2),"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===s[0]||2===s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(l){s=[6,l],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}}var f=Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]};function _(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||f(t,e,n)}function v(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function y(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function b(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(y(arguments[t]));return e}function S(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r}function E(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}function C(e){return this instanceof C?(this.v=e,this):new C(e)}function T(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r=Object.create(("function"===typeof AsyncIterator?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",(function(e){return function(t){return Promise.resolve(t).then(e,c)}})),r[Symbol.asyncIterator]=function(){return this},r;function a(e,t){o[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||s(e,t)}))},t&&(r[e]=t(r[e])))}function s(e,t){try{(n=o[e](t)).value instanceof C?Promise.resolve(n.value.v).then(l,c):u(i[0][2],n)}catch(r){u(i[0][3],r)}var n}function l(e){s("next",e)}function c(e){s("throw",e)}function u(e,t){e(t),i.shift(),i.length&&s(i[0][0],i[0][1])}}function w(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,o){t[r]=e[r]?function(t){return(n=!n)?{value:C(e[r](t)),done:!1}:o?o(t):t}:o}}function I(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=v(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,o,(t=e[n](t)).done,t.value)}))}}}function P(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var A=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},k=function(e){return k=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},k(e)};function x(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=k(e),r=0;r<n.length;r++)"default"!==n[r]&&f(t,e,n[r]);return A(t,e),t}function R(e){return e&&e.__esModule?e:{default:e}}function O(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)}function N(e,t,n,r,o){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?o.call(e,n):o?o.value=n:t.set(e,n),n}function M(e,t){if(null===t||"object"!==typeof t&&"function"!==typeof t)throw new TypeError("Cannot use 'in' operator on non-object");return"function"===typeof e?t===e:e.has(t)}function L(e,t,n){if(null!==t&&void 0!==t){if("object"!==typeof t&&"function"!==typeof t)throw new TypeError("Object expected.");var r,o;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=t[Symbol.asyncDispose]}if(void 0===r){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=t[Symbol.dispose],n&&(o=r)}if("function"!==typeof r)throw new TypeError("Object not disposable.");o&&(r=function(){try{o.call(this)}catch(e){return Promise.reject(e)}}),e.stack.push({value:t,dispose:r,async:n})}else n&&e.stack.push({async:!0});return t}var D="function"===typeof SuppressedError?SuppressedError:function(e,t,n){var r=new Error(n);return r.name="SuppressedError",r.error=e,r.suppressed=t,r};function F(e){function t(t){e.error=e.hasError?new D(t,e.error,"An error was suppressed during disposal."):t,e.hasError=!0}var n,r=0;return function o(){for(;n=e.stack.pop();)try{if(!n.async&&1===r)return r=0,e.stack.push(n),Promise.resolve().then(o);if(n.dispose){var i=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(i).then(o,(function(e){return t(e),o()}))}else r|=1}catch(a){t(a)}if(1===r)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}()}function U(e,t){return"string"===typeof e&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,(function(e,n,r,o,i){return n?t?".jsx":".js":!r||o&&i?r+o+"."+i.toLowerCase()+"js":e})):e}const B={__extends:o,__assign:i,__rest:a,__decorate:s,__param:l,__esDecorate:c,__runInitializers:u,__propKey:d,__setFunctionName:p,__metadata:m,__awaiter:h,__generator:g,__createBinding:f,__exportStar:_,__values:v,__read:y,__spread:b,__spreadArrays:S,__spreadArray:E,__await:C,__asyncGenerator:T,__asyncDelegator:w,__asyncValues:I,__makeTemplateObject:P,__importStar:x,__importDefault:R,__classPrivateFieldGet:O,__classPrivateFieldSet:N,__classPrivateFieldIn:M,__addDisposableResource:L,__disposeResources:F,__rewriteRelativeImportExtension:U}},46195:(e,t,n)=>{"use strict";var r,o;n.d(t,{z:()=>It}),function(e){e.assertEqual=e=>e,e.assertIs=function(e){},e.assertNever=function(e){throw new Error},e.arrayToEnum=e=>{const t={};for(const n of e)t[n]=n;return t},e.getValidEnumValues=t=>{const n=e.objectKeys(t).filter((e=>"number"!==typeof t[t[e]])),r={};for(const e of n)r[e]=t[e];return e.objectValues(r)},e.objectValues=t=>e.objectKeys(t).map((function(e){return t[e]})),e.objectKeys="function"===typeof Object.keys?e=>Object.keys(e):e=>{const t=[];for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t},e.find=(e,t)=>{for(const n of e)if(t(n))return n},e.isInteger="function"===typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"===typeof e&&isFinite(e)&&Math.floor(e)===e,e.joinValues=function(e,t=" | "){return e.map((e=>"string"===typeof e?`'${e}'`:e)).join(t)},e.jsonStringifyReplacer=(e,t)=>"bigint"===typeof t?t.toString():t}(r||(r={})),function(e){e.mergeShapes=(e,t)=>({...e,...t})}(o||(o={}));const i=r.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),a=e=>{switch(typeof e){case"undefined":return i.undefined;case"string":return i.string;case"number":return isNaN(e)?i.nan:i.number;case"boolean":return i.boolean;case"function":return i.function;case"bigint":return i.bigint;case"symbol":return i.symbol;case"object":return Array.isArray(e)?i.array:null===e?i.null:e.then&&"function"===typeof e.then&&e.catch&&"function"===typeof e.catch?i.promise:"undefined"!==typeof Map&&e instanceof Map?i.map:"undefined"!==typeof Set&&e instanceof Set?i.set:"undefined"!==typeof Date&&e instanceof Date?i.date:i.object;default:return i.unknown}},s=r.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class l extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=(e=[])=>{this.issues=[...this.issues,...e]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){const t=e||function(e){return e.message},n={_errors:[]},r=e=>{for(const o of e.issues)if("invalid_union"===o.code)o.unionErrors.map(r);else if("invalid_return_type"===o.code)r(o.returnTypeError);else if("invalid_arguments"===o.code)r(o.argumentsError);else if(0===o.path.length)n._errors.push(t(o));else{let e=n,r=0;for(;r<o.path.length;){const n=o.path[r];r===o.path.length-1?(e[n]=e[n]||{_errors:[]},e[n]._errors.push(t(o))):e[n]=e[n]||{_errors:[]},e=e[n],r++}}};return r(this),n}static assert(e){if(!(e instanceof l))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,r.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(e=(e=>e.message)){const t={},n=[];for(const r of this.issues)r.path.length>0?(t[r.path[0]]=t[r.path[0]]||[],t[r.path[0]].push(e(r))):n.push(e(r));return{formErrors:n,fieldErrors:t}}get formErrors(){return this.flatten()}}l.create=e=>new l(e);const c=(e,t)=>{let n;switch(e.code){case s.invalid_type:n=e.received===i.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case s.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,r.jsonStringifyReplacer)}`;break;case s.unrecognized_keys:n=`Unrecognized key(s) in object: ${r.joinValues(e.keys,", ")}`;break;case s.invalid_union:n="Invalid input";break;case s.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${r.joinValues(e.options)}`;break;case s.invalid_enum_value:n=`Invalid enum value. Expected ${r.joinValues(e.options)}, received '${e.received}'`;break;case s.invalid_arguments:n="Invalid function arguments";break;case s.invalid_return_type:n="Invalid function return type";break;case s.invalid_date:n="Invalid date";break;case s.invalid_string:"object"===typeof e.validation?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,"number"===typeof e.validation.position&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:r.assertNever(e.validation):n="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case s.too_small:n="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case s.too_big:n="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case s.custom:n="Invalid input";break;case s.invalid_intersection_types:n="Intersection results could not be merged";break;case s.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case s.not_finite:n="Number must be finite";break;default:n=t.defaultError,r.assertNever(e)}return{message:n}};let u=c;function d(){return u}const p=e=>{const{data:t,path:n,errorMaps:r,issueData:o}=e,i=[...n,...o.path||[]],a={...o,path:i};if(void 0!==o.message)return{...o,path:i,message:o.message};let s="";const l=r.filter((e=>!!e)).slice().reverse();for(const c of l)s=c(a,{data:t,defaultError:s}).message;return{...o,path:i,message:s}};function m(e,t){const n=d(),r=p({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===c?void 0:c].filter((e=>!!e))});e.common.issues.push(r)}class h{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){const n=[];for(const r of t){if("aborted"===r.status)return g;"dirty"===r.status&&e.dirty(),n.push(r.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,t){const n=[];for(const r of t){const e=await r.key,t=await r.value;n.push({key:e,value:t})}return h.mergeObjectSync(e,n)}static mergeObjectSync(e,t){const n={};for(const r of t){const{key:t,value:o}=r;if("aborted"===t.status)return g;if("aborted"===o.status)return g;"dirty"===t.status&&e.dirty(),"dirty"===o.status&&e.dirty(),"__proto__"===t.value||"undefined"===typeof o.value&&!r.alwaysSet||(n[t.value]=o.value)}return{status:e.value,value:n}}}const g=Object.freeze({status:"aborted"}),f=e=>({status:"dirty",value:e}),_=e=>({status:"valid",value:e}),v=e=>"aborted"===e.status,y=e=>"dirty"===e.status,b=e=>"valid"===e.status,S=e=>"undefined"!==typeof Promise&&e instanceof Promise;function E(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)}function C(e,t,n,r,o){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?o.call(e,n):o?o.value=n:t.set(e,n),n}var T,w,I;"function"===typeof SuppressedError&&SuppressedError,function(e){e.errToObj=e=>"string"===typeof e?{message:e}:e||{},e.toString=e=>"string"===typeof e?e:null===e||void 0===e?void 0:e.message}(T||(T={}));class P{constructor(e,t,n,r){this._cachedPath=[],this.parent=e,this.data=t,this._path=n,this._key=r}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const A=(e,t)=>{if(b(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new l(e.common.issues);return this._error=t,this._error}}};function k(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:r,description:o}=e;if(t&&(n||r))throw new Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');if(t)return{errorMap:t,description:o};return{errorMap:(t,o)=>{var i,a;const{message:s}=e;return"invalid_enum_value"===t.code?{message:null!==s&&void 0!==s?s:o.defaultError}:"undefined"===typeof o.data?{message:null!==(i=null!==s&&void 0!==s?s:r)&&void 0!==i?i:o.defaultError}:"invalid_type"!==t.code?{message:o.defaultError}:{message:null!==(a=null!==s&&void 0!==s?s:n)&&void 0!==a?a:o.defaultError}},description:o}}class x{get description(){return this._def.description}_getType(e){return a(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:a(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new h,ctx:{common:e.parent.common,data:e.data,parsedType:a(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(S(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const n=this.safeParse(e,t);if(n.success)return n.data;throw n.error}safeParse(e,t){var n;const r={common:{issues:[],async:null!==(n=null===t||void 0===t?void 0:t.async)&&void 0!==n&&n,contextualErrorMap:null===t||void 0===t?void 0:t.errorMap},path:(null===t||void 0===t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:a(e)},o=this._parseSync({data:e,path:r.path,parent:r});return A(r,o)}"~validate"(e){var t,n;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:a(e)};if(!this["~standard"].async)try{const t=this._parseSync({data:e,path:[],parent:r});return b(t)?{value:t.value}:{issues:r.common.issues}}catch(o){(null===(n=null===(t=null===o||void 0===o?void 0:o.message)||void 0===t?void 0:t.toLowerCase())||void 0===n?void 0:n.includes("encountered"))&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:r}).then((e=>b(e)?{value:e.value}:{issues:r.common.issues}))}async parseAsync(e,t){const n=await this.safeParseAsync(e,t);if(n.success)return n.data;throw n.error}async safeParseAsync(e,t){const n={common:{issues:[],contextualErrorMap:null===t||void 0===t?void 0:t.errorMap,async:!0},path:(null===t||void 0===t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:a(e)},r=this._parse({data:e,path:n.path,parent:n}),o=await(S(r)?r:Promise.resolve(r));return A(n,o)}refine(e,t){const n=e=>"string"===typeof t||"undefined"===typeof t?{message:t}:"function"===typeof t?t(e):t;return this._refinement(((t,r)=>{const o=e(t),i=()=>r.addIssue({code:s.custom,...n(t)});return"undefined"!==typeof Promise&&o instanceof Promise?o.then((e=>!!e||(i(),!1))):!!o||(i(),!1)}))}refinement(e,t){return this._refinement(((n,r)=>!!e(n)||(r.addIssue("function"===typeof t?t(n,r):t),!1)))}_refinement(e){return new xe({schema:this,typeName:je.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:e=>this["~validate"](e)}}optional(){return Re.create(this,this._def)}nullable(){return Oe.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return de.create(this)}promise(){return ke.create(this,this._def)}or(e){return he.create([this,e],this._def)}and(e){return ve.create(this,e,this._def)}transform(e){return new xe({...k(this._def),schema:this,typeName:je.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t="function"===typeof e?e:()=>e;return new Ne({...k(this._def),innerType:this,defaultValue:t,typeName:je.ZodDefault})}brand(){return new Fe({typeName:je.ZodBranded,type:this,...k(this._def)})}catch(e){const t="function"===typeof e?e:()=>e;return new Me({...k(this._def),innerType:this,catchValue:t,typeName:je.ZodCatch})}describe(e){return new(0,this.constructor)({...this._def,description:e})}pipe(e){return Ue.create(this,e)}readonly(){return Be.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const R=/^c[^\s-]{8,}$/i,O=/^[0-9a-z]+$/,N=/^[0-9A-HJKMNP-TV-Z]{26}$/i,M=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,L=/^[a-z0-9_-]{21}$/i,D=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,F=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,U=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i;let B;const H=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,G=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,q=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,j=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,V=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,z=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,X="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",K=new RegExp(`^${X}$`);function W(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:null==e.precision&&(t=`${t}(\\.\\d+)?`),t}function $(e){let t=`${X}T${W(e)}`;const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`)}function Y(e,t){if(!D.test(e))return!1;try{const[n]=e.split("."),r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),o=JSON.parse(atob(r));return"object"===typeof o&&null!==o&&(!(!o.typ||!o.alg)&&(!t||o.alg===t))}catch(n){return!1}}function Q(e,t){return!("v4"!==t&&t||!G.test(e))||!("v6"!==t&&t||!j.test(e))}class J extends x{_parse(e){this._def.coerce&&(e.data=String(e.data));if(this._getType(e)!==i.string){const t=this._getOrReturnCtx(e);return m(t,{code:s.invalid_type,expected:i.string,received:t.parsedType}),g}const t=new h;let n;for(const i of this._def.checks)if("min"===i.kind)e.data.length<i.value&&(n=this._getOrReturnCtx(e,n),m(n,{code:s.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),t.dirty());else if("max"===i.kind)e.data.length>i.value&&(n=this._getOrReturnCtx(e,n),m(n,{code:s.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),t.dirty());else if("length"===i.kind){const r=e.data.length>i.value,o=e.data.length<i.value;(r||o)&&(n=this._getOrReturnCtx(e,n),r?m(n,{code:s.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):o&&m(n,{code:s.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),t.dirty())}else if("email"===i.kind)U.test(e.data)||(n=this._getOrReturnCtx(e,n),m(n,{validation:"email",code:s.invalid_string,message:i.message}),t.dirty());else if("emoji"===i.kind)B||(B=new RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),B.test(e.data)||(n=this._getOrReturnCtx(e,n),m(n,{validation:"emoji",code:s.invalid_string,message:i.message}),t.dirty());else if("uuid"===i.kind)M.test(e.data)||(n=this._getOrReturnCtx(e,n),m(n,{validation:"uuid",code:s.invalid_string,message:i.message}),t.dirty());else if("nanoid"===i.kind)L.test(e.data)||(n=this._getOrReturnCtx(e,n),m(n,{validation:"nanoid",code:s.invalid_string,message:i.message}),t.dirty());else if("cuid"===i.kind)R.test(e.data)||(n=this._getOrReturnCtx(e,n),m(n,{validation:"cuid",code:s.invalid_string,message:i.message}),t.dirty());else if("cuid2"===i.kind)O.test(e.data)||(n=this._getOrReturnCtx(e,n),m(n,{validation:"cuid2",code:s.invalid_string,message:i.message}),t.dirty());else if("ulid"===i.kind)N.test(e.data)||(n=this._getOrReturnCtx(e,n),m(n,{validation:"ulid",code:s.invalid_string,message:i.message}),t.dirty());else if("url"===i.kind)try{new URL(e.data)}catch(l){n=this._getOrReturnCtx(e,n),m(n,{validation:"url",code:s.invalid_string,message:i.message}),t.dirty()}else if("regex"===i.kind){i.regex.lastIndex=0;i.regex.test(e.data)||(n=this._getOrReturnCtx(e,n),m(n,{validation:"regex",code:s.invalid_string,message:i.message}),t.dirty())}else if("trim"===i.kind)e.data=e.data.trim();else if("includes"===i.kind)e.data.includes(i.value,i.position)||(n=this._getOrReturnCtx(e,n),m(n,{code:s.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),t.dirty());else if("toLowerCase"===i.kind)e.data=e.data.toLowerCase();else if("toUpperCase"===i.kind)e.data=e.data.toUpperCase();else if("startsWith"===i.kind)e.data.startsWith(i.value)||(n=this._getOrReturnCtx(e,n),m(n,{code:s.invalid_string,validation:{startsWith:i.value},message:i.message}),t.dirty());else if("endsWith"===i.kind)e.data.endsWith(i.value)||(n=this._getOrReturnCtx(e,n),m(n,{code:s.invalid_string,validation:{endsWith:i.value},message:i.message}),t.dirty());else if("datetime"===i.kind){$(i).test(e.data)||(n=this._getOrReturnCtx(e,n),m(n,{code:s.invalid_string,validation:"datetime",message:i.message}),t.dirty())}else if("date"===i.kind){K.test(e.data)||(n=this._getOrReturnCtx(e,n),m(n,{code:s.invalid_string,validation:"date",message:i.message}),t.dirty())}else if("time"===i.kind){new RegExp(`^${W(i)}$`).test(e.data)||(n=this._getOrReturnCtx(e,n),m(n,{code:s.invalid_string,validation:"time",message:i.message}),t.dirty())}else"duration"===i.kind?F.test(e.data)||(n=this._getOrReturnCtx(e,n),m(n,{validation:"duration",code:s.invalid_string,message:i.message}),t.dirty()):"ip"===i.kind?(o=e.data,("v4"!==(a=i.version)&&a||!H.test(o))&&("v6"!==a&&a||!q.test(o))&&(n=this._getOrReturnCtx(e,n),m(n,{validation:"ip",code:s.invalid_string,message:i.message}),t.dirty())):"jwt"===i.kind?Y(e.data,i.alg)||(n=this._getOrReturnCtx(e,n),m(n,{validation:"jwt",code:s.invalid_string,message:i.message}),t.dirty()):"cidr"===i.kind?Q(e.data,i.version)||(n=this._getOrReturnCtx(e,n),m(n,{validation:"cidr",code:s.invalid_string,message:i.message}),t.dirty()):"base64"===i.kind?V.test(e.data)||(n=this._getOrReturnCtx(e,n),m(n,{validation:"base64",code:s.invalid_string,message:i.message}),t.dirty()):"base64url"===i.kind?z.test(e.data)||(n=this._getOrReturnCtx(e,n),m(n,{validation:"base64url",code:s.invalid_string,message:i.message}),t.dirty()):r.assertNever(i);var o,a;return{status:t.value,value:e.data}}_regex(e,t,n){return this.refinement((t=>e.test(t)),{validation:t,code:s.invalid_string,...T.errToObj(n)})}_addCheck(e){return new J({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...T.errToObj(e)})}url(e){return this._addCheck({kind:"url",...T.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...T.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...T.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...T.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...T.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...T.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...T.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...T.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...T.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...T.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...T.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...T.errToObj(e)})}datetime(e){var t,n;return"string"===typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:"undefined"===typeof(null===e||void 0===e?void 0:e.precision)?null:null===e||void 0===e?void 0:e.precision,offset:null!==(t=null===e||void 0===e?void 0:e.offset)&&void 0!==t&&t,local:null!==(n=null===e||void 0===e?void 0:e.local)&&void 0!==n&&n,...T.errToObj(null===e||void 0===e?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return"string"===typeof e?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:"undefined"===typeof(null===e||void 0===e?void 0:e.precision)?null:null===e||void 0===e?void 0:e.precision,...T.errToObj(null===e||void 0===e?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...T.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...T.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:null===t||void 0===t?void 0:t.position,...T.errToObj(null===t||void 0===t?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...T.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...T.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...T.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...T.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...T.errToObj(t)})}nonempty(e){return this.min(1,T.errToObj(e))}trim(){return new J({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new J({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new J({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find((e=>"datetime"===e.kind))}get isDate(){return!!this._def.checks.find((e=>"date"===e.kind))}get isTime(){return!!this._def.checks.find((e=>"time"===e.kind))}get isDuration(){return!!this._def.checks.find((e=>"duration"===e.kind))}get isEmail(){return!!this._def.checks.find((e=>"email"===e.kind))}get isURL(){return!!this._def.checks.find((e=>"url"===e.kind))}get isEmoji(){return!!this._def.checks.find((e=>"emoji"===e.kind))}get isUUID(){return!!this._def.checks.find((e=>"uuid"===e.kind))}get isNANOID(){return!!this._def.checks.find((e=>"nanoid"===e.kind))}get isCUID(){return!!this._def.checks.find((e=>"cuid"===e.kind))}get isCUID2(){return!!this._def.checks.find((e=>"cuid2"===e.kind))}get isULID(){return!!this._def.checks.find((e=>"ulid"===e.kind))}get isIP(){return!!this._def.checks.find((e=>"ip"===e.kind))}get isCIDR(){return!!this._def.checks.find((e=>"cidr"===e.kind))}get isBase64(){return!!this._def.checks.find((e=>"base64"===e.kind))}get isBase64url(){return!!this._def.checks.find((e=>"base64url"===e.kind))}get minLength(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}function Z(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,o=n>r?n:r;return parseInt(e.toFixed(o).replace(".",""))%parseInt(t.toFixed(o).replace(".",""))/Math.pow(10,o)}J.create=e=>{var t;return new J({checks:[],typeName:je.ZodString,coerce:null!==(t=null===e||void 0===e?void 0:e.coerce)&&void 0!==t&&t,...k(e)})};class ee extends x{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){this._def.coerce&&(e.data=Number(e.data));if(this._getType(e)!==i.number){const t=this._getOrReturnCtx(e);return m(t,{code:s.invalid_type,expected:i.number,received:t.parsedType}),g}let t;const n=new h;for(const o of this._def.checks)if("int"===o.kind)r.isInteger(e.data)||(t=this._getOrReturnCtx(e,t),m(t,{code:s.invalid_type,expected:"integer",received:"float",message:o.message}),n.dirty());else if("min"===o.kind){(o.inclusive?e.data<o.value:e.data<=o.value)&&(t=this._getOrReturnCtx(e,t),m(t,{code:s.too_small,minimum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),n.dirty())}else if("max"===o.kind){(o.inclusive?e.data>o.value:e.data>=o.value)&&(t=this._getOrReturnCtx(e,t),m(t,{code:s.too_big,maximum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),n.dirty())}else"multipleOf"===o.kind?0!==Z(e.data,o.value)&&(t=this._getOrReturnCtx(e,t),m(t,{code:s.not_multiple_of,multipleOf:o.value,message:o.message}),n.dirty()):"finite"===o.kind?Number.isFinite(e.data)||(t=this._getOrReturnCtx(e,t),m(t,{code:s.not_finite,message:o.message}),n.dirty()):r.assertNever(o);return{status:n.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,T.toString(t))}gt(e,t){return this.setLimit("min",e,!1,T.toString(t))}lte(e,t){return this.setLimit("max",e,!0,T.toString(t))}lt(e,t){return this.setLimit("max",e,!1,T.toString(t))}setLimit(e,t,n,r){return new ee({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:T.toString(r)}]})}_addCheck(e){return new ee({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:T.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:T.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:T.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:T.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:T.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:T.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:T.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:T.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:T.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find((e=>"int"===e.kind||"multipleOf"===e.kind&&r.isInteger(e.value)))}get isFinite(){let e=null,t=null;for(const n of this._def.checks){if("finite"===n.kind||"int"===n.kind||"multipleOf"===n.kind)return!0;"min"===n.kind?(null===t||n.value>t)&&(t=n.value):"max"===n.kind&&(null===e||n.value<e)&&(e=n.value)}return Number.isFinite(t)&&Number.isFinite(e)}}ee.create=e=>new ee({checks:[],typeName:je.ZodNumber,coerce:(null===e||void 0===e?void 0:e.coerce)||!1,...k(e)});class te extends x{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch(o){return this._getInvalidInput(e)}if(this._getType(e)!==i.bigint)return this._getInvalidInput(e);let t;const n=new h;for(const i of this._def.checks)if("min"===i.kind){(i.inclusive?e.data<i.value:e.data<=i.value)&&(t=this._getOrReturnCtx(e,t),m(t,{code:s.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),n.dirty())}else if("max"===i.kind){(i.inclusive?e.data>i.value:e.data>=i.value)&&(t=this._getOrReturnCtx(e,t),m(t,{code:s.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),n.dirty())}else"multipleOf"===i.kind?e.data%i.value!==BigInt(0)&&(t=this._getOrReturnCtx(e,t),m(t,{code:s.not_multiple_of,multipleOf:i.value,message:i.message}),n.dirty()):r.assertNever(i);return{status:n.value,value:e.data}}_getInvalidInput(e){const t=this._getOrReturnCtx(e);return m(t,{code:s.invalid_type,expected:i.bigint,received:t.parsedType}),g}gte(e,t){return this.setLimit("min",e,!0,T.toString(t))}gt(e,t){return this.setLimit("min",e,!1,T.toString(t))}lte(e,t){return this.setLimit("max",e,!0,T.toString(t))}lt(e,t){return this.setLimit("max",e,!1,T.toString(t))}setLimit(e,t,n,r){return new te({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:T.toString(r)}]})}_addCheck(e){return new te({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:T.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:T.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:T.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:T.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:T.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}te.create=e=>{var t;return new te({checks:[],typeName:je.ZodBigInt,coerce:null!==(t=null===e||void 0===e?void 0:e.coerce)&&void 0!==t&&t,...k(e)})};class ne extends x{_parse(e){this._def.coerce&&(e.data=Boolean(e.data));if(this._getType(e)!==i.boolean){const t=this._getOrReturnCtx(e);return m(t,{code:s.invalid_type,expected:i.boolean,received:t.parsedType}),g}return _(e.data)}}ne.create=e=>new ne({typeName:je.ZodBoolean,coerce:(null===e||void 0===e?void 0:e.coerce)||!1,...k(e)});class re extends x{_parse(e){this._def.coerce&&(e.data=new Date(e.data));if(this._getType(e)!==i.date){const t=this._getOrReturnCtx(e);return m(t,{code:s.invalid_type,expected:i.date,received:t.parsedType}),g}if(isNaN(e.data.getTime())){return m(this._getOrReturnCtx(e),{code:s.invalid_date}),g}const t=new h;let n;for(const o of this._def.checks)"min"===o.kind?e.data.getTime()<o.value&&(n=this._getOrReturnCtx(e,n),m(n,{code:s.too_small,message:o.message,inclusive:!0,exact:!1,minimum:o.value,type:"date"}),t.dirty()):"max"===o.kind?e.data.getTime()>o.value&&(n=this._getOrReturnCtx(e,n),m(n,{code:s.too_big,message:o.message,inclusive:!0,exact:!1,maximum:o.value,type:"date"}),t.dirty()):r.assertNever(o);return{status:t.value,value:new Date(e.data.getTime())}}_addCheck(e){return new re({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:T.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:T.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}re.create=e=>new re({checks:[],coerce:(null===e||void 0===e?void 0:e.coerce)||!1,typeName:je.ZodDate,...k(e)});class oe extends x{_parse(e){if(this._getType(e)!==i.symbol){const t=this._getOrReturnCtx(e);return m(t,{code:s.invalid_type,expected:i.symbol,received:t.parsedType}),g}return _(e.data)}}oe.create=e=>new oe({typeName:je.ZodSymbol,...k(e)});class ie extends x{_parse(e){if(this._getType(e)!==i.undefined){const t=this._getOrReturnCtx(e);return m(t,{code:s.invalid_type,expected:i.undefined,received:t.parsedType}),g}return _(e.data)}}ie.create=e=>new ie({typeName:je.ZodUndefined,...k(e)});class ae extends x{_parse(e){if(this._getType(e)!==i.null){const t=this._getOrReturnCtx(e);return m(t,{code:s.invalid_type,expected:i.null,received:t.parsedType}),g}return _(e.data)}}ae.create=e=>new ae({typeName:je.ZodNull,...k(e)});class se extends x{constructor(){super(...arguments),this._any=!0}_parse(e){return _(e.data)}}se.create=e=>new se({typeName:je.ZodAny,...k(e)});class le extends x{constructor(){super(...arguments),this._unknown=!0}_parse(e){return _(e.data)}}le.create=e=>new le({typeName:je.ZodUnknown,...k(e)});class ce extends x{_parse(e){const t=this._getOrReturnCtx(e);return m(t,{code:s.invalid_type,expected:i.never,received:t.parsedType}),g}}ce.create=e=>new ce({typeName:je.ZodNever,...k(e)});class ue extends x{_parse(e){if(this._getType(e)!==i.undefined){const t=this._getOrReturnCtx(e);return m(t,{code:s.invalid_type,expected:i.void,received:t.parsedType}),g}return _(e.data)}}ue.create=e=>new ue({typeName:je.ZodVoid,...k(e)});class de extends x{_parse(e){const{ctx:t,status:n}=this._processInputParams(e),r=this._def;if(t.parsedType!==i.array)return m(t,{code:s.invalid_type,expected:i.array,received:t.parsedType}),g;if(null!==r.exactLength){const e=t.data.length>r.exactLength.value,o=t.data.length<r.exactLength.value;(e||o)&&(m(t,{code:e?s.too_big:s.too_small,minimum:o?r.exactLength.value:void 0,maximum:e?r.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:r.exactLength.message}),n.dirty())}if(null!==r.minLength&&t.data.length<r.minLength.value&&(m(t,{code:s.too_small,minimum:r.minLength.value,type:"array",inclusive:!0,exact:!1,message:r.minLength.message}),n.dirty()),null!==r.maxLength&&t.data.length>r.maxLength.value&&(m(t,{code:s.too_big,maximum:r.maxLength.value,type:"array",inclusive:!0,exact:!1,message:r.maxLength.message}),n.dirty()),t.common.async)return Promise.all([...t.data].map(((e,n)=>r.type._parseAsync(new P(t,e,t.path,n))))).then((e=>h.mergeArray(n,e)));const o=[...t.data].map(((e,n)=>r.type._parseSync(new P(t,e,t.path,n))));return h.mergeArray(n,o)}get element(){return this._def.type}min(e,t){return new de({...this._def,minLength:{value:e,message:T.toString(t)}})}max(e,t){return new de({...this._def,maxLength:{value:e,message:T.toString(t)}})}length(e,t){return new de({...this._def,exactLength:{value:e,message:T.toString(t)}})}nonempty(e){return this.min(1,e)}}function pe(e){if(e instanceof me){const t={};for(const n in e.shape){const r=e.shape[n];t[n]=Re.create(pe(r))}return new me({...e._def,shape:()=>t})}return e instanceof de?new de({...e._def,type:pe(e.element)}):e instanceof Re?Re.create(pe(e.unwrap())):e instanceof Oe?Oe.create(pe(e.unwrap())):e instanceof ye?ye.create(e.items.map((e=>pe(e)))):e}de.create=(e,t)=>new de({type:e,minLength:null,maxLength:null,exactLength:null,typeName:je.ZodArray,...k(t)});class me extends x{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;const e=this._def.shape(),t=r.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==i.object){const t=this._getOrReturnCtx(e);return m(t,{code:s.invalid_type,expected:i.object,received:t.parsedType}),g}const{status:t,ctx:n}=this._processInputParams(e),{shape:r,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof ce&&"strip"===this._def.unknownKeys))for(const i in n.data)o.includes(i)||a.push(i);const l=[];for(const i of o){const e=r[i],t=n.data[i];l.push({key:{status:"valid",value:i},value:e._parse(new P(n,t,n.path,i)),alwaysSet:i in n.data})}if(this._def.catchall instanceof ce){const e=this._def.unknownKeys;if("passthrough"===e)for(const t of a)l.push({key:{status:"valid",value:t},value:{status:"valid",value:n.data[t]}});else if("strict"===e)a.length>0&&(m(n,{code:s.unrecognized_keys,keys:a}),t.dirty());else if("strip"!==e)throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const e=this._def.catchall;for(const t of a){const r=n.data[t];l.push({key:{status:"valid",value:t},value:e._parse(new P(n,r,n.path,t)),alwaysSet:t in n.data})}}return n.common.async?Promise.resolve().then((async()=>{const e=[];for(const t of l){const n=await t.key,r=await t.value;e.push({key:n,value:r,alwaysSet:t.alwaysSet})}return e})).then((e=>h.mergeObjectSync(t,e))):h.mergeObjectSync(t,l)}get shape(){return this._def.shape()}strict(e){return T.errToObj,new me({...this._def,unknownKeys:"strict",...void 0!==e?{errorMap:(t,n)=>{var r,o,i,a;const s=null!==(i=null===(o=(r=this._def).errorMap)||void 0===o?void 0:o.call(r,t,n).message)&&void 0!==i?i:n.defaultError;return"unrecognized_keys"===t.code?{message:null!==(a=T.errToObj(e).message)&&void 0!==a?a:s}:{message:s}}}:{}})}strip(){return new me({...this._def,unknownKeys:"strip"})}passthrough(){return new me({...this._def,unknownKeys:"passthrough"})}extend(e){return new me({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new me({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:je.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new me({...this._def,catchall:e})}pick(e){const t={};return r.objectKeys(e).forEach((n=>{e[n]&&this.shape[n]&&(t[n]=this.shape[n])})),new me({...this._def,shape:()=>t})}omit(e){const t={};return r.objectKeys(this.shape).forEach((n=>{e[n]||(t[n]=this.shape[n])})),new me({...this._def,shape:()=>t})}deepPartial(){return pe(this)}partial(e){const t={};return r.objectKeys(this.shape).forEach((n=>{const r=this.shape[n];e&&!e[n]?t[n]=r:t[n]=r.optional()})),new me({...this._def,shape:()=>t})}required(e){const t={};return r.objectKeys(this.shape).forEach((n=>{if(e&&!e[n])t[n]=this.shape[n];else{let e=this.shape[n];for(;e instanceof Re;)e=e._def.innerType;t[n]=e}})),new me({...this._def,shape:()=>t})}keyof(){return Ie(r.objectKeys(this.shape))}}me.create=(e,t)=>new me({shape:()=>e,unknownKeys:"strip",catchall:ce.create(),typeName:je.ZodObject,...k(t)}),me.strictCreate=(e,t)=>new me({shape:()=>e,unknownKeys:"strict",catchall:ce.create(),typeName:je.ZodObject,...k(t)}),me.lazycreate=(e,t)=>new me({shape:e,unknownKeys:"strip",catchall:ce.create(),typeName:je.ZodObject,...k(t)});class he extends x{_parse(e){const{ctx:t}=this._processInputParams(e),n=this._def.options;if(t.common.async)return Promise.all(n.map((async e=>{const n={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:n}),ctx:n}}))).then((function(e){for(const t of e)if("valid"===t.result.status)return t.result;for(const r of e)if("dirty"===r.result.status)return t.common.issues.push(...r.ctx.common.issues),r.result;const n=e.map((e=>new l(e.ctx.common.issues)));return m(t,{code:s.invalid_union,unionErrors:n}),g}));{let e;const r=[];for(const i of n){const n={...t,common:{...t.common,issues:[]},parent:null},o=i._parseSync({data:t.data,path:t.path,parent:n});if("valid"===o.status)return o;"dirty"!==o.status||e||(e={result:o,ctx:n}),n.common.issues.length&&r.push(n.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;const o=r.map((e=>new l(e)));return m(t,{code:s.invalid_union,unionErrors:o}),g}}get options(){return this._def.options}}he.create=(e,t)=>new he({options:e,typeName:je.ZodUnion,...k(t)});const ge=e=>e instanceof Te?ge(e.schema):e instanceof xe?ge(e.innerType()):e instanceof we?[e.value]:e instanceof Pe?e.options:e instanceof Ae?r.objectValues(e.enum):e instanceof Ne?ge(e._def.innerType):e instanceof ie?[void 0]:e instanceof ae?[null]:e instanceof Re?[void 0,...ge(e.unwrap())]:e instanceof Oe?[null,...ge(e.unwrap())]:e instanceof Fe||e instanceof Be?ge(e.unwrap()):e instanceof Me?ge(e._def.innerType):[];class fe extends x{_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==i.object)return m(t,{code:s.invalid_type,expected:i.object,received:t.parsedType}),g;const n=this.discriminator,r=t.data[n],o=this.optionsMap.get(r);return o?t.common.async?o._parseAsync({data:t.data,path:t.path,parent:t}):o._parseSync({data:t.data,path:t.path,parent:t}):(m(t,{code:s.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),g)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,n){const r=new Map;for(const o of t){const t=ge(o.shape[e]);if(!t.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const n of t){if(r.has(n))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(n)}`);r.set(n,o)}}return new fe({typeName:je.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:r,...k(n)})}}function _e(e,t){const n=a(e),o=a(t);if(e===t)return{valid:!0,data:e};if(n===i.object&&o===i.object){const n=r.objectKeys(t),o=r.objectKeys(e).filter((e=>-1!==n.indexOf(e))),i={...e,...t};for(const r of o){const n=_e(e[r],t[r]);if(!n.valid)return{valid:!1};i[r]=n.data}return{valid:!0,data:i}}if(n===i.array&&o===i.array){if(e.length!==t.length)return{valid:!1};const n=[];for(let r=0;r<e.length;r++){const o=_e(e[r],t[r]);if(!o.valid)return{valid:!1};n.push(o.data)}return{valid:!0,data:n}}return n===i.date&&o===i.date&&+e===+t?{valid:!0,data:e}:{valid:!1}}class ve extends x{_parse(e){const{status:t,ctx:n}=this._processInputParams(e),r=(e,r)=>{if(v(e)||v(r))return g;const o=_e(e.value,r.value);return o.valid?((y(e)||y(r))&&t.dirty(),{status:t.value,value:o.data}):(m(n,{code:s.invalid_intersection_types}),g)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then((([e,t])=>r(e,t))):r(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}ve.create=(e,t,n)=>new ve({left:e,right:t,typeName:je.ZodIntersection,...k(n)});class ye extends x{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==i.array)return m(n,{code:s.invalid_type,expected:i.array,received:n.parsedType}),g;if(n.data.length<this._def.items.length)return m(n,{code:s.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),g;!this._def.rest&&n.data.length>this._def.items.length&&(m(n,{code:s.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const r=[...n.data].map(((e,t)=>{const r=this._def.items[t]||this._def.rest;return r?r._parse(new P(n,e,n.path,t)):null})).filter((e=>!!e));return n.common.async?Promise.all(r).then((e=>h.mergeArray(t,e))):h.mergeArray(t,r)}get items(){return this._def.items}rest(e){return new ye({...this._def,rest:e})}}ye.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ye({items:e,typeName:je.ZodTuple,rest:null,...k(t)})};class be extends x{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==i.object)return m(n,{code:s.invalid_type,expected:i.object,received:n.parsedType}),g;const r=[],o=this._def.keyType,a=this._def.valueType;for(const i in n.data)r.push({key:o._parse(new P(n,i,n.path,i)),value:a._parse(new P(n,n.data[i],n.path,i)),alwaysSet:i in n.data});return n.common.async?h.mergeObjectAsync(t,r):h.mergeObjectSync(t,r)}get element(){return this._def.valueType}static create(e,t,n){return new be(t instanceof x?{keyType:e,valueType:t,typeName:je.ZodRecord,...k(n)}:{keyType:J.create(),valueType:e,typeName:je.ZodRecord,...k(t)})}}class Se extends x{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==i.map)return m(n,{code:s.invalid_type,expected:i.map,received:n.parsedType}),g;const r=this._def.keyType,o=this._def.valueType,a=[...n.data.entries()].map((([e,t],i)=>({key:r._parse(new P(n,e,n.path,[i,"key"])),value:o._parse(new P(n,t,n.path,[i,"value"]))})));if(n.common.async){const e=new Map;return Promise.resolve().then((async()=>{for(const n of a){const r=await n.key,o=await n.value;if("aborted"===r.status||"aborted"===o.status)return g;"dirty"!==r.status&&"dirty"!==o.status||t.dirty(),e.set(r.value,o.value)}return{status:t.value,value:e}}))}{const e=new Map;for(const n of a){const r=n.key,o=n.value;if("aborted"===r.status||"aborted"===o.status)return g;"dirty"!==r.status&&"dirty"!==o.status||t.dirty(),e.set(r.value,o.value)}return{status:t.value,value:e}}}}Se.create=(e,t,n)=>new Se({valueType:t,keyType:e,typeName:je.ZodMap,...k(n)});class Ee extends x{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==i.set)return m(n,{code:s.invalid_type,expected:i.set,received:n.parsedType}),g;const r=this._def;null!==r.minSize&&n.data.size<r.minSize.value&&(m(n,{code:s.too_small,minimum:r.minSize.value,type:"set",inclusive:!0,exact:!1,message:r.minSize.message}),t.dirty()),null!==r.maxSize&&n.data.size>r.maxSize.value&&(m(n,{code:s.too_big,maximum:r.maxSize.value,type:"set",inclusive:!0,exact:!1,message:r.maxSize.message}),t.dirty());const o=this._def.valueType;function a(e){const n=new Set;for(const r of e){if("aborted"===r.status)return g;"dirty"===r.status&&t.dirty(),n.add(r.value)}return{status:t.value,value:n}}const l=[...n.data.values()].map(((e,t)=>o._parse(new P(n,e,n.path,t))));return n.common.async?Promise.all(l).then((e=>a(e))):a(l)}min(e,t){return new Ee({...this._def,minSize:{value:e,message:T.toString(t)}})}max(e,t){return new Ee({...this._def,maxSize:{value:e,message:T.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}Ee.create=(e,t)=>new Ee({valueType:e,minSize:null,maxSize:null,typeName:je.ZodSet,...k(t)});class Ce extends x{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==i.function)return m(t,{code:s.invalid_type,expected:i.function,received:t.parsedType}),g;function n(e,n){return p({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,d(),c].filter((e=>!!e)),issueData:{code:s.invalid_arguments,argumentsError:n}})}function r(e,n){return p({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,d(),c].filter((e=>!!e)),issueData:{code:s.invalid_return_type,returnTypeError:n}})}const o={errorMap:t.common.contextualErrorMap},a=t.data;if(this._def.returns instanceof ke){const e=this;return _((async function(...t){const i=new l([]),s=await e._def.args.parseAsync(t,o).catch((e=>{throw i.addIssue(n(t,e)),i})),c=await Reflect.apply(a,this,s);return await e._def.returns._def.type.parseAsync(c,o).catch((e=>{throw i.addIssue(r(c,e)),i}))}))}{const e=this;return _((function(...t){const i=e._def.args.safeParse(t,o);if(!i.success)throw new l([n(t,i.error)]);const s=Reflect.apply(a,this,i.data),c=e._def.returns.safeParse(s,o);if(!c.success)throw new l([r(s,c.error)]);return c.data}))}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Ce({...this._def,args:ye.create(e).rest(le.create())})}returns(e){return new Ce({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,n){return new Ce({args:e||ye.create([]).rest(le.create()),returns:t||le.create(),typeName:je.ZodFunction,...k(n)})}}class Te extends x{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}Te.create=(e,t)=>new Te({getter:e,typeName:je.ZodLazy,...k(t)});class we extends x{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return m(t,{received:t.data,code:s.invalid_literal,expected:this._def.value}),g}return{status:"valid",value:e.data}}get value(){return this._def.value}}function Ie(e,t){return new Pe({values:e,typeName:je.ZodEnum,...k(t)})}we.create=(e,t)=>new we({value:e,typeName:je.ZodLiteral,...k(t)});class Pe extends x{constructor(){super(...arguments),w.set(this,void 0)}_parse(e){if("string"!==typeof e.data){const t=this._getOrReturnCtx(e),n=this._def.values;return m(t,{expected:r.joinValues(n),received:t.parsedType,code:s.invalid_type}),g}if(E(this,w,"f")||C(this,w,new Set(this._def.values),"f"),!E(this,w,"f").has(e.data)){const t=this._getOrReturnCtx(e),n=this._def.values;return m(t,{received:t.data,code:s.invalid_enum_value,options:n}),g}return _(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return Pe.create(e,{...this._def,...t})}exclude(e,t=this._def){return Pe.create(this.options.filter((t=>!e.includes(t))),{...this._def,...t})}}w=new WeakMap,Pe.create=Ie;class Ae extends x{constructor(){super(...arguments),I.set(this,void 0)}_parse(e){const t=r.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==i.string&&n.parsedType!==i.number){const e=r.objectValues(t);return m(n,{expected:r.joinValues(e),received:n.parsedType,code:s.invalid_type}),g}if(E(this,I,"f")||C(this,I,new Set(r.getValidEnumValues(this._def.values)),"f"),!E(this,I,"f").has(e.data)){const e=r.objectValues(t);return m(n,{received:n.data,code:s.invalid_enum_value,options:e}),g}return _(e.data)}get enum(){return this._def.values}}I=new WeakMap,Ae.create=(e,t)=>new Ae({values:e,typeName:je.ZodNativeEnum,...k(t)});class ke extends x{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==i.promise&&!1===t.common.async)return m(t,{code:s.invalid_type,expected:i.promise,received:t.parsedType}),g;const n=t.parsedType===i.promise?t.data:Promise.resolve(t.data);return _(n.then((e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap}))))}}ke.create=(e,t)=>new ke({type:e,typeName:je.ZodPromise,...k(t)});class xe extends x{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===je.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:n}=this._processInputParams(e),o=this._def.effect||null,i={addIssue:e=>{m(n,e),e.fatal?t.abort():t.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),"preprocess"===o.type){const e=o.transform(n.data,i);if(n.common.async)return Promise.resolve(e).then((async e=>{if("aborted"===t.value)return g;const r=await this._def.schema._parseAsync({data:e,path:n.path,parent:n});return"aborted"===r.status?g:"dirty"===r.status||"dirty"===t.value?f(r.value):r}));{if("aborted"===t.value)return g;const r=this._def.schema._parseSync({data:e,path:n.path,parent:n});return"aborted"===r.status?g:"dirty"===r.status||"dirty"===t.value?f(r.value):r}}if("refinement"===o.type){const e=e=>{const t=o.refinement(e,i);if(n.common.async)return Promise.resolve(t);if(t instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1===n.common.async){const r=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===r.status?g:("dirty"===r.status&&t.dirty(),e(r.value),{status:t.value,value:r.value})}return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then((n=>"aborted"===n.status?g:("dirty"===n.status&&t.dirty(),e(n.value).then((()=>({status:t.value,value:n.value}))))))}if("transform"===o.type){if(!1===n.common.async){const e=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!b(e))return e;const r=o.transform(e.value,i);if(r instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:r}}return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then((e=>b(e)?Promise.resolve(o.transform(e.value,i)).then((e=>({status:t.value,value:e}))):e))}r.assertNever(o)}}xe.create=(e,t,n)=>new xe({schema:e,typeName:je.ZodEffects,effect:t,...k(n)}),xe.createWithPreprocess=(e,t,n)=>new xe({schema:t,effect:{type:"preprocess",transform:e},typeName:je.ZodEffects,...k(n)});class Re extends x{_parse(e){return this._getType(e)===i.undefined?_(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Re.create=(e,t)=>new Re({innerType:e,typeName:je.ZodOptional,...k(t)});class Oe extends x{_parse(e){return this._getType(e)===i.null?_(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Oe.create=(e,t)=>new Oe({innerType:e,typeName:je.ZodNullable,...k(t)});class Ne extends x{_parse(e){const{ctx:t}=this._processInputParams(e);let n=t.data;return t.parsedType===i.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}Ne.create=(e,t)=>new Ne({innerType:e,typeName:je.ZodDefault,defaultValue:"function"===typeof t.default?t.default:()=>t.default,...k(t)});class Me extends x{_parse(e){const{ctx:t}=this._processInputParams(e),n={...t,common:{...t.common,issues:[]}},r=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return S(r)?r.then((e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new l(n.common.issues)},input:n.data})}))):{status:"valid",value:"valid"===r.status?r.value:this._def.catchValue({get error(){return new l(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}Me.create=(e,t)=>new Me({innerType:e,typeName:je.ZodCatch,catchValue:"function"===typeof t.catch?t.catch:()=>t.catch,...k(t)});class Le extends x{_parse(e){if(this._getType(e)!==i.nan){const t=this._getOrReturnCtx(e);return m(t,{code:s.invalid_type,expected:i.nan,received:t.parsedType}),g}return{status:"valid",value:e.data}}}Le.create=e=>new Le({typeName:je.ZodNaN,...k(e)});const De=Symbol("zod_brand");class Fe extends x{_parse(e){const{ctx:t}=this._processInputParams(e),n=t.data;return this._def.type._parse({data:n,path:t.path,parent:t})}unwrap(){return this._def.type}}class Ue extends x{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.common.async){return(async()=>{const e=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?g:"dirty"===e.status?(t.dirty(),f(e.value)):this._def.out._parseAsync({data:e.value,path:n.path,parent:n})})()}{const e=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?g:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:n.path,parent:n})}}static create(e,t){return new Ue({in:e,out:t,typeName:je.ZodPipeline})}}class Be extends x{_parse(e){const t=this._def.innerType._parse(e),n=e=>(b(e)&&(e.value=Object.freeze(e.value)),e);return S(t)?t.then((e=>n(e))):n(t)}unwrap(){return this._def.innerType}}function He(e,t){const n="function"===typeof e?e(t):"string"===typeof e?{message:e}:e;return"string"===typeof n?{message:n}:n}function Ge(e,t={},n){return e?se.create().superRefine(((r,o)=>{var i,a;const s=e(r);if(s instanceof Promise)return s.then((e=>{var i,a;if(!e){const e=He(t,r),s=null===(a=null!==(i=e.fatal)&&void 0!==i?i:n)||void 0===a||a;o.addIssue({code:"custom",...e,fatal:s})}}));if(!s){const e=He(t,r),s=null===(a=null!==(i=e.fatal)&&void 0!==i?i:n)||void 0===a||a;o.addIssue({code:"custom",...e,fatal:s})}})):se.create()}Be.create=(e,t)=>new Be({innerType:e,typeName:je.ZodReadonly,...k(t)});const qe={object:me.lazycreate};var je;!function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"}(je||(je={}));const Ve=J.create,ze=ee.create,Xe=Le.create,Ke=te.create,We=ne.create,$e=re.create,Ye=oe.create,Qe=ie.create,Je=ae.create,Ze=se.create,et=le.create,tt=ce.create,nt=ue.create,rt=de.create,ot=me.create,it=me.strictCreate,at=he.create,st=fe.create,lt=ve.create,ct=ye.create,ut=be.create,dt=Se.create,pt=Ee.create,mt=Ce.create,ht=Te.create,gt=we.create,ft=Pe.create,_t=Ae.create,vt=ke.create,yt=xe.create,bt=Re.create,St=Oe.create,Et=xe.createWithPreprocess,Ct=Ue.create,Tt={string:e=>J.create({...e,coerce:!0}),number:e=>ee.create({...e,coerce:!0}),boolean:e=>ne.create({...e,coerce:!0}),bigint:e=>te.create({...e,coerce:!0}),date:e=>re.create({...e,coerce:!0})},wt=g;var It=Object.freeze({__proto__:null,defaultErrorMap:c,setErrorMap:function(e){u=e},getErrorMap:d,makeIssue:p,EMPTY_PATH:[],addIssueToContext:m,ParseStatus:h,INVALID:g,DIRTY:f,OK:_,isAborted:v,isDirty:y,isValid:b,isAsync:S,get util(){return r},get objectUtil(){return o},ZodParsedType:i,getParsedType:a,ZodType:x,datetimeRegex:$,ZodString:J,ZodNumber:ee,ZodBigInt:te,ZodBoolean:ne,ZodDate:re,ZodSymbol:oe,ZodUndefined:ie,ZodNull:ae,ZodAny:se,ZodUnknown:le,ZodNever:ce,ZodVoid:ue,ZodArray:de,ZodObject:me,ZodUnion:he,ZodDiscriminatedUnion:fe,ZodIntersection:ve,ZodTuple:ye,ZodRecord:be,ZodMap:Se,ZodSet:Ee,ZodFunction:Ce,ZodLazy:Te,ZodLiteral:we,ZodEnum:Pe,ZodNativeEnum:Ae,ZodPromise:ke,ZodEffects:xe,ZodTransformer:xe,ZodOptional:Re,ZodNullable:Oe,ZodDefault:Ne,ZodCatch:Me,ZodNaN:Le,BRAND:De,ZodBranded:Fe,ZodPipeline:Ue,ZodReadonly:Be,custom:Ge,Schema:x,ZodSchema:x,late:qe,get ZodFirstPartyTypeKind(){return je},coerce:Tt,any:Ze,array:rt,bigint:Ke,boolean:We,date:$e,discriminatedUnion:st,effect:yt,enum:ft,function:mt,instanceof:(e,t={message:`Input not instance of ${e.name}`})=>Ge((t=>t instanceof e),t),intersection:lt,lazy:ht,literal:gt,map:dt,nan:Xe,nativeEnum:_t,never:tt,null:Je,nullable:St,number:ze,object:ot,oboolean:()=>We().optional(),onumber:()=>ze().optional(),optional:bt,ostring:()=>Ve().optional(),pipeline:Ct,preprocess:Et,promise:vt,record:ut,set:pt,strictObject:it,string:Ve,symbol:Ye,transformer:yt,tuple:ct,undefined:Qe,union:at,unknown:et,void:nt,NEVER:wt,ZodIssueCode:s,quotelessJson:e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:"),ZodError:l})}}]);